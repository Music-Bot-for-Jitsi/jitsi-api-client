// werift-webrct v0.14.2 bundled for deno
import { createRequire } from 'https://deno.land/std/node/module.ts';
const require = createRequire(import.meta.url);
var module = {};
var Mpe=Object.create;var lb=Object.defineProperty;var Ope=Object.getOwnPropertyDescriptor;var qpe=Object.getOwnPropertyNames;var Dpe=Object.getPrototypeOf,Npe=Object.prototype.hasOwnProperty;var g=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Lpe=(t,e)=>{for(var r in e)lb(t,r,{get:e[r],enumerable:!0})},TD=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of qpe(e))!Npe.call(t,i)&&i!==r&&lb(t,i,{get:()=>e[i],enumerable:!(n=Ope(e,i))||n.enumerable});return t};var ve=(t,e,r)=>(r=t!=null?Mpe(Dpe(t)):{},TD(e||!t||!t.__esModule?lb(r,"default",{value:t,enumerable:!0}):r,t)),Upe=t=>TD(lb({},"__esModule",{value:!0}),t);var xs=g(ID=>{function Hpe(){var t,e=!1,r=this;r._DeArray=function(n,i,a){return[n.slice(i,i+a)]},r._EnArray=function(n,i,a,o){for(var u=0;u<a;n[i+u]=o[u]?o[u]:0,u++);},r._DeChar=function(n,i){return String.fromCharCode(n[i])},r._EnChar=function(n,i,a){n[i]=a.charCodeAt(0)},r._DeInt=function(n,i){var a=e?t.len-1:0,o=e?-1:1,u=a+o*t.len,f,d,h;for(f=0,d=a,h=1;d!=u;f+=n[i+d]*h,d+=o,h*=256);return t.bSigned&&f&Math.pow(2,t.len*8-1)&&(f-=Math.pow(2,t.len*8)),f},r._EnInt=function(n,i,a){var o=e?t.len-1:0,u=e?-1:1,f=o+u*t.len,d;for(a=a<t.min?t.min:a>t.max?t.max:a,d=o;d!=f;n[i+d]=a&255,d+=u,a>>=8);},r._DeString=function(n,i,a){for(var o=new Array(a),u=0;u<a;o[u]=String.fromCharCode(n[i+u]),u++);return o.join("")},r._EnString=function(n,i,a,o){for(var u,f=0;f<a;n[i+f]=(u=o.charCodeAt(f))?u:0,f++);},r._De754=function(n,i){var a,o,u,f,d,h,m,_,w,P;for(m=t.mLen,_=t.len*8-t.mLen-1,P=(1<<_)-1,w=P>>1,f=e?0:t.len-1,d=e?1:-1,a=n[i+f],f+=d,h=-7,o=a&(1<<-h)-1,a>>=-h,h+=_;h>0;o=o*256+n[i+f],f+=d,h-=8);for(u=o&(1<<-h)-1,o>>=-h,h+=m;h>0;u=u*256+n[i+f],f+=d,h-=8);switch(o){case 0:o=1-w;break;case P:return u?NaN:(a?-1:1)*(1/0);default:u=u+Math.pow(2,m),o=o-w;break}return(a?-1:1)*u*Math.pow(2,o-m)},r._En754=function(n,i,a){var o,u,f,d,h,m,_,w,P,M;for(_=t.mLen,w=t.len*8-t.mLen-1,M=(1<<w)-1,P=M>>1,o=a<0?1:0,a=Math.abs(a),isNaN(a)||a==1/0?(f=isNaN(a)?1:0,u=M):(u=Math.floor(Math.log(a)/Math.LN2),a*(m=Math.pow(2,-u))<1&&(u--,m*=2),u+P>=1?a+=t.rt/m:a+=t.rt*Math.pow(2,1-P),a*m>=2&&(u++,m/=2),u+P>=M?(f=0,u=M):u+P>=1?(f=(a*m-1)*Math.pow(2,_),u=u+P):(f=a*Math.pow(2,P-1)*Math.pow(2,_),u=0)),d=e?t.len-1:0,h=e?-1:1;_>=8;n[i+d]=f&255,d+=h,f/=256,_-=8);for(u=u<<_|f,w+=_;w>0;n[i+d]=u&255,d+=h,u/=256,w-=8);n[i+d-h]|=o*128},r._DeInt64=function(n,i){var a=e?0:7,o=e?1:-1,u=a+o*8,f=[0,0,!t.bSigned],d,h,m;for(d=a,m=1,h=0;d!=u;f[m]=(f[m]<<8>>>0)+n[i+d],d+=o,h++,m=h<4?1:0);return f},r._EnInt64=function(n,i,a){var o=e?0:7,u=e?1:-1,f=o+u*8,d,h,m,_;for(d=o,m=1,h=0,_=24;d!=f;n[i+d]=a[m]>>_&255,d+=u,h++,m=h<4?1:0,_=24-8*(h%4));},r._sPattern="(\\d+)?([AxcbBhHsfdiIlLqQ])",r._lenLut={A:1,x:1,c:1,b:1,B:1,h:2,H:2,s:1,f:4,d:8,i:4,I:4,l:4,L:4,q:8,Q:8},r._elLut={A:{en:r._EnArray,de:r._DeArray},s:{en:r._EnString,de:r._DeString},c:{en:r._EnChar,de:r._DeChar},b:{en:r._EnInt,de:r._DeInt,len:1,bSigned:!0,min:-Math.pow(2,7),max:Math.pow(2,7)-1},B:{en:r._EnInt,de:r._DeInt,len:1,bSigned:!1,min:0,max:Math.pow(2,8)-1},h:{en:r._EnInt,de:r._DeInt,len:2,bSigned:!0,min:-Math.pow(2,15),max:Math.pow(2,15)-1},H:{en:r._EnInt,de:r._DeInt,len:2,bSigned:!1,min:0,max:Math.pow(2,16)-1},i:{en:r._EnInt,de:r._DeInt,len:4,bSigned:!0,min:-Math.pow(2,31),max:Math.pow(2,31)-1},I:{en:r._EnInt,de:r._DeInt,len:4,bSigned:!1,min:0,max:Math.pow(2,32)-1},l:{en:r._EnInt,de:r._DeInt,len:4,bSigned:!0,min:-Math.pow(2,31),max:Math.pow(2,31)-1},L:{en:r._EnInt,de:r._DeInt,len:4,bSigned:!1,min:0,max:Math.pow(2,32)-1},f:{en:r._En754,de:r._De754,len:4,mLen:23,rt:Math.pow(2,-24)-Math.pow(2,-77)},d:{en:r._En754,de:r._De754,len:8,mLen:52,rt:0},q:{en:r._EnInt64,de:r._DeInt64,bSigned:!0},Q:{en:r._EnInt64,de:r._DeInt64,bSigned:!1}},r._UnpackSeries=function(n,i,a,o){for(var u=t.de,f=[],d=0;d<n;f.push(u(a,o+d*i)),d++);return f},r._PackSeries=function(n,i,a,o,u,f){for(var d=t.en,h=0;h<n;d(a,o+h*i,u[f+h]),h++);},r.Unpack=function(n,i,a){e=n.charAt(0)!="<",a=a||0;for(var o=new RegExp(this._sPattern,"g"),u,f,d,h=[];u=o.exec(n);){if(f=u[1]==null||u[1]==""?1:parseInt(u[1]),d=this._lenLut[u[2]],a+f*d>i.length)return;switch(u[2]){case"A":case"s":h.push(this._elLut[u[2]].de(i,a,f));break;case"c":case"b":case"B":case"h":case"H":case"i":case"I":case"l":case"L":case"f":case"d":case"q":case"Q":t=this._elLut[u[2]],h.push(this._UnpackSeries(f,d,i,a));break}a+=f*d}return Array.prototype.concat.apply([],h)},r.PackTo=function(n,i,a,o){e=n.charAt(0)!="<";for(var u=new RegExp(this._sPattern,"g"),f,d,h,m=0,_;f=u.exec(n);){if(d=f[1]==null||f[1]==""?1:parseInt(f[1]),h=this._lenLut[f[2]],a+d*h>i.length)return!1;switch(f[2]){case"A":case"s":if(m+1>o.length)return!1;this._elLut[f[2]].en(i,a,d,o[m]),m+=1;break;case"c":case"b":case"B":case"h":case"H":case"i":case"I":case"l":case"L":case"f":case"d":case"q":case"Q":if(t=this._elLut[f[2]],m+d>o.length)return!1;this._PackSeries(d,h,i,a,o,m),m+=d;break;case"x":for(_=0;_<d;_++)i[a+_]=0;break}a+=d*h}return i},r.Pack=function(n,i){return this.PackTo(n,new Array(this.CalcLength(n)),0,i)},r.CalcLength=function(n){for(var i=new RegExp(this._sPattern,"g"),a,o=0;a=i.exec(n);)o+=(a[1]==null||a[1]==""?1:parseInt(a[1]))*this._lenLut[a[2]];return o}}ID.jspack=new Hpe});var wi=g((Pl,em)=>{(function(){var t,e="4.17.21",r=200,n="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",a="Invalid `variable` option passed into `_.template`",o="__lodash_hash_undefined__",u=500,f="__lodash_placeholder__",d=1,h=2,m=4,_=1,w=2,P=1,M=2,K=4,Y=8,fe=16,_e=32,Je=64,Ze=128,Ue=256,Ke=512,He=30,we="...",F=800,y=16,S=1,B=2,D=3,U=1/0,G=9007199254740991,J=17976931348623157e292,L=0/0,p=4294967295,T=p-1,oe=p>>>1,re=[["ary",Ze],["bind",P],["bindKey",M],["curry",Y],["curryRight",fe],["flip",Ke],["partial",_e],["partialRight",Je],["rearg",Ue]],Q="[object Arguments]",xe="[object Array]",nt="[object AsyncFunction]",pt="[object Boolean]",Xt="[object Date]",We="[object DOMException]",De="[object Error]",St="[object Function]",et="[object GeneratorFunction]",gt="[object Map]",fn="[object Number]",sr="[object Null]",Lt="[object Object]",Bi="[object Promise]",Pr="[object Proxy]",Qt="[object RegExp]",jr="[object Set]",wr="[object String]",Er="[object Symbol]",_t="[object Undefined]",Vt="[object WeakMap]",v="[object WeakSet]",C="[object ArrayBuffer]",O="[object DataView]",H="[object Float32Array]",ee="[object Float64Array]",Z="[object Int8Array]",se="[object Int16Array]",de="[object Int32Array]",ie="[object Uint8Array]",Ie="[object Uint8ClampedArray]",Ve="[object Uint16Array]",je="[object Uint32Array]",yt=/\b__p \+= '';/g,dn=/\b(__p \+=) '' \+/g,Gt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,kr=/&(?:amp|lt|gt|quot|#39);/g,Ia=/[&<>"']/g,ln=RegExp(kr.source),hn=RegExp(Ia.source),Wi=/<%-([\s\S]+?)%>/g,Or=/<%([\s\S]+?)%>/g,qr=/<%=([\s\S]+?)%>/g,tc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$r=/^\w*$/,en=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rc=/[\\^$.*+?()[\]{}|]/g,mr=RegExp(rc.source),Kr=/^\s+/,A=/\s/,k=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,I=/\{\n\/\* \[wrapped with (.+)\] \*/,x=/,? & /,q=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,te=/[()=,{}\[\]\/\s]/,ce=/\\(\\)?/g,ye=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Pe=/\w*$/,ct=/^[-+]0x[0-9a-f]+$/i,Ye=/^0b[01]+$/i,or=/^\[object .+?Constructor\]$/,tt=/^0o[0-7]+$/i,Et=/^(?:0|[1-9]\d*)$/,Pt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,kt=/($^)/,Nt=/['\n\r\u2028\u2029\\]/g,wt="\\ud800-\\udfff",Bt="\\u0300-\\u036f",Tt="\\ufe20-\\ufe2f",it="\\u20d0-\\u20ff",mt=Bt+Tt+it,Xe="\\u2700-\\u27bf",at="a-z\\xdf-\\xf6\\xf8-\\xff",ut="\\xac\\xb1\\xd7\\xf7",Ge="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",le="\\u2000-\\u206f",he=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Be="A-Z\\xc0-\\xd6\\xd8-\\xde",Ae="\\ufe0e\\ufe0f",Ce=ut+Ge+le+he,Oe="['\u2019]",At="["+wt+"]",Ft="["+Ce+"]",Ht="["+mt+"]",zt="\\d+",$="["+Xe+"]",Zt="["+at+"]",xr="[^"+wt+Ce+zt+Xe+at+Be+"]",dr="\\ud83c[\\udffb-\\udfff]",er="(?:"+Ht+"|"+dr+")",lr="[^"+wt+"]",cr="(?:\\ud83c[\\udde6-\\uddff]){2}",tn="[\\ud800-\\udbff][\\udc00-\\udfff]",yr="["+Be+"]",rn="\\u200d",nn="(?:"+Zt+"|"+xr+")",pn="(?:"+yr+"|"+xr+")",_n="(?:"+Oe+"(?:d|ll|m|re|s|t|ve))?",Wn="(?:"+Oe+"(?:D|LL|M|RE|S|T|VE))?",jn=er+"?",$n="["+Ae+"]?",Nue="(?:"+rn+"(?:"+[lr,cr,tn].join("|")+")"+$n+jn+")*",Lue="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Uue="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",gO=$n+jn+Nue,Hue="(?:"+[$,cr,tn].join("|")+")"+gO,Kue="(?:"+[lr+Ht+"?",Ht,cr,tn,At].join("|")+")",Fue=RegExp(Oe,"g"),zue=RegExp(Ht,"g"),SA=RegExp(dr+"(?="+dr+")|"+Kue+gO,"g"),Wue=RegExp([yr+"?"+Zt+"+"+_n+"(?="+[Ft,yr,"$"].join("|")+")",pn+"+"+Wn+"(?="+[Ft,yr+nn,"$"].join("|")+")",yr+"?"+nn+"+"+_n,yr+"+"+Wn,Uue,Lue,zt,Hue].join("|"),"g"),jue=RegExp("["+rn+wt+mt+Ae+"]"),$ue=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Vue=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Gue=-1,an={};an[H]=an[ee]=an[Z]=an[se]=an[de]=an[ie]=an[Ie]=an[Ve]=an[je]=!0,an[Q]=an[xe]=an[C]=an[pt]=an[O]=an[Xt]=an[De]=an[St]=an[gt]=an[fn]=an[Lt]=an[Qt]=an[jr]=an[wr]=an[Vt]=!1;var Vr={};Vr[Q]=Vr[xe]=Vr[C]=Vr[O]=Vr[pt]=Vr[Xt]=Vr[H]=Vr[ee]=Vr[Z]=Vr[se]=Vr[de]=Vr[gt]=Vr[fn]=Vr[Lt]=Vr[Qt]=Vr[jr]=Vr[wr]=Vr[Er]=Vr[ie]=Vr[Ie]=Vr[Ve]=Vr[je]=!0,Vr[De]=Vr[St]=Vr[Vt]=!1;var Yue={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Jue={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Xue={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Que={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Zue=parseFloat,ece=parseInt,_O=typeof global=="object"&&global&&global.Object===Object&&global,tce=typeof self=="object"&&self&&self.Object===Object&&self,ii=_O||tce||Function("return this")(),AA=typeof Pl=="object"&&Pl&&!Pl.nodeType&&Pl,qf=AA&&typeof em=="object"&&em&&!em.nodeType&&em,wO=qf&&qf.exports===AA,CA=wO&&_O.process,ka=function(){try{var ne=qf&&qf.require&&qf.require("util").types;return ne||CA&&CA.binding&&CA.binding("util")}catch{}}(),SO=ka&&ka.isArrayBuffer,AO=ka&&ka.isDate,CO=ka&&ka.isMap,EO=ka&&ka.isRegExp,PO=ka&&ka.isSet,TO=ka&&ka.isTypedArray;function oa(ne,ge,pe){switch(pe.length){case 0:return ne.call(ge);case 1:return ne.call(ge,pe[0]);case 2:return ne.call(ge,pe[0],pe[1]);case 3:return ne.call(ge,pe[0],pe[1],pe[2])}return ne.apply(ge,pe)}function rce(ne,ge,pe,ft){for(var jt=-1,Br=ne==null?0:ne.length;++jt<Br;){var Vn=ne[jt];ge(ft,Vn,pe(Vn),ne)}return ft}function Ba(ne,ge){for(var pe=-1,ft=ne==null?0:ne.length;++pe<ft&&ge(ne[pe],pe,ne)!==!1;);return ne}function nce(ne,ge){for(var pe=ne==null?0:ne.length;pe--&&ge(ne[pe],pe,ne)!==!1;);return ne}function IO(ne,ge){for(var pe=-1,ft=ne==null?0:ne.length;++pe<ft;)if(!ge(ne[pe],pe,ne))return!1;return!0}function nc(ne,ge){for(var pe=-1,ft=ne==null?0:ne.length,jt=0,Br=[];++pe<ft;){var Vn=ne[pe];ge(Vn,pe,ne)&&(Br[jt++]=Vn)}return Br}function Py(ne,ge){var pe=ne==null?0:ne.length;return!!pe&&ll(ne,ge,0)>-1}function EA(ne,ge,pe){for(var ft=-1,jt=ne==null?0:ne.length;++ft<jt;)if(pe(ge,ne[ft]))return!0;return!1}function mn(ne,ge){for(var pe=-1,ft=ne==null?0:ne.length,jt=Array(ft);++pe<ft;)jt[pe]=ge(ne[pe],pe,ne);return jt}function ic(ne,ge){for(var pe=-1,ft=ge.length,jt=ne.length;++pe<ft;)ne[jt+pe]=ge[pe];return ne}function PA(ne,ge,pe,ft){var jt=-1,Br=ne==null?0:ne.length;for(ft&&Br&&(pe=ne[++jt]);++jt<Br;)pe=ge(pe,ne[jt],jt,ne);return pe}function ice(ne,ge,pe,ft){var jt=ne==null?0:ne.length;for(ft&&jt&&(pe=ne[--jt]);jt--;)pe=ge(pe,ne[jt],jt,ne);return pe}function TA(ne,ge){for(var pe=-1,ft=ne==null?0:ne.length;++pe<ft;)if(ge(ne[pe],pe,ne))return!0;return!1}var ace=IA("length");function sce(ne){return ne.split("")}function oce(ne){return ne.match(q)||[]}function kO(ne,ge,pe){var ft;return pe(ne,function(jt,Br,Vn){if(ge(jt,Br,Vn))return ft=Br,!1}),ft}function Ty(ne,ge,pe,ft){for(var jt=ne.length,Br=pe+(ft?1:-1);ft?Br--:++Br<jt;)if(ge(ne[Br],Br,ne))return Br;return-1}function ll(ne,ge,pe){return ge===ge?vce(ne,ge,pe):Ty(ne,BO,pe)}function uce(ne,ge,pe,ft){for(var jt=pe-1,Br=ne.length;++jt<Br;)if(ft(ne[jt],ge))return jt;return-1}function BO(ne){return ne!==ne}function RO(ne,ge){var pe=ne==null?0:ne.length;return pe?BA(ne,ge)/pe:L}function IA(ne){return function(ge){return ge==null?t:ge[ne]}}function kA(ne){return function(ge){return ne==null?t:ne[ge]}}function MO(ne,ge,pe,ft,jt){return jt(ne,function(Br,Vn,Fr){pe=ft?(ft=!1,Br):ge(pe,Br,Vn,Fr)}),pe}function cce(ne,ge){var pe=ne.length;for(ne.sort(ge);pe--;)ne[pe]=ne[pe].value;return ne}function BA(ne,ge){for(var pe,ft=-1,jt=ne.length;++ft<jt;){var Br=ge(ne[ft]);Br!==t&&(pe=pe===t?Br:pe+Br)}return pe}function RA(ne,ge){for(var pe=-1,ft=Array(ne);++pe<ne;)ft[pe]=ge(pe);return ft}function fce(ne,ge){return mn(ge,function(pe){return[pe,ne[pe]]})}function OO(ne){return ne&&ne.slice(0,LO(ne)+1).replace(Kr,"")}function ua(ne){return function(ge){return ne(ge)}}function MA(ne,ge){return mn(ge,function(pe){return ne[pe]})}function Op(ne,ge){return ne.has(ge)}function qO(ne,ge){for(var pe=-1,ft=ne.length;++pe<ft&&ll(ge,ne[pe],0)>-1;);return pe}function DO(ne,ge){for(var pe=ne.length;pe--&&ll(ge,ne[pe],0)>-1;);return pe}function dce(ne,ge){for(var pe=ne.length,ft=0;pe--;)ne[pe]===ge&&++ft;return ft}var lce=kA(Yue),hce=kA(Jue);function pce(ne){return"\\"+Que[ne]}function mce(ne,ge){return ne==null?t:ne[ge]}function hl(ne){return jue.test(ne)}function xce(ne){return $ue.test(ne)}function yce(ne){for(var ge,pe=[];!(ge=ne.next()).done;)pe.push(ge.value);return pe}function OA(ne){var ge=-1,pe=Array(ne.size);return ne.forEach(function(ft,jt){pe[++ge]=[jt,ft]}),pe}function NO(ne,ge){return function(pe){return ne(ge(pe))}}function ac(ne,ge){for(var pe=-1,ft=ne.length,jt=0,Br=[];++pe<ft;){var Vn=ne[pe];(Vn===ge||Vn===f)&&(ne[pe]=f,Br[jt++]=pe)}return Br}function Iy(ne){var ge=-1,pe=Array(ne.size);return ne.forEach(function(ft){pe[++ge]=ft}),pe}function bce(ne){var ge=-1,pe=Array(ne.size);return ne.forEach(function(ft){pe[++ge]=[ft,ft]}),pe}function vce(ne,ge,pe){for(var ft=pe-1,jt=ne.length;++ft<jt;)if(ne[ft]===ge)return ft;return-1}function gce(ne,ge,pe){for(var ft=pe+1;ft--;)if(ne[ft]===ge)return ft;return ft}function pl(ne){return hl(ne)?wce(ne):ace(ne)}function ls(ne){return hl(ne)?Sce(ne):sce(ne)}function LO(ne){for(var ge=ne.length;ge--&&A.test(ne.charAt(ge)););return ge}var _ce=kA(Xue);function wce(ne){for(var ge=SA.lastIndex=0;SA.test(ne);)++ge;return ge}function Sce(ne){return ne.match(SA)||[]}function Ace(ne){return ne.match(Wue)||[]}var Cce=function ne(ge){ge=ge==null?ii:sc.defaults(ii.Object(),ge,sc.pick(ii,Vue));var pe=ge.Array,ft=ge.Date,jt=ge.Error,Br=ge.Function,Vn=ge.Math,Fr=ge.Object,qA=ge.RegExp,Ece=ge.String,Ra=ge.TypeError,ky=pe.prototype,Pce=Br.prototype,ml=Fr.prototype,By=ge["__core-js_shared__"],Ry=Pce.toString,Ur=ml.hasOwnProperty,Tce=0,UO=function(){var s=/[^.]+$/.exec(By&&By.keys&&By.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),My=ml.toString,Ice=Ry.call(Fr),kce=ii._,Bce=qA("^"+Ry.call(Ur).replace(rc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Oy=wO?ge.Buffer:t,oc=ge.Symbol,qy=ge.Uint8Array,HO=Oy?Oy.allocUnsafe:t,Dy=NO(Fr.getPrototypeOf,Fr),KO=Fr.create,FO=ml.propertyIsEnumerable,Ny=ky.splice,zO=oc?oc.isConcatSpreadable:t,qp=oc?oc.iterator:t,Df=oc?oc.toStringTag:t,Ly=function(){try{var s=Kf(Fr,"defineProperty");return s({},"",{}),s}catch{}}(),Rce=ge.clearTimeout!==ii.clearTimeout&&ge.clearTimeout,Mce=ft&&ft.now!==ii.Date.now&&ft.now,Oce=ge.setTimeout!==ii.setTimeout&&ge.setTimeout,Uy=Vn.ceil,Hy=Vn.floor,DA=Fr.getOwnPropertySymbols,qce=Oy?Oy.isBuffer:t,WO=ge.isFinite,Dce=ky.join,Nce=NO(Fr.keys,Fr),Gn=Vn.max,gi=Vn.min,Lce=ft.now,Uce=ge.parseInt,jO=Vn.random,Hce=ky.reverse,NA=Kf(ge,"DataView"),Dp=Kf(ge,"Map"),LA=Kf(ge,"Promise"),xl=Kf(ge,"Set"),Np=Kf(ge,"WeakMap"),Lp=Kf(Fr,"create"),Ky=Np&&new Np,yl={},Kce=Ff(NA),Fce=Ff(Dp),zce=Ff(LA),Wce=Ff(xl),jce=Ff(Np),Fy=oc?oc.prototype:t,Up=Fy?Fy.valueOf:t,$O=Fy?Fy.toString:t;function R(s){if(wn(s)&&!Yt(s)&&!(s instanceof br)){if(s instanceof Ma)return s;if(Ur.call(s,"__wrapped__"))return Vq(s)}return new Ma(s)}var bl=function(){function s(){}return function(c){if(!yn(c))return{};if(KO)return KO(c);s.prototype=c;var l=new s;return s.prototype=t,l}}();function zy(){}function Ma(s,c){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=t}R.templateSettings={escape:Wi,evaluate:Or,interpolate:qr,variable:"",imports:{_:R}},R.prototype=zy.prototype,R.prototype.constructor=R,Ma.prototype=bl(zy.prototype),Ma.prototype.constructor=Ma;function br(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p,this.__views__=[]}function $ce(){var s=new br(this.__wrapped__);return s.__actions__=ji(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=ji(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=ji(this.__views__),s}function Vce(){if(this.__filtered__){var s=new br(this);s.__dir__=-1,s.__filtered__=!0}else s=this.clone(),s.__dir__*=-1;return s}function Gce(){var s=this.__wrapped__.value(),c=this.__dir__,l=Yt(s),b=c<0,E=l?s.length:0,N=sde(0,E,this.__views__),z=N.start,X=N.end,ue=X-z,Ee=b?X:z-1,Te=this.__iteratees__,Me=Te.length,Qe=0,vt=gi(ue,this.__takeCount__);if(!l||!b&&E==ue&&vt==ue)return xq(s,this.__actions__);var Ot=[];e:for(;ue--&&Qe<vt;){Ee+=c;for(var ir=-1,qt=s[Ee];++ir<Me;){var hr=Te[ir],gr=hr.iteratee,da=hr.type,Oi=gr(qt);if(da==B)qt=Oi;else if(!Oi){if(da==S)continue e;break e}}Ot[Qe++]=qt}return Ot}br.prototype=bl(zy.prototype),br.prototype.constructor=br;function Nf(s){var c=-1,l=s==null?0:s.length;for(this.clear();++c<l;){var b=s[c];this.set(b[0],b[1])}}function Yce(){this.__data__=Lp?Lp(null):{},this.size=0}function Jce(s){var c=this.has(s)&&delete this.__data__[s];return this.size-=c?1:0,c}function Xce(s){var c=this.__data__;if(Lp){var l=c[s];return l===o?t:l}return Ur.call(c,s)?c[s]:t}function Qce(s){var c=this.__data__;return Lp?c[s]!==t:Ur.call(c,s)}function Zce(s,c){var l=this.__data__;return this.size+=this.has(s)?0:1,l[s]=Lp&&c===t?o:c,this}Nf.prototype.clear=Yce,Nf.prototype.delete=Jce,Nf.prototype.get=Xce,Nf.prototype.has=Qce,Nf.prototype.set=Zce;function nu(s){var c=-1,l=s==null?0:s.length;for(this.clear();++c<l;){var b=s[c];this.set(b[0],b[1])}}function efe(){this.__data__=[],this.size=0}function tfe(s){var c=this.__data__,l=Wy(c,s);if(l<0)return!1;var b=c.length-1;return l==b?c.pop():Ny.call(c,l,1),--this.size,!0}function rfe(s){var c=this.__data__,l=Wy(c,s);return l<0?t:c[l][1]}function nfe(s){return Wy(this.__data__,s)>-1}function ife(s,c){var l=this.__data__,b=Wy(l,s);return b<0?(++this.size,l.push([s,c])):l[b][1]=c,this}nu.prototype.clear=efe,nu.prototype.delete=tfe,nu.prototype.get=rfe,nu.prototype.has=nfe,nu.prototype.set=ife;function iu(s){var c=-1,l=s==null?0:s.length;for(this.clear();++c<l;){var b=s[c];this.set(b[0],b[1])}}function afe(){this.size=0,this.__data__={hash:new Nf,map:new(Dp||nu),string:new Nf}}function sfe(s){var c=rb(this,s).delete(s);return this.size-=c?1:0,c}function ofe(s){return rb(this,s).get(s)}function ufe(s){return rb(this,s).has(s)}function cfe(s,c){var l=rb(this,s),b=l.size;return l.set(s,c),this.size+=l.size==b?0:1,this}iu.prototype.clear=afe,iu.prototype.delete=sfe,iu.prototype.get=ofe,iu.prototype.has=ufe,iu.prototype.set=cfe;function Lf(s){var c=-1,l=s==null?0:s.length;for(this.__data__=new iu;++c<l;)this.add(s[c])}function ffe(s){return this.__data__.set(s,o),this}function dfe(s){return this.__data__.has(s)}Lf.prototype.add=Lf.prototype.push=ffe,Lf.prototype.has=dfe;function hs(s){var c=this.__data__=new nu(s);this.size=c.size}function lfe(){this.__data__=new nu,this.size=0}function hfe(s){var c=this.__data__,l=c.delete(s);return this.size=c.size,l}function pfe(s){return this.__data__.get(s)}function mfe(s){return this.__data__.has(s)}function xfe(s,c){var l=this.__data__;if(l instanceof nu){var b=l.__data__;if(!Dp||b.length<r-1)return b.push([s,c]),this.size=++l.size,this;l=this.__data__=new iu(b)}return l.set(s,c),this.size=l.size,this}hs.prototype.clear=lfe,hs.prototype.delete=hfe,hs.prototype.get=pfe,hs.prototype.has=mfe,hs.prototype.set=xfe;function VO(s,c){var l=Yt(s),b=!l&&zf(s),E=!l&&!b&&lc(s),N=!l&&!b&&!E&&wl(s),z=l||b||E||N,X=z?RA(s.length,Ece):[],ue=X.length;for(var Ee in s)(c||Ur.call(s,Ee))&&!(z&&(Ee=="length"||E&&(Ee=="offset"||Ee=="parent")||N&&(Ee=="buffer"||Ee=="byteLength"||Ee=="byteOffset")||uu(Ee,ue)))&&X.push(Ee);return X}function GO(s){var c=s.length;return c?s[YA(0,c-1)]:t}function yfe(s,c){return nb(ji(s),Uf(c,0,s.length))}function bfe(s){return nb(ji(s))}function UA(s,c,l){(l!==t&&!ps(s[c],l)||l===t&&!(c in s))&&au(s,c,l)}function Hp(s,c,l){var b=s[c];(!(Ur.call(s,c)&&ps(b,l))||l===t&&!(c in s))&&au(s,c,l)}function Wy(s,c){for(var l=s.length;l--;)if(ps(s[l][0],c))return l;return-1}function vfe(s,c,l,b){return uc(s,function(E,N,z){c(b,E,l(E),z)}),b}function YO(s,c){return s&&ro(c,ai(c),s)}function gfe(s,c){return s&&ro(c,Vi(c),s)}function au(s,c,l){c=="__proto__"&&Ly?Ly(s,c,{configurable:!0,enumerable:!0,value:l,writable:!0}):s[c]=l}function HA(s,c){for(var l=-1,b=c.length,E=pe(b),N=s==null;++l<b;)E[l]=N?t:g9(s,c[l]);return E}function Uf(s,c,l){return s===s&&(l!==t&&(s=s<=l?s:l),c!==t&&(s=s>=c?s:c)),s}function Oa(s,c,l,b,E,N){var z,X=c&d,ue=c&h,Ee=c&m;if(l&&(z=E?l(s,b,E,N):l(s)),z!==t)return z;if(!yn(s))return s;var Te=Yt(s);if(Te){if(z=ude(s),!X)return ji(s,z)}else{var Me=_i(s),Qe=Me==St||Me==et;if(lc(s))return vq(s,X);if(Me==Lt||Me==Q||Qe&&!E){if(z=ue||Qe?{}:Lq(s),!X)return ue?Xfe(s,gfe(z,s)):Jfe(s,YO(z,s))}else{if(!Vr[Me])return E?s:{};z=cde(s,Me,X)}}N||(N=new hs);var vt=N.get(s);if(vt)return vt;N.set(s,z),hD(s)?s.forEach(function(qt){z.add(Oa(qt,c,l,qt,s,N))}):dD(s)&&s.forEach(function(qt,hr){z.set(hr,Oa(qt,c,l,hr,s,N))});var Ot=Ee?ue?s9:a9:ue?Vi:ai,ir=Te?t:Ot(s);return Ba(ir||s,function(qt,hr){ir&&(hr=qt,qt=s[hr]),Hp(z,hr,Oa(qt,c,l,hr,s,N))}),z}function _fe(s){var c=ai(s);return function(l){return JO(l,s,c)}}function JO(s,c,l){var b=l.length;if(s==null)return!b;for(s=Fr(s);b--;){var E=l[b],N=c[E],z=s[E];if(z===t&&!(E in s)||!N(z))return!1}return!0}function XO(s,c,l){if(typeof s!="function")throw new Ra(i);return Vp(function(){s.apply(t,l)},c)}function Kp(s,c,l,b){var E=-1,N=Py,z=!0,X=s.length,ue=[],Ee=c.length;if(!X)return ue;l&&(c=mn(c,ua(l))),b?(N=EA,z=!1):c.length>=r&&(N=Op,z=!1,c=new Lf(c));e:for(;++E<X;){var Te=s[E],Me=l==null?Te:l(Te);if(Te=b||Te!==0?Te:0,z&&Me===Me){for(var Qe=Ee;Qe--;)if(c[Qe]===Me)continue e;ue.push(Te)}else N(c,Me,b)||ue.push(Te)}return ue}var uc=Aq(to),QO=Aq(FA,!0);function wfe(s,c){var l=!0;return uc(s,function(b,E,N){return l=!!c(b,E,N),l}),l}function jy(s,c,l){for(var b=-1,E=s.length;++b<E;){var N=s[b],z=c(N);if(z!=null&&(X===t?z===z&&!fa(z):l(z,X)))var X=z,ue=N}return ue}function Sfe(s,c,l,b){var E=s.length;for(l=rr(l),l<0&&(l=-l>E?0:E+l),b=b===t||b>E?E:rr(b),b<0&&(b+=E),b=l>b?0:mD(b);l<b;)s[l++]=c;return s}function ZO(s,c){var l=[];return uc(s,function(b,E,N){c(b,E,N)&&l.push(b)}),l}function hi(s,c,l,b,E){var N=-1,z=s.length;for(l||(l=dde),E||(E=[]);++N<z;){var X=s[N];c>0&&l(X)?c>1?hi(X,c-1,l,b,E):ic(E,X):b||(E[E.length]=X)}return E}var KA=Cq(),eq=Cq(!0);function to(s,c){return s&&KA(s,c,ai)}function FA(s,c){return s&&eq(s,c,ai)}function $y(s,c){return nc(c,function(l){return cu(s[l])})}function Hf(s,c){c=fc(c,s);for(var l=0,b=c.length;s!=null&&l<b;)s=s[no(c[l++])];return l&&l==b?s:t}function tq(s,c,l){var b=c(s);return Yt(s)?b:ic(b,l(s))}function Ri(s){return s==null?s===t?_t:sr:Df&&Df in Fr(s)?ade(s):bde(s)}function zA(s,c){return s>c}function Afe(s,c){return s!=null&&Ur.call(s,c)}function Cfe(s,c){return s!=null&&c in Fr(s)}function Efe(s,c,l){return s>=gi(c,l)&&s<Gn(c,l)}function WA(s,c,l){for(var b=l?EA:Py,E=s[0].length,N=s.length,z=N,X=pe(N),ue=1/0,Ee=[];z--;){var Te=s[z];z&&c&&(Te=mn(Te,ua(c))),ue=gi(Te.length,ue),X[z]=!l&&(c||E>=120&&Te.length>=120)?new Lf(z&&Te):t}Te=s[0];var Me=-1,Qe=X[0];e:for(;++Me<E&&Ee.length<ue;){var vt=Te[Me],Ot=c?c(vt):vt;if(vt=l||vt!==0?vt:0,!(Qe?Op(Qe,Ot):b(Ee,Ot,l))){for(z=N;--z;){var ir=X[z];if(!(ir?Op(ir,Ot):b(s[z],Ot,l)))continue e}Qe&&Qe.push(Ot),Ee.push(vt)}}return Ee}function Pfe(s,c,l,b){return to(s,function(E,N,z){c(b,l(E),N,z)}),b}function Fp(s,c,l){c=fc(c,s),s=Fq(s,c);var b=s==null?s:s[no(Da(c))];return b==null?t:oa(b,s,l)}function rq(s){return wn(s)&&Ri(s)==Q}function Tfe(s){return wn(s)&&Ri(s)==C}function Ife(s){return wn(s)&&Ri(s)==Xt}function zp(s,c,l,b,E){return s===c?!0:s==null||c==null||!wn(s)&&!wn(c)?s!==s&&c!==c:kfe(s,c,l,b,zp,E)}function kfe(s,c,l,b,E,N){var z=Yt(s),X=Yt(c),ue=z?xe:_i(s),Ee=X?xe:_i(c);ue=ue==Q?Lt:ue,Ee=Ee==Q?Lt:Ee;var Te=ue==Lt,Me=Ee==Lt,Qe=ue==Ee;if(Qe&&lc(s)){if(!lc(c))return!1;z=!0,Te=!1}if(Qe&&!Te)return N||(N=new hs),z||wl(s)?qq(s,c,l,b,E,N):nde(s,c,ue,l,b,E,N);if(!(l&_)){var vt=Te&&Ur.call(s,"__wrapped__"),Ot=Me&&Ur.call(c,"__wrapped__");if(vt||Ot){var ir=vt?s.value():s,qt=Ot?c.value():c;return N||(N=new hs),E(ir,qt,l,b,N)}}return Qe?(N||(N=new hs),ide(s,c,l,b,E,N)):!1}function Bfe(s){return wn(s)&&_i(s)==gt}function jA(s,c,l,b){var E=l.length,N=E,z=!b;if(s==null)return!N;for(s=Fr(s);E--;){var X=l[E];if(z&&X[2]?X[1]!==s[X[0]]:!(X[0]in s))return!1}for(;++E<N;){X=l[E];var ue=X[0],Ee=s[ue],Te=X[1];if(z&&X[2]){if(Ee===t&&!(ue in s))return!1}else{var Me=new hs;if(b)var Qe=b(Ee,Te,ue,s,c,Me);if(!(Qe===t?zp(Te,Ee,_|w,b,Me):Qe))return!1}}return!0}function nq(s){if(!yn(s)||hde(s))return!1;var c=cu(s)?Bce:or;return c.test(Ff(s))}function Rfe(s){return wn(s)&&Ri(s)==Qt}function Mfe(s){return wn(s)&&_i(s)==jr}function Ofe(s){return wn(s)&&cb(s.length)&&!!an[Ri(s)]}function iq(s){return typeof s=="function"?s:s==null?Gi:typeof s=="object"?Yt(s)?oq(s[0],s[1]):sq(s):ED(s)}function $A(s){if(!$p(s))return Nce(s);var c=[];for(var l in Fr(s))Ur.call(s,l)&&l!="constructor"&&c.push(l);return c}function qfe(s){if(!yn(s))return yde(s);var c=$p(s),l=[];for(var b in s)b=="constructor"&&(c||!Ur.call(s,b))||l.push(b);return l}function VA(s,c){return s<c}function aq(s,c){var l=-1,b=$i(s)?pe(s.length):[];return uc(s,function(E,N,z){b[++l]=c(E,N,z)}),b}function sq(s){var c=u9(s);return c.length==1&&c[0][2]?Hq(c[0][0],c[0][1]):function(l){return l===s||jA(l,s,c)}}function oq(s,c){return f9(s)&&Uq(c)?Hq(no(s),c):function(l){var b=g9(l,s);return b===t&&b===c?_9(l,s):zp(c,b,_|w)}}function Vy(s,c,l,b,E){s!==c&&KA(c,function(N,z){if(E||(E=new hs),yn(N))Dfe(s,c,z,l,Vy,b,E);else{var X=b?b(l9(s,z),N,z+"",s,c,E):t;X===t&&(X=N),UA(s,z,X)}},Vi)}function Dfe(s,c,l,b,E,N,z){var X=l9(s,l),ue=l9(c,l),Ee=z.get(ue);if(Ee){UA(s,l,Ee);return}var Te=N?N(X,ue,l+"",s,c,z):t,Me=Te===t;if(Me){var Qe=Yt(ue),vt=!Qe&&lc(ue),Ot=!Qe&&!vt&&wl(ue);Te=ue,Qe||vt||Ot?Yt(X)?Te=X:In(X)?Te=ji(X):vt?(Me=!1,Te=vq(ue,!0)):Ot?(Me=!1,Te=gq(ue,!0)):Te=[]:Gp(ue)||zf(ue)?(Te=X,zf(X)?Te=xD(X):(!yn(X)||cu(X))&&(Te=Lq(ue))):Me=!1}Me&&(z.set(ue,Te),E(Te,ue,b,N,z),z.delete(ue)),UA(s,l,Te)}function uq(s,c){var l=s.length;if(!!l)return c+=c<0?l:0,uu(c,l)?s[c]:t}function cq(s,c,l){c.length?c=mn(c,function(N){return Yt(N)?function(z){return Hf(z,N.length===1?N[0]:N)}:N}):c=[Gi];var b=-1;c=mn(c,ua(Rt()));var E=aq(s,function(N,z,X){var ue=mn(c,function(Ee){return Ee(N)});return{criteria:ue,index:++b,value:N}});return cce(E,function(N,z){return Yfe(N,z,l)})}function Nfe(s,c){return fq(s,c,function(l,b){return _9(s,b)})}function fq(s,c,l){for(var b=-1,E=c.length,N={};++b<E;){var z=c[b],X=Hf(s,z);l(X,z)&&Wp(N,fc(z,s),X)}return N}function Lfe(s){return function(c){return Hf(c,s)}}function GA(s,c,l,b){var E=b?uce:ll,N=-1,z=c.length,X=s;for(s===c&&(c=ji(c)),l&&(X=mn(s,ua(l)));++N<z;)for(var ue=0,Ee=c[N],Te=l?l(Ee):Ee;(ue=E(X,Te,ue,b))>-1;)X!==s&&Ny.call(X,ue,1),Ny.call(s,ue,1);return s}function dq(s,c){for(var l=s?c.length:0,b=l-1;l--;){var E=c[l];if(l==b||E!==N){var N=E;uu(E)?Ny.call(s,E,1):QA(s,E)}}return s}function YA(s,c){return s+Hy(jO()*(c-s+1))}function Ufe(s,c,l,b){for(var E=-1,N=Gn(Uy((c-s)/(l||1)),0),z=pe(N);N--;)z[b?N:++E]=s,s+=l;return z}function JA(s,c){var l="";if(!s||c<1||c>G)return l;do c%2&&(l+=s),c=Hy(c/2),c&&(s+=s);while(c);return l}function ur(s,c){return h9(Kq(s,c,Gi),s+"")}function Hfe(s){return GO(Sl(s))}function Kfe(s,c){var l=Sl(s);return nb(l,Uf(c,0,l.length))}function Wp(s,c,l,b){if(!yn(s))return s;c=fc(c,s);for(var E=-1,N=c.length,z=N-1,X=s;X!=null&&++E<N;){var ue=no(c[E]),Ee=l;if(ue==="__proto__"||ue==="constructor"||ue==="prototype")return s;if(E!=z){var Te=X[ue];Ee=b?b(Te,ue,X):t,Ee===t&&(Ee=yn(Te)?Te:uu(c[E+1])?[]:{})}Hp(X,ue,Ee),X=X[ue]}return s}var lq=Ky?function(s,c){return Ky.set(s,c),s}:Gi,Ffe=Ly?function(s,c){return Ly(s,"toString",{configurable:!0,enumerable:!1,value:S9(c),writable:!0})}:Gi;function zfe(s){return nb(Sl(s))}function qa(s,c,l){var b=-1,E=s.length;c<0&&(c=-c>E?0:E+c),l=l>E?E:l,l<0&&(l+=E),E=c>l?0:l-c>>>0,c>>>=0;for(var N=pe(E);++b<E;)N[b]=s[b+c];return N}function Wfe(s,c){var l;return uc(s,function(b,E,N){return l=c(b,E,N),!l}),!!l}function Gy(s,c,l){var b=0,E=s==null?b:s.length;if(typeof c=="number"&&c===c&&E<=oe){for(;b<E;){var N=b+E>>>1,z=s[N];z!==null&&!fa(z)&&(l?z<=c:z<c)?b=N+1:E=N}return E}return XA(s,c,Gi,l)}function XA(s,c,l,b){var E=0,N=s==null?0:s.length;if(N===0)return 0;c=l(c);for(var z=c!==c,X=c===null,ue=fa(c),Ee=c===t;E<N;){var Te=Hy((E+N)/2),Me=l(s[Te]),Qe=Me!==t,vt=Me===null,Ot=Me===Me,ir=fa(Me);if(z)var qt=b||Ot;else Ee?qt=Ot&&(b||Qe):X?qt=Ot&&Qe&&(b||!vt):ue?qt=Ot&&Qe&&!vt&&(b||!ir):vt||ir?qt=!1:qt=b?Me<=c:Me<c;qt?E=Te+1:N=Te}return gi(N,T)}function hq(s,c){for(var l=-1,b=s.length,E=0,N=[];++l<b;){var z=s[l],X=c?c(z):z;if(!l||!ps(X,ue)){var ue=X;N[E++]=z===0?0:z}}return N}function pq(s){return typeof s=="number"?s:fa(s)?L:+s}function ca(s){if(typeof s=="string")return s;if(Yt(s))return mn(s,ca)+"";if(fa(s))return $O?$O.call(s):"";var c=s+"";return c=="0"&&1/s==-U?"-0":c}function cc(s,c,l){var b=-1,E=Py,N=s.length,z=!0,X=[],ue=X;if(l)z=!1,E=EA;else if(N>=r){var Ee=c?null:tde(s);if(Ee)return Iy(Ee);z=!1,E=Op,ue=new Lf}else ue=c?[]:X;e:for(;++b<N;){var Te=s[b],Me=c?c(Te):Te;if(Te=l||Te!==0?Te:0,z&&Me===Me){for(var Qe=ue.length;Qe--;)if(ue[Qe]===Me)continue e;c&&ue.push(Me),X.push(Te)}else E(ue,Me,l)||(ue!==X&&ue.push(Me),X.push(Te))}return X}function QA(s,c){return c=fc(c,s),s=Fq(s,c),s==null||delete s[no(Da(c))]}function mq(s,c,l,b){return Wp(s,c,l(Hf(s,c)),b)}function Yy(s,c,l,b){for(var E=s.length,N=b?E:-1;(b?N--:++N<E)&&c(s[N],N,s););return l?qa(s,b?0:N,b?N+1:E):qa(s,b?N+1:0,b?E:N)}function xq(s,c){var l=s;return l instanceof br&&(l=l.value()),PA(c,function(b,E){return E.func.apply(E.thisArg,ic([b],E.args))},l)}function ZA(s,c,l){var b=s.length;if(b<2)return b?cc(s[0]):[];for(var E=-1,N=pe(b);++E<b;)for(var z=s[E],X=-1;++X<b;)X!=E&&(N[E]=Kp(N[E]||z,s[X],c,l));return cc(hi(N,1),c,l)}function yq(s,c,l){for(var b=-1,E=s.length,N=c.length,z={};++b<E;){var X=b<N?c[b]:t;l(z,s[b],X)}return z}function e9(s){return In(s)?s:[]}function t9(s){return typeof s=="function"?s:Gi}function fc(s,c){return Yt(s)?s:f9(s,c)?[s]:$q(Dr(s))}var jfe=ur;function dc(s,c,l){var b=s.length;return l=l===t?b:l,!c&&l>=b?s:qa(s,c,l)}var bq=Rce||function(s){return ii.clearTimeout(s)};function vq(s,c){if(c)return s.slice();var l=s.length,b=HO?HO(l):new s.constructor(l);return s.copy(b),b}function r9(s){var c=new s.constructor(s.byteLength);return new qy(c).set(new qy(s)),c}function $fe(s,c){var l=c?r9(s.buffer):s.buffer;return new s.constructor(l,s.byteOffset,s.byteLength)}function Vfe(s){var c=new s.constructor(s.source,Pe.exec(s));return c.lastIndex=s.lastIndex,c}function Gfe(s){return Up?Fr(Up.call(s)):{}}function gq(s,c){var l=c?r9(s.buffer):s.buffer;return new s.constructor(l,s.byteOffset,s.length)}function _q(s,c){if(s!==c){var l=s!==t,b=s===null,E=s===s,N=fa(s),z=c!==t,X=c===null,ue=c===c,Ee=fa(c);if(!X&&!Ee&&!N&&s>c||N&&z&&ue&&!X&&!Ee||b&&z&&ue||!l&&ue||!E)return 1;if(!b&&!N&&!Ee&&s<c||Ee&&l&&E&&!b&&!N||X&&l&&E||!z&&E||!ue)return-1}return 0}function Yfe(s,c,l){for(var b=-1,E=s.criteria,N=c.criteria,z=E.length,X=l.length;++b<z;){var ue=_q(E[b],N[b]);if(ue){if(b>=X)return ue;var Ee=l[b];return ue*(Ee=="desc"?-1:1)}}return s.index-c.index}function wq(s,c,l,b){for(var E=-1,N=s.length,z=l.length,X=-1,ue=c.length,Ee=Gn(N-z,0),Te=pe(ue+Ee),Me=!b;++X<ue;)Te[X]=c[X];for(;++E<z;)(Me||E<N)&&(Te[l[E]]=s[E]);for(;Ee--;)Te[X++]=s[E++];return Te}function Sq(s,c,l,b){for(var E=-1,N=s.length,z=-1,X=l.length,ue=-1,Ee=c.length,Te=Gn(N-X,0),Me=pe(Te+Ee),Qe=!b;++E<Te;)Me[E]=s[E];for(var vt=E;++ue<Ee;)Me[vt+ue]=c[ue];for(;++z<X;)(Qe||E<N)&&(Me[vt+l[z]]=s[E++]);return Me}function ji(s,c){var l=-1,b=s.length;for(c||(c=pe(b));++l<b;)c[l]=s[l];return c}function ro(s,c,l,b){var E=!l;l||(l={});for(var N=-1,z=c.length;++N<z;){var X=c[N],ue=b?b(l[X],s[X],X,l,s):t;ue===t&&(ue=s[X]),E?au(l,X,ue):Hp(l,X,ue)}return l}function Jfe(s,c){return ro(s,c9(s),c)}function Xfe(s,c){return ro(s,Dq(s),c)}function Jy(s,c){return function(l,b){var E=Yt(l)?rce:vfe,N=c?c():{};return E(l,s,Rt(b,2),N)}}function vl(s){return ur(function(c,l){var b=-1,E=l.length,N=E>1?l[E-1]:t,z=E>2?l[2]:t;for(N=s.length>3&&typeof N=="function"?(E--,N):t,z&&Mi(l[0],l[1],z)&&(N=E<3?t:N,E=1),c=Fr(c);++b<E;){var X=l[b];X&&s(c,X,b,N)}return c})}function Aq(s,c){return function(l,b){if(l==null)return l;if(!$i(l))return s(l,b);for(var E=l.length,N=c?E:-1,z=Fr(l);(c?N--:++N<E)&&b(z[N],N,z)!==!1;);return l}}function Cq(s){return function(c,l,b){for(var E=-1,N=Fr(c),z=b(c),X=z.length;X--;){var ue=z[s?X:++E];if(l(N[ue],ue,N)===!1)break}return c}}function Qfe(s,c,l){var b=c&P,E=jp(s);function N(){var z=this&&this!==ii&&this instanceof N?E:s;return z.apply(b?l:this,arguments)}return N}function Eq(s){return function(c){c=Dr(c);var l=hl(c)?ls(c):t,b=l?l[0]:c.charAt(0),E=l?dc(l,1).join(""):c.slice(1);return b[s]()+E}}function gl(s){return function(c){return PA(AD(SD(c).replace(Fue,"")),s,"")}}function jp(s){return function(){var c=arguments;switch(c.length){case 0:return new s;case 1:return new s(c[0]);case 2:return new s(c[0],c[1]);case 3:return new s(c[0],c[1],c[2]);case 4:return new s(c[0],c[1],c[2],c[3]);case 5:return new s(c[0],c[1],c[2],c[3],c[4]);case 6:return new s(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new s(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var l=bl(s.prototype),b=s.apply(l,c);return yn(b)?b:l}}function Zfe(s,c,l){var b=jp(s);function E(){for(var N=arguments.length,z=pe(N),X=N,ue=_l(E);X--;)z[X]=arguments[X];var Ee=N<3&&z[0]!==ue&&z[N-1]!==ue?[]:ac(z,ue);if(N-=Ee.length,N<l)return Bq(s,c,Xy,E.placeholder,t,z,Ee,t,t,l-N);var Te=this&&this!==ii&&this instanceof E?b:s;return oa(Te,this,z)}return E}function Pq(s){return function(c,l,b){var E=Fr(c);if(!$i(c)){var N=Rt(l,3);c=ai(c),l=function(X){return N(E[X],X,E)}}var z=s(c,l,b);return z>-1?E[N?c[z]:z]:t}}function Tq(s){return ou(function(c){var l=c.length,b=l,E=Ma.prototype.thru;for(s&&c.reverse();b--;){var N=c[b];if(typeof N!="function")throw new Ra(i);if(E&&!z&&tb(N)=="wrapper")var z=new Ma([],!0)}for(b=z?b:l;++b<l;){N=c[b];var X=tb(N),ue=X=="wrapper"?o9(N):t;ue&&d9(ue[0])&&ue[1]==(Ze|Y|_e|Ue)&&!ue[4].length&&ue[9]==1?z=z[tb(ue[0])].apply(z,ue[3]):z=N.length==1&&d9(N)?z[X]():z.thru(N)}return function(){var Ee=arguments,Te=Ee[0];if(z&&Ee.length==1&&Yt(Te))return z.plant(Te).value();for(var Me=0,Qe=l?c[Me].apply(this,Ee):Te;++Me<l;)Qe=c[Me].call(this,Qe);return Qe}})}function Xy(s,c,l,b,E,N,z,X,ue,Ee){var Te=c&Ze,Me=c&P,Qe=c&M,vt=c&(Y|fe),Ot=c&Ke,ir=Qe?t:jp(s);function qt(){for(var hr=arguments.length,gr=pe(hr),da=hr;da--;)gr[da]=arguments[da];if(vt)var Oi=_l(qt),la=dce(gr,Oi);if(b&&(gr=wq(gr,b,E,vt)),N&&(gr=Sq(gr,N,z,vt)),hr-=la,vt&&hr<Ee){var kn=ac(gr,Oi);return Bq(s,c,Xy,qt.placeholder,l,gr,kn,X,ue,Ee-hr)}var ms=Me?l:this,du=Qe?ms[s]:s;return hr=gr.length,X?gr=vde(gr,X):Ot&&hr>1&&gr.reverse(),Te&&ue<hr&&(gr.length=ue),this&&this!==ii&&this instanceof qt&&(du=ir||jp(du)),du.apply(ms,gr)}return qt}function Iq(s,c){return function(l,b){return Pfe(l,s,c(b),{})}}function Qy(s,c){return function(l,b){var E;if(l===t&&b===t)return c;if(l!==t&&(E=l),b!==t){if(E===t)return b;typeof l=="string"||typeof b=="string"?(l=ca(l),b=ca(b)):(l=pq(l),b=pq(b)),E=s(l,b)}return E}}function n9(s){return ou(function(c){return c=mn(c,ua(Rt())),ur(function(l){var b=this;return s(c,function(E){return oa(E,b,l)})})})}function Zy(s,c){c=c===t?" ":ca(c);var l=c.length;if(l<2)return l?JA(c,s):c;var b=JA(c,Uy(s/pl(c)));return hl(c)?dc(ls(b),0,s).join(""):b.slice(0,s)}function ede(s,c,l,b){var E=c&P,N=jp(s);function z(){for(var X=-1,ue=arguments.length,Ee=-1,Te=b.length,Me=pe(Te+ue),Qe=this&&this!==ii&&this instanceof z?N:s;++Ee<Te;)Me[Ee]=b[Ee];for(;ue--;)Me[Ee++]=arguments[++X];return oa(Qe,E?l:this,Me)}return z}function kq(s){return function(c,l,b){return b&&typeof b!="number"&&Mi(c,l,b)&&(l=b=t),c=fu(c),l===t?(l=c,c=0):l=fu(l),b=b===t?c<l?1:-1:fu(b),Ufe(c,l,b,s)}}function eb(s){return function(c,l){return typeof c=="string"&&typeof l=="string"||(c=Na(c),l=Na(l)),s(c,l)}}function Bq(s,c,l,b,E,N,z,X,ue,Ee){var Te=c&Y,Me=Te?z:t,Qe=Te?t:z,vt=Te?N:t,Ot=Te?t:N;c|=Te?_e:Je,c&=~(Te?Je:_e),c&K||(c&=~(P|M));var ir=[s,c,E,vt,Me,Ot,Qe,X,ue,Ee],qt=l.apply(t,ir);return d9(s)&&zq(qt,ir),qt.placeholder=b,Wq(qt,s,c)}function i9(s){var c=Vn[s];return function(l,b){if(l=Na(l),b=b==null?0:gi(rr(b),292),b&&WO(l)){var E=(Dr(l)+"e").split("e"),N=c(E[0]+"e"+(+E[1]+b));return E=(Dr(N)+"e").split("e"),+(E[0]+"e"+(+E[1]-b))}return c(l)}}var tde=xl&&1/Iy(new xl([,-0]))[1]==U?function(s){return new xl(s)}:E9;function Rq(s){return function(c){var l=_i(c);return l==gt?OA(c):l==jr?bce(c):fce(c,s(c))}}function su(s,c,l,b,E,N,z,X){var ue=c&M;if(!ue&&typeof s!="function")throw new Ra(i);var Ee=b?b.length:0;if(Ee||(c&=~(_e|Je),b=E=t),z=z===t?z:Gn(rr(z),0),X=X===t?X:rr(X),Ee-=E?E.length:0,c&Je){var Te=b,Me=E;b=E=t}var Qe=ue?t:o9(s),vt=[s,c,l,b,E,Te,Me,N,z,X];if(Qe&&xde(vt,Qe),s=vt[0],c=vt[1],l=vt[2],b=vt[3],E=vt[4],X=vt[9]=vt[9]===t?ue?0:s.length:Gn(vt[9]-Ee,0),!X&&c&(Y|fe)&&(c&=~(Y|fe)),!c||c==P)var Ot=Qfe(s,c,l);else c==Y||c==fe?Ot=Zfe(s,c,X):(c==_e||c==(P|_e))&&!E.length?Ot=ede(s,c,l,b):Ot=Xy.apply(t,vt);var ir=Qe?lq:zq;return Wq(ir(Ot,vt),s,c)}function Mq(s,c,l,b){return s===t||ps(s,ml[l])&&!Ur.call(b,l)?c:s}function Oq(s,c,l,b,E,N){return yn(s)&&yn(c)&&(N.set(c,s),Vy(s,c,t,Oq,N),N.delete(c)),s}function rde(s){return Gp(s)?t:s}function qq(s,c,l,b,E,N){var z=l&_,X=s.length,ue=c.length;if(X!=ue&&!(z&&ue>X))return!1;var Ee=N.get(s),Te=N.get(c);if(Ee&&Te)return Ee==c&&Te==s;var Me=-1,Qe=!0,vt=l&w?new Lf:t;for(N.set(s,c),N.set(c,s);++Me<X;){var Ot=s[Me],ir=c[Me];if(b)var qt=z?b(ir,Ot,Me,c,s,N):b(Ot,ir,Me,s,c,N);if(qt!==t){if(qt)continue;Qe=!1;break}if(vt){if(!TA(c,function(hr,gr){if(!Op(vt,gr)&&(Ot===hr||E(Ot,hr,l,b,N)))return vt.push(gr)})){Qe=!1;break}}else if(!(Ot===ir||E(Ot,ir,l,b,N))){Qe=!1;break}}return N.delete(s),N.delete(c),Qe}function nde(s,c,l,b,E,N,z){switch(l){case O:if(s.byteLength!=c.byteLength||s.byteOffset!=c.byteOffset)return!1;s=s.buffer,c=c.buffer;case C:return!(s.byteLength!=c.byteLength||!N(new qy(s),new qy(c)));case pt:case Xt:case fn:return ps(+s,+c);case De:return s.name==c.name&&s.message==c.message;case Qt:case wr:return s==c+"";case gt:var X=OA;case jr:var ue=b&_;if(X||(X=Iy),s.size!=c.size&&!ue)return!1;var Ee=z.get(s);if(Ee)return Ee==c;b|=w,z.set(s,c);var Te=qq(X(s),X(c),b,E,N,z);return z.delete(s),Te;case Er:if(Up)return Up.call(s)==Up.call(c)}return!1}function ide(s,c,l,b,E,N){var z=l&_,X=a9(s),ue=X.length,Ee=a9(c),Te=Ee.length;if(ue!=Te&&!z)return!1;for(var Me=ue;Me--;){var Qe=X[Me];if(!(z?Qe in c:Ur.call(c,Qe)))return!1}var vt=N.get(s),Ot=N.get(c);if(vt&&Ot)return vt==c&&Ot==s;var ir=!0;N.set(s,c),N.set(c,s);for(var qt=z;++Me<ue;){Qe=X[Me];var hr=s[Qe],gr=c[Qe];if(b)var da=z?b(gr,hr,Qe,c,s,N):b(hr,gr,Qe,s,c,N);if(!(da===t?hr===gr||E(hr,gr,l,b,N):da)){ir=!1;break}qt||(qt=Qe=="constructor")}if(ir&&!qt){var Oi=s.constructor,la=c.constructor;Oi!=la&&"constructor"in s&&"constructor"in c&&!(typeof Oi=="function"&&Oi instanceof Oi&&typeof la=="function"&&la instanceof la)&&(ir=!1)}return N.delete(s),N.delete(c),ir}function ou(s){return h9(Kq(s,t,Jq),s+"")}function a9(s){return tq(s,ai,c9)}function s9(s){return tq(s,Vi,Dq)}var o9=Ky?function(s){return Ky.get(s)}:E9;function tb(s){for(var c=s.name+"",l=yl[c],b=Ur.call(yl,c)?l.length:0;b--;){var E=l[b],N=E.func;if(N==null||N==s)return E.name}return c}function _l(s){var c=Ur.call(R,"placeholder")?R:s;return c.placeholder}function Rt(){var s=R.iteratee||A9;return s=s===A9?iq:s,arguments.length?s(arguments[0],arguments[1]):s}function rb(s,c){var l=s.__data__;return lde(c)?l[typeof c=="string"?"string":"hash"]:l.map}function u9(s){for(var c=ai(s),l=c.length;l--;){var b=c[l],E=s[b];c[l]=[b,E,Uq(E)]}return c}function Kf(s,c){var l=mce(s,c);return nq(l)?l:t}function ade(s){var c=Ur.call(s,Df),l=s[Df];try{s[Df]=t;var b=!0}catch{}var E=My.call(s);return b&&(c?s[Df]=l:delete s[Df]),E}var c9=DA?function(s){return s==null?[]:(s=Fr(s),nc(DA(s),function(c){return FO.call(s,c)}))}:P9,Dq=DA?function(s){for(var c=[];s;)ic(c,c9(s)),s=Dy(s);return c}:P9,_i=Ri;(NA&&_i(new NA(new ArrayBuffer(1)))!=O||Dp&&_i(new Dp)!=gt||LA&&_i(LA.resolve())!=Bi||xl&&_i(new xl)!=jr||Np&&_i(new Np)!=Vt)&&(_i=function(s){var c=Ri(s),l=c==Lt?s.constructor:t,b=l?Ff(l):"";if(b)switch(b){case Kce:return O;case Fce:return gt;case zce:return Bi;case Wce:return jr;case jce:return Vt}return c});function sde(s,c,l){for(var b=-1,E=l.length;++b<E;){var N=l[b],z=N.size;switch(N.type){case"drop":s+=z;break;case"dropRight":c-=z;break;case"take":c=gi(c,s+z);break;case"takeRight":s=Gn(s,c-z);break}}return{start:s,end:c}}function ode(s){var c=s.match(I);return c?c[1].split(x):[]}function Nq(s,c,l){c=fc(c,s);for(var b=-1,E=c.length,N=!1;++b<E;){var z=no(c[b]);if(!(N=s!=null&&l(s,z)))break;s=s[z]}return N||++b!=E?N:(E=s==null?0:s.length,!!E&&cb(E)&&uu(z,E)&&(Yt(s)||zf(s)))}function ude(s){var c=s.length,l=new s.constructor(c);return c&&typeof s[0]=="string"&&Ur.call(s,"index")&&(l.index=s.index,l.input=s.input),l}function Lq(s){return typeof s.constructor=="function"&&!$p(s)?bl(Dy(s)):{}}function cde(s,c,l){var b=s.constructor;switch(c){case C:return r9(s);case pt:case Xt:return new b(+s);case O:return $fe(s,l);case H:case ee:case Z:case se:case de:case ie:case Ie:case Ve:case je:return gq(s,l);case gt:return new b;case fn:case wr:return new b(s);case Qt:return Vfe(s);case jr:return new b;case Er:return Gfe(s)}}function fde(s,c){var l=c.length;if(!l)return s;var b=l-1;return c[b]=(l>1?"& ":"")+c[b],c=c.join(l>2?", ":" "),s.replace(k,`{
/* [wrapped with `+c+`] */
`)}function dde(s){return Yt(s)||zf(s)||!!(zO&&s&&s[zO])}function uu(s,c){var l=typeof s;return c=c??G,!!c&&(l=="number"||l!="symbol"&&Et.test(s))&&s>-1&&s%1==0&&s<c}function Mi(s,c,l){if(!yn(l))return!1;var b=typeof c;return(b=="number"?$i(l)&&uu(c,l.length):b=="string"&&c in l)?ps(l[c],s):!1}function f9(s,c){if(Yt(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||fa(s)?!0:$r.test(s)||!tc.test(s)||c!=null&&s in Fr(c)}function lde(s){var c=typeof s;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?s!=="__proto__":s===null}function d9(s){var c=tb(s),l=R[c];if(typeof l!="function"||!(c in br.prototype))return!1;if(s===l)return!0;var b=o9(l);return!!b&&s===b[0]}function hde(s){return!!UO&&UO in s}var pde=By?cu:T9;function $p(s){var c=s&&s.constructor,l=typeof c=="function"&&c.prototype||ml;return s===l}function Uq(s){return s===s&&!yn(s)}function Hq(s,c){return function(l){return l==null?!1:l[s]===c&&(c!==t||s in Fr(l))}}function mde(s){var c=ob(s,function(b){return l.size===u&&l.clear(),b}),l=c.cache;return c}function xde(s,c){var l=s[1],b=c[1],E=l|b,N=E<(P|M|Ze),z=b==Ze&&l==Y||b==Ze&&l==Ue&&s[7].length<=c[8]||b==(Ze|Ue)&&c[7].length<=c[8]&&l==Y;if(!(N||z))return s;b&P&&(s[2]=c[2],E|=l&P?0:K);var X=c[3];if(X){var ue=s[3];s[3]=ue?wq(ue,X,c[4]):X,s[4]=ue?ac(s[3],f):c[4]}return X=c[5],X&&(ue=s[5],s[5]=ue?Sq(ue,X,c[6]):X,s[6]=ue?ac(s[5],f):c[6]),X=c[7],X&&(s[7]=X),b&Ze&&(s[8]=s[8]==null?c[8]:gi(s[8],c[8])),s[9]==null&&(s[9]=c[9]),s[0]=c[0],s[1]=E,s}function yde(s){var c=[];if(s!=null)for(var l in Fr(s))c.push(l);return c}function bde(s){return My.call(s)}function Kq(s,c,l){return c=Gn(c===t?s.length-1:c,0),function(){for(var b=arguments,E=-1,N=Gn(b.length-c,0),z=pe(N);++E<N;)z[E]=b[c+E];E=-1;for(var X=pe(c+1);++E<c;)X[E]=b[E];return X[c]=l(z),oa(s,this,X)}}function Fq(s,c){return c.length<2?s:Hf(s,qa(c,0,-1))}function vde(s,c){for(var l=s.length,b=gi(c.length,l),E=ji(s);b--;){var N=c[b];s[b]=uu(N,l)?E[N]:t}return s}function l9(s,c){if(!(c==="constructor"&&typeof s[c]=="function")&&c!="__proto__")return s[c]}var zq=jq(lq),Vp=Oce||function(s,c){return ii.setTimeout(s,c)},h9=jq(Ffe);function Wq(s,c,l){var b=c+"";return h9(s,fde(b,gde(ode(b),l)))}function jq(s){var c=0,l=0;return function(){var b=Lce(),E=y-(b-l);if(l=b,E>0){if(++c>=F)return arguments[0]}else c=0;return s.apply(t,arguments)}}function nb(s,c){var l=-1,b=s.length,E=b-1;for(c=c===t?b:c;++l<c;){var N=YA(l,E),z=s[N];s[N]=s[l],s[l]=z}return s.length=c,s}var $q=mde(function(s){var c=[];return s.charCodeAt(0)===46&&c.push(""),s.replace(en,function(l,b,E,N){c.push(E?N.replace(ce,"$1"):b||l)}),c});function no(s){if(typeof s=="string"||fa(s))return s;var c=s+"";return c=="0"&&1/s==-U?"-0":c}function Ff(s){if(s!=null){try{return Ry.call(s)}catch{}try{return s+""}catch{}}return""}function gde(s,c){return Ba(re,function(l){var b="_."+l[0];c&l[1]&&!Py(s,b)&&s.push(b)}),s.sort()}function Vq(s){if(s instanceof br)return s.clone();var c=new Ma(s.__wrapped__,s.__chain__);return c.__actions__=ji(s.__actions__),c.__index__=s.__index__,c.__values__=s.__values__,c}function _de(s,c,l){(l?Mi(s,c,l):c===t)?c=1:c=Gn(rr(c),0);var b=s==null?0:s.length;if(!b||c<1)return[];for(var E=0,N=0,z=pe(Uy(b/c));E<b;)z[N++]=qa(s,E,E+=c);return z}function wde(s){for(var c=-1,l=s==null?0:s.length,b=0,E=[];++c<l;){var N=s[c];N&&(E[b++]=N)}return E}function Sde(){var s=arguments.length;if(!s)return[];for(var c=pe(s-1),l=arguments[0],b=s;b--;)c[b-1]=arguments[b];return ic(Yt(l)?ji(l):[l],hi(c,1))}var Ade=ur(function(s,c){return In(s)?Kp(s,hi(c,1,In,!0)):[]}),Cde=ur(function(s,c){var l=Da(c);return In(l)&&(l=t),In(s)?Kp(s,hi(c,1,In,!0),Rt(l,2)):[]}),Ede=ur(function(s,c){var l=Da(c);return In(l)&&(l=t),In(s)?Kp(s,hi(c,1,In,!0),t,l):[]});function Pde(s,c,l){var b=s==null?0:s.length;return b?(c=l||c===t?1:rr(c),qa(s,c<0?0:c,b)):[]}function Tde(s,c,l){var b=s==null?0:s.length;return b?(c=l||c===t?1:rr(c),c=b-c,qa(s,0,c<0?0:c)):[]}function Ide(s,c){return s&&s.length?Yy(s,Rt(c,3),!0,!0):[]}function kde(s,c){return s&&s.length?Yy(s,Rt(c,3),!0):[]}function Bde(s,c,l,b){var E=s==null?0:s.length;return E?(l&&typeof l!="number"&&Mi(s,c,l)&&(l=0,b=E),Sfe(s,c,l,b)):[]}function Gq(s,c,l){var b=s==null?0:s.length;if(!b)return-1;var E=l==null?0:rr(l);return E<0&&(E=Gn(b+E,0)),Ty(s,Rt(c,3),E)}function Yq(s,c,l){var b=s==null?0:s.length;if(!b)return-1;var E=b-1;return l!==t&&(E=rr(l),E=l<0?Gn(b+E,0):gi(E,b-1)),Ty(s,Rt(c,3),E,!0)}function Jq(s){var c=s==null?0:s.length;return c?hi(s,1):[]}function Rde(s){var c=s==null?0:s.length;return c?hi(s,U):[]}function Mde(s,c){var l=s==null?0:s.length;return l?(c=c===t?1:rr(c),hi(s,c)):[]}function Ode(s){for(var c=-1,l=s==null?0:s.length,b={};++c<l;){var E=s[c];b[E[0]]=E[1]}return b}function Xq(s){return s&&s.length?s[0]:t}function qde(s,c,l){var b=s==null?0:s.length;if(!b)return-1;var E=l==null?0:rr(l);return E<0&&(E=Gn(b+E,0)),ll(s,c,E)}function Dde(s){var c=s==null?0:s.length;return c?qa(s,0,-1):[]}var Nde=ur(function(s){var c=mn(s,e9);return c.length&&c[0]===s[0]?WA(c):[]}),Lde=ur(function(s){var c=Da(s),l=mn(s,e9);return c===Da(l)?c=t:l.pop(),l.length&&l[0]===s[0]?WA(l,Rt(c,2)):[]}),Ude=ur(function(s){var c=Da(s),l=mn(s,e9);return c=typeof c=="function"?c:t,c&&l.pop(),l.length&&l[0]===s[0]?WA(l,t,c):[]});function Hde(s,c){return s==null?"":Dce.call(s,c)}function Da(s){var c=s==null?0:s.length;return c?s[c-1]:t}function Kde(s,c,l){var b=s==null?0:s.length;if(!b)return-1;var E=b;return l!==t&&(E=rr(l),E=E<0?Gn(b+E,0):gi(E,b-1)),c===c?gce(s,c,E):Ty(s,BO,E,!0)}function Fde(s,c){return s&&s.length?uq(s,rr(c)):t}var zde=ur(Qq);function Qq(s,c){return s&&s.length&&c&&c.length?GA(s,c):s}function Wde(s,c,l){return s&&s.length&&c&&c.length?GA(s,c,Rt(l,2)):s}function jde(s,c,l){return s&&s.length&&c&&c.length?GA(s,c,t,l):s}var $de=ou(function(s,c){var l=s==null?0:s.length,b=HA(s,c);return dq(s,mn(c,function(E){return uu(E,l)?+E:E}).sort(_q)),b});function Vde(s,c){var l=[];if(!(s&&s.length))return l;var b=-1,E=[],N=s.length;for(c=Rt(c,3);++b<N;){var z=s[b];c(z,b,s)&&(l.push(z),E.push(b))}return dq(s,E),l}function p9(s){return s==null?s:Hce.call(s)}function Gde(s,c,l){var b=s==null?0:s.length;return b?(l&&typeof l!="number"&&Mi(s,c,l)?(c=0,l=b):(c=c==null?0:rr(c),l=l===t?b:rr(l)),qa(s,c,l)):[]}function Yde(s,c){return Gy(s,c)}function Jde(s,c,l){return XA(s,c,Rt(l,2))}function Xde(s,c){var l=s==null?0:s.length;if(l){var b=Gy(s,c);if(b<l&&ps(s[b],c))return b}return-1}function Qde(s,c){return Gy(s,c,!0)}function Zde(s,c,l){return XA(s,c,Rt(l,2),!0)}function ele(s,c){var l=s==null?0:s.length;if(l){var b=Gy(s,c,!0)-1;if(ps(s[b],c))return b}return-1}function tle(s){return s&&s.length?hq(s):[]}function rle(s,c){return s&&s.length?hq(s,Rt(c,2)):[]}function nle(s){var c=s==null?0:s.length;return c?qa(s,1,c):[]}function ile(s,c,l){return s&&s.length?(c=l||c===t?1:rr(c),qa(s,0,c<0?0:c)):[]}function ale(s,c,l){var b=s==null?0:s.length;return b?(c=l||c===t?1:rr(c),c=b-c,qa(s,c<0?0:c,b)):[]}function sle(s,c){return s&&s.length?Yy(s,Rt(c,3),!1,!0):[]}function ole(s,c){return s&&s.length?Yy(s,Rt(c,3)):[]}var ule=ur(function(s){return cc(hi(s,1,In,!0))}),cle=ur(function(s){var c=Da(s);return In(c)&&(c=t),cc(hi(s,1,In,!0),Rt(c,2))}),fle=ur(function(s){var c=Da(s);return c=typeof c=="function"?c:t,cc(hi(s,1,In,!0),t,c)});function dle(s){return s&&s.length?cc(s):[]}function lle(s,c){return s&&s.length?cc(s,Rt(c,2)):[]}function hle(s,c){return c=typeof c=="function"?c:t,s&&s.length?cc(s,t,c):[]}function m9(s){if(!(s&&s.length))return[];var c=0;return s=nc(s,function(l){if(In(l))return c=Gn(l.length,c),!0}),RA(c,function(l){return mn(s,IA(l))})}function Zq(s,c){if(!(s&&s.length))return[];var l=m9(s);return c==null?l:mn(l,function(b){return oa(c,t,b)})}var ple=ur(function(s,c){return In(s)?Kp(s,c):[]}),mle=ur(function(s){return ZA(nc(s,In))}),xle=ur(function(s){var c=Da(s);return In(c)&&(c=t),ZA(nc(s,In),Rt(c,2))}),yle=ur(function(s){var c=Da(s);return c=typeof c=="function"?c:t,ZA(nc(s,In),t,c)}),ble=ur(m9);function vle(s,c){return yq(s||[],c||[],Hp)}function gle(s,c){return yq(s||[],c||[],Wp)}var _le=ur(function(s){var c=s.length,l=c>1?s[c-1]:t;return l=typeof l=="function"?(s.pop(),l):t,Zq(s,l)});function eD(s){var c=R(s);return c.__chain__=!0,c}function wle(s,c){return c(s),s}function ib(s,c){return c(s)}var Sle=ou(function(s){var c=s.length,l=c?s[0]:0,b=this.__wrapped__,E=function(N){return HA(N,s)};return c>1||this.__actions__.length||!(b instanceof br)||!uu(l)?this.thru(E):(b=b.slice(l,+l+(c?1:0)),b.__actions__.push({func:ib,args:[E],thisArg:t}),new Ma(b,this.__chain__).thru(function(N){return c&&!N.length&&N.push(t),N}))});function Ale(){return eD(this)}function Cle(){return new Ma(this.value(),this.__chain__)}function Ele(){this.__values__===t&&(this.__values__=pD(this.value()));var s=this.__index__>=this.__values__.length,c=s?t:this.__values__[this.__index__++];return{done:s,value:c}}function Ple(){return this}function Tle(s){for(var c,l=this;l instanceof zy;){var b=Vq(l);b.__index__=0,b.__values__=t,c?E.__wrapped__=b:c=b;var E=b;l=l.__wrapped__}return E.__wrapped__=s,c}function Ile(){var s=this.__wrapped__;if(s instanceof br){var c=s;return this.__actions__.length&&(c=new br(this)),c=c.reverse(),c.__actions__.push({func:ib,args:[p9],thisArg:t}),new Ma(c,this.__chain__)}return this.thru(p9)}function kle(){return xq(this.__wrapped__,this.__actions__)}var Ble=Jy(function(s,c,l){Ur.call(s,l)?++s[l]:au(s,l,1)});function Rle(s,c,l){var b=Yt(s)?IO:wfe;return l&&Mi(s,c,l)&&(c=t),b(s,Rt(c,3))}function Mle(s,c){var l=Yt(s)?nc:ZO;return l(s,Rt(c,3))}var Ole=Pq(Gq),qle=Pq(Yq);function Dle(s,c){return hi(ab(s,c),1)}function Nle(s,c){return hi(ab(s,c),U)}function Lle(s,c,l){return l=l===t?1:rr(l),hi(ab(s,c),l)}function tD(s,c){var l=Yt(s)?Ba:uc;return l(s,Rt(c,3))}function rD(s,c){var l=Yt(s)?nce:QO;return l(s,Rt(c,3))}var Ule=Jy(function(s,c,l){Ur.call(s,l)?s[l].push(c):au(s,l,[c])});function Hle(s,c,l,b){s=$i(s)?s:Sl(s),l=l&&!b?rr(l):0;var E=s.length;return l<0&&(l=Gn(E+l,0)),fb(s)?l<=E&&s.indexOf(c,l)>-1:!!E&&ll(s,c,l)>-1}var Kle=ur(function(s,c,l){var b=-1,E=typeof c=="function",N=$i(s)?pe(s.length):[];return uc(s,function(z){N[++b]=E?oa(c,z,l):Fp(z,c,l)}),N}),Fle=Jy(function(s,c,l){au(s,l,c)});function ab(s,c){var l=Yt(s)?mn:aq;return l(s,Rt(c,3))}function zle(s,c,l,b){return s==null?[]:(Yt(c)||(c=c==null?[]:[c]),l=b?t:l,Yt(l)||(l=l==null?[]:[l]),cq(s,c,l))}var Wle=Jy(function(s,c,l){s[l?0:1].push(c)},function(){return[[],[]]});function jle(s,c,l){var b=Yt(s)?PA:MO,E=arguments.length<3;return b(s,Rt(c,4),l,E,uc)}function $le(s,c,l){var b=Yt(s)?ice:MO,E=arguments.length<3;return b(s,Rt(c,4),l,E,QO)}function Vle(s,c){var l=Yt(s)?nc:ZO;return l(s,ub(Rt(c,3)))}function Gle(s){var c=Yt(s)?GO:Hfe;return c(s)}function Yle(s,c,l){(l?Mi(s,c,l):c===t)?c=1:c=rr(c);var b=Yt(s)?yfe:Kfe;return b(s,c)}function Jle(s){var c=Yt(s)?bfe:zfe;return c(s)}function Xle(s){if(s==null)return 0;if($i(s))return fb(s)?pl(s):s.length;var c=_i(s);return c==gt||c==jr?s.size:$A(s).length}function Qle(s,c,l){var b=Yt(s)?TA:Wfe;return l&&Mi(s,c,l)&&(c=t),b(s,Rt(c,3))}var Zle=ur(function(s,c){if(s==null)return[];var l=c.length;return l>1&&Mi(s,c[0],c[1])?c=[]:l>2&&Mi(c[0],c[1],c[2])&&(c=[c[0]]),cq(s,hi(c,1),[])}),sb=Mce||function(){return ii.Date.now()};function e0e(s,c){if(typeof c!="function")throw new Ra(i);return s=rr(s),function(){if(--s<1)return c.apply(this,arguments)}}function nD(s,c,l){return c=l?t:c,c=s&&c==null?s.length:c,su(s,Ze,t,t,t,t,c)}function iD(s,c){var l;if(typeof c!="function")throw new Ra(i);return s=rr(s),function(){return--s>0&&(l=c.apply(this,arguments)),s<=1&&(c=t),l}}var x9=ur(function(s,c,l){var b=P;if(l.length){var E=ac(l,_l(x9));b|=_e}return su(s,b,c,l,E)}),aD=ur(function(s,c,l){var b=P|M;if(l.length){var E=ac(l,_l(aD));b|=_e}return su(c,b,s,l,E)});function sD(s,c,l){c=l?t:c;var b=su(s,Y,t,t,t,t,t,c);return b.placeholder=sD.placeholder,b}function oD(s,c,l){c=l?t:c;var b=su(s,fe,t,t,t,t,t,c);return b.placeholder=oD.placeholder,b}function uD(s,c,l){var b,E,N,z,X,ue,Ee=0,Te=!1,Me=!1,Qe=!0;if(typeof s!="function")throw new Ra(i);c=Na(c)||0,yn(l)&&(Te=!!l.leading,Me="maxWait"in l,N=Me?Gn(Na(l.maxWait)||0,c):N,Qe="trailing"in l?!!l.trailing:Qe);function vt(kn){var ms=b,du=E;return b=E=t,Ee=kn,z=s.apply(du,ms),z}function Ot(kn){return Ee=kn,X=Vp(hr,c),Te?vt(kn):z}function ir(kn){var ms=kn-ue,du=kn-Ee,PD=c-ms;return Me?gi(PD,N-du):PD}function qt(kn){var ms=kn-ue,du=kn-Ee;return ue===t||ms>=c||ms<0||Me&&du>=N}function hr(){var kn=sb();if(qt(kn))return gr(kn);X=Vp(hr,ir(kn))}function gr(kn){return X=t,Qe&&b?vt(kn):(b=E=t,z)}function da(){X!==t&&bq(X),Ee=0,b=ue=E=X=t}function Oi(){return X===t?z:gr(sb())}function la(){var kn=sb(),ms=qt(kn);if(b=arguments,E=this,ue=kn,ms){if(X===t)return Ot(ue);if(Me)return bq(X),X=Vp(hr,c),vt(ue)}return X===t&&(X=Vp(hr,c)),z}return la.cancel=da,la.flush=Oi,la}var t0e=ur(function(s,c){return XO(s,1,c)}),r0e=ur(function(s,c,l){return XO(s,Na(c)||0,l)});function n0e(s){return su(s,Ke)}function ob(s,c){if(typeof s!="function"||c!=null&&typeof c!="function")throw new Ra(i);var l=function(){var b=arguments,E=c?c.apply(this,b):b[0],N=l.cache;if(N.has(E))return N.get(E);var z=s.apply(this,b);return l.cache=N.set(E,z)||N,z};return l.cache=new(ob.Cache||iu),l}ob.Cache=iu;function ub(s){if(typeof s!="function")throw new Ra(i);return function(){var c=arguments;switch(c.length){case 0:return!s.call(this);case 1:return!s.call(this,c[0]);case 2:return!s.call(this,c[0],c[1]);case 3:return!s.call(this,c[0],c[1],c[2])}return!s.apply(this,c)}}function i0e(s){return iD(2,s)}var a0e=jfe(function(s,c){c=c.length==1&&Yt(c[0])?mn(c[0],ua(Rt())):mn(hi(c,1),ua(Rt()));var l=c.length;return ur(function(b){for(var E=-1,N=gi(b.length,l);++E<N;)b[E]=c[E].call(this,b[E]);return oa(s,this,b)})}),y9=ur(function(s,c){var l=ac(c,_l(y9));return su(s,_e,t,c,l)}),cD=ur(function(s,c){var l=ac(c,_l(cD));return su(s,Je,t,c,l)}),s0e=ou(function(s,c){return su(s,Ue,t,t,t,c)});function o0e(s,c){if(typeof s!="function")throw new Ra(i);return c=c===t?c:rr(c),ur(s,c)}function u0e(s,c){if(typeof s!="function")throw new Ra(i);return c=c==null?0:Gn(rr(c),0),ur(function(l){var b=l[c],E=dc(l,0,c);return b&&ic(E,b),oa(s,this,E)})}function c0e(s,c,l){var b=!0,E=!0;if(typeof s!="function")throw new Ra(i);return yn(l)&&(b="leading"in l?!!l.leading:b,E="trailing"in l?!!l.trailing:E),uD(s,c,{leading:b,maxWait:c,trailing:E})}function f0e(s){return nD(s,1)}function d0e(s,c){return y9(t9(c),s)}function l0e(){if(!arguments.length)return[];var s=arguments[0];return Yt(s)?s:[s]}function h0e(s){return Oa(s,m)}function p0e(s,c){return c=typeof c=="function"?c:t,Oa(s,m,c)}function m0e(s){return Oa(s,d|m)}function x0e(s,c){return c=typeof c=="function"?c:t,Oa(s,d|m,c)}function y0e(s,c){return c==null||JO(s,c,ai(c))}function ps(s,c){return s===c||s!==s&&c!==c}var b0e=eb(zA),v0e=eb(function(s,c){return s>=c}),zf=rq(function(){return arguments}())?rq:function(s){return wn(s)&&Ur.call(s,"callee")&&!FO.call(s,"callee")},Yt=pe.isArray,g0e=SO?ua(SO):Tfe;function $i(s){return s!=null&&cb(s.length)&&!cu(s)}function In(s){return wn(s)&&$i(s)}function _0e(s){return s===!0||s===!1||wn(s)&&Ri(s)==pt}var lc=qce||T9,w0e=AO?ua(AO):Ife;function S0e(s){return wn(s)&&s.nodeType===1&&!Gp(s)}function A0e(s){if(s==null)return!0;if($i(s)&&(Yt(s)||typeof s=="string"||typeof s.splice=="function"||lc(s)||wl(s)||zf(s)))return!s.length;var c=_i(s);if(c==gt||c==jr)return!s.size;if($p(s))return!$A(s).length;for(var l in s)if(Ur.call(s,l))return!1;return!0}function C0e(s,c){return zp(s,c)}function E0e(s,c,l){l=typeof l=="function"?l:t;var b=l?l(s,c):t;return b===t?zp(s,c,t,l):!!b}function b9(s){if(!wn(s))return!1;var c=Ri(s);return c==De||c==We||typeof s.message=="string"&&typeof s.name=="string"&&!Gp(s)}function P0e(s){return typeof s=="number"&&WO(s)}function cu(s){if(!yn(s))return!1;var c=Ri(s);return c==St||c==et||c==nt||c==Pr}function fD(s){return typeof s=="number"&&s==rr(s)}function cb(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=G}function yn(s){var c=typeof s;return s!=null&&(c=="object"||c=="function")}function wn(s){return s!=null&&typeof s=="object"}var dD=CO?ua(CO):Bfe;function T0e(s,c){return s===c||jA(s,c,u9(c))}function I0e(s,c,l){return l=typeof l=="function"?l:t,jA(s,c,u9(c),l)}function k0e(s){return lD(s)&&s!=+s}function B0e(s){if(pde(s))throw new jt(n);return nq(s)}function R0e(s){return s===null}function M0e(s){return s==null}function lD(s){return typeof s=="number"||wn(s)&&Ri(s)==fn}function Gp(s){if(!wn(s)||Ri(s)!=Lt)return!1;var c=Dy(s);if(c===null)return!0;var l=Ur.call(c,"constructor")&&c.constructor;return typeof l=="function"&&l instanceof l&&Ry.call(l)==Ice}var v9=EO?ua(EO):Rfe;function O0e(s){return fD(s)&&s>=-G&&s<=G}var hD=PO?ua(PO):Mfe;function fb(s){return typeof s=="string"||!Yt(s)&&wn(s)&&Ri(s)==wr}function fa(s){return typeof s=="symbol"||wn(s)&&Ri(s)==Er}var wl=TO?ua(TO):Ofe;function q0e(s){return s===t}function D0e(s){return wn(s)&&_i(s)==Vt}function N0e(s){return wn(s)&&Ri(s)==v}var L0e=eb(VA),U0e=eb(function(s,c){return s<=c});function pD(s){if(!s)return[];if($i(s))return fb(s)?ls(s):ji(s);if(qp&&s[qp])return yce(s[qp]());var c=_i(s),l=c==gt?OA:c==jr?Iy:Sl;return l(s)}function fu(s){if(!s)return s===0?s:0;if(s=Na(s),s===U||s===-U){var c=s<0?-1:1;return c*J}return s===s?s:0}function rr(s){var c=fu(s),l=c%1;return c===c?l?c-l:c:0}function mD(s){return s?Uf(rr(s),0,p):0}function Na(s){if(typeof s=="number")return s;if(fa(s))return L;if(yn(s)){var c=typeof s.valueOf=="function"?s.valueOf():s;s=yn(c)?c+"":c}if(typeof s!="string")return s===0?s:+s;s=OO(s);var l=Ye.test(s);return l||tt.test(s)?ece(s.slice(2),l?2:8):ct.test(s)?L:+s}function xD(s){return ro(s,Vi(s))}function H0e(s){return s?Uf(rr(s),-G,G):s===0?s:0}function Dr(s){return s==null?"":ca(s)}var K0e=vl(function(s,c){if($p(c)||$i(c)){ro(c,ai(c),s);return}for(var l in c)Ur.call(c,l)&&Hp(s,l,c[l])}),yD=vl(function(s,c){ro(c,Vi(c),s)}),db=vl(function(s,c,l,b){ro(c,Vi(c),s,b)}),F0e=vl(function(s,c,l,b){ro(c,ai(c),s,b)}),z0e=ou(HA);function W0e(s,c){var l=bl(s);return c==null?l:YO(l,c)}var j0e=ur(function(s,c){s=Fr(s);var l=-1,b=c.length,E=b>2?c[2]:t;for(E&&Mi(c[0],c[1],E)&&(b=1);++l<b;)for(var N=c[l],z=Vi(N),X=-1,ue=z.length;++X<ue;){var Ee=z[X],Te=s[Ee];(Te===t||ps(Te,ml[Ee])&&!Ur.call(s,Ee))&&(s[Ee]=N[Ee])}return s}),$0e=ur(function(s){return s.push(t,Oq),oa(bD,t,s)});function V0e(s,c){return kO(s,Rt(c,3),to)}function G0e(s,c){return kO(s,Rt(c,3),FA)}function Y0e(s,c){return s==null?s:KA(s,Rt(c,3),Vi)}function J0e(s,c){return s==null?s:eq(s,Rt(c,3),Vi)}function X0e(s,c){return s&&to(s,Rt(c,3))}function Q0e(s,c){return s&&FA(s,Rt(c,3))}function Z0e(s){return s==null?[]:$y(s,ai(s))}function ehe(s){return s==null?[]:$y(s,Vi(s))}function g9(s,c,l){var b=s==null?t:Hf(s,c);return b===t?l:b}function the(s,c){return s!=null&&Nq(s,c,Afe)}function _9(s,c){return s!=null&&Nq(s,c,Cfe)}var rhe=Iq(function(s,c,l){c!=null&&typeof c.toString!="function"&&(c=My.call(c)),s[c]=l},S9(Gi)),nhe=Iq(function(s,c,l){c!=null&&typeof c.toString!="function"&&(c=My.call(c)),Ur.call(s,c)?s[c].push(l):s[c]=[l]},Rt),ihe=ur(Fp);function ai(s){return $i(s)?VO(s):$A(s)}function Vi(s){return $i(s)?VO(s,!0):qfe(s)}function ahe(s,c){var l={};return c=Rt(c,3),to(s,function(b,E,N){au(l,c(b,E,N),b)}),l}function she(s,c){var l={};return c=Rt(c,3),to(s,function(b,E,N){au(l,E,c(b,E,N))}),l}var ohe=vl(function(s,c,l){Vy(s,c,l)}),bD=vl(function(s,c,l,b){Vy(s,c,l,b)}),uhe=ou(function(s,c){var l={};if(s==null)return l;var b=!1;c=mn(c,function(N){return N=fc(N,s),b||(b=N.length>1),N}),ro(s,s9(s),l),b&&(l=Oa(l,d|h|m,rde));for(var E=c.length;E--;)QA(l,c[E]);return l});function che(s,c){return vD(s,ub(Rt(c)))}var fhe=ou(function(s,c){return s==null?{}:Nfe(s,c)});function vD(s,c){if(s==null)return{};var l=mn(s9(s),function(b){return[b]});return c=Rt(c),fq(s,l,function(b,E){return c(b,E[0])})}function dhe(s,c,l){c=fc(c,s);var b=-1,E=c.length;for(E||(E=1,s=t);++b<E;){var N=s==null?t:s[no(c[b])];N===t&&(b=E,N=l),s=cu(N)?N.call(s):N}return s}function lhe(s,c,l){return s==null?s:Wp(s,c,l)}function hhe(s,c,l,b){return b=typeof b=="function"?b:t,s==null?s:Wp(s,c,l,b)}var gD=Rq(ai),_D=Rq(Vi);function phe(s,c,l){var b=Yt(s),E=b||lc(s)||wl(s);if(c=Rt(c,4),l==null){var N=s&&s.constructor;E?l=b?new N:[]:yn(s)?l=cu(N)?bl(Dy(s)):{}:l={}}return(E?Ba:to)(s,function(z,X,ue){return c(l,z,X,ue)}),l}function mhe(s,c){return s==null?!0:QA(s,c)}function xhe(s,c,l){return s==null?s:mq(s,c,t9(l))}function yhe(s,c,l,b){return b=typeof b=="function"?b:t,s==null?s:mq(s,c,t9(l),b)}function Sl(s){return s==null?[]:MA(s,ai(s))}function bhe(s){return s==null?[]:MA(s,Vi(s))}function vhe(s,c,l){return l===t&&(l=c,c=t),l!==t&&(l=Na(l),l=l===l?l:0),c!==t&&(c=Na(c),c=c===c?c:0),Uf(Na(s),c,l)}function ghe(s,c,l){return c=fu(c),l===t?(l=c,c=0):l=fu(l),s=Na(s),Efe(s,c,l)}function _he(s,c,l){if(l&&typeof l!="boolean"&&Mi(s,c,l)&&(c=l=t),l===t&&(typeof c=="boolean"?(l=c,c=t):typeof s=="boolean"&&(l=s,s=t)),s===t&&c===t?(s=0,c=1):(s=fu(s),c===t?(c=s,s=0):c=fu(c)),s>c){var b=s;s=c,c=b}if(l||s%1||c%1){var E=jO();return gi(s+E*(c-s+Zue("1e-"+((E+"").length-1))),c)}return YA(s,c)}var whe=gl(function(s,c,l){return c=c.toLowerCase(),s+(l?wD(c):c)});function wD(s){return w9(Dr(s).toLowerCase())}function SD(s){return s=Dr(s),s&&s.replace(Pt,lce).replace(zue,"")}function She(s,c,l){s=Dr(s),c=ca(c);var b=s.length;l=l===t?b:Uf(rr(l),0,b);var E=l;return l-=c.length,l>=0&&s.slice(l,E)==c}function Ahe(s){return s=Dr(s),s&&hn.test(s)?s.replace(Ia,hce):s}function Che(s){return s=Dr(s),s&&mr.test(s)?s.replace(rc,"\\$&"):s}var Ehe=gl(function(s,c,l){return s+(l?"-":"")+c.toLowerCase()}),Phe=gl(function(s,c,l){return s+(l?" ":"")+c.toLowerCase()}),The=Eq("toLowerCase");function Ihe(s,c,l){s=Dr(s),c=rr(c);var b=c?pl(s):0;if(!c||b>=c)return s;var E=(c-b)/2;return Zy(Hy(E),l)+s+Zy(Uy(E),l)}function khe(s,c,l){s=Dr(s),c=rr(c);var b=c?pl(s):0;return c&&b<c?s+Zy(c-b,l):s}function Bhe(s,c,l){s=Dr(s),c=rr(c);var b=c?pl(s):0;return c&&b<c?Zy(c-b,l)+s:s}function Rhe(s,c,l){return l||c==null?c=0:c&&(c=+c),Uce(Dr(s).replace(Kr,""),c||0)}function Mhe(s,c,l){return(l?Mi(s,c,l):c===t)?c=1:c=rr(c),JA(Dr(s),c)}function Ohe(){var s=arguments,c=Dr(s[0]);return s.length<3?c:c.replace(s[1],s[2])}var qhe=gl(function(s,c,l){return s+(l?"_":"")+c.toLowerCase()});function Dhe(s,c,l){return l&&typeof l!="number"&&Mi(s,c,l)&&(c=l=t),l=l===t?p:l>>>0,l?(s=Dr(s),s&&(typeof c=="string"||c!=null&&!v9(c))&&(c=ca(c),!c&&hl(s))?dc(ls(s),0,l):s.split(c,l)):[]}var Nhe=gl(function(s,c,l){return s+(l?" ":"")+w9(c)});function Lhe(s,c,l){return s=Dr(s),l=l==null?0:Uf(rr(l),0,s.length),c=ca(c),s.slice(l,l+c.length)==c}function Uhe(s,c,l){var b=R.templateSettings;l&&Mi(s,c,l)&&(c=t),s=Dr(s),c=db({},c,b,Mq);var E=db({},c.imports,b.imports,Mq),N=ai(E),z=MA(E,N),X,ue,Ee=0,Te=c.interpolate||kt,Me="__p += '",Qe=qA((c.escape||kt).source+"|"+Te.source+"|"+(Te===qr?ye:kt).source+"|"+(c.evaluate||kt).source+"|$","g"),vt="//# sourceURL="+(Ur.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Gue+"]")+`
`;s.replace(Qe,function(qt,hr,gr,da,Oi,la){return gr||(gr=da),Me+=s.slice(Ee,la).replace(Nt,pce),hr&&(X=!0,Me+=`' +
__e(`+hr+`) +
'`),Oi&&(ue=!0,Me+=`';
`+Oi+`;
__p += '`),gr&&(Me+=`' +
((__t = (`+gr+`)) == null ? '' : __t) +
'`),Ee=la+qt.length,qt}),Me+=`';
`;var Ot=Ur.call(c,"variable")&&c.variable;if(!Ot)Me=`with (obj) {
`+Me+`
}
`;else if(te.test(Ot))throw new jt(a);Me=(ue?Me.replace(yt,""):Me).replace(dn,"$1").replace(Gt,"$1;"),Me="function("+(Ot||"obj")+`) {
`+(Ot?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(X?", __e = _.escape":"")+(ue?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Me+`return __p
}`;var ir=CD(function(){return Br(N,vt+"return "+Me).apply(t,z)});if(ir.source=Me,b9(ir))throw ir;return ir}function Hhe(s){return Dr(s).toLowerCase()}function Khe(s){return Dr(s).toUpperCase()}function Fhe(s,c,l){if(s=Dr(s),s&&(l||c===t))return OO(s);if(!s||!(c=ca(c)))return s;var b=ls(s),E=ls(c),N=qO(b,E),z=DO(b,E)+1;return dc(b,N,z).join("")}function zhe(s,c,l){if(s=Dr(s),s&&(l||c===t))return s.slice(0,LO(s)+1);if(!s||!(c=ca(c)))return s;var b=ls(s),E=DO(b,ls(c))+1;return dc(b,0,E).join("")}function Whe(s,c,l){if(s=Dr(s),s&&(l||c===t))return s.replace(Kr,"");if(!s||!(c=ca(c)))return s;var b=ls(s),E=qO(b,ls(c));return dc(b,E).join("")}function jhe(s,c){var l=He,b=we;if(yn(c)){var E="separator"in c?c.separator:E;l="length"in c?rr(c.length):l,b="omission"in c?ca(c.omission):b}s=Dr(s);var N=s.length;if(hl(s)){var z=ls(s);N=z.length}if(l>=N)return s;var X=l-pl(b);if(X<1)return b;var ue=z?dc(z,0,X).join(""):s.slice(0,X);if(E===t)return ue+b;if(z&&(X+=ue.length-X),v9(E)){if(s.slice(X).search(E)){var Ee,Te=ue;for(E.global||(E=qA(E.source,Dr(Pe.exec(E))+"g")),E.lastIndex=0;Ee=E.exec(Te);)var Me=Ee.index;ue=ue.slice(0,Me===t?X:Me)}}else if(s.indexOf(ca(E),X)!=X){var Qe=ue.lastIndexOf(E);Qe>-1&&(ue=ue.slice(0,Qe))}return ue+b}function $he(s){return s=Dr(s),s&&ln.test(s)?s.replace(kr,_ce):s}var Vhe=gl(function(s,c,l){return s+(l?" ":"")+c.toUpperCase()}),w9=Eq("toUpperCase");function AD(s,c,l){return s=Dr(s),c=l?t:c,c===t?xce(s)?Ace(s):oce(s):s.match(c)||[]}var CD=ur(function(s,c){try{return oa(s,t,c)}catch(l){return b9(l)?l:new jt(l)}}),Ghe=ou(function(s,c){return Ba(c,function(l){l=no(l),au(s,l,x9(s[l],s))}),s});function Yhe(s){var c=s==null?0:s.length,l=Rt();return s=c?mn(s,function(b){if(typeof b[1]!="function")throw new Ra(i);return[l(b[0]),b[1]]}):[],ur(function(b){for(var E=-1;++E<c;){var N=s[E];if(oa(N[0],this,b))return oa(N[1],this,b)}})}function Jhe(s){return _fe(Oa(s,d))}function S9(s){return function(){return s}}function Xhe(s,c){return s==null||s!==s?c:s}var Qhe=Tq(),Zhe=Tq(!0);function Gi(s){return s}function A9(s){return iq(typeof s=="function"?s:Oa(s,d))}function epe(s){return sq(Oa(s,d))}function tpe(s,c){return oq(s,Oa(c,d))}var rpe=ur(function(s,c){return function(l){return Fp(l,s,c)}}),npe=ur(function(s,c){return function(l){return Fp(s,l,c)}});function C9(s,c,l){var b=ai(c),E=$y(c,b);l==null&&!(yn(c)&&(E.length||!b.length))&&(l=c,c=s,s=this,E=$y(c,ai(c)));var N=!(yn(l)&&"chain"in l)||!!l.chain,z=cu(s);return Ba(E,function(X){var ue=c[X];s[X]=ue,z&&(s.prototype[X]=function(){var Ee=this.__chain__;if(N||Ee){var Te=s(this.__wrapped__),Me=Te.__actions__=ji(this.__actions__);return Me.push({func:ue,args:arguments,thisArg:s}),Te.__chain__=Ee,Te}return ue.apply(s,ic([this.value()],arguments))})}),s}function ipe(){return ii._===this&&(ii._=kce),this}function E9(){}function ape(s){return s=rr(s),ur(function(c){return uq(c,s)})}var spe=n9(mn),ope=n9(IO),upe=n9(TA);function ED(s){return f9(s)?IA(no(s)):Lfe(s)}function cpe(s){return function(c){return s==null?t:Hf(s,c)}}var fpe=kq(),dpe=kq(!0);function P9(){return[]}function T9(){return!1}function lpe(){return{}}function hpe(){return""}function ppe(){return!0}function mpe(s,c){if(s=rr(s),s<1||s>G)return[];var l=p,b=gi(s,p);c=Rt(c),s-=p;for(var E=RA(b,c);++l<s;)c(l);return E}function xpe(s){return Yt(s)?mn(s,no):fa(s)?[s]:ji($q(Dr(s)))}function ype(s){var c=++Tce;return Dr(s)+c}var bpe=Qy(function(s,c){return s+c},0),vpe=i9("ceil"),gpe=Qy(function(s,c){return s/c},1),_pe=i9("floor");function wpe(s){return s&&s.length?jy(s,Gi,zA):t}function Spe(s,c){return s&&s.length?jy(s,Rt(c,2),zA):t}function Ape(s){return RO(s,Gi)}function Cpe(s,c){return RO(s,Rt(c,2))}function Epe(s){return s&&s.length?jy(s,Gi,VA):t}function Ppe(s,c){return s&&s.length?jy(s,Rt(c,2),VA):t}var Tpe=Qy(function(s,c){return s*c},1),Ipe=i9("round"),kpe=Qy(function(s,c){return s-c},0);function Bpe(s){return s&&s.length?BA(s,Gi):0}function Rpe(s,c){return s&&s.length?BA(s,Rt(c,2)):0}return R.after=e0e,R.ary=nD,R.assign=K0e,R.assignIn=yD,R.assignInWith=db,R.assignWith=F0e,R.at=z0e,R.before=iD,R.bind=x9,R.bindAll=Ghe,R.bindKey=aD,R.castArray=l0e,R.chain=eD,R.chunk=_de,R.compact=wde,R.concat=Sde,R.cond=Yhe,R.conforms=Jhe,R.constant=S9,R.countBy=Ble,R.create=W0e,R.curry=sD,R.curryRight=oD,R.debounce=uD,R.defaults=j0e,R.defaultsDeep=$0e,R.defer=t0e,R.delay=r0e,R.difference=Ade,R.differenceBy=Cde,R.differenceWith=Ede,R.drop=Pde,R.dropRight=Tde,R.dropRightWhile=Ide,R.dropWhile=kde,R.fill=Bde,R.filter=Mle,R.flatMap=Dle,R.flatMapDeep=Nle,R.flatMapDepth=Lle,R.flatten=Jq,R.flattenDeep=Rde,R.flattenDepth=Mde,R.flip=n0e,R.flow=Qhe,R.flowRight=Zhe,R.fromPairs=Ode,R.functions=Z0e,R.functionsIn=ehe,R.groupBy=Ule,R.initial=Dde,R.intersection=Nde,R.intersectionBy=Lde,R.intersectionWith=Ude,R.invert=rhe,R.invertBy=nhe,R.invokeMap=Kle,R.iteratee=A9,R.keyBy=Fle,R.keys=ai,R.keysIn=Vi,R.map=ab,R.mapKeys=ahe,R.mapValues=she,R.matches=epe,R.matchesProperty=tpe,R.memoize=ob,R.merge=ohe,R.mergeWith=bD,R.method=rpe,R.methodOf=npe,R.mixin=C9,R.negate=ub,R.nthArg=ape,R.omit=uhe,R.omitBy=che,R.once=i0e,R.orderBy=zle,R.over=spe,R.overArgs=a0e,R.overEvery=ope,R.overSome=upe,R.partial=y9,R.partialRight=cD,R.partition=Wle,R.pick=fhe,R.pickBy=vD,R.property=ED,R.propertyOf=cpe,R.pull=zde,R.pullAll=Qq,R.pullAllBy=Wde,R.pullAllWith=jde,R.pullAt=$de,R.range=fpe,R.rangeRight=dpe,R.rearg=s0e,R.reject=Vle,R.remove=Vde,R.rest=o0e,R.reverse=p9,R.sampleSize=Yle,R.set=lhe,R.setWith=hhe,R.shuffle=Jle,R.slice=Gde,R.sortBy=Zle,R.sortedUniq=tle,R.sortedUniqBy=rle,R.split=Dhe,R.spread=u0e,R.tail=nle,R.take=ile,R.takeRight=ale,R.takeRightWhile=sle,R.takeWhile=ole,R.tap=wle,R.throttle=c0e,R.thru=ib,R.toArray=pD,R.toPairs=gD,R.toPairsIn=_D,R.toPath=xpe,R.toPlainObject=xD,R.transform=phe,R.unary=f0e,R.union=ule,R.unionBy=cle,R.unionWith=fle,R.uniq=dle,R.uniqBy=lle,R.uniqWith=hle,R.unset=mhe,R.unzip=m9,R.unzipWith=Zq,R.update=xhe,R.updateWith=yhe,R.values=Sl,R.valuesIn=bhe,R.without=ple,R.words=AD,R.wrap=d0e,R.xor=mle,R.xorBy=xle,R.xorWith=yle,R.zip=ble,R.zipObject=vle,R.zipObjectDeep=gle,R.zipWith=_le,R.entries=gD,R.entriesIn=_D,R.extend=yD,R.extendWith=db,C9(R,R),R.add=bpe,R.attempt=CD,R.camelCase=whe,R.capitalize=wD,R.ceil=vpe,R.clamp=vhe,R.clone=h0e,R.cloneDeep=m0e,R.cloneDeepWith=x0e,R.cloneWith=p0e,R.conformsTo=y0e,R.deburr=SD,R.defaultTo=Xhe,R.divide=gpe,R.endsWith=She,R.eq=ps,R.escape=Ahe,R.escapeRegExp=Che,R.every=Rle,R.find=Ole,R.findIndex=Gq,R.findKey=V0e,R.findLast=qle,R.findLastIndex=Yq,R.findLastKey=G0e,R.floor=_pe,R.forEach=tD,R.forEachRight=rD,R.forIn=Y0e,R.forInRight=J0e,R.forOwn=X0e,R.forOwnRight=Q0e,R.get=g9,R.gt=b0e,R.gte=v0e,R.has=the,R.hasIn=_9,R.head=Xq,R.identity=Gi,R.includes=Hle,R.indexOf=qde,R.inRange=ghe,R.invoke=ihe,R.isArguments=zf,R.isArray=Yt,R.isArrayBuffer=g0e,R.isArrayLike=$i,R.isArrayLikeObject=In,R.isBoolean=_0e,R.isBuffer=lc,R.isDate=w0e,R.isElement=S0e,R.isEmpty=A0e,R.isEqual=C0e,R.isEqualWith=E0e,R.isError=b9,R.isFinite=P0e,R.isFunction=cu,R.isInteger=fD,R.isLength=cb,R.isMap=dD,R.isMatch=T0e,R.isMatchWith=I0e,R.isNaN=k0e,R.isNative=B0e,R.isNil=M0e,R.isNull=R0e,R.isNumber=lD,R.isObject=yn,R.isObjectLike=wn,R.isPlainObject=Gp,R.isRegExp=v9,R.isSafeInteger=O0e,R.isSet=hD,R.isString=fb,R.isSymbol=fa,R.isTypedArray=wl,R.isUndefined=q0e,R.isWeakMap=D0e,R.isWeakSet=N0e,R.join=Hde,R.kebabCase=Ehe,R.last=Da,R.lastIndexOf=Kde,R.lowerCase=Phe,R.lowerFirst=The,R.lt=L0e,R.lte=U0e,R.max=wpe,R.maxBy=Spe,R.mean=Ape,R.meanBy=Cpe,R.min=Epe,R.minBy=Ppe,R.stubArray=P9,R.stubFalse=T9,R.stubObject=lpe,R.stubString=hpe,R.stubTrue=ppe,R.multiply=Tpe,R.nth=Fde,R.noConflict=ipe,R.noop=E9,R.now=sb,R.pad=Ihe,R.padEnd=khe,R.padStart=Bhe,R.parseInt=Rhe,R.random=_he,R.reduce=jle,R.reduceRight=$le,R.repeat=Mhe,R.replace=Ohe,R.result=dhe,R.round=Ipe,R.runInContext=ne,R.sample=Gle,R.size=Xle,R.snakeCase=qhe,R.some=Qle,R.sortedIndex=Yde,R.sortedIndexBy=Jde,R.sortedIndexOf=Xde,R.sortedLastIndex=Qde,R.sortedLastIndexBy=Zde,R.sortedLastIndexOf=ele,R.startCase=Nhe,R.startsWith=Lhe,R.subtract=kpe,R.sum=Bpe,R.sumBy=Rpe,R.template=Uhe,R.times=mpe,R.toFinite=fu,R.toInteger=rr,R.toLength=mD,R.toLower=Hhe,R.toNumber=Na,R.toSafeInteger=H0e,R.toString=Dr,R.toUpper=Khe,R.trim=Fhe,R.trimEnd=zhe,R.trimStart=Whe,R.truncate=jhe,R.unescape=$he,R.uniqueId=ype,R.upperCase=Vhe,R.upperFirst=w9,R.each=tD,R.eachRight=rD,R.first=Xq,C9(R,function(){var s={};return to(R,function(c,l){Ur.call(R.prototype,l)||(s[l]=c)}),s}(),{chain:!1}),R.VERSION=e,Ba(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){R[s].placeholder=R}),Ba(["drop","take"],function(s,c){br.prototype[s]=function(l){l=l===t?1:Gn(rr(l),0);var b=this.__filtered__&&!c?new br(this):this.clone();return b.__filtered__?b.__takeCount__=gi(l,b.__takeCount__):b.__views__.push({size:gi(l,p),type:s+(b.__dir__<0?"Right":"")}),b},br.prototype[s+"Right"]=function(l){return this.reverse()[s](l).reverse()}}),Ba(["filter","map","takeWhile"],function(s,c){var l=c+1,b=l==S||l==D;br.prototype[s]=function(E){var N=this.clone();return N.__iteratees__.push({iteratee:Rt(E,3),type:l}),N.__filtered__=N.__filtered__||b,N}}),Ba(["head","last"],function(s,c){var l="take"+(c?"Right":"");br.prototype[s]=function(){return this[l](1).value()[0]}}),Ba(["initial","tail"],function(s,c){var l="drop"+(c?"":"Right");br.prototype[s]=function(){return this.__filtered__?new br(this):this[l](1)}}),br.prototype.compact=function(){return this.filter(Gi)},br.prototype.find=function(s){return this.filter(s).head()},br.prototype.findLast=function(s){return this.reverse().find(s)},br.prototype.invokeMap=ur(function(s,c){return typeof s=="function"?new br(this):this.map(function(l){return Fp(l,s,c)})}),br.prototype.reject=function(s){return this.filter(ub(Rt(s)))},br.prototype.slice=function(s,c){s=rr(s);var l=this;return l.__filtered__&&(s>0||c<0)?new br(l):(s<0?l=l.takeRight(-s):s&&(l=l.drop(s)),c!==t&&(c=rr(c),l=c<0?l.dropRight(-c):l.take(c-s)),l)},br.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},br.prototype.toArray=function(){return this.take(p)},to(br.prototype,function(s,c){var l=/^(?:filter|find|map|reject)|While$/.test(c),b=/^(?:head|last)$/.test(c),E=R[b?"take"+(c=="last"?"Right":""):c],N=b||/^find/.test(c);!E||(R.prototype[c]=function(){var z=this.__wrapped__,X=b?[1]:arguments,ue=z instanceof br,Ee=X[0],Te=ue||Yt(z),Me=function(hr){var gr=E.apply(R,ic([hr],X));return b&&Qe?gr[0]:gr};Te&&l&&typeof Ee=="function"&&Ee.length!=1&&(ue=Te=!1);var Qe=this.__chain__,vt=!!this.__actions__.length,Ot=N&&!Qe,ir=ue&&!vt;if(!N&&Te){z=ir?z:new br(this);var qt=s.apply(z,X);return qt.__actions__.push({func:ib,args:[Me],thisArg:t}),new Ma(qt,Qe)}return Ot&&ir?s.apply(this,X):(qt=this.thru(Me),Ot?b?qt.value()[0]:qt.value():qt)})}),Ba(["pop","push","shift","sort","splice","unshift"],function(s){var c=ky[s],l=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",b=/^(?:pop|shift)$/.test(s);R.prototype[s]=function(){var E=arguments;if(b&&!this.__chain__){var N=this.value();return c.apply(Yt(N)?N:[],E)}return this[l](function(z){return c.apply(Yt(z)?z:[],E)})}}),to(br.prototype,function(s,c){var l=R[c];if(l){var b=l.name+"";Ur.call(yl,b)||(yl[b]=[]),yl[b].push({name:c,func:l})}}),yl[Xy(t,M).name]=[{name:"wrapper",func:t}],br.prototype.clone=$ce,br.prototype.reverse=Vce,br.prototype.value=Gce,R.prototype.at=Sle,R.prototype.chain=Ale,R.prototype.commit=Cle,R.prototype.next=Ele,R.prototype.plant=Tle,R.prototype.reverse=Ile,R.prototype.toJSON=R.prototype.valueOf=R.prototype.value=kle,R.prototype.first=R.prototype.head,qp&&(R.prototype[qp]=Ple),R},sc=Cce();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(ii._=sc,define(function(){return sc})):qf?((qf.exports=sc)._=sc,AA._=sc):ii._=sc}).call(Pl)});var MD=g((VKe,RD)=>{var Tl=1e3,Il=Tl*60,kl=Il*60,Vf=kl*24,jpe=Vf*7,$pe=Vf*365.25;RD.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return Vpe(t);if(r==="number"&&isFinite(t))return e.long?Ype(t):Gpe(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Vpe(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*$pe;case"weeks":case"week":case"w":return r*jpe;case"days":case"day":case"d":return r*Vf;case"hours":case"hour":case"hrs":case"hr":case"h":return r*kl;case"minutes":case"minute":case"mins":case"min":case"m":return r*Il;case"seconds":case"second":case"secs":case"sec":case"s":return r*Tl;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Gpe(t){var e=Math.abs(t);return e>=Vf?Math.round(t/Vf)+"d":e>=kl?Math.round(t/kl)+"h":e>=Il?Math.round(t/Il)+"m":e>=Tl?Math.round(t/Tl)+"s":t+"ms"}function Ype(t){var e=Math.abs(t);return e>=Vf?xb(t,e,Vf,"day"):e>=kl?xb(t,e,kl,"hour"):e>=Il?xb(t,e,Il,"minute"):e>=Tl?xb(t,e,Tl,"second"):t+" ms"}function xb(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var D9=g((GKe,OD)=>{function Jpe(t){r.debug=r,r.default=r,r.coerce=f,r.disable=a,r.enable=i,r.enabled=o,r.humanize=MD(),r.destroy=d,Object.keys(t).forEach(h=>{r[h]=t[h]}),r.names=[],r.skips=[],r.formatters={};function e(h){let m=0;for(let _=0;_<h.length;_++)m=(m<<5)-m+h.charCodeAt(_),m|=0;return r.colors[Math.abs(m)%r.colors.length]}r.selectColor=e;function r(h){let m,_=null,w,P;function M(...K){if(!M.enabled)return;let Y=M,fe=Number(new Date),_e=fe-(m||fe);Y.diff=_e,Y.prev=m,Y.curr=fe,m=fe,K[0]=r.coerce(K[0]),typeof K[0]!="string"&&K.unshift("%O");let Je=0;K[0]=K[0].replace(/%([a-zA-Z%])/g,(Ue,Ke)=>{if(Ue==="%%")return"%";Je++;let He=r.formatters[Ke];if(typeof He=="function"){let we=K[Je];Ue=He.call(Y,we),K.splice(Je,1),Je--}return Ue}),r.formatArgs.call(Y,K),(Y.log||r.log).apply(Y,K)}return M.namespace=h,M.useColors=r.useColors(),M.color=r.selectColor(h),M.extend=n,M.destroy=r.destroy,Object.defineProperty(M,"enabled",{enumerable:!0,configurable:!1,get:()=>_!==null?_:(w!==r.namespaces&&(w=r.namespaces,P=r.enabled(h)),P),set:K=>{_=K}}),typeof r.init=="function"&&r.init(M),M}function n(h,m){let _=r(this.namespace+(typeof m>"u"?":":m)+h);return _.log=this.log,_}function i(h){r.save(h),r.namespaces=h,r.names=[],r.skips=[];let m,_=(typeof h=="string"?h:"").split(/[\s,]+/),w=_.length;for(m=0;m<w;m++)!_[m]||(h=_[m].replace(/\*/g,".*?"),h[0]==="-"?r.skips.push(new RegExp("^"+h.substr(1)+"$")):r.names.push(new RegExp("^"+h+"$")))}function a(){let h=[...r.names.map(u),...r.skips.map(u).map(m=>"-"+m)].join(",");return r.enable(""),h}function o(h){if(h[h.length-1]==="*")return!0;let m,_;for(m=0,_=r.skips.length;m<_;m++)if(r.skips[m].test(h))return!1;for(m=0,_=r.names.length;m<_;m++)if(r.names[m].test(h))return!0;return!1}function u(h){return h.toString().substring(2,h.toString().length-2).replace(/\.\*\?$/,"*")}function f(h){return h instanceof Error?h.stack||h.message:h}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}OD.exports=Jpe});var qD=g((pa,yb)=>{pa.formatArgs=Qpe;pa.save=Zpe;pa.load=eme;pa.useColors=Xpe;pa.storage=tme();pa.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();pa.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Xpe(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Qpe(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+yb.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}pa.log=console.debug||console.log||(()=>{});function Zpe(t){try{t?pa.storage.setItem("debug",t):pa.storage.removeItem("debug")}catch{}}function eme(){let t;try{t=pa.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function tme(){try{return localStorage}catch{}}yb.exports=D9()(pa);var{formatters:rme}=yb.exports;rme.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var ND=g((YKe,DD)=>{"use strict";DD.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}});var HD=g((JKe,UD)=>{"use strict";var nme=require("os"),LD=require("tty"),Ua=ND(),{env:si}=process,hc;Ua("no-color")||Ua("no-colors")||Ua("color=false")||Ua("color=never")?hc=0:(Ua("color")||Ua("colors")||Ua("color=true")||Ua("color=always"))&&(hc=1);"FORCE_COLOR"in si&&(si.FORCE_COLOR==="true"?hc=1:si.FORCE_COLOR==="false"?hc=0:hc=si.FORCE_COLOR.length===0?1:Math.min(parseInt(si.FORCE_COLOR,10),3));function N9(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function L9(t,e){if(hc===0)return 0;if(Ua("color=16m")||Ua("color=full")||Ua("color=truecolor"))return 3;if(Ua("color=256"))return 2;if(t&&!e&&hc===void 0)return 0;let r=hc||0;if(si.TERM==="dumb")return r;if(process.platform==="win32"){let n=nme.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in si)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in si)||si.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in si)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(si.TEAMCITY_VERSION)?1:0;if(si.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in si){let n=parseInt((si.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(si.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(si.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(si.TERM)||"COLORTERM"in si?1:r}function ime(t){let e=L9(t,t&&t.isTTY);return N9(e)}UD.exports={supportsColor:ime,stdout:N9(L9(!0,LD.isatty(1))),stderr:N9(L9(!0,LD.isatty(2)))}});var FD=g((pi,vb)=>{var ame=require("tty"),bb=require("util");pi.init=lme;pi.log=cme;pi.formatArgs=ome;pi.save=fme;pi.load=dme;pi.useColors=sme;pi.destroy=bb.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");pi.colors=[6,2,3,4,5,1];try{let t=HD();t&&(t.stderr||t).level>=2&&(pi.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}pi.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,a)=>a.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function sme(){return"colors"in pi.inspectOpts?Boolean(pi.inspectOpts.colors):ame.isatty(process.stderr.fd)}function ome(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),a=`  ${i};1m${e} \x1B[0m`;t[0]=a+t[0].split(`
`).join(`
`+a),t.push(i+"m+"+vb.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=ume()+e+" "+t[0]}function ume(){return pi.inspectOpts.hideDate?"":new Date().toISOString()+" "}function cme(...t){return process.stderr.write(bb.format(...t)+`
`)}function fme(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function dme(){return process.env.DEBUG}function lme(t){t.inspectOpts={};let e=Object.keys(pi.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=pi.inspectOpts[e[r]]}vb.exports=D9()(pi);var{formatters:KD}=vb.exports;KD.o=function(t){return this.inspectOpts.colors=this.useColors,bb.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};KD.O=function(t){return this.inspectOpts.colors=this.useColors,bb.inspect(t,this.inspectOpts)}});var Sr=g((XKe,U9)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?U9.exports=qD():U9.exports=FD()});var gb=g(rm=>{var hme,pme,mme,xme;(function(t){var e="undefined",r=e!==typeof Buffer&&Buffer,n=e!==typeof Uint8Array&&Uint8Array,i=e!==typeof ArrayBuffer&&ArrayBuffer,a=[0,0,0,0,0,0,0,0],o=Array.isArray||Ze,u=4294967296,f=16777216,d;hme=h("Uint64BE",!0,!0),pme=h("Int64BE",!0,!1),mme=h("Uint64LE",!1,!0),xme=h("Int64LE",!1,!1);function h(Ue,Ke,He){var we=Ke?0:4,F=Ke?4:0,y=Ke?0:3,S=Ke?1:2,B=Ke?2:1,D=Ke?3:0,U=Ke?Y:_e,G=Ke?fe:Je,J=T.prototype,L="is"+Ue,p="_"+L;return J.buffer=void 0,J.offset=0,J[p]=!0,J.toNumber=xe,J.toString=nt,J.toJSON=xe,J.toArray=m,r&&(J.toBuffer=_),n&&(J.toArrayBuffer=w),T[L]=oe,t[Ue]=T,T;function T(We,De,St,et){return this instanceof T?re(this,We,De,St,et):new T(We,De,St,et)}function oe(We){return!!(We&&We[p])}function re(We,De,St,et,gt){if(n&&i&&(De instanceof i&&(De=new n(De)),et instanceof i&&(et=new n(et))),!De&&!St&&!et&&!d){We.buffer=K(a,0);return}if(!P(De,St)){var fn=d||Array;gt=St,et=De,St=0,De=d===r?r.alloc(8):new fn(8)}We.buffer=De,We.offset=St|=0,e!==typeof et&&(typeof et=="string"?Q(De,St,et,gt||10):P(et,gt)?M(De,St,et,gt):typeof gt=="number"?(pt(De,St+we,et),pt(De,St+F,gt)):et>0?U(De,St,et):et<0?G(De,St,et):M(De,St,a,0))}function Q(We,De,St,et){var gt=0,fn=St.length,sr=0,Lt=0;St[0]==="-"&&gt++;for(var Bi=gt;gt<fn;){var Pr=parseInt(St[gt++],et);if(!(Pr>=0))break;Lt=Lt*et+Pr,sr=sr*et+Math.floor(Lt/u),Lt%=u}Bi&&(sr=~sr,Lt?Lt=u-Lt:sr++),pt(We,De+we,sr),pt(We,De+F,Lt)}function xe(){var We=this.buffer,De=this.offset,St=Xt(We,De+we),et=Xt(We,De+F);return He||(St|=0),St?St*u+et:et}function nt(We){var De=this.buffer,St=this.offset,et=Xt(De,St+we),gt=Xt(De,St+F),fn="",sr=!He&&et&2147483648;for(sr&&(et=~et,gt=u-gt),We=We||10;;){var Lt=et%We*u+gt;if(et=Math.floor(et/We),gt=Math.floor(Lt/We),fn=(Lt%We).toString(We)+fn,!et&&!gt)break}return sr&&(fn="-"+fn),fn}function pt(We,De,St){We[De+D]=St&255,St=St>>8,We[De+B]=St&255,St=St>>8,We[De+S]=St&255,St=St>>8,We[De+y]=St&255}function Xt(We,De){return We[De+y]*f+(We[De+S]<<16)+(We[De+B]<<8)+We[De+D]}}function m(Ue){var Ke=this.buffer,He=this.offset;return d=null,Ue!==!1&&o(Ke)?Ke.length===8?Ke:Ke.slice(He,He+8):K(Ke,He)}function _(Ue){var Ke=this.buffer,He=this.offset;return d=r,Ue!==!1&&r.isBuffer(Ke)?Ke.length===8?Ke:Ke.slice(He,He+8):r.from(w.call(this,Ue))}function w(Ue){var Ke=this.buffer,He=this.offset,we=Ke.buffer;if(d=n,Ue!==!1&&!Ke.offset&&we instanceof i)return we.byteLength===8?we:we.slice(He,He+8);var F=new n(8);return M(F,0,Ke,He),F.buffer}function P(Ue,Ke){var He=Ue&&Ue.length;return Ke|=0,He&&Ke+8<=He&&typeof Ue[Ke]!="string"}function M(Ue,Ke,He,we){Ke|=0,we|=0;for(var F=0;F<8;F++)Ue[Ke++]=He[we++]&255}function K(Ue,Ke){return Array.prototype.slice.call(Ue,Ke,Ke+8)}function Y(Ue,Ke,He){for(var we=Ke+8;we>Ke;)Ue[--we]=He&255,He/=256}function fe(Ue,Ke,He){var we=Ke+8;for(He++;we>Ke;)Ue[--we]=-He&255^255,He/=256}function _e(Ue,Ke,He){for(var we=Ke+8;Ke<we;)Ue[Ke++]=He&255,He/=256}function Je(Ue,Ke,He){var we=Ke+8;for(He++;Ke<we;)Ue[Ke++]=-He&255^255,He/=256}function Ze(Ue){return!!Ue&&Object.prototype.toString.call(Ue)=="[object Array]"}})(typeof rm=="object"&&typeof rm.nodeName!="string"?rm:rm||{})});var K9=g(zD=>{"use strict";var Mt=zD,_b=require("buffer").Buffer,yme=require("os");Mt.toBuffer=function(t,e,r){r=~~r;var n;if(this.isV4Format(t))n=e||new _b(r+4),t.split(/\./g).map(function(h){n[r++]=parseInt(h,10)&255});else if(this.isV6Format(t)){var i=t.split(":",8),a;for(a=0;a<i.length;a++){var o=this.isV4Format(i[a]),u;o&&(u=this.toBuffer(i[a]),i[a]=u.slice(0,2).toString("hex")),u&&++a<8&&i.splice(a,0,u.slice(2,4).toString("hex"))}if(i[0]==="")for(;i.length<8;)i.unshift("0");else if(i[i.length-1]==="")for(;i.length<8;)i.push("0");else if(i.length<8){for(a=0;a<i.length&&i[a]!=="";a++);var f=[a,1];for(a=9-i.length;a>0;a--)f.push("0");i.splice.apply(i,f)}for(n=e||new _b(r+16),a=0;a<i.length;a++){var d=parseInt(i[a],16);n[r++]=d>>8&255,n[r++]=d&255}}if(!n)throw Error("Invalid ip address: "+t);return n};Mt.toString=function(t,e,r){e=~~e,r=r||t.length-e;var n=[];if(r===4){for(var i=0;i<r;i++)n.push(t[e+i]);n=n.join(".")}else if(r===16){for(var i=0;i<r;i+=2)n.push(t.readUInt16BE(e+i).toString(16));n=n.join(":"),n=n.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),n=n.replace(/:{3,4}/,"::")}return n};var bme=/^(\d{1,3}\.){3,3}\d{1,3}$/,vme=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i;Mt.isV4Format=function(t){return bme.test(t)};Mt.isV6Format=function(t){return vme.test(t)};function H9(t){return t?t.toLowerCase():"ipv4"}Mt.fromPrefixLen=function(t,e){t>32?e="ipv6":e=H9(e);var r=4;e==="ipv6"&&(r=16);for(var n=new _b(r),i=0,a=n.length;i<a;++i){var o=8;t<8&&(o=t),t-=o,n[i]=~(255>>o)&255}return Mt.toString(n)};Mt.mask=function(t,e){t=Mt.toBuffer(t),e=Mt.toBuffer(e);var r=new _b(Math.max(t.length,e.length)),n=0;if(t.length===e.length)for(n=0;n<t.length;n++)r[n]=t[n]&e[n];else if(e.length===4)for(n=0;n<e.length;n++)r[n]=t[t.length-4+n]&e[n];else{for(var n=0;n<r.length-6;n++)r[n]=0;for(r[10]=255,r[11]=255,n=0;n<t.length;n++)r[n+12]=t[n]&e[n+12];n=n+12}for(;n<r.length;n++)r[n]=0;return Mt.toString(r)};Mt.cidr=function(t){var e=t.split("/"),r=e[0];if(e.length!==2)throw new Error("invalid CIDR subnet: "+r);var n=Mt.fromPrefixLen(parseInt(e[1],10));return Mt.mask(r,n)};Mt.subnet=function(t,e){for(var r=Mt.toLong(Mt.mask(t,e)),n=Mt.toBuffer(e),i=0,a=0;a<n.length;a++)if(n[a]===255)i+=8;else for(var o=n[a]&255;o;)o=o<<1&255,i++;var u=Math.pow(2,32-i);return{networkAddress:Mt.fromLong(r),firstAddress:u<=2?Mt.fromLong(r):Mt.fromLong(r+1),lastAddress:u<=2?Mt.fromLong(r+u-1):Mt.fromLong(r+u-2),broadcastAddress:Mt.fromLong(r+u-1),subnetMask:e,subnetMaskLength:i,numHosts:u<=2?u:u-2,length:u,contains:function(f){return r===Mt.toLong(Mt.mask(f,e))}}};Mt.cidrSubnet=function(t){var e=t.split("/"),r=e[0];if(e.length!==2)throw new Error("invalid CIDR subnet: "+r);var n=Mt.fromPrefixLen(parseInt(e[1],10));return Mt.subnet(r,n)};Mt.not=function(t){for(var e=Mt.toBuffer(t),r=0;r<e.length;r++)e[r]=255^e[r];return Mt.toString(e)};Mt.or=function(t,e){if(t=Mt.toBuffer(t),e=Mt.toBuffer(e),t.length===e.length){for(var r=0;r<t.length;++r)t[r]|=e[r];return Mt.toString(t)}else{var n=t,i=e;e.length>t.length&&(n=e,i=t);for(var a=n.length-i.length,r=a;r<n.length;++r)n[r]|=i[r-a];return Mt.toString(n)}};Mt.isEqual=function(t,e){if(t=Mt.toBuffer(t),e=Mt.toBuffer(e),t.length===e.length){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}if(e.length===4){var n=e;e=t,t=n}for(var r=0;r<10;r++)if(e[r]!==0)return!1;var i=e.readUInt16BE(10);if(i!==0&&i!==65535)return!1;for(var r=0;r<4;r++)if(t[r]!==e[r+12])return!1;return!0};Mt.isPrivate=function(t){return/^(::f{4}:)?10\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?192\.168\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?172\.(1[6-9]|2\d|30|31)\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?169\.254\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^f[cd][0-9a-f]{2}:/i.test(t)||/^fe80:/i.test(t)||/^::1$/.test(t)||/^::$/.test(t)};Mt.isPublic=function(t){return!Mt.isPrivate(t)};Mt.isLoopback=function(t){return/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})/.test(t)||/^fe80::1$/.test(t)||/^::1$/.test(t)||/^::$/.test(t)};Mt.loopback=function(t){if(t=H9(t),t!=="ipv4"&&t!=="ipv6")throw new Error("family must be ipv4 or ipv6");return t==="ipv4"?"127.0.0.1":"fe80::1"};Mt.address=function(t,e){var r=yme.networkInterfaces(),i;if(e=H9(e),t&&t!=="private"&&t!=="public"){var n=r[t].filter(function(a){var o=a.family.toLowerCase();return o===e});return n.length===0?void 0:n[0].address}var i=Object.keys(r).map(function(a){var o=r[a].filter(function(u){return u.family=u.family.toLowerCase(),u.family!==e||Mt.isLoopback(u.address)?!1:t?t==="public"?Mt.isPrivate(u.address):Mt.isPublic(u.address):!0});return o.length?o[0].address:void 0}).filter(Boolean);return i.length?i[0]:Mt.loopback(e)};Mt.toLong=function(t){var e=0;return t.split(".").forEach(function(r){e<<=8,e+=parseInt(r)}),e>>>0};Mt.fromLong=function(t){return(t>>>24)+"."+(t>>16&255)+"."+(t>>8&255)+"."+(t&255)}});var W9=g((eFe,z9)=>{"use strict";var F9=class extends Error{constructor(e){super(e||"Promise was canceled");this.name="CancelError"}get isCanceled(){return!0}},nm=class{static fn(e){return(...r)=>new nm((n,i,a)=>{r.push(a),e(...r).then(n,i)})}constructor(e){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((r,n)=>{this._reject=n;let i=u=>{(!this._isCanceled||!o.shouldReject)&&(this._isPending=!1,r(u))},a=u=>{this._isPending=!1,n(u)},o=u=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(u)};return Object.defineProperties(o,{shouldReject:{get:()=>this._rejectOnCancel,set:u=>{this._rejectOnCancel=u}}}),e(i,a,o)})}then(e,r){return this._promise.then(e,r)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(e){if(!(!this._isPending||this._isCanceled)){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{for(let r of this._cancelHandlers)r()}catch(r){this._reject(r);return}this._rejectOnCancel&&this._reject(new F9(e))}}get isCanceled(){return this._isCanceled}};Object.setPrototypeOf(nm.prototype,Promise.prototype);z9.exports=nm;z9.exports.CancelError=F9});var ke=g((tFe,Ab)=>{var WD,jD,$D,VD,GD,YD,JD,XD,QD,wb,j9,ZD,eN,tN,Bl,rN,nN,iN,aN,sN,oN,uN,cN,Sb;(function(t){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){t(r(e,r(n)))}):typeof Ab=="object"&&typeof Ab.exports=="object"?t(r(e,r(Ab.exports))):t(r(e));function r(n,i){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(a,o){return n[a]=i?i(a,o):o}}})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])};WD=function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function a(){this.constructor=n}n.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)},jD=Object.assign||function(n){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])}return n},$D=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,o=Object.getOwnPropertySymbols(n);u<o.length;u++)i.indexOf(o[u])<0&&Object.prototype.propertyIsEnumerable.call(n,o[u])&&(a[o[u]]=n[o[u]]);return a},VD=function(n,i,a,o){var u=arguments.length,f=u<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,a):o,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(n,i,a,o);else for(var h=n.length-1;h>=0;h--)(d=n[h])&&(f=(u<3?d(f):u>3?d(i,a,f):d(i,a))||f);return u>3&&f&&Object.defineProperty(i,a,f),f},GD=function(n,i){return function(a,o){i(a,o,n)}},YD=function(n,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,i)},JD=function(n,i,a,o){function u(f){return f instanceof a?f:new a(function(d){d(f)})}return new(a||(a=Promise))(function(f,d){function h(w){try{_(o.next(w))}catch(P){d(P)}}function m(w){try{_(o.throw(w))}catch(P){d(P)}}function _(w){w.done?f(w.value):u(w.value).then(h,m)}_((o=o.apply(n,i||[])).next())})},XD=function(n,i){var a={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},o,u,f,d;return d={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function h(_){return function(w){return m([_,w])}}function m(_){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,u&&(f=_[0]&2?u.return:_[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,_[1])).done)return f;switch(u=0,f&&(_=[_[0]&2,f.value]),_[0]){case 0:case 1:f=_;break;case 4:return a.label++,{value:_[1],done:!1};case 5:a.label++,u=_[1],_=[0];continue;case 7:_=a.ops.pop(),a.trys.pop();continue;default:if(f=a.trys,!(f=f.length>0&&f[f.length-1])&&(_[0]===6||_[0]===2)){a=0;continue}if(_[0]===3&&(!f||_[1]>f[0]&&_[1]<f[3])){a.label=_[1];break}if(_[0]===6&&a.label<f[1]){a.label=f[1],f=_;break}if(f&&a.label<f[2]){a.label=f[2],a.ops.push(_);break}f[2]&&a.ops.pop(),a.trys.pop();continue}_=i.call(n,a)}catch(w){_=[6,w],u=0}finally{o=f=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}},QD=function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&Sb(i,n,a)},Sb=Object.create?function(n,i,a,o){o===void 0&&(o=a),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[a]}})}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]},wb=function(n){var i=typeof Symbol=="function"&&Symbol.iterator,a=i&&n[i],o=0;if(a)return a.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},j9=function(n,i){var a=typeof Symbol=="function"&&n[Symbol.iterator];if(!a)return n;var o=a.call(n),u,f=[],d;try{for(;(i===void 0||i-- >0)&&!(u=o.next()).done;)f.push(u.value)}catch(h){d={error:h}}finally{try{u&&!u.done&&(a=o.return)&&a.call(o)}finally{if(d)throw d.error}}return f},ZD=function(){for(var n=[],i=0;i<arguments.length;i++)n=n.concat(j9(arguments[i]));return n},eN=function(){for(var n=0,i=0,a=arguments.length;i<a;i++)n+=arguments[i].length;for(var o=Array(n),u=0,i=0;i<a;i++)for(var f=arguments[i],d=0,h=f.length;d<h;d++,u++)o[u]=f[d];return o},tN=function(n,i,a){if(a||arguments.length===2)for(var o=0,u=i.length,f;o<u;o++)(f||!(o in i))&&(f||(f=Array.prototype.slice.call(i,0,o)),f[o]=i[o]);return n.concat(f||i)},Bl=function(n){return this instanceof Bl?(this.v=n,this):new Bl(n)},rN=function(n,i,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=a.apply(n,i||[]),u,f=[];return u={},d("next"),d("throw"),d("return"),u[Symbol.asyncIterator]=function(){return this},u;function d(M){o[M]&&(u[M]=function(K){return new Promise(function(Y,fe){f.push([M,K,Y,fe])>1||h(M,K)})})}function h(M,K){try{m(o[M](K))}catch(Y){P(f[0][3],Y)}}function m(M){M.value instanceof Bl?Promise.resolve(M.value.v).then(_,w):P(f[0][2],M)}function _(M){h("next",M)}function w(M){h("throw",M)}function P(M,K){M(K),f.shift(),f.length&&h(f[0][0],f[0][1])}},nN=function(n){var i,a;return i={},o("next"),o("throw",function(u){throw u}),o("return"),i[Symbol.iterator]=function(){return this},i;function o(u,f){i[u]=n[u]?function(d){return(a=!a)?{value:Bl(n[u](d)),done:u==="return"}:f?f(d):d}:f}},iN=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n[Symbol.asyncIterator],a;return i?i.call(n):(n=typeof wb=="function"?wb(n):n[Symbol.iterator](),a={},o("next"),o("throw"),o("return"),a[Symbol.asyncIterator]=function(){return this},a);function o(f){a[f]=n[f]&&function(d){return new Promise(function(h,m){d=n[f](d),u(h,m,d.done,d.value)})}}function u(f,d,h,m){Promise.resolve(m).then(function(_){f({value:_,done:h})},d)}},aN=function(n,i){return Object.defineProperty?Object.defineProperty(n,"raw",{value:i}):n.raw=i,n};var r=Object.create?function(n,i){Object.defineProperty(n,"default",{enumerable:!0,value:i})}:function(n,i){n.default=i};sN=function(n){if(n&&n.__esModule)return n;var i={};if(n!=null)for(var a in n)a!=="default"&&Object.prototype.hasOwnProperty.call(n,a)&&Sb(i,n,a);return r(i,n),i},oN=function(n){return n&&n.__esModule?n:{default:n}},uN=function(n,i,a,o){if(a==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?n!==i||!o:!i.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?o:a==="a"?o.call(n):o?o.value:i.get(n)},cN=function(n,i,a,o,u){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?n!==i||!u:!i.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?u.call(n,a):u?u.value=a:i.set(n,a),a},t("__extends",WD),t("__assign",jD),t("__rest",$D),t("__decorate",VD),t("__param",GD),t("__metadata",YD),t("__awaiter",JD),t("__generator",XD),t("__exportStar",QD),t("__createBinding",Sb),t("__values",wb),t("__read",j9),t("__spread",ZD),t("__spreadArrays",eN),t("__spreadArray",tN),t("__await",Bl),t("__asyncGenerator",rN),t("__asyncDelegator",nN),t("__asyncValues",iN),t("__makeTemplateObject",aN),t("__importStar",sN),t("__importDefault",oN),t("__classPrivateFieldGet",uN),t("__classPrivateFieldSet",cN)})});var Cb=g($9=>{"use strict";Object.defineProperty($9,"__esModule",{value:!0});var gme=function(){function t(){var e=this;this.event={stack:[],index:0},this.ended=!1,this.execute=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];if(e.ended)throw new Error("event completed");for(var i=0,a=e.event.stack;i<a.length;i++){var o=a[i];o.execute.apply(o,r)}},this.complete=function(){if(e.ended)throw new Error("event completed");for(var r=0,n=e.event.stack;r<n.length;r++){var i=n[r];i.complete&&i.complete()}e.allUnsubscribe(),e.ended=!0},this.error=function(r){if(e.ended)throw new Error("event completed");for(var n=0,i=e.event.stack;n<i.length;n++){var a=i[n];a.error&&a.error(r)}e.allUnsubscribe()},this.allUnsubscribe=function(){if(e.ended)throw new Error("event completed");e.event={stack:[],index:0}},this.subscribe=function(r,n,i){if(e.ended)throw new Error("event completed");var a=e.event.index;e.event.stack.push({execute:r,id:a,complete:n,error:i}),e.event.index++;var o=function(){e.event.stack=e.event.stack.filter(function(u){return u.id!==a&&u})};return{unSubscribe:o}},this.once=function(r,n,i){var a=e.subscribe(function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];a.unSubscribe(),r.apply(void 0,o)},n,i)},this.watch=function(r,n){return new Promise(function(i,a){var o=n&&setTimeout(function(){a("Event watch timeout")},n),u=e.subscribe(function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];var h=r.apply(void 0,f);h&&(o&&clearTimeout(o),u(),i(f))}).unSubscribe})},this.asPromise=function(r){return new Promise(function(n,i){var a=r&&setTimeout(function(){i("Event asPromise timeout")},r);e.once(function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];a&&clearTimeout(a),n(o)},function(){a&&clearTimeout(a),n([])},function(o){a&&clearTimeout(a),i(o)})})}}return Object.defineProperty(t.prototype,"returnTrigger",{get:function(){var e=this,r=e.execute,n=e.error,i=e.complete;return{execute:r,error:n,complete:i}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"returnListener",{get:function(){var e=this,r=e.subscribe,n=e.once,i=e.asPromise;return{subscribe:r,once:n,asPromise:i}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this.event.stack.length},enumerable:!1,configurable:!0}),t}();$9.default=gme});var fN=g(V9=>{"use strict";Object.defineProperty(V9,"__esModule",{value:!0});var _me=ke(),wme=_me.__importDefault(Cb());function Sme(){var t=[],e=function(){var n=new wme.default;return t.push(n),n},r=function(){t.forEach(function(n){return n.allUnsubscribe()}),t=[]};return{event:e,finishAll:r}}V9.default=Sme});var dN=g(Y9=>{"use strict";Object.defineProperty(Y9,"__esModule",{value:!0});var G9=ke(),Ame=G9.__importDefault(Bn()),Cme=function(){function t(){this.candidates={}}return t.prototype.exist=function(e){return Object.keys(this.candidates).includes(e)},t.prototype.delete=function(e){delete this.candidates[e]},t.prototype.create=function(e,r){return G9.__awaiter(this,void 0,void 0,function(){var n,i;return G9.__generator(this,function(a){switch(a.label){case 0:return this.exist(e)?[2,{exist:this.candidates[e]}]:[3,1];case 1:return n=new Ame.default,this.candidates[e]=n,[4,r()];case 2:return i=a.sent(),n.execute.apply(n,i),this.delete(e),[2,{result:i}]}})})},t}();Y9.default=Cme});var lN=g(Eb=>{"use strict";Object.defineProperty(Eb,"__esModule",{value:!0});Eb.Buffer=void 0;var Eme=ke(),Pme=Eme.__importDefault(Cb());function Tme(t,e){var r=new Pme.default,n=[],i=!1;e.subscribe(function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];!i&&n.length===t&&(n.forEach(function(h){return r.execute.apply(r,h)}),i=!0),i?r.execute.apply(r,f):n.push(f)});var a=r.subscribe,o=r.asPromise,u=r.once;return{subscribe:a,asPromise:o,once:u}}Eb.Buffer=Tme});var Bn=g(gs=>{"use strict";Object.defineProperty(gs,"__esModule",{value:!0});gs.Event=gs.Buffer=gs.Wait=gs.Pack=void 0;var J9=ke(),hN=J9.__importDefault(Cb());gs.Event=hN.default;var Ime=J9.__importDefault(fN());gs.Pack=Ime.default;var kme=J9.__importDefault(dN());gs.Wait=kme.default;var Bme=lN();Object.defineProperty(gs,"Buffer",{enumerable:!0,get:function(){return Bme.Buffer}});gs.default=hN.default});var gN=g((cFe,vN)=>{var pc=require("buffer").Buffer,Z9=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(Z9=new Int32Array(Z9));function bN(t){if(pc.isBuffer(t))return t;var e=typeof pc.alloc=="function"&&typeof pc.from=="function";if(typeof t=="number")return e?pc.alloc(t):new pc(t);if(typeof t=="string")return e?pc.from(t):new pc(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function Mme(t){var e=bN(4);return e.writeInt32BE(t,0),e}function e7(t,e){t=bN(t),pc.isBuffer(e)&&(e=e.readUInt32BE(0));for(var r=~~e^-1,n=0;n<t.length;n++)r=Z9[(r^t[n])&255]^r>>>8;return r^-1}function t7(){return Mme(e7.apply(null,arguments))}t7.signed=function(){return e7.apply(null,arguments)};t7.unsigned=function(){return e7.apply(null,arguments)>>>0};vN.exports=t7});var iL=g(fm=>{"use strict";Object.defineProperty(fm,"__esModule",{value:!0});var Ll;(function(t){t[t.LOWER_7=127]="LOWER_7",t[t.UPPER_1=128]="UPPER_1"})(Ll||(Ll={}));var nL=t=>Number.isSafeInteger(t),Ul=class{static decode(e,r=0){let n=this.$scanForNullBytes(e,r),i=0,a=0;for(let o=0;o<=n-r;o++)i|=(e.readUInt8(r+o)&Ll.LOWER_7)<<a,a+=8-1;return i}static encode(e){if(this.check(e),e<0)throw new Error(`An unsigned number must NOT be negative, ${e} is!`);let r=[],n=e;do{let i=n&Ll.LOWER_7;n>>=8-1,n&&(i=i|Ll.UPPER_1),r.push(i)}while(n);return Buffer.from(r)}static check(e){if(!nL(e))throw new Error(`${e} is not a safe integer!`)}static $scanForNullBytes(e,r=0){let n=r,i=0;do{if(n>=e.byteLength)throw new Error("This is not a LEB128-encoded buffer, no ending found!");i=e.slice(n,n+1).readUInt8(0),n++}while(i&Ll.UPPER_1);return n-1}static getLength(e,r=0){return this.$scanForNullBytes(e,r)-r}};fm.UnsignedLEB128=Ul;var Rb=class{static $ceil7mul(e){let r=e;for(;r%7;)r++;return r}static check(e){if(!nL(e))throw new Error(`${e} is not a safe integer!`)}static encode(e){if(this.check(e),e>=0)throw new Error(`A signed number must be negative, ${e} isn't!`);let r=Math.ceil(Math.log2(-e));return Ul.encode((1<<this.$ceil7mul(r))+e)}static decode(e,r=0){let n=Ul.decode(e,r),i=Math.ceil(Math.log2(n));return-((1<<i)-n)}};fm.SignedLEB128=Rb;var Mb=class{};fm.LEB128=Mb;Mb.encode=t=>(t>=0?Ul:Rb).encode(t);Mb.decode=(t,e=0,r=!1)=>(r?Rb:Ul).decode(t,e)});var E7=g((Tze,wL)=>{var u1e="Expected a function",xL="__lodash_hash_undefined__",c1e="[object Function]",f1e="[object GeneratorFunction]",d1e=/[\\^$.*+?()[\]{}|]/g,l1e=/^\[object .+?Constructor\]$/,h1e=typeof global=="object"&&global&&global.Object===Object&&global,p1e=typeof self=="object"&&self&&self.Object===Object&&self,yL=h1e||p1e||Function("return this")();function m1e(t,e){return t?.[e]}function x1e(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}var y1e=Array.prototype,b1e=Function.prototype,bL=Object.prototype,S7=yL["__core-js_shared__"],mL=function(){var t=/[^.]+$/.exec(S7&&S7.keys&&S7.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),vL=b1e.toString,A7=bL.hasOwnProperty,v1e=bL.toString,g1e=RegExp("^"+vL.call(A7).replace(d1e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_1e=y1e.splice,w1e=gL(yL,"Map"),xm=gL(Object,"create");function Qf(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function S1e(){this.__data__=xm?xm(null):{}}function A1e(t){return this.has(t)&&delete this.__data__[t]}function C1e(t){var e=this.__data__;if(xm){var r=e[t];return r===xL?void 0:r}return A7.call(e,t)?e[t]:void 0}function E1e(t){var e=this.__data__;return xm?e[t]!==void 0:A7.call(e,t)}function P1e(t,e){var r=this.__data__;return r[t]=xm&&e===void 0?xL:e,this}Qf.prototype.clear=S1e;Qf.prototype.delete=A1e;Qf.prototype.get=C1e;Qf.prototype.has=E1e;Qf.prototype.set=P1e;function jl(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function T1e(){this.__data__=[]}function I1e(t){var e=this.__data__,r=qb(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():_1e.call(e,r,1),!0}function k1e(t){var e=this.__data__,r=qb(e,t);return r<0?void 0:e[r][1]}function B1e(t){return qb(this.__data__,t)>-1}function R1e(t,e){var r=this.__data__,n=qb(r,t);return n<0?r.push([t,e]):r[n][1]=e,this}jl.prototype.clear=T1e;jl.prototype.delete=I1e;jl.prototype.get=k1e;jl.prototype.has=B1e;jl.prototype.set=R1e;function Zf(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function M1e(){this.__data__={hash:new Qf,map:new(w1e||jl),string:new Qf}}function O1e(t){return Db(this,t).delete(t)}function q1e(t){return Db(this,t).get(t)}function D1e(t){return Db(this,t).has(t)}function N1e(t,e){return Db(this,t).set(t,e),this}Zf.prototype.clear=M1e;Zf.prototype.delete=O1e;Zf.prototype.get=q1e;Zf.prototype.has=D1e;Zf.prototype.set=N1e;function qb(t,e){for(var r=t.length;r--;)if(F1e(t[r][0],e))return r;return-1}function L1e(t){if(!_L(t)||H1e(t))return!1;var e=z1e(t)||x1e(t)?g1e:l1e;return e.test(K1e(t))}function Db(t,e){var r=t.__data__;return U1e(e)?r[typeof e=="string"?"string":"hash"]:r.map}function gL(t,e){var r=m1e(t,e);return L1e(r)?r:void 0}function U1e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function H1e(t){return!!mL&&mL in t}function K1e(t){if(t!=null){try{return vL.call(t)}catch{}try{return t+""}catch{}}return""}function C7(t,e){if(typeof t!="function"||e&&typeof e!="function")throw new TypeError(u1e);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o),o};return r.cache=new(C7.Cache||Zf),r}C7.Cache=Zf;function F1e(t,e){return t===e||t!==t&&e!==e}function z1e(t){var e=_L(t)?v1e.call(t):"";return e==c1e||e==f1e}function _L(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}wL.exports=C7});var T7=g(Yi=>{"use strict";Object.defineProperty(Yi,"__esModule",{value:!0});Yi.dumpBytes=Yi.float32bit=Yi.int16Bit=Yi.getNumberByteLength=Yi.stringToByteArray=Yi.numberToByteArray=void 0;var P7=E7(),W1e=(t,e=SL(t))=>{let r;if(e===1)r=new DataView(new ArrayBuffer(1)),r.setUint8(0,t);else if(e===2)r=new DataView(new ArrayBuffer(2)),r.setUint16(0,t);else if(e===3)r=new DataView(new ArrayBuffer(3)),r.setUint8(0,t>>16),r.setUint16(1,t&65535);else if(e===4)r=new DataView(new ArrayBuffer(4)),r.setUint32(0,t);else if(t<4294967295)r=new DataView(new ArrayBuffer(5)),r.setUint32(1,t);else if(e===5)r=new DataView(new ArrayBuffer(5)),r.setUint8(0,t/4294967296|0),r.setUint32(1,t%4294967296);else if(e===6)r=new DataView(new ArrayBuffer(6)),r.setUint16(0,t/4294967296|0),r.setUint32(2,t%4294967296);else if(e===7)r=new DataView(new ArrayBuffer(7)),r.setUint8(0,t/281474976710656|0),r.setUint16(1,t/4294967296&65535),r.setUint32(3,t%4294967296);else if(e===8)r=new DataView(new ArrayBuffer(8)),r.setUint32(0,t/4294967296|0),r.setUint32(4,t%4294967296);else throw new Error("EBML.typedArrayUtils.numberToByteArray: byte length must be less than or equal to 8");return new Uint8Array(r.buffer)};Yi.numberToByteArray=W1e;Yi.stringToByteArray=P7(t=>Uint8Array.from(Array.from(t).map(e=>e.codePointAt(0))));function SL(t){if(t<0)throw new Error("EBML.typedArrayUtils.getNumberByteLength: negative number not implemented");if(t<256)return 1;if(t<65536)return 2;if(t<16777216)return 3;if(t<4294967296)return 4;if(t<1099511627776)return 5;if(t<281474976710656)return 6;if(t<0x20000000000000n)return 7;throw new Error("EBML.typedArrayUtils.getNumberByteLength: number exceeds Number.MAX_SAFE_INTEGER")}Yi.getNumberByteLength=SL;Yi.int16Bit=P7(t=>{let e=new ArrayBuffer(2);return new DataView(e).setInt16(0,t),new Uint8Array(e)});Yi.float32bit=P7(t=>{let e=new ArrayBuffer(4);return new DataView(e).setFloat32(0,t),new Uint8Array(e)});var j1e=t=>Array.from(new Uint8Array(t)).map(e=>`0x${e.toString(16)}`).join(", ");Yi.dumpBytes=j1e});var AL=g(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.getSizeMask=ar.vintEncode=ar.UNKNOWN_SIZE=ar.getEBMLByteLength=ar.build=ar.unknownSizeElement=ar.element=ar.string=ar.vintEncodedNumber=ar.float=ar.number=ar.bytes=ar.Element=ar.Value=void 0;var ym=E7(),bm=T7(),I7=class{constructor(e){this.bytes=e}write(e,r){return e.set(this.bytes,r),r+this.bytes.length}countSize(){return this.bytes.length}};ar.Value=I7;var Nb=class{constructor(e,r,n){this.id=e,this.children=r;let i=this.children.reduce((a,o)=>a+o.countSize(),0);this.sizeMetaData=n?ar.UNKNOWN_SIZE:ar.vintEncode(bm.numberToByteArray(i,ar.getEBMLByteLength(i))),this.size=this.id.length+this.sizeMetaData.length+i}write(e,r){return e.set(this.id,r),e.set(this.sizeMetaData,r+this.id.length),this.children.reduce((n,i)=>i.write(e,n),r+this.id.length+this.sizeMetaData.length)}countSize(){return this.size}};ar.Element=Nb;ar.bytes=ym(t=>new I7(t));ar.number=ym(t=>ar.bytes(bm.numberToByteArray(t)));ar.float=ym(t=>ar.bytes(bm.float32bit(t)));ar.vintEncodedNumber=ym(t=>ar.bytes(ar.vintEncode(bm.numberToByteArray(t,ar.getEBMLByteLength(t)))));ar.string=ym(t=>ar.bytes(bm.stringToByteArray(t)));var $1e=(t,e)=>new Nb(t,Array.isArray(e)?e:[e],!1);ar.element=$1e;var V1e=(t,e)=>new Nb(t,Array.isArray(e)?e:[e],!0);ar.unknownSizeElement=V1e;var G1e=t=>{let e=new Uint8Array(t.countSize());return t.write(e,0),e};ar.build=G1e;var Y1e=t=>{if(t<127)return 1;if(t<16383)return 2;if(t<2097151)return 3;if(t<268435455)return 4;if(t<34359738367)return 5;if(t<4398046511103)return 6;if(t<562949953421311)return 7;if(t<0x20000000000000n)return 8;throw t<0xffffffffffffffn?new Error("EBMLgetEBMLByteLength: number exceeds Number.MAX_SAFE_INTEGER"):new Error("EBMLgetEBMLByteLength: data size must be less than or equal to "+(Math.pow(2,56)-2))};ar.getEBMLByteLength=Y1e;ar.UNKNOWN_SIZE=new Uint8Array([1,255,255,255,255,255,255,255]);var J1e=t=>(t[0]=ar.getSizeMask(t.length)|t[0],t);ar.vintEncode=J1e;var X1e=t=>128>>t-1;ar.getSizeMask=X1e});var CL=g(Lb=>{"use strict";Object.defineProperty(Lb,"__esModule",{value:!0});Lb.ID=void 0;Lb.ID={EBML:Uint8Array.of(26,69,223,163),EBMLVersion:Uint8Array.of(66,134),EBMLReadVersion:Uint8Array.of(66,247),EBMLMaxIDLength:Uint8Array.of(66,242),EBMLMaxSizeLength:Uint8Array.of(66,243),DocType:Uint8Array.of(66,130),DocTypeVersion:Uint8Array.of(66,135),DocTypeReadVersion:Uint8Array.of(66,133),Void:Uint8Array.of(236),CRC32:Uint8Array.of(191),Segment:Uint8Array.of(24,83,128,103),SeekHead:Uint8Array.of(17,77,155,116),Seek:Uint8Array.of(77,187),SeekID:Uint8Array.of(83,171),SeekPosition:Uint8Array.of(83,172),Info:Uint8Array.of(21,73,169,102),SegmentUID:Uint8Array.of(115,164),SegmentFilename:Uint8Array.of(115,132),PrevUID:Uint8Array.of(60,185,35),PrevFilename:Uint8Array.of(60,131,171),NextUID:Uint8Array.of(62,185,35),NextFilename:Uint8Array.of(62,131,187),SegmentFamily:Uint8Array.of(68,68),ChapterTranslate:Uint8Array.of(105,36),ChapterTranslateEditionUID:Uint8Array.of(105,252),ChapterTranslateCodec:Uint8Array.of(105,191),ChapterTranslateID:Uint8Array.of(105,165),TimecodeScale:Uint8Array.of(42,215,177),Duration:Uint8Array.of(68,137),DateUTC:Uint8Array.of(68,97),Title:Uint8Array.of(123,169),MuxingApp:Uint8Array.of(77,128),WritingApp:Uint8Array.of(87,65),Cluster:Uint8Array.of(31,67,182,117),Timecode:Uint8Array.of(231),SilentTracks:Uint8Array.of(88,84),SilentTrackNumber:Uint8Array.of(88,215),Position:Uint8Array.of(167),PrevSize:Uint8Array.of(171),SimpleBlock:Uint8Array.of(163),BlockGroup:Uint8Array.of(160),Block:Uint8Array.of(161),BlockAdditions:Uint8Array.of(117,161),BlockMore:Uint8Array.of(166),BlockAddID:Uint8Array.of(238),BlockAdditional:Uint8Array.of(165),BlockDuration:Uint8Array.of(155),ReferencePriority:Uint8Array.of(250),ReferenceBlock:Uint8Array.of(251),CodecState:Uint8Array.of(164),DiscardPadding:Uint8Array.of(117,162),Slices:Uint8Array.of(142),TimeSlice:Uint8Array.of(232),LaceNumber:Uint8Array.of(204),Tracks:Uint8Array.of(22,84,174,107),TrackEntry:Uint8Array.of(174),TrackNumber:Uint8Array.of(215),TrackUID:Uint8Array.of(115,197),TrackType:Uint8Array.of(131),FlagEnabled:Uint8Array.of(185),FlagDefault:Uint8Array.of(136),FlagForced:Uint8Array.of(85,170),FlagLacing:Uint8Array.of(156),MinCache:Uint8Array.of(109,231),MaxCache:Uint8Array.of(109,248),DefaultDuration:Uint8Array.of(35,227,131),DefaultDecodedFieldDuration:Uint8Array.of(35,78,122),MaxBlockAdditionID:Uint8Array.of(85,238),Name:Uint8Array.of(83,110),Language:Uint8Array.of(34,181,156),CodecID:Uint8Array.of(134),CodecPrivate:Uint8Array.of(99,162),CodecName:Uint8Array.of(37,134,136),AttachmentLink:Uint8Array.of(116,70),CodecDecodeAll:Uint8Array.of(170),TrackOverlay:Uint8Array.of(111,171),CodecDelay:Uint8Array.of(86,170),SeekPreRoll:Uint8Array.of(86,187),TrackTranslate:Uint8Array.of(102,36),TrackTranslateEditionUID:Uint8Array.of(102,252),TrackTranslateCodec:Uint8Array.of(102,191),TrackTranslateTrackID:Uint8Array.of(102,165),Video:Uint8Array.of(224),FlagInterlaced:Uint8Array.of(154),FieldOrder:Uint8Array.of(157),StereoMode:Uint8Array.of(83,184),AlphaMode:Uint8Array.of(83,192),PixelWidth:Uint8Array.of(176),PixelHeight:Uint8Array.of(186),PixelCropBottom:Uint8Array.of(84,170),PixelCropTop:Uint8Array.of(84,187),PixelCropLeft:Uint8Array.of(84,204),PixelCropRight:Uint8Array.of(84,221),DisplayWidth:Uint8Array.of(84,176),DisplayHeight:Uint8Array.of(84,186),DisplayUnit:Uint8Array.of(84,178),AspectRatioType:Uint8Array.of(84,179),ColourSpace:Uint8Array.of(46,181,36),Colour:Uint8Array.of(85,176),MatrixCoefficients:Uint8Array.of(85,177),BitsPerChannel:Uint8Array.of(85,178),ChromaSubsamplingHorz:Uint8Array.of(85,179),ChromaSubsamplingVert:Uint8Array.of(85,180),CbSubsamplingHorz:Uint8Array.of(85,181),CbSubsamplingVert:Uint8Array.of(85,182),ChromaSitingHorz:Uint8Array.of(85,183),ChromaSitingVert:Uint8Array.of(85,184),Range:Uint8Array.of(85,185),TransferCharacteristics:Uint8Array.of(85,186),Primaries:Uint8Array.of(85,187),MaxCLL:Uint8Array.of(85,188),MaxFALL:Uint8Array.of(85,189),MasteringMetadata:Uint8Array.of(85,208),PrimaryRChromaticityX:Uint8Array.of(85,209),PrimaryRChromaticityY:Uint8Array.of(85,210),PrimaryGChromaticityX:Uint8Array.of(85,211),PrimaryGChromaticityY:Uint8Array.of(85,212),PrimaryBChromaticityX:Uint8Array.of(85,213),PrimaryBChromaticityY:Uint8Array.of(85,214),WhitePointChromaticityX:Uint8Array.of(85,215),WhitePointChromaticityY:Uint8Array.of(85,216),LuminanceMax:Uint8Array.of(85,217),LuminanceMin:Uint8Array.of(85,218),Audio:Uint8Array.of(225),SamplingFrequency:Uint8Array.of(181),OutputSamplingFrequency:Uint8Array.of(120,181),Channels:Uint8Array.of(159),BitDepth:Uint8Array.of(98,100),TrackOperation:Uint8Array.of(226),TrackCombinePlanes:Uint8Array.of(227),TrackPlane:Uint8Array.of(228),TrackPlaneUID:Uint8Array.of(229),TrackPlaneType:Uint8Array.of(230),TrackJoinBlocks:Uint8Array.of(233),TrackJoinUID:Uint8Array.of(237),ContentEncodings:Uint8Array.of(109,128),ContentEncoding:Uint8Array.of(98,64),ContentEncodingOrder:Uint8Array.of(80,49),ContentEncodingScope:Uint8Array.of(80,50),ContentEncodingType:Uint8Array.of(80,51),ContentCompression:Uint8Array.of(80,52),ContentCompAlgo:Uint8Array.of(66,84),ContentCompSettings:Uint8Array.of(66,85),ContentEncryption:Uint8Array.of(80,53),ContentEncAlgo:Uint8Array.of(71,225),ContentEncKeyID:Uint8Array.of(71,226),ContentSignature:Uint8Array.of(71,227),ContentSigKeyID:Uint8Array.of(71,228),ContentSigAlgo:Uint8Array.of(71,229),ContentSigHashAlgo:Uint8Array.of(71,230),Cues:Uint8Array.of(28,83,187,107),CuePoint:Uint8Array.of(187),CueTime:Uint8Array.of(179),CueTrackPositions:Uint8Array.of(183),CueTrack:Uint8Array.of(247),CueClusterPosition:Uint8Array.of(241),CueRelativePosition:Uint8Array.of(240),CueDuration:Uint8Array.of(178),CueBlockNumber:Uint8Array.of(83,120),CueCodecState:Uint8Array.of(234),CueReference:Uint8Array.of(219),CueRefTime:Uint8Array.of(150),Attachments:Uint8Array.of(25,65,164,105),AttachedFile:Uint8Array.of(97,167),FileDescription:Uint8Array.of(70,126),FileName:Uint8Array.of(70,110),FileMimeType:Uint8Array.of(70,96),FileData:Uint8Array.of(70,92),FileUID:Uint8Array.of(70,174),Chapters:Uint8Array.of(16,67,167,112),EditionEntry:Uint8Array.of(69,185),EditionUID:Uint8Array.of(69,188),EditionFlagHidden:Uint8Array.of(69,189),EditionFlagDefault:Uint8Array.of(69,219),EditionFlagOrdered:Uint8Array.of(69,221),ChapterAtom:Uint8Array.of(182),ChapterUID:Uint8Array.of(115,196),ChapterStringUID:Uint8Array.of(86,84),ChapterTimeStart:Uint8Array.of(145),ChapterTimeEnd:Uint8Array.of(146),ChapterFlagHidden:Uint8Array.of(152),ChapterFlagEnabled:Uint8Array.of(69,152),ChapterSegmentUID:Uint8Array.of(110,103),ChapterSegmentEditionUID:Uint8Array.of(110,188),ChapterPhysicalEquiv:Uint8Array.of(99,195),ChapterTrack:Uint8Array.of(143),ChapterTrackNumber:Uint8Array.of(137),ChapterDisplay:Uint8Array.of(128),ChapString:Uint8Array.of(133),ChapLanguage:Uint8Array.of(67,124),ChapCountry:Uint8Array.of(67,126),ChapProcess:Uint8Array.of(105,68),ChapProcessCodecID:Uint8Array.of(105,85),ChapProcessPrivate:Uint8Array.of(69,13),ChapProcessCommand:Uint8Array.of(105,17),ChapProcessTime:Uint8Array.of(105,34),ChapProcessData:Uint8Array.of(105,51),Tags:Uint8Array.of(18,84,195,103),Tag:Uint8Array.of(115,115),Targets:Uint8Array.of(99,192),TargetTypeValue:Uint8Array.of(104,202),TargetType:Uint8Array.of(99,202),TagTrackUID:Uint8Array.of(99,197),TagEditionUID:Uint8Array.of(99,201),TagChapterUID:Uint8Array.of(99,196),TagAttachmentUID:Uint8Array.of(99,198),SimpleTag:Uint8Array.of(103,200),TagName:Uint8Array.of(69,163),TagLanguage:Uint8Array.of(68,122),TagDefault:Uint8Array.of(68,132),TagString:Uint8Array.of(68,135),TagBinary:Uint8Array.of(68,133)}});var EL=g(pu=>{"use strict";var Q1e=pu&&pu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),k7=pu&&pu.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Q1e(e,t,r)};Object.defineProperty(pu,"__esModule",{value:!0});k7(AL(),pu);k7(CL(),pu);k7(T7(),pu)});var zL=g((q7,FL)=>{(function(t){"use strict";function e(p){return parseInt(p)===p}function r(p){if(!e(p.length))return!1;for(var T=0;T<p.length;T++)if(!e(p[T])||p[T]<0||p[T]>255)return!1;return!0}function n(p,T){if(p.buffer&&p.name==="Uint8Array")return T&&(p.slice?p=p.slice():p=Array.prototype.slice.call(p)),p;if(Array.isArray(p)){if(!r(p))throw new Error("Array contains invalid value: "+p);return new Uint8Array(p)}if(e(p.length)&&r(p))return new Uint8Array(p);throw new Error("unsupported array-like object")}function i(p){return new Uint8Array(p)}function a(p,T,oe,re,Q){(re!=null||Q!=null)&&(p.slice?p=p.slice(re,Q):p=Array.prototype.slice.call(p,re,Q)),T.set(p,oe)}var o=function(){function p(oe){var re=[],Q=0;for(oe=encodeURI(oe);Q<oe.length;){var xe=oe.charCodeAt(Q++);xe===37?(re.push(parseInt(oe.substr(Q,2),16)),Q+=2):re.push(xe)}return n(re)}function T(oe){for(var re=[],Q=0;Q<oe.length;){var xe=oe[Q];xe<128?(re.push(String.fromCharCode(xe)),Q++):xe>191&&xe<224?(re.push(String.fromCharCode((xe&31)<<6|oe[Q+1]&63)),Q+=2):(re.push(String.fromCharCode((xe&15)<<12|(oe[Q+1]&63)<<6|oe[Q+2]&63)),Q+=3)}return re.join("")}return{toBytes:p,fromBytes:T}}(),u=function(){function p(re){for(var Q=[],xe=0;xe<re.length;xe+=2)Q.push(parseInt(re.substr(xe,2),16));return Q}var T="0123456789abcdef";function oe(re){for(var Q=[],xe=0;xe<re.length;xe++){var nt=re[xe];Q.push(T[(nt&240)>>4]+T[nt&15])}return Q.join("")}return{toBytes:p,fromBytes:oe}}(),f={16:10,24:12,32:14},d=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],h=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],m=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],_=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],w=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],P=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],M=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],K=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],Y=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],fe=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],_e=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],Je=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],Ze=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],Ue=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],Ke=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function He(p){for(var T=[],oe=0;oe<p.length;oe+=4)T.push(p[oe]<<24|p[oe+1]<<16|p[oe+2]<<8|p[oe+3]);return T}var we=function(p){if(!(this instanceof we))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:n(p,!0)}),this._prepare()};we.prototype._prepare=function(){var p=f[this.key.length];if(p==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var T=0;T<=p;T++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var oe=(p+1)*4,re=this.key.length/4,Q=He(this.key),xe,T=0;T<re;T++)xe=T>>2,this._Ke[xe][T%4]=Q[T],this._Kd[p-xe][T%4]=Q[T];for(var nt=0,pt=re,Xt;pt<oe;){if(Xt=Q[re-1],Q[0]^=h[Xt>>16&255]<<24^h[Xt>>8&255]<<16^h[Xt&255]<<8^h[Xt>>24&255]^d[nt]<<24,nt+=1,re!=8)for(var T=1;T<re;T++)Q[T]^=Q[T-1];else{for(var T=1;T<re/2;T++)Q[T]^=Q[T-1];Xt=Q[re/2-1],Q[re/2]^=h[Xt&255]^h[Xt>>8&255]<<8^h[Xt>>16&255]<<16^h[Xt>>24&255]<<24;for(var T=re/2+1;T<re;T++)Q[T]^=Q[T-1]}for(var T=0,We,De;T<re&&pt<oe;)We=pt>>2,De=pt%4,this._Ke[We][De]=Q[T],this._Kd[p-We][De]=Q[T++],pt++}for(var We=1;We<p;We++)for(var De=0;De<4;De++)Xt=this._Kd[We][De],this._Kd[We][De]=Je[Xt>>24&255]^Ze[Xt>>16&255]^Ue[Xt>>8&255]^Ke[Xt&255]},we.prototype.encrypt=function(p){if(p.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var T=this._Ke.length-1,oe=[0,0,0,0],re=He(p),Q=0;Q<4;Q++)re[Q]^=this._Ke[0][Q];for(var xe=1;xe<T;xe++){for(var Q=0;Q<4;Q++)oe[Q]=_[re[Q]>>24&255]^w[re[(Q+1)%4]>>16&255]^P[re[(Q+2)%4]>>8&255]^M[re[(Q+3)%4]&255]^this._Ke[xe][Q];re=oe.slice()}for(var nt=i(16),pt,Q=0;Q<4;Q++)pt=this._Ke[T][Q],nt[4*Q]=(h[re[Q]>>24&255]^pt>>24)&255,nt[4*Q+1]=(h[re[(Q+1)%4]>>16&255]^pt>>16)&255,nt[4*Q+2]=(h[re[(Q+2)%4]>>8&255]^pt>>8)&255,nt[4*Q+3]=(h[re[(Q+3)%4]&255]^pt)&255;return nt},we.prototype.decrypt=function(p){if(p.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var T=this._Kd.length-1,oe=[0,0,0,0],re=He(p),Q=0;Q<4;Q++)re[Q]^=this._Kd[0][Q];for(var xe=1;xe<T;xe++){for(var Q=0;Q<4;Q++)oe[Q]=K[re[Q]>>24&255]^Y[re[(Q+3)%4]>>16&255]^fe[re[(Q+2)%4]>>8&255]^_e[re[(Q+1)%4]&255]^this._Kd[xe][Q];re=oe.slice()}for(var nt=i(16),pt,Q=0;Q<4;Q++)pt=this._Kd[T][Q],nt[4*Q]=(m[re[Q]>>24&255]^pt>>24)&255,nt[4*Q+1]=(m[re[(Q+3)%4]>>16&255]^pt>>16)&255,nt[4*Q+2]=(m[re[(Q+2)%4]>>8&255]^pt>>8)&255,nt[4*Q+3]=(m[re[(Q+1)%4]&255]^pt)&255;return nt};var F=function(p){if(!(this instanceof F))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new we(p)};F.prototype.encrypt=function(p){if(p=n(p),p.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var T=i(p.length),oe=i(16),re=0;re<p.length;re+=16)a(p,oe,0,re,re+16),oe=this._aes.encrypt(oe),a(oe,T,re);return T},F.prototype.decrypt=function(p){if(p=n(p),p.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var T=i(p.length),oe=i(16),re=0;re<p.length;re+=16)a(p,oe,0,re,re+16),oe=this._aes.decrypt(oe),a(oe,T,re);return T};var y=function(p,T){if(!(this instanceof y))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!T)T=i(16);else if(T.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=n(T,!0),this._aes=new we(p)};y.prototype.encrypt=function(p){if(p=n(p),p.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var T=i(p.length),oe=i(16),re=0;re<p.length;re+=16){a(p,oe,0,re,re+16);for(var Q=0;Q<16;Q++)oe[Q]^=this._lastCipherblock[Q];this._lastCipherblock=this._aes.encrypt(oe),a(this._lastCipherblock,T,re)}return T},y.prototype.decrypt=function(p){if(p=n(p),p.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var T=i(p.length),oe=i(16),re=0;re<p.length;re+=16){a(p,oe,0,re,re+16),oe=this._aes.decrypt(oe);for(var Q=0;Q<16;Q++)T[re+Q]=oe[Q]^this._lastCipherblock[Q];a(p,this._lastCipherblock,0,re,re+16)}return T};var S=function(p,T,oe){if(!(this instanceof S))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!T)T=i(16);else if(T.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");oe||(oe=1),this.segmentSize=oe,this._shiftRegister=n(T,!0),this._aes=new we(p)};S.prototype.encrypt=function(p){if(p.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var T=n(p,!0),oe,re=0;re<T.length;re+=this.segmentSize){oe=this._aes.encrypt(this._shiftRegister);for(var Q=0;Q<this.segmentSize;Q++)T[re+Q]^=oe[Q];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(T,this._shiftRegister,16-this.segmentSize,re,re+this.segmentSize)}return T},S.prototype.decrypt=function(p){if(p.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var T=n(p,!0),oe,re=0;re<T.length;re+=this.segmentSize){oe=this._aes.encrypt(this._shiftRegister);for(var Q=0;Q<this.segmentSize;Q++)T[re+Q]^=oe[Q];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(p,this._shiftRegister,16-this.segmentSize,re,re+this.segmentSize)}return T};var B=function(p,T){if(!(this instanceof B))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!T)T=i(16);else if(T.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=n(T,!0),this._lastPrecipherIndex=16,this._aes=new we(p)};B.prototype.encrypt=function(p){for(var T=n(p,!0),oe=0;oe<T.length;oe++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),T[oe]^=this._lastPrecipher[this._lastPrecipherIndex++];return T},B.prototype.decrypt=B.prototype.encrypt;var D=function(p){if(!(this instanceof D))throw Error("Counter must be instanitated with `new`");p!==0&&!p&&(p=1),typeof p=="number"?(this._counter=i(16),this.setValue(p)):this.setBytes(p)};D.prototype.setValue=function(p){if(typeof p!="number"||parseInt(p)!=p)throw new Error("invalid counter value (must be an integer)");if(p>Number.MAX_SAFE_INTEGER)throw new Error("integer value out of safe range");for(var T=15;T>=0;--T)this._counter[T]=p%256,p=parseInt(p/256)},D.prototype.setBytes=function(p){if(p=n(p,!0),p.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=p},D.prototype.increment=function(){for(var p=15;p>=0;p--)if(this._counter[p]===255)this._counter[p]=0;else{this._counter[p]++;break}};var U=function(p,T){if(!(this instanceof U))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",T instanceof D||(T=new D(T)),this._counter=T,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new we(p)};U.prototype.encrypt=function(p){for(var T=n(p,!0),oe=0;oe<T.length;oe++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),T[oe]^=this._remainingCounter[this._remainingCounterIndex++];return T},U.prototype.decrypt=U.prototype.encrypt;function G(p){p=n(p,!0);var T=16-p.length%16,oe=i(p.length+T);a(p,oe);for(var re=p.length;re<oe.length;re++)oe[re]=T;return oe}function J(p){if(p=n(p,!0),p.length<16)throw new Error("PKCS#7 invalid length");var T=p[p.length-1];if(T>16)throw new Error("PKCS#7 padding byte out of range");for(var oe=p.length-T,re=0;re<T;re++)if(p[oe+re]!==T)throw new Error("PKCS#7 invalid padding byte");var Q=i(oe);return a(p,Q,0,0,oe),Q}var L={AES:we,Counter:D,ModeOfOperation:{ecb:F,cbc:y,cfb:S,ofb:B,ctr:U},utils:{hex:u,utf8:o},padding:{pkcs7:{pad:G,strip:J}},_arrayTest:{coerceArray:n,createArray:i,copyArray:a}};typeof q7<"u"?FL.exports=L:typeof define=="function"&&define.amd?define([],function(){return L}):(t.aesjs&&(L._aesjs=t.aesjs),t.aesjs=L)})(q7)});var D7=g((qWe,Jb)=>{var Jn=function(t){"use strict";var e=1e7,r=7,n=9007199254740992,i=_(n),a="0123456789abcdefghijklmnopqrstuvwxyz",o=typeof BigInt=="function";function u(v,C,O,H){return typeof v>"u"?u[0]:typeof C<"u"?+C==10&&!O?_t(v):Lt(v,C,O,H):_t(v)}function f(v,C){this.value=v,this.sign=C,this.isSmall=!1}f.prototype=Object.create(u.prototype);function d(v){this.value=v,this.sign=v<0,this.isSmall=!0}d.prototype=Object.create(u.prototype);function h(v){this.value=v}h.prototype=Object.create(u.prototype);function m(v){return-n<v&&v<n}function _(v){return v<1e7?[v]:v<1e14?[v%1e7,Math.floor(v/1e7)]:[v%1e7,Math.floor(v/1e7)%1e7,Math.floor(v/1e14)]}function w(v){P(v);var C=v.length;if(C<4&&L(v,i)<0)switch(C){case 0:return 0;case 1:return v[0];case 2:return v[0]+v[1]*e;default:return v[0]+(v[1]+v[2]*e)*e}return v}function P(v){for(var C=v.length;v[--C]===0;);v.length=C+1}function M(v){for(var C=new Array(v),O=-1;++O<v;)C[O]=0;return C}function K(v){return v>0?Math.floor(v):Math.ceil(v)}function Y(v,C){var O=v.length,H=C.length,ee=new Array(O),Z=0,se=e,de,ie;for(ie=0;ie<H;ie++)de=v[ie]+C[ie]+Z,Z=de>=se?1:0,ee[ie]=de-Z*se;for(;ie<O;)de=v[ie]+Z,Z=de===se?1:0,ee[ie++]=de-Z*se;return Z>0&&ee.push(Z),ee}function fe(v,C){return v.length>=C.length?Y(v,C):Y(C,v)}function _e(v,C){var O=v.length,H=new Array(O),ee=e,Z,se;for(se=0;se<O;se++)Z=v[se]-ee+C,C=Math.floor(Z/ee),H[se]=Z-C*ee,C+=1;for(;C>0;)H[se++]=C%ee,C=Math.floor(C/ee);return H}f.prototype.add=function(v){var C=_t(v);if(this.sign!==C.sign)return this.subtract(C.negate());var O=this.value,H=C.value;return C.isSmall?new f(_e(O,Math.abs(H)),this.sign):new f(fe(O,H),this.sign)},f.prototype.plus=f.prototype.add,d.prototype.add=function(v){var C=_t(v),O=this.value;if(O<0!==C.sign)return this.subtract(C.negate());var H=C.value;if(C.isSmall){if(m(O+H))return new d(O+H);H=_(Math.abs(H))}return new f(_e(H,Math.abs(O)),O<0)},d.prototype.plus=d.prototype.add,h.prototype.add=function(v){return new h(this.value+_t(v).value)},h.prototype.plus=h.prototype.add;function Je(v,C){var O=v.length,H=C.length,ee=new Array(O),Z=0,se=e,de,ie;for(de=0;de<H;de++)ie=v[de]-Z-C[de],ie<0?(ie+=se,Z=1):Z=0,ee[de]=ie;for(de=H;de<O;de++){if(ie=v[de]-Z,ie<0)ie+=se;else{ee[de++]=ie;break}ee[de]=ie}for(;de<O;de++)ee[de]=v[de];return P(ee),ee}function Ze(v,C,O){var H;return L(v,C)>=0?H=Je(v,C):(H=Je(C,v),O=!O),H=w(H),typeof H=="number"?(O&&(H=-H),new d(H)):new f(H,O)}function Ue(v,C,O){var H=v.length,ee=new Array(H),Z=-C,se=e,de,ie;for(de=0;de<H;de++)ie=v[de]+Z,Z=Math.floor(ie/se),ie%=se,ee[de]=ie<0?ie+se:ie;return ee=w(ee),typeof ee=="number"?(O&&(ee=-ee),new d(ee)):new f(ee,O)}f.prototype.subtract=function(v){var C=_t(v);if(this.sign!==C.sign)return this.add(C.negate());var O=this.value,H=C.value;return C.isSmall?Ue(O,Math.abs(H),this.sign):Ze(O,H,this.sign)},f.prototype.minus=f.prototype.subtract,d.prototype.subtract=function(v){var C=_t(v),O=this.value;if(O<0!==C.sign)return this.add(C.negate());var H=C.value;return C.isSmall?new d(O-H):Ue(H,Math.abs(O),O>=0)},d.prototype.minus=d.prototype.subtract,h.prototype.subtract=function(v){return new h(this.value-_t(v).value)},h.prototype.minus=h.prototype.subtract,f.prototype.negate=function(){return new f(this.value,!this.sign)},d.prototype.negate=function(){var v=this.sign,C=new d(-this.value);return C.sign=!v,C},h.prototype.negate=function(){return new h(-this.value)},f.prototype.abs=function(){return new f(this.value,!1)},d.prototype.abs=function(){return new d(Math.abs(this.value))},h.prototype.abs=function(){return new h(this.value>=0?this.value:-this.value)};function Ke(v,C){var O=v.length,H=C.length,ee=O+H,Z=M(ee),se=e,de,ie,Ie,Ve,je;for(Ie=0;Ie<O;++Ie){Ve=v[Ie];for(var yt=0;yt<H;++yt)je=C[yt],de=Ve*je+Z[Ie+yt],ie=Math.floor(de/se),Z[Ie+yt]=de-ie*se,Z[Ie+yt+1]+=ie}return P(Z),Z}function He(v,C){var O=v.length,H=new Array(O),ee=e,Z=0,se,de;for(de=0;de<O;de++)se=v[de]*C+Z,Z=Math.floor(se/ee),H[de]=se-Z*ee;for(;Z>0;)H[de++]=Z%ee,Z=Math.floor(Z/ee);return H}function we(v,C){for(var O=[];C-- >0;)O.push(0);return O.concat(v)}function F(v,C){var O=Math.max(v.length,C.length);if(O<=30)return Ke(v,C);O=Math.ceil(O/2);var H=v.slice(O),ee=v.slice(0,O),Z=C.slice(O),se=C.slice(0,O),de=F(ee,se),ie=F(H,Z),Ie=F(fe(ee,H),fe(se,Z)),Ve=fe(fe(de,we(Je(Je(Ie,de),ie),O)),we(ie,2*O));return P(Ve),Ve}function y(v,C){return-.012*v-.012*C+15e-6*v*C>0}f.prototype.multiply=function(v){var C=_t(v),O=this.value,H=C.value,ee=this.sign!==C.sign,Z;if(C.isSmall){if(H===0)return u[0];if(H===1)return this;if(H===-1)return this.negate();if(Z=Math.abs(H),Z<e)return new f(He(O,Z),ee);H=_(Z)}return y(O.length,H.length)?new f(F(O,H),ee):new f(Ke(O,H),ee)},f.prototype.times=f.prototype.multiply;function S(v,C,O){return v<e?new f(He(C,v),O):new f(Ke(C,_(v)),O)}d.prototype._multiplyBySmall=function(v){return m(v.value*this.value)?new d(v.value*this.value):S(Math.abs(v.value),_(Math.abs(this.value)),this.sign!==v.sign)},f.prototype._multiplyBySmall=function(v){return v.value===0?u[0]:v.value===1?this:v.value===-1?this.negate():S(Math.abs(v.value),this.value,this.sign!==v.sign)},d.prototype.multiply=function(v){return _t(v)._multiplyBySmall(this)},d.prototype.times=d.prototype.multiply,h.prototype.multiply=function(v){return new h(this.value*_t(v).value)},h.prototype.times=h.prototype.multiply;function B(v){var C=v.length,O=M(C+C),H=e,ee,Z,se,de,ie;for(se=0;se<C;se++){de=v[se],Z=0-de*de;for(var Ie=se;Ie<C;Ie++)ie=v[Ie],ee=2*(de*ie)+O[se+Ie]+Z,Z=Math.floor(ee/H),O[se+Ie]=ee-Z*H;O[se+C]=Z}return P(O),O}f.prototype.square=function(){return new f(B(this.value),!1)},d.prototype.square=function(){var v=this.value*this.value;return m(v)?new d(v):new f(B(_(Math.abs(this.value))),!1)},h.prototype.square=function(v){return new h(this.value*this.value)};function D(v,C){var O=v.length,H=C.length,ee=e,Z=M(C.length),se=C[H-1],de=Math.ceil(ee/(2*se)),ie=He(v,de),Ie=He(C,de),Ve,je,yt,dn,Gt,kr,Ia;for(ie.length<=O&&ie.push(0),Ie.push(0),se=Ie[H-1],je=O-H;je>=0;je--){for(Ve=ee-1,ie[je+H]!==se&&(Ve=Math.floor((ie[je+H]*ee+ie[je+H-1])/se)),yt=0,dn=0,kr=Ie.length,Gt=0;Gt<kr;Gt++)yt+=Ve*Ie[Gt],Ia=Math.floor(yt/ee),dn+=ie[je+Gt]-(yt-Ia*ee),yt=Ia,dn<0?(ie[je+Gt]=dn+ee,dn=-1):(ie[je+Gt]=dn,dn=0);for(;dn!==0;){for(Ve-=1,yt=0,Gt=0;Gt<kr;Gt++)yt+=ie[je+Gt]-ee+Ie[Gt],yt<0?(ie[je+Gt]=yt+ee,yt=0):(ie[je+Gt]=yt,yt=1);dn+=yt}Z[je]=Ve}return ie=G(ie,de)[0],[w(Z),w(ie)]}function U(v,C){for(var O=v.length,H=C.length,ee=[],Z=[],se=e,de,ie,Ie,Ve,je;O;){if(Z.unshift(v[--O]),P(Z),L(Z,C)<0){ee.push(0);continue}ie=Z.length,Ie=Z[ie-1]*se+Z[ie-2],Ve=C[H-1]*se+C[H-2],ie>H&&(Ie=(Ie+1)*se),de=Math.ceil(Ie/Ve);do{if(je=He(C,de),L(je,Z)<=0)break;de--}while(de);ee.push(de),Z=Je(Z,je)}return ee.reverse(),[w(ee),w(Z)]}function G(v,C){var O=v.length,H=M(O),ee=e,Z,se,de,ie;for(de=0,Z=O-1;Z>=0;--Z)ie=de*ee+v[Z],se=K(ie/C),de=ie-se*C,H[Z]=se|0;return[H,de|0]}function J(v,C){var O,H=_t(C);if(o)return[new h(v.value/H.value),new h(v.value%H.value)];var ee=v.value,Z=H.value,se;if(Z===0)throw new Error("Cannot divide by zero");if(v.isSmall)return H.isSmall?[new d(K(ee/Z)),new d(ee%Z)]:[u[0],v];if(H.isSmall){if(Z===1)return[v,u[0]];if(Z==-1)return[v.negate(),u[0]];var de=Math.abs(Z);if(de<e){O=G(ee,de),se=w(O[0]);var ie=O[1];return v.sign&&(ie=-ie),typeof se=="number"?(v.sign!==H.sign&&(se=-se),[new d(se),new d(ie)]):[new f(se,v.sign!==H.sign),new d(ie)]}Z=_(de)}var Ie=L(ee,Z);if(Ie===-1)return[u[0],v];if(Ie===0)return[u[v.sign===H.sign?1:-1],u[0]];ee.length+Z.length<=200?O=D(ee,Z):O=U(ee,Z),se=O[0];var Ve=v.sign!==H.sign,je=O[1],yt=v.sign;return typeof se=="number"?(Ve&&(se=-se),se=new d(se)):se=new f(se,Ve),typeof je=="number"?(yt&&(je=-je),je=new d(je)):je=new f(je,yt),[se,je]}f.prototype.divmod=function(v){var C=J(this,v);return{quotient:C[0],remainder:C[1]}},h.prototype.divmod=d.prototype.divmod=f.prototype.divmod,f.prototype.divide=function(v){return J(this,v)[0]},h.prototype.over=h.prototype.divide=function(v){return new h(this.value/_t(v).value)},d.prototype.over=d.prototype.divide=f.prototype.over=f.prototype.divide,f.prototype.mod=function(v){return J(this,v)[1]},h.prototype.mod=h.prototype.remainder=function(v){return new h(this.value%_t(v).value)},d.prototype.remainder=d.prototype.mod=f.prototype.remainder=f.prototype.mod,f.prototype.pow=function(v){var C=_t(v),O=this.value,H=C.value,ee,Z,se;if(H===0)return u[1];if(O===0)return u[0];if(O===1)return u[1];if(O===-1)return C.isEven()?u[1]:u[-1];if(C.sign)return u[0];if(!C.isSmall)throw new Error("The exponent "+C.toString()+" is too large.");if(this.isSmall&&m(ee=Math.pow(O,H)))return new d(K(ee));for(Z=this,se=u[1];H&!0&&(se=se.times(Z),--H),H!==0;)H/=2,Z=Z.square();return se},d.prototype.pow=f.prototype.pow,h.prototype.pow=function(v){var C=_t(v),O=this.value,H=C.value,ee=BigInt(0),Z=BigInt(1),se=BigInt(2);if(H===ee)return u[1];if(O===ee)return u[0];if(O===Z)return u[1];if(O===BigInt(-1))return C.isEven()?u[1]:u[-1];if(C.isNegative())return new h(ee);for(var de=this,ie=u[1];(H&Z)===Z&&(ie=ie.times(de),--H),H!==ee;)H/=se,de=de.square();return ie},f.prototype.modPow=function(v,C){if(v=_t(v),C=_t(C),C.isZero())throw new Error("Cannot take modPow with modulus 0");var O=u[1],H=this.mod(C);for(v.isNegative()&&(v=v.multiply(u[-1]),H=H.modInv(C));v.isPositive();){if(H.isZero())return u[0];v.isOdd()&&(O=O.multiply(H).mod(C)),v=v.divide(2),H=H.square().mod(C)}return O},h.prototype.modPow=d.prototype.modPow=f.prototype.modPow;function L(v,C){if(v.length!==C.length)return v.length>C.length?1:-1;for(var O=v.length-1;O>=0;O--)if(v[O]!==C[O])return v[O]>C[O]?1:-1;return 0}f.prototype.compareAbs=function(v){var C=_t(v),O=this.value,H=C.value;return C.isSmall?1:L(O,H)},d.prototype.compareAbs=function(v){var C=_t(v),O=Math.abs(this.value),H=C.value;return C.isSmall?(H=Math.abs(H),O===H?0:O>H?1:-1):-1},h.prototype.compareAbs=function(v){var C=this.value,O=_t(v).value;return C=C>=0?C:-C,O=O>=0?O:-O,C===O?0:C>O?1:-1},f.prototype.compare=function(v){if(v===1/0)return-1;if(v===-1/0)return 1;var C=_t(v),O=this.value,H=C.value;return this.sign!==C.sign?C.sign?1:-1:C.isSmall?this.sign?-1:1:L(O,H)*(this.sign?-1:1)},f.prototype.compareTo=f.prototype.compare,d.prototype.compare=function(v){if(v===1/0)return-1;if(v===-1/0)return 1;var C=_t(v),O=this.value,H=C.value;return C.isSmall?O==H?0:O>H?1:-1:O<0!==C.sign?O<0?-1:1:O<0?1:-1},d.prototype.compareTo=d.prototype.compare,h.prototype.compare=function(v){if(v===1/0)return-1;if(v===-1/0)return 1;var C=this.value,O=_t(v).value;return C===O?0:C>O?1:-1},h.prototype.compareTo=h.prototype.compare,f.prototype.equals=function(v){return this.compare(v)===0},h.prototype.eq=h.prototype.equals=d.prototype.eq=d.prototype.equals=f.prototype.eq=f.prototype.equals,f.prototype.notEquals=function(v){return this.compare(v)!==0},h.prototype.neq=h.prototype.notEquals=d.prototype.neq=d.prototype.notEquals=f.prototype.neq=f.prototype.notEquals,f.prototype.greater=function(v){return this.compare(v)>0},h.prototype.gt=h.prototype.greater=d.prototype.gt=d.prototype.greater=f.prototype.gt=f.prototype.greater,f.prototype.lesser=function(v){return this.compare(v)<0},h.prototype.lt=h.prototype.lesser=d.prototype.lt=d.prototype.lesser=f.prototype.lt=f.prototype.lesser,f.prototype.greaterOrEquals=function(v){return this.compare(v)>=0},h.prototype.geq=h.prototype.greaterOrEquals=d.prototype.geq=d.prototype.greaterOrEquals=f.prototype.geq=f.prototype.greaterOrEquals,f.prototype.lesserOrEquals=function(v){return this.compare(v)<=0},h.prototype.leq=h.prototype.lesserOrEquals=d.prototype.leq=d.prototype.lesserOrEquals=f.prototype.leq=f.prototype.lesserOrEquals,f.prototype.isEven=function(){return(this.value[0]&1)===0},d.prototype.isEven=function(){return(this.value&1)===0},h.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},f.prototype.isOdd=function(){return(this.value[0]&1)===1},d.prototype.isOdd=function(){return(this.value&1)===1},h.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},f.prototype.isPositive=function(){return!this.sign},d.prototype.isPositive=function(){return this.value>0},h.prototype.isPositive=d.prototype.isPositive,f.prototype.isNegative=function(){return this.sign},d.prototype.isNegative=function(){return this.value<0},h.prototype.isNegative=d.prototype.isNegative,f.prototype.isUnit=function(){return!1},d.prototype.isUnit=function(){return Math.abs(this.value)===1},h.prototype.isUnit=function(){return this.abs().value===BigInt(1)},f.prototype.isZero=function(){return!1},d.prototype.isZero=function(){return this.value===0},h.prototype.isZero=function(){return this.value===BigInt(0)},f.prototype.isDivisibleBy=function(v){var C=_t(v);return C.isZero()?!1:C.isUnit()?!0:C.compareAbs(2)===0?this.isEven():this.mod(C).isZero()},h.prototype.isDivisibleBy=d.prototype.isDivisibleBy=f.prototype.isDivisibleBy;function p(v){var C=v.abs();if(C.isUnit())return!1;if(C.equals(2)||C.equals(3)||C.equals(5))return!0;if(C.isEven()||C.isDivisibleBy(3)||C.isDivisibleBy(5))return!1;if(C.lesser(49))return!0}function T(v,C){for(var O=v.prev(),H=O,ee=0,Z,se,de,ie;H.isEven();)H=H.divide(2),ee++;e:for(de=0;de<C.length;de++)if(!v.lesser(C[de])&&(ie=Jn(C[de]).modPow(H,v),!(ie.isUnit()||ie.equals(O)))){for(Z=ee-1;Z!=0;Z--){if(ie=ie.square().mod(v),ie.isUnit())return!1;if(ie.equals(O))continue e}return!1}return!0}f.prototype.isPrime=function(v){var C=p(this);if(C!==t)return C;var O=this.abs(),H=O.bitLength();if(H<=64)return T(O,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var ee=Math.log(2)*H.toJSNumber(),Z=Math.ceil(v===!0?2*Math.pow(ee,2):ee),se=[],de=0;de<Z;de++)se.push(Jn(de+2));return T(O,se)},h.prototype.isPrime=d.prototype.isPrime=f.prototype.isPrime,f.prototype.isProbablePrime=function(v,C){var O=p(this);if(O!==t)return O;for(var H=this.abs(),ee=v===t?5:v,Z=[],se=0;se<ee;se++)Z.push(Jn.randBetween(2,H.minus(2),C));return T(H,Z)},h.prototype.isProbablePrime=d.prototype.isProbablePrime=f.prototype.isProbablePrime,f.prototype.modInv=function(v){for(var C=Jn.zero,O=Jn.one,H=_t(v),ee=this.abs(),Z,se,de;!ee.isZero();)Z=H.divide(ee),se=C,de=H,C=O,H=ee,O=se.subtract(Z.multiply(O)),ee=de.subtract(Z.multiply(ee));if(!H.isUnit())throw new Error(this.toString()+" and "+v.toString()+" are not co-prime");return C.compare(0)===-1&&(C=C.add(v)),this.isNegative()?C.negate():C},h.prototype.modInv=d.prototype.modInv=f.prototype.modInv,f.prototype.next=function(){var v=this.value;return this.sign?Ue(v,1,this.sign):new f(_e(v,1),this.sign)},d.prototype.next=function(){var v=this.value;return v+1<n?new d(v+1):new f(i,!1)},h.prototype.next=function(){return new h(this.value+BigInt(1))},f.prototype.prev=function(){var v=this.value;return this.sign?new f(_e(v,1),!0):Ue(v,1,this.sign)},d.prototype.prev=function(){var v=this.value;return v-1>-n?new d(v-1):new f(i,!0)},h.prototype.prev=function(){return new h(this.value-BigInt(1))};for(var oe=[1];2*oe[oe.length-1]<=e;)oe.push(2*oe[oe.length-1]);var re=oe.length,Q=oe[re-1];function xe(v){return Math.abs(v)<=e}f.prototype.shiftLeft=function(v){var C=_t(v).toJSNumber();if(!xe(C))throw new Error(String(C)+" is too large for shifting.");if(C<0)return this.shiftRight(-C);var O=this;if(O.isZero())return O;for(;C>=re;)O=O.multiply(Q),C-=re-1;return O.multiply(oe[C])},h.prototype.shiftLeft=d.prototype.shiftLeft=f.prototype.shiftLeft,f.prototype.shiftRight=function(v){var C,O=_t(v).toJSNumber();if(!xe(O))throw new Error(String(O)+" is too large for shifting.");if(O<0)return this.shiftLeft(-O);for(var H=this;O>=re;){if(H.isZero()||H.isNegative()&&H.isUnit())return H;C=J(H,Q),H=C[1].isNegative()?C[0].prev():C[0],O-=re-1}return C=J(H,oe[O]),C[1].isNegative()?C[0].prev():C[0]},h.prototype.shiftRight=d.prototype.shiftRight=f.prototype.shiftRight;function nt(v,C,O){C=_t(C);for(var H=v.isNegative(),ee=C.isNegative(),Z=H?v.not():v,se=ee?C.not():C,de=0,ie=0,Ie=null,Ve=null,je=[];!Z.isZero()||!se.isZero();)Ie=J(Z,Q),de=Ie[1].toJSNumber(),H&&(de=Q-1-de),Ve=J(se,Q),ie=Ve[1].toJSNumber(),ee&&(ie=Q-1-ie),Z=Ie[0],se=Ve[0],je.push(O(de,ie));for(var yt=O(H?1:0,ee?1:0)!==0?Jn(-1):Jn(0),dn=je.length-1;dn>=0;dn-=1)yt=yt.multiply(Q).add(Jn(je[dn]));return yt}f.prototype.not=function(){return this.negate().prev()},h.prototype.not=d.prototype.not=f.prototype.not,f.prototype.and=function(v){return nt(this,v,function(C,O){return C&O})},h.prototype.and=d.prototype.and=f.prototype.and,f.prototype.or=function(v){return nt(this,v,function(C,O){return C|O})},h.prototype.or=d.prototype.or=f.prototype.or,f.prototype.xor=function(v){return nt(this,v,function(C,O){return C^O})},h.prototype.xor=d.prototype.xor=f.prototype.xor;var pt=1<<30,Xt=(e&-e)*(e&-e)|pt;function We(v){var C=v.value,O=typeof C=="number"?C|pt:typeof C=="bigint"?C|BigInt(pt):C[0]+C[1]*e|Xt;return O&-O}function De(v,C){if(C.compareTo(v)<=0){var O=De(v,C.square(C)),H=O.p,ee=O.e,Z=H.multiply(C);return Z.compareTo(v)<=0?{p:Z,e:ee*2+1}:{p:H,e:ee*2}}return{p:Jn(1),e:0}}f.prototype.bitLength=function(){var v=this;return v.compareTo(Jn(0))<0&&(v=v.negate().subtract(Jn(1))),v.compareTo(Jn(0))===0?Jn(0):Jn(De(v,Jn(2)).e).add(Jn(1))},h.prototype.bitLength=d.prototype.bitLength=f.prototype.bitLength;function St(v,C){return v=_t(v),C=_t(C),v.greater(C)?v:C}function et(v,C){return v=_t(v),C=_t(C),v.lesser(C)?v:C}function gt(v,C){if(v=_t(v).abs(),C=_t(C).abs(),v.equals(C))return v;if(v.isZero())return C;if(C.isZero())return v;for(var O=u[1],H,ee;v.isEven()&&C.isEven();)H=et(We(v),We(C)),v=v.divide(H),C=C.divide(H),O=O.multiply(H);for(;v.isEven();)v=v.divide(We(v));do{for(;C.isEven();)C=C.divide(We(C));v.greater(C)&&(ee=C,C=v,v=ee),C=C.subtract(v)}while(!C.isZero());return O.isUnit()?v:v.multiply(O)}function fn(v,C){return v=_t(v).abs(),C=_t(C).abs(),v.divide(gt(v,C)).multiply(C)}function sr(v,C,O){v=_t(v),C=_t(C);var H=O||Math.random,ee=et(v,C),Z=St(v,C),se=Z.subtract(ee).add(1);if(se.isSmall)return ee.add(Math.floor(H()*se));for(var de=Qt(se,e).value,ie=[],Ie=!0,Ve=0;Ve<de.length;Ve++){var je=Ie?de[Ve]:e,yt=K(H()*je);ie.push(yt),yt<je&&(Ie=!1)}return ee.add(u.fromArray(ie,e,!1))}var Lt=function(v,C,O,H){O=O||a,v=String(v),H||(v=v.toLowerCase(),O=O.toLowerCase());var ee=v.length,Z,se=Math.abs(C),de={};for(Z=0;Z<O.length;Z++)de[O[Z]]=Z;for(Z=0;Z<ee;Z++){var ie=v[Z];if(ie!=="-"&&ie in de&&de[ie]>=se){if(ie==="1"&&se===1)continue;throw new Error(ie+" is not a valid digit in base "+C+".")}}C=_t(C);var Ie=[],Ve=v[0]==="-";for(Z=Ve?1:0;Z<v.length;Z++){var ie=v[Z];if(ie in de)Ie.push(_t(de[ie]));else if(ie==="<"){var je=Z;do Z++;while(v[Z]!==">"&&Z<v.length);Ie.push(_t(v.slice(je+1,Z)))}else throw new Error(ie+" is not a valid character")}return Bi(Ie,C,Ve)};function Bi(v,C,O){var H=u[0],ee=u[1],Z;for(Z=v.length-1;Z>=0;Z--)H=H.add(v[Z].times(ee)),ee=ee.times(C);return O?H.negate():H}function Pr(v,C){return C=C||a,v<C.length?C[v]:"<"+v+">"}function Qt(v,C){if(C=Jn(C),C.isZero()){if(v.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(C.equals(-1)){if(v.isZero())return{value:[0],isNegative:!1};if(v.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-v.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var O=Array.apply(null,Array(v.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return O.unshift([1]),{value:[].concat.apply([],O),isNegative:!1}}var H=!1;if(v.isNegative()&&C.isPositive()&&(H=!0,v=v.abs()),C.isUnit())return v.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(v.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:H};for(var ee=[],Z=v,se;Z.isNegative()||Z.compareAbs(C)>=0;){se=Z.divmod(C),Z=se.quotient;var de=se.remainder;de.isNegative()&&(de=C.minus(de).abs(),Z=Z.next()),ee.push(de.toJSNumber())}return ee.push(Z.toJSNumber()),{value:ee.reverse(),isNegative:H}}function jr(v,C,O){var H=Qt(v,C);return(H.isNegative?"-":"")+H.value.map(function(ee){return Pr(ee,O)}).join("")}f.prototype.toArray=function(v){return Qt(this,v)},d.prototype.toArray=function(v){return Qt(this,v)},h.prototype.toArray=function(v){return Qt(this,v)},f.prototype.toString=function(v,C){if(v===t&&(v=10),v!==10)return jr(this,v,C);for(var O=this.value,H=O.length,ee=String(O[--H]),Z="0000000",se;--H>=0;)se=String(O[H]),ee+=Z.slice(se.length)+se;var de=this.sign?"-":"";return de+ee},d.prototype.toString=function(v,C){return v===t&&(v=10),v!=10?jr(this,v,C):String(this.value)},h.prototype.toString=d.prototype.toString,h.prototype.toJSON=f.prototype.toJSON=d.prototype.toJSON=function(){return this.toString()},f.prototype.valueOf=function(){return parseInt(this.toString(),10)},f.prototype.toJSNumber=f.prototype.valueOf,d.prototype.valueOf=function(){return this.value},d.prototype.toJSNumber=d.prototype.valueOf,h.prototype.valueOf=h.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};function wr(v){if(m(+v)){var C=+v;if(C===K(C))return o?new h(BigInt(C)):new d(C);throw new Error("Invalid integer: "+v)}var O=v[0]==="-";O&&(v=v.slice(1));var H=v.split(/e/i);if(H.length>2)throw new Error("Invalid integer: "+H.join("e"));if(H.length===2){var ee=H[1];if(ee[0]==="+"&&(ee=ee.slice(1)),ee=+ee,ee!==K(ee)||!m(ee))throw new Error("Invalid integer: "+ee+" is not a valid exponent.");var Z=H[0],se=Z.indexOf(".");if(se>=0&&(ee-=Z.length-se-1,Z=Z.slice(0,se)+Z.slice(se+1)),ee<0)throw new Error("Cannot include negative exponent part for integers");Z+=new Array(ee+1).join("0"),v=Z}var de=/^([0-9][0-9]*)$/.test(v);if(!de)throw new Error("Invalid integer: "+v);if(o)return new h(BigInt(O?"-"+v:v));for(var ie=[],Ie=v.length,Ve=r,je=Ie-Ve;Ie>0;)ie.push(+v.slice(je,Ie)),je-=Ve,je<0&&(je=0),Ie-=Ve;return P(ie),new f(ie,O)}function Er(v){if(o)return new h(BigInt(v));if(m(v)){if(v!==K(v))throw new Error(v+" is not an integer.");return new d(v)}return wr(v.toString())}function _t(v){return typeof v=="number"?Er(v):typeof v=="string"?wr(v):typeof v=="bigint"?new h(v):v}for(var Vt=0;Vt<1e3;Vt++)u[Vt]=_t(Vt),Vt>0&&(u[-Vt]=_t(-Vt));return u.one=u[1],u.zero=u[0],u.minusOne=u[-1],u.max=St,u.min=et,u.gcd=gt,u.lcm=fn,u.isInstance=function(v){return v instanceof f||v instanceof d||v instanceof h},u.randBetween=sr,u.fromArray=function(v,C,O){return Bi(v.map(_t),_t(C||10),O)},u}();typeof Jb<"u"&&Jb.hasOwnProperty("exports")&&(Jb.exports=Jn);typeof define=="function"&&define.amd&&define(function(){return Jn})});var W7=g(z7=>{"use strict";Object.defineProperty(z7,"__esModule",{value:!0});z7.default=Axe;var wxe=Sxe(require("crypto"));function Sxe(t){return t&&t.__esModule?t:{default:t}}var av=new Uint8Array(256),iv=av.length;function Axe(){return iv>av.length-16&&(wxe.default.randomFillSync(av),iv=0),av.slice(iv,iv+=16)}});var tU=g(sv=>{"use strict";Object.defineProperty(sv,"__esModule",{value:!0});sv.default=void 0;var Cxe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;sv.default=Cxe});var Tm=g(ov=>{"use strict";Object.defineProperty(ov,"__esModule",{value:!0});ov.default=void 0;var Exe=Pxe(tU());function Pxe(t){return t&&t.__esModule?t:{default:t}}function Txe(t){return typeof t=="string"&&Exe.default.test(t)}var Ixe=Txe;ov.default=Ixe});var Im=g(uv=>{"use strict";Object.defineProperty(uv,"__esModule",{value:!0});uv.default=void 0;var kxe=Bxe(Tm());function Bxe(t){return t&&t.__esModule?t:{default:t}}var mi=[];for(let t=0;t<256;++t)mi.push((t+256).toString(16).substr(1));function Rxe(t,e=0){let r=(mi[t[e+0]]+mi[t[e+1]]+mi[t[e+2]]+mi[t[e+3]]+"-"+mi[t[e+4]]+mi[t[e+5]]+"-"+mi[t[e+6]]+mi[t[e+7]]+"-"+mi[t[e+8]]+mi[t[e+9]]+"-"+mi[t[e+10]]+mi[t[e+11]]+mi[t[e+12]]+mi[t[e+13]]+mi[t[e+14]]+mi[t[e+15]]).toLowerCase();if(!(0,kxe.default)(r))throw TypeError("Stringified UUID is invalid");return r}var Mxe=Rxe;uv.default=Mxe});var iU=g(cv=>{"use strict";Object.defineProperty(cv,"__esModule",{value:!0});cv.default=void 0;var Oxe=nU(W7()),qxe=nU(Im());function nU(t){return t&&t.__esModule?t:{default:t}}var rU,j7,$7=0,V7=0;function Dxe(t,e,r){let n=e&&r||0,i=e||new Array(16);t=t||{};let a=t.node||rU,o=t.clockseq!==void 0?t.clockseq:j7;if(a==null||o==null){let _=t.random||(t.rng||Oxe.default)();a==null&&(a=rU=[_[0]|1,_[1],_[2],_[3],_[4],_[5]]),o==null&&(o=j7=(_[6]<<8|_[7])&16383)}let u=t.msecs!==void 0?t.msecs:Date.now(),f=t.nsecs!==void 0?t.nsecs:V7+1,d=u-$7+(f-V7)/1e4;if(d<0&&t.clockseq===void 0&&(o=o+1&16383),(d<0||u>$7)&&t.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");$7=u,V7=f,j7=o,u+=122192928e5;let h=((u&268435455)*1e4+f)%4294967296;i[n++]=h>>>24&255,i[n++]=h>>>16&255,i[n++]=h>>>8&255,i[n++]=h&255;let m=u/4294967296*1e4&268435455;i[n++]=m>>>8&255,i[n++]=m&255,i[n++]=m>>>24&15|16,i[n++]=m>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(let _=0;_<6;++_)i[n+_]=a[_];return e||(0,qxe.default)(i)}var Nxe=Dxe;cv.default=Nxe});var G7=g(fv=>{"use strict";Object.defineProperty(fv,"__esModule",{value:!0});fv.default=void 0;var Lxe=Uxe(Tm());function Uxe(t){return t&&t.__esModule?t:{default:t}}function Hxe(t){if(!(0,Lxe.default)(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var Kxe=Hxe;fv.default=Kxe});var Y7=g(id=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});id.default=jxe;id.URL=id.DNS=void 0;var Fxe=aU(Im()),zxe=aU(G7());function aU(t){return t&&t.__esModule?t:{default:t}}function Wxe(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}var sU="6ba7b810-9dad-11d1-80b4-00c04fd430c8";id.DNS=sU;var oU="6ba7b811-9dad-11d1-80b4-00c04fd430c8";id.URL=oU;function jxe(t,e,r){function n(i,a,o,u){if(typeof i=="string"&&(i=Wxe(i)),typeof a=="string"&&(a=(0,zxe.default)(a)),a.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let f=new Uint8Array(16+i.length);if(f.set(a),f.set(i,a.length),f=r(f),f[6]=f[6]&15|e,f[8]=f[8]&63|128,o){u=u||0;for(let d=0;d<16;++d)o[u+d]=f[d];return o}return(0,Fxe.default)(f)}try{n.name=t}catch{}return n.DNS=sU,n.URL=oU,n}});var uU=g(dv=>{"use strict";Object.defineProperty(dv,"__esModule",{value:!0});dv.default=void 0;var $xe=Vxe(require("crypto"));function Vxe(t){return t&&t.__esModule?t:{default:t}}function Gxe(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),$xe.default.createHash("md5").update(t).digest()}var Yxe=Gxe;dv.default=Yxe});var fU=g(lv=>{"use strict";Object.defineProperty(lv,"__esModule",{value:!0});lv.default=void 0;var Jxe=cU(Y7()),Xxe=cU(uU());function cU(t){return t&&t.__esModule?t:{default:t}}var Qxe=(0,Jxe.default)("v3",48,Xxe.default),Zxe=Qxe;lv.default=Zxe});var lU=g(hv=>{"use strict";Object.defineProperty(hv,"__esModule",{value:!0});hv.default=void 0;var eye=dU(W7()),tye=dU(Im());function dU(t){return t&&t.__esModule?t:{default:t}}function rye(t,e,r){t=t||{};let n=t.random||(t.rng||eye.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return(0,tye.default)(n)}var nye=rye;hv.default=nye});var hU=g(pv=>{"use strict";Object.defineProperty(pv,"__esModule",{value:!0});pv.default=void 0;var iye=aye(require("crypto"));function aye(t){return t&&t.__esModule?t:{default:t}}function sye(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),iye.default.createHash("sha1").update(t).digest()}var oye=sye;pv.default=oye});var mU=g(mv=>{"use strict";Object.defineProperty(mv,"__esModule",{value:!0});mv.default=void 0;var uye=pU(Y7()),cye=pU(hU());function pU(t){return t&&t.__esModule?t:{default:t}}var fye=(0,uye.default)("v5",80,cye.default),dye=fye;mv.default=dye});var xU=g(xv=>{"use strict";Object.defineProperty(xv,"__esModule",{value:!0});xv.default=void 0;var lye="00000000-0000-0000-0000-000000000000";xv.default=lye});var yU=g(yv=>{"use strict";Object.defineProperty(yv,"__esModule",{value:!0});yv.default=void 0;var hye=pye(Tm());function pye(t){return t&&t.__esModule?t:{default:t}}function mye(t){if(!(0,hye.default)(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var xye=mye;yv.default=xye});var bU=g(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});Object.defineProperty(ws,"v1",{enumerable:!0,get:function(){return yye.default}});Object.defineProperty(ws,"v3",{enumerable:!0,get:function(){return bye.default}});Object.defineProperty(ws,"v4",{enumerable:!0,get:function(){return vye.default}});Object.defineProperty(ws,"v5",{enumerable:!0,get:function(){return gye.default}});Object.defineProperty(ws,"NIL",{enumerable:!0,get:function(){return _ye.default}});Object.defineProperty(ws,"version",{enumerable:!0,get:function(){return wye.default}});Object.defineProperty(ws,"validate",{enumerable:!0,get:function(){return Sye.default}});Object.defineProperty(ws,"stringify",{enumerable:!0,get:function(){return Aye.default}});Object.defineProperty(ws,"parse",{enumerable:!0,get:function(){return Cye.default}});var yye=yu(iU()),bye=yu(fU()),vye=yu(lU()),gye=yu(mU()),_ye=yu(xU()),wye=yu(yU()),Sye=yu(Tm()),Aye=yu(Im()),Cye=yu(G7());function yu(t){return t&&t.__esModule?t:{default:t}}});var Sv=g(Zl=>{"use strict";Object.defineProperty(Zl,"__esModule",{value:!0});var Tye=require("net");function Iye(t){switch(Tye.isIP(t)){case 4:return Buffer.from(t.split(".").map(i=>parseInt(i,10)));case 6:let e=t.split(":"),r=Buffer.alloc(16),n=0;e[e.length-1]===""&&(e[e.length-1]="0");for(let i=0;i<e.length;i++){if(e[i]===""){i+1<e.length&&e[i+1]!==""&&(n=16-(e.length-i-1)*2);continue}r.writeUInt16BE(parseInt(e[i],16),n),n+=2}return r;default:return null}}Zl.bytesFromIP=Iye;function kye(t){switch(t.length){case 4:return[t[0],t[1],t[2],t[3]].join(".");case 16:let e=[],r=-1,n=0,i=-1,a=0;for(let o=0;o<t.length;o+=2){let u=t[o]<<8|t[o+1];u===0?(n++,r===-1&&(r=e.length),n>a&&(a=n,i=r)):(r=-1,n=0),e.push(u.toString(16))}if(a>0){let o="",u=e.slice(i+a);e.length=i,e.length===0&&(o+=":"),u.length===0&&(o+=":"),e.push(o,...u)}return e.join(":");default:return""}}Zl.bytesToIP=kye;var Sc=Object.create(null),RU=/^[0-9.]+$/;function Bye(t){return RU.test(t)&&Sc[t]!==""?t:Sc[t]==null?"":Sc[t]}Zl.getOID=Bye;function Rye(t){return!RU.test(t)&&Sc[t]!==""||Sc[t]==null?t:Sc[t]}Zl.getOIDName=Rye;function Re(t,e){Sc[t]=e,Sc[e]=t}Re("1.2.840.113549.1.1.1","rsaEncryption");Re("1.2.840.113549.1.1.4","md5WithRsaEncryption");Re("1.2.840.113549.1.1.5","sha1WithRsaEncryption");Re("1.2.840.113549.1.1.8","mgf1");Re("1.2.840.113549.1.1.10","RSASSA-PSS");Re("1.2.840.113549.1.1.11","sha256WithRsaEncryption");Re("1.2.840.113549.1.1.12","sha384WithRsaEncryption");Re("1.2.840.113549.1.1.13","sha512WithRsaEncryption");Re("1.2.840.10045.2.1","ecEncryption");Re("1.2.840.10045.4.1","ecdsaWithSha1");Re("1.2.840.10045.4.3.2","ecdsaWithSha256");Re("1.2.840.10045.4.3.3","ecdsaWithSha384");Re("1.2.840.10045.4.3.4","ecdsaWithSha512");Re("1.2.840.10040.4.3","dsaWithSha1");Re("2.16.840.1.101.3.4.3.2","dsaWithSha256");Re("1.3.14.3.2.7","desCBC");Re("1.3.14.3.2.26","sha1");Re("2.16.840.1.101.3.4.2.1","sha256");Re("2.16.840.1.101.3.4.2.2","sha384");Re("2.16.840.1.101.3.4.2.3","sha512");Re("1.2.840.113549.2.5","md5");Re("1.3.101.110","X25519");Re("1.3.101.111","X448");Re("1.3.101.112","Ed25519");Re("1.3.101.113","Ed448");Re("1.2.840.113549.1.7.1","data");Re("1.2.840.113549.1.7.2","signedData");Re("1.2.840.113549.1.7.3","envelopedData");Re("1.2.840.113549.1.7.4","signedAndEnvelopedData");Re("1.2.840.113549.1.7.5","digestedData");Re("1.2.840.113549.1.7.6","encryptedData");Re("1.2.840.113549.1.9.1","emailAddress");Re("1.2.840.113549.1.9.2","unstructuredName");Re("1.2.840.113549.1.9.3","contentType");Re("1.2.840.113549.1.9.4","messageDigest");Re("1.2.840.113549.1.9.5","signingTime");Re("1.2.840.113549.1.9.6","counterSignature");Re("1.2.840.113549.1.9.7","challengePassword");Re("1.2.840.113549.1.9.8","unstructuredAddress");Re("1.2.840.113549.1.9.14","extensionRequest");Re("1.2.840.113549.1.9.20","friendlyName");Re("1.2.840.113549.1.9.21","localKeyId");Re("1.2.840.113549.1.9.22.1","x509Certificate");Re("1.2.840.113549.1.12.10.1.1","keyBag");Re("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");Re("1.2.840.113549.1.12.10.1.3","certBag");Re("1.2.840.113549.1.12.10.1.4","crlBag");Re("1.2.840.113549.1.12.10.1.5","secretBag");Re("1.2.840.113549.1.12.10.1.6","safeContentsBag");Re("1.2.840.113549.1.5.13","pkcs5PBES2");Re("1.2.840.113549.1.5.12","pkcs5PBKDF2");Re("1.2.840.113549.2.7","hmacWithSha1");Re("1.2.840.113549.2.9","hmacWithSha256");Re("1.2.840.113549.2.10","hmacWithSha384");Re("1.2.840.113549.2.11","hmacWithSha512");Re("1.2.840.113549.3.7","3desCBC");Re("2.16.840.1.101.3.4.1.2","aesCBC128");Re("2.16.840.1.101.3.4.1.42","aesCBC256");Re("2.5.4.3","commonName");Re("2.5.4.5","serialName");Re("2.5.4.6","countryName");Re("2.5.4.7","localityName");Re("2.5.4.8","stateOrProvinceName");Re("2.5.4.10","organizationName");Re("2.5.4.11","organizationalUnitName");Re("2.5.4.15","businessCategory");Re("2.16.840.1.113730.1.1","nsCertType");Re("2.5.29.2","keyAttributes");Re("2.5.29.4","keyUsageRestriction");Re("2.5.29.6","subtreesConstraint");Re("2.5.29.9","subjectDirectoryAttributes");Re("2.5.29.14","subjectKeyIdentifier");Re("2.5.29.15","keyUsage");Re("2.5.29.16","privateKeyUsagePeriod");Re("2.5.29.17","subjectAltName");Re("2.5.29.18","issuerAltName");Re("2.5.29.19","basicConstraints");Re("2.5.29.20","cRLNumber");Re("2.5.29.21","cRLReason");Re("2.5.29.22","expirationDate");Re("2.5.29.23","instructionCode");Re("2.5.29.24","invalidityDate");Re("2.5.29.27","deltaCRLIndicator");Re("2.5.29.28","issuingDistributionPoint");Re("2.5.29.29","certificateIssuer");Re("2.5.29.30","nameConstraints");Re("2.5.29.31","cRLDistributionPoints");Re("2.5.29.32","certificatePolicies");Re("2.5.29.33","policyMappings");Re("2.5.29.35","authorityKeyIdentifier");Re("2.5.29.36","policyConstraints");Re("2.5.29.37","extKeyUsage");Re("2.5.29.46","freshestCRL");Re("2.5.29.54","inhibitAnyPolicy");Re("1.3.6.1.4.1.311.60.2.1.2","jurisdictionST");Re("1.3.6.1.4.1.311.60.2.1.3","jurisdictionC");Re("1.3.6.1.4.1.11129.2.4.2","timestampList");Re("1.3.6.1.5.5.7.1.1","authorityInfoAccess");Re("1.3.6.1.5.5.7.3.1","serverAuth");Re("1.3.6.1.5.5.7.3.2","clientAuth");Re("1.3.6.1.5.5.7.3.3","codeSigning");Re("1.3.6.1.5.5.7.3.4","emailProtection");Re("1.3.6.1.5.5.7.3.8","timeStamping");Re("1.3.6.1.5.5.7.48.1","authorityInfoAccessOcsp");Re("1.3.6.1.5.5.7.48.2","authorityInfoAccessIssuers")});var Cv=g(($$e,Av)=>{(function(t){"use strict";var e=function(A){var k,I=new Float64Array(16);if(A)for(k=0;k<A.length;k++)I[k]=A[k];return I},r=function(){throw new Error("no PRNG")},n=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var a=e(),o=e([1]),u=e([56129,1]),f=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),d=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),m=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),_=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function w(A,k,I,x){A[k]=I>>24&255,A[k+1]=I>>16&255,A[k+2]=I>>8&255,A[k+3]=I&255,A[k+4]=x>>24&255,A[k+5]=x>>16&255,A[k+6]=x>>8&255,A[k+7]=x&255}function P(A,k,I,x,q){var te,ce=0;for(te=0;te<q;te++)ce|=A[k+te]^I[x+te];return(1&ce-1>>>8)-1}function M(A,k,I,x){return P(A,k,I,x,16)}function K(A,k,I,x){return P(A,k,I,x,32)}function Y(A,k,I,x){for(var q=x[0]&255|(x[1]&255)<<8|(x[2]&255)<<16|(x[3]&255)<<24,te=I[0]&255|(I[1]&255)<<8|(I[2]&255)<<16|(I[3]&255)<<24,ce=I[4]&255|(I[5]&255)<<8|(I[6]&255)<<16|(I[7]&255)<<24,ye=I[8]&255|(I[9]&255)<<8|(I[10]&255)<<16|(I[11]&255)<<24,Pe=I[12]&255|(I[13]&255)<<8|(I[14]&255)<<16|(I[15]&255)<<24,ct=x[4]&255|(x[5]&255)<<8|(x[6]&255)<<16|(x[7]&255)<<24,Ye=k[0]&255|(k[1]&255)<<8|(k[2]&255)<<16|(k[3]&255)<<24,or=k[4]&255|(k[5]&255)<<8|(k[6]&255)<<16|(k[7]&255)<<24,tt=k[8]&255|(k[9]&255)<<8|(k[10]&255)<<16|(k[11]&255)<<24,Et=k[12]&255|(k[13]&255)<<8|(k[14]&255)<<16|(k[15]&255)<<24,Pt=x[8]&255|(x[9]&255)<<8|(x[10]&255)<<16|(x[11]&255)<<24,kt=I[16]&255|(I[17]&255)<<8|(I[18]&255)<<16|(I[19]&255)<<24,Nt=I[20]&255|(I[21]&255)<<8|(I[22]&255)<<16|(I[23]&255)<<24,wt=I[24]&255|(I[25]&255)<<8|(I[26]&255)<<16|(I[27]&255)<<24,Bt=I[28]&255|(I[29]&255)<<8|(I[30]&255)<<16|(I[31]&255)<<24,Tt=x[12]&255|(x[13]&255)<<8|(x[14]&255)<<16|(x[15]&255)<<24,it=q,mt=te,Xe=ce,at=ye,ut=Pe,Ge=ct,le=Ye,he=or,Be=tt,Ae=Et,Ce=Pt,Oe=kt,At=Nt,Ft=wt,Ht=Bt,zt=Tt,$,Zt=0;Zt<20;Zt+=2)$=it+At|0,ut^=$<<7|$>>>32-7,$=ut+it|0,Be^=$<<9|$>>>32-9,$=Be+ut|0,At^=$<<13|$>>>32-13,$=At+Be|0,it^=$<<18|$>>>32-18,$=Ge+mt|0,Ae^=$<<7|$>>>32-7,$=Ae+Ge|0,Ft^=$<<9|$>>>32-9,$=Ft+Ae|0,mt^=$<<13|$>>>32-13,$=mt+Ft|0,Ge^=$<<18|$>>>32-18,$=Ce+le|0,Ht^=$<<7|$>>>32-7,$=Ht+Ce|0,Xe^=$<<9|$>>>32-9,$=Xe+Ht|0,le^=$<<13|$>>>32-13,$=le+Xe|0,Ce^=$<<18|$>>>32-18,$=zt+Oe|0,at^=$<<7|$>>>32-7,$=at+zt|0,he^=$<<9|$>>>32-9,$=he+at|0,Oe^=$<<13|$>>>32-13,$=Oe+he|0,zt^=$<<18|$>>>32-18,$=it+at|0,mt^=$<<7|$>>>32-7,$=mt+it|0,Xe^=$<<9|$>>>32-9,$=Xe+mt|0,at^=$<<13|$>>>32-13,$=at+Xe|0,it^=$<<18|$>>>32-18,$=Ge+ut|0,le^=$<<7|$>>>32-7,$=le+Ge|0,he^=$<<9|$>>>32-9,$=he+le|0,ut^=$<<13|$>>>32-13,$=ut+he|0,Ge^=$<<18|$>>>32-18,$=Ce+Ae|0,Oe^=$<<7|$>>>32-7,$=Oe+Ce|0,Be^=$<<9|$>>>32-9,$=Be+Oe|0,Ae^=$<<13|$>>>32-13,$=Ae+Be|0,Ce^=$<<18|$>>>32-18,$=zt+Ht|0,At^=$<<7|$>>>32-7,$=At+zt|0,Ft^=$<<9|$>>>32-9,$=Ft+At|0,Ht^=$<<13|$>>>32-13,$=Ht+Ft|0,zt^=$<<18|$>>>32-18;it=it+q|0,mt=mt+te|0,Xe=Xe+ce|0,at=at+ye|0,ut=ut+Pe|0,Ge=Ge+ct|0,le=le+Ye|0,he=he+or|0,Be=Be+tt|0,Ae=Ae+Et|0,Ce=Ce+Pt|0,Oe=Oe+kt|0,At=At+Nt|0,Ft=Ft+wt|0,Ht=Ht+Bt|0,zt=zt+Tt|0,A[0]=it>>>0&255,A[1]=it>>>8&255,A[2]=it>>>16&255,A[3]=it>>>24&255,A[4]=mt>>>0&255,A[5]=mt>>>8&255,A[6]=mt>>>16&255,A[7]=mt>>>24&255,A[8]=Xe>>>0&255,A[9]=Xe>>>8&255,A[10]=Xe>>>16&255,A[11]=Xe>>>24&255,A[12]=at>>>0&255,A[13]=at>>>8&255,A[14]=at>>>16&255,A[15]=at>>>24&255,A[16]=ut>>>0&255,A[17]=ut>>>8&255,A[18]=ut>>>16&255,A[19]=ut>>>24&255,A[20]=Ge>>>0&255,A[21]=Ge>>>8&255,A[22]=Ge>>>16&255,A[23]=Ge>>>24&255,A[24]=le>>>0&255,A[25]=le>>>8&255,A[26]=le>>>16&255,A[27]=le>>>24&255,A[28]=he>>>0&255,A[29]=he>>>8&255,A[30]=he>>>16&255,A[31]=he>>>24&255,A[32]=Be>>>0&255,A[33]=Be>>>8&255,A[34]=Be>>>16&255,A[35]=Be>>>24&255,A[36]=Ae>>>0&255,A[37]=Ae>>>8&255,A[38]=Ae>>>16&255,A[39]=Ae>>>24&255,A[40]=Ce>>>0&255,A[41]=Ce>>>8&255,A[42]=Ce>>>16&255,A[43]=Ce>>>24&255,A[44]=Oe>>>0&255,A[45]=Oe>>>8&255,A[46]=Oe>>>16&255,A[47]=Oe>>>24&255,A[48]=At>>>0&255,A[49]=At>>>8&255,A[50]=At>>>16&255,A[51]=At>>>24&255,A[52]=Ft>>>0&255,A[53]=Ft>>>8&255,A[54]=Ft>>>16&255,A[55]=Ft>>>24&255,A[56]=Ht>>>0&255,A[57]=Ht>>>8&255,A[58]=Ht>>>16&255,A[59]=Ht>>>24&255,A[60]=zt>>>0&255,A[61]=zt>>>8&255,A[62]=zt>>>16&255,A[63]=zt>>>24&255}function fe(A,k,I,x){for(var q=x[0]&255|(x[1]&255)<<8|(x[2]&255)<<16|(x[3]&255)<<24,te=I[0]&255|(I[1]&255)<<8|(I[2]&255)<<16|(I[3]&255)<<24,ce=I[4]&255|(I[5]&255)<<8|(I[6]&255)<<16|(I[7]&255)<<24,ye=I[8]&255|(I[9]&255)<<8|(I[10]&255)<<16|(I[11]&255)<<24,Pe=I[12]&255|(I[13]&255)<<8|(I[14]&255)<<16|(I[15]&255)<<24,ct=x[4]&255|(x[5]&255)<<8|(x[6]&255)<<16|(x[7]&255)<<24,Ye=k[0]&255|(k[1]&255)<<8|(k[2]&255)<<16|(k[3]&255)<<24,or=k[4]&255|(k[5]&255)<<8|(k[6]&255)<<16|(k[7]&255)<<24,tt=k[8]&255|(k[9]&255)<<8|(k[10]&255)<<16|(k[11]&255)<<24,Et=k[12]&255|(k[13]&255)<<8|(k[14]&255)<<16|(k[15]&255)<<24,Pt=x[8]&255|(x[9]&255)<<8|(x[10]&255)<<16|(x[11]&255)<<24,kt=I[16]&255|(I[17]&255)<<8|(I[18]&255)<<16|(I[19]&255)<<24,Nt=I[20]&255|(I[21]&255)<<8|(I[22]&255)<<16|(I[23]&255)<<24,wt=I[24]&255|(I[25]&255)<<8|(I[26]&255)<<16|(I[27]&255)<<24,Bt=I[28]&255|(I[29]&255)<<8|(I[30]&255)<<16|(I[31]&255)<<24,Tt=x[12]&255|(x[13]&255)<<8|(x[14]&255)<<16|(x[15]&255)<<24,it=q,mt=te,Xe=ce,at=ye,ut=Pe,Ge=ct,le=Ye,he=or,Be=tt,Ae=Et,Ce=Pt,Oe=kt,At=Nt,Ft=wt,Ht=Bt,zt=Tt,$,Zt=0;Zt<20;Zt+=2)$=it+At|0,ut^=$<<7|$>>>32-7,$=ut+it|0,Be^=$<<9|$>>>32-9,$=Be+ut|0,At^=$<<13|$>>>32-13,$=At+Be|0,it^=$<<18|$>>>32-18,$=Ge+mt|0,Ae^=$<<7|$>>>32-7,$=Ae+Ge|0,Ft^=$<<9|$>>>32-9,$=Ft+Ae|0,mt^=$<<13|$>>>32-13,$=mt+Ft|0,Ge^=$<<18|$>>>32-18,$=Ce+le|0,Ht^=$<<7|$>>>32-7,$=Ht+Ce|0,Xe^=$<<9|$>>>32-9,$=Xe+Ht|0,le^=$<<13|$>>>32-13,$=le+Xe|0,Ce^=$<<18|$>>>32-18,$=zt+Oe|0,at^=$<<7|$>>>32-7,$=at+zt|0,he^=$<<9|$>>>32-9,$=he+at|0,Oe^=$<<13|$>>>32-13,$=Oe+he|0,zt^=$<<18|$>>>32-18,$=it+at|0,mt^=$<<7|$>>>32-7,$=mt+it|0,Xe^=$<<9|$>>>32-9,$=Xe+mt|0,at^=$<<13|$>>>32-13,$=at+Xe|0,it^=$<<18|$>>>32-18,$=Ge+ut|0,le^=$<<7|$>>>32-7,$=le+Ge|0,he^=$<<9|$>>>32-9,$=he+le|0,ut^=$<<13|$>>>32-13,$=ut+he|0,Ge^=$<<18|$>>>32-18,$=Ce+Ae|0,Oe^=$<<7|$>>>32-7,$=Oe+Ce|0,Be^=$<<9|$>>>32-9,$=Be+Oe|0,Ae^=$<<13|$>>>32-13,$=Ae+Be|0,Ce^=$<<18|$>>>32-18,$=zt+Ht|0,At^=$<<7|$>>>32-7,$=At+zt|0,Ft^=$<<9|$>>>32-9,$=Ft+At|0,Ht^=$<<13|$>>>32-13,$=Ht+Ft|0,zt^=$<<18|$>>>32-18;A[0]=it>>>0&255,A[1]=it>>>8&255,A[2]=it>>>16&255,A[3]=it>>>24&255,A[4]=Ge>>>0&255,A[5]=Ge>>>8&255,A[6]=Ge>>>16&255,A[7]=Ge>>>24&255,A[8]=Ce>>>0&255,A[9]=Ce>>>8&255,A[10]=Ce>>>16&255,A[11]=Ce>>>24&255,A[12]=zt>>>0&255,A[13]=zt>>>8&255,A[14]=zt>>>16&255,A[15]=zt>>>24&255,A[16]=le>>>0&255,A[17]=le>>>8&255,A[18]=le>>>16&255,A[19]=le>>>24&255,A[20]=he>>>0&255,A[21]=he>>>8&255,A[22]=he>>>16&255,A[23]=he>>>24&255,A[24]=Be>>>0&255,A[25]=Be>>>8&255,A[26]=Be>>>16&255,A[27]=Be>>>24&255,A[28]=Ae>>>0&255,A[29]=Ae>>>8&255,A[30]=Ae>>>16&255,A[31]=Ae>>>24&255}function _e(A,k,I,x){Y(A,k,I,x)}function Je(A,k,I,x){fe(A,k,I,x)}var Ze=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function Ue(A,k,I,x,q,te,ce){var ye=new Uint8Array(16),Pe=new Uint8Array(64),ct,Ye;for(Ye=0;Ye<16;Ye++)ye[Ye]=0;for(Ye=0;Ye<8;Ye++)ye[Ye]=te[Ye];for(;q>=64;){for(_e(Pe,ye,ce,Ze),Ye=0;Ye<64;Ye++)A[k+Ye]=I[x+Ye]^Pe[Ye];for(ct=1,Ye=8;Ye<16;Ye++)ct=ct+(ye[Ye]&255)|0,ye[Ye]=ct&255,ct>>>=8;q-=64,k+=64,x+=64}if(q>0)for(_e(Pe,ye,ce,Ze),Ye=0;Ye<q;Ye++)A[k+Ye]=I[x+Ye]^Pe[Ye];return 0}function Ke(A,k,I,x,q){var te=new Uint8Array(16),ce=new Uint8Array(64),ye,Pe;for(Pe=0;Pe<16;Pe++)te[Pe]=0;for(Pe=0;Pe<8;Pe++)te[Pe]=x[Pe];for(;I>=64;){for(_e(ce,te,q,Ze),Pe=0;Pe<64;Pe++)A[k+Pe]=ce[Pe];for(ye=1,Pe=8;Pe<16;Pe++)ye=ye+(te[Pe]&255)|0,te[Pe]=ye&255,ye>>>=8;I-=64,k+=64}if(I>0)for(_e(ce,te,q,Ze),Pe=0;Pe<I;Pe++)A[k+Pe]=ce[Pe];return 0}function He(A,k,I,x,q){var te=new Uint8Array(32);Je(te,x,q,Ze);for(var ce=new Uint8Array(8),ye=0;ye<8;ye++)ce[ye]=x[ye+16];return Ke(A,k,I,ce,te)}function we(A,k,I,x,q,te,ce){var ye=new Uint8Array(32);Je(ye,te,ce,Ze);for(var Pe=new Uint8Array(8),ct=0;ct<8;ct++)Pe[ct]=te[ct+16];return Ue(A,k,I,x,q,Pe,ye)}var F=function(A){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var k,I,x,q,te,ce,ye,Pe;k=A[0]&255|(A[1]&255)<<8,this.r[0]=k&8191,I=A[2]&255|(A[3]&255)<<8,this.r[1]=(k>>>13|I<<3)&8191,x=A[4]&255|(A[5]&255)<<8,this.r[2]=(I>>>10|x<<6)&7939,q=A[6]&255|(A[7]&255)<<8,this.r[3]=(x>>>7|q<<9)&8191,te=A[8]&255|(A[9]&255)<<8,this.r[4]=(q>>>4|te<<12)&255,this.r[5]=te>>>1&8190,ce=A[10]&255|(A[11]&255)<<8,this.r[6]=(te>>>14|ce<<2)&8191,ye=A[12]&255|(A[13]&255)<<8,this.r[7]=(ce>>>11|ye<<5)&8065,Pe=A[14]&255|(A[15]&255)<<8,this.r[8]=(ye>>>8|Pe<<8)&8191,this.r[9]=Pe>>>5&127,this.pad[0]=A[16]&255|(A[17]&255)<<8,this.pad[1]=A[18]&255|(A[19]&255)<<8,this.pad[2]=A[20]&255|(A[21]&255)<<8,this.pad[3]=A[22]&255|(A[23]&255)<<8,this.pad[4]=A[24]&255|(A[25]&255)<<8,this.pad[5]=A[26]&255|(A[27]&255)<<8,this.pad[6]=A[28]&255|(A[29]&255)<<8,this.pad[7]=A[30]&255|(A[31]&255)<<8};F.prototype.blocks=function(A,k,I){for(var x=this.fin?0:2048,q,te,ce,ye,Pe,ct,Ye,or,tt,Et,Pt,kt,Nt,wt,Bt,Tt,it,mt,Xe,at=this.h[0],ut=this.h[1],Ge=this.h[2],le=this.h[3],he=this.h[4],Be=this.h[5],Ae=this.h[6],Ce=this.h[7],Oe=this.h[8],At=this.h[9],Ft=this.r[0],Ht=this.r[1],zt=this.r[2],$=this.r[3],Zt=this.r[4],xr=this.r[5],dr=this.r[6],er=this.r[7],lr=this.r[8],cr=this.r[9];I>=16;)q=A[k+0]&255|(A[k+1]&255)<<8,at+=q&8191,te=A[k+2]&255|(A[k+3]&255)<<8,ut+=(q>>>13|te<<3)&8191,ce=A[k+4]&255|(A[k+5]&255)<<8,Ge+=(te>>>10|ce<<6)&8191,ye=A[k+6]&255|(A[k+7]&255)<<8,le+=(ce>>>7|ye<<9)&8191,Pe=A[k+8]&255|(A[k+9]&255)<<8,he+=(ye>>>4|Pe<<12)&8191,Be+=Pe>>>1&8191,ct=A[k+10]&255|(A[k+11]&255)<<8,Ae+=(Pe>>>14|ct<<2)&8191,Ye=A[k+12]&255|(A[k+13]&255)<<8,Ce+=(ct>>>11|Ye<<5)&8191,or=A[k+14]&255|(A[k+15]&255)<<8,Oe+=(Ye>>>8|or<<8)&8191,At+=or>>>5|x,tt=0,Et=tt,Et+=at*Ft,Et+=ut*(5*cr),Et+=Ge*(5*lr),Et+=le*(5*er),Et+=he*(5*dr),tt=Et>>>13,Et&=8191,Et+=Be*(5*xr),Et+=Ae*(5*Zt),Et+=Ce*(5*$),Et+=Oe*(5*zt),Et+=At*(5*Ht),tt+=Et>>>13,Et&=8191,Pt=tt,Pt+=at*Ht,Pt+=ut*Ft,Pt+=Ge*(5*cr),Pt+=le*(5*lr),Pt+=he*(5*er),tt=Pt>>>13,Pt&=8191,Pt+=Be*(5*dr),Pt+=Ae*(5*xr),Pt+=Ce*(5*Zt),Pt+=Oe*(5*$),Pt+=At*(5*zt),tt+=Pt>>>13,Pt&=8191,kt=tt,kt+=at*zt,kt+=ut*Ht,kt+=Ge*Ft,kt+=le*(5*cr),kt+=he*(5*lr),tt=kt>>>13,kt&=8191,kt+=Be*(5*er),kt+=Ae*(5*dr),kt+=Ce*(5*xr),kt+=Oe*(5*Zt),kt+=At*(5*$),tt+=kt>>>13,kt&=8191,Nt=tt,Nt+=at*$,Nt+=ut*zt,Nt+=Ge*Ht,Nt+=le*Ft,Nt+=he*(5*cr),tt=Nt>>>13,Nt&=8191,Nt+=Be*(5*lr),Nt+=Ae*(5*er),Nt+=Ce*(5*dr),Nt+=Oe*(5*xr),Nt+=At*(5*Zt),tt+=Nt>>>13,Nt&=8191,wt=tt,wt+=at*Zt,wt+=ut*$,wt+=Ge*zt,wt+=le*Ht,wt+=he*Ft,tt=wt>>>13,wt&=8191,wt+=Be*(5*cr),wt+=Ae*(5*lr),wt+=Ce*(5*er),wt+=Oe*(5*dr),wt+=At*(5*xr),tt+=wt>>>13,wt&=8191,Bt=tt,Bt+=at*xr,Bt+=ut*Zt,Bt+=Ge*$,Bt+=le*zt,Bt+=he*Ht,tt=Bt>>>13,Bt&=8191,Bt+=Be*Ft,Bt+=Ae*(5*cr),Bt+=Ce*(5*lr),Bt+=Oe*(5*er),Bt+=At*(5*dr),tt+=Bt>>>13,Bt&=8191,Tt=tt,Tt+=at*dr,Tt+=ut*xr,Tt+=Ge*Zt,Tt+=le*$,Tt+=he*zt,tt=Tt>>>13,Tt&=8191,Tt+=Be*Ht,Tt+=Ae*Ft,Tt+=Ce*(5*cr),Tt+=Oe*(5*lr),Tt+=At*(5*er),tt+=Tt>>>13,Tt&=8191,it=tt,it+=at*er,it+=ut*dr,it+=Ge*xr,it+=le*Zt,it+=he*$,tt=it>>>13,it&=8191,it+=Be*zt,it+=Ae*Ht,it+=Ce*Ft,it+=Oe*(5*cr),it+=At*(5*lr),tt+=it>>>13,it&=8191,mt=tt,mt+=at*lr,mt+=ut*er,mt+=Ge*dr,mt+=le*xr,mt+=he*Zt,tt=mt>>>13,mt&=8191,mt+=Be*$,mt+=Ae*zt,mt+=Ce*Ht,mt+=Oe*Ft,mt+=At*(5*cr),tt+=mt>>>13,mt&=8191,Xe=tt,Xe+=at*cr,Xe+=ut*lr,Xe+=Ge*er,Xe+=le*dr,Xe+=he*xr,tt=Xe>>>13,Xe&=8191,Xe+=Be*Zt,Xe+=Ae*$,Xe+=Ce*zt,Xe+=Oe*Ht,Xe+=At*Ft,tt+=Xe>>>13,Xe&=8191,tt=(tt<<2)+tt|0,tt=tt+Et|0,Et=tt&8191,tt=tt>>>13,Pt+=tt,at=Et,ut=Pt,Ge=kt,le=Nt,he=wt,Be=Bt,Ae=Tt,Ce=it,Oe=mt,At=Xe,k+=16,I-=16;this.h[0]=at,this.h[1]=ut,this.h[2]=Ge,this.h[3]=le,this.h[4]=he,this.h[5]=Be,this.h[6]=Ae,this.h[7]=Ce,this.h[8]=Oe,this.h[9]=At},F.prototype.finish=function(A,k){var I=new Uint16Array(10),x,q,te,ce;if(this.leftover){for(ce=this.leftover,this.buffer[ce++]=1;ce<16;ce++)this.buffer[ce]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(x=this.h[1]>>>13,this.h[1]&=8191,ce=2;ce<10;ce++)this.h[ce]+=x,x=this.h[ce]>>>13,this.h[ce]&=8191;for(this.h[0]+=x*5,x=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=x,x=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=x,I[0]=this.h[0]+5,x=I[0]>>>13,I[0]&=8191,ce=1;ce<10;ce++)I[ce]=this.h[ce]+x,x=I[ce]>>>13,I[ce]&=8191;for(I[9]-=1<<13,q=(x^1)-1,ce=0;ce<10;ce++)I[ce]&=q;for(q=~q,ce=0;ce<10;ce++)this.h[ce]=this.h[ce]&q|I[ce];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,te=this.h[0]+this.pad[0],this.h[0]=te&65535,ce=1;ce<8;ce++)te=(this.h[ce]+this.pad[ce]|0)+(te>>>16)|0,this.h[ce]=te&65535;A[k+0]=this.h[0]>>>0&255,A[k+1]=this.h[0]>>>8&255,A[k+2]=this.h[1]>>>0&255,A[k+3]=this.h[1]>>>8&255,A[k+4]=this.h[2]>>>0&255,A[k+5]=this.h[2]>>>8&255,A[k+6]=this.h[3]>>>0&255,A[k+7]=this.h[3]>>>8&255,A[k+8]=this.h[4]>>>0&255,A[k+9]=this.h[4]>>>8&255,A[k+10]=this.h[5]>>>0&255,A[k+11]=this.h[5]>>>8&255,A[k+12]=this.h[6]>>>0&255,A[k+13]=this.h[6]>>>8&255,A[k+14]=this.h[7]>>>0&255,A[k+15]=this.h[7]>>>8&255},F.prototype.update=function(A,k,I){var x,q;if(this.leftover){for(q=16-this.leftover,q>I&&(q=I),x=0;x<q;x++)this.buffer[this.leftover+x]=A[k+x];if(I-=q,k+=q,this.leftover+=q,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(I>=16&&(q=I-I%16,this.blocks(A,k,q),k+=q,I-=q),I){for(x=0;x<I;x++)this.buffer[this.leftover+x]=A[k+x];this.leftover+=I}};function y(A,k,I,x,q,te){var ce=new F(te);return ce.update(I,x,q),ce.finish(A,k),0}function S(A,k,I,x,q,te){var ce=new Uint8Array(16);return y(ce,0,I,x,q,te),M(A,k,ce,0)}function B(A,k,I,x,q){var te;if(I<32)return-1;for(we(A,0,k,0,I,x,q),y(A,16,A,32,I-32,A),te=0;te<16;te++)A[te]=0;return 0}function D(A,k,I,x,q){var te,ce=new Uint8Array(32);if(I<32||(He(ce,0,32,x,q),S(k,16,k,32,I-32,ce)!==0))return-1;for(we(A,0,k,0,I,x,q),te=0;te<32;te++)A[te]=0;return 0}function U(A,k){var I;for(I=0;I<16;I++)A[I]=k[I]|0}function G(A){var k,I,x=1;for(k=0;k<16;k++)I=A[k]+x+65535,x=Math.floor(I/65536),A[k]=I-x*65536;A[0]+=x-1+37*(x-1)}function J(A,k,I){for(var x,q=~(I-1),te=0;te<16;te++)x=q&(A[te]^k[te]),A[te]^=x,k[te]^=x}function L(A,k){var I,x,q,te=e(),ce=e();for(I=0;I<16;I++)ce[I]=k[I];for(G(ce),G(ce),G(ce),x=0;x<2;x++){for(te[0]=ce[0]-65517,I=1;I<15;I++)te[I]=ce[I]-65535-(te[I-1]>>16&1),te[I-1]&=65535;te[15]=ce[15]-32767-(te[14]>>16&1),q=te[15]>>16&1,te[14]&=65535,J(ce,te,1-q)}for(I=0;I<16;I++)A[2*I]=ce[I]&255,A[2*I+1]=ce[I]>>8}function p(A,k){var I=new Uint8Array(32),x=new Uint8Array(32);return L(I,A),L(x,k),K(I,0,x,0)}function T(A){var k=new Uint8Array(32);return L(k,A),k[0]&1}function oe(A,k){var I;for(I=0;I<16;I++)A[I]=k[2*I]+(k[2*I+1]<<8);A[15]&=32767}function re(A,k,I){for(var x=0;x<16;x++)A[x]=k[x]+I[x]}function Q(A,k,I){for(var x=0;x<16;x++)A[x]=k[x]-I[x]}function xe(A,k,I){var x,q,te=0,ce=0,ye=0,Pe=0,ct=0,Ye=0,or=0,tt=0,Et=0,Pt=0,kt=0,Nt=0,wt=0,Bt=0,Tt=0,it=0,mt=0,Xe=0,at=0,ut=0,Ge=0,le=0,he=0,Be=0,Ae=0,Ce=0,Oe=0,At=0,Ft=0,Ht=0,zt=0,$=I[0],Zt=I[1],xr=I[2],dr=I[3],er=I[4],lr=I[5],cr=I[6],tn=I[7],yr=I[8],rn=I[9],nn=I[10],pn=I[11],_n=I[12],Wn=I[13],jn=I[14],$n=I[15];x=k[0],te+=x*$,ce+=x*Zt,ye+=x*xr,Pe+=x*dr,ct+=x*er,Ye+=x*lr,or+=x*cr,tt+=x*tn,Et+=x*yr,Pt+=x*rn,kt+=x*nn,Nt+=x*pn,wt+=x*_n,Bt+=x*Wn,Tt+=x*jn,it+=x*$n,x=k[1],ce+=x*$,ye+=x*Zt,Pe+=x*xr,ct+=x*dr,Ye+=x*er,or+=x*lr,tt+=x*cr,Et+=x*tn,Pt+=x*yr,kt+=x*rn,Nt+=x*nn,wt+=x*pn,Bt+=x*_n,Tt+=x*Wn,it+=x*jn,mt+=x*$n,x=k[2],ye+=x*$,Pe+=x*Zt,ct+=x*xr,Ye+=x*dr,or+=x*er,tt+=x*lr,Et+=x*cr,Pt+=x*tn,kt+=x*yr,Nt+=x*rn,wt+=x*nn,Bt+=x*pn,Tt+=x*_n,it+=x*Wn,mt+=x*jn,Xe+=x*$n,x=k[3],Pe+=x*$,ct+=x*Zt,Ye+=x*xr,or+=x*dr,tt+=x*er,Et+=x*lr,Pt+=x*cr,kt+=x*tn,Nt+=x*yr,wt+=x*rn,Bt+=x*nn,Tt+=x*pn,it+=x*_n,mt+=x*Wn,Xe+=x*jn,at+=x*$n,x=k[4],ct+=x*$,Ye+=x*Zt,or+=x*xr,tt+=x*dr,Et+=x*er,Pt+=x*lr,kt+=x*cr,Nt+=x*tn,wt+=x*yr,Bt+=x*rn,Tt+=x*nn,it+=x*pn,mt+=x*_n,Xe+=x*Wn,at+=x*jn,ut+=x*$n,x=k[5],Ye+=x*$,or+=x*Zt,tt+=x*xr,Et+=x*dr,Pt+=x*er,kt+=x*lr,Nt+=x*cr,wt+=x*tn,Bt+=x*yr,Tt+=x*rn,it+=x*nn,mt+=x*pn,Xe+=x*_n,at+=x*Wn,ut+=x*jn,Ge+=x*$n,x=k[6],or+=x*$,tt+=x*Zt,Et+=x*xr,Pt+=x*dr,kt+=x*er,Nt+=x*lr,wt+=x*cr,Bt+=x*tn,Tt+=x*yr,it+=x*rn,mt+=x*nn,Xe+=x*pn,at+=x*_n,ut+=x*Wn,Ge+=x*jn,le+=x*$n,x=k[7],tt+=x*$,Et+=x*Zt,Pt+=x*xr,kt+=x*dr,Nt+=x*er,wt+=x*lr,Bt+=x*cr,Tt+=x*tn,it+=x*yr,mt+=x*rn,Xe+=x*nn,at+=x*pn,ut+=x*_n,Ge+=x*Wn,le+=x*jn,he+=x*$n,x=k[8],Et+=x*$,Pt+=x*Zt,kt+=x*xr,Nt+=x*dr,wt+=x*er,Bt+=x*lr,Tt+=x*cr,it+=x*tn,mt+=x*yr,Xe+=x*rn,at+=x*nn,ut+=x*pn,Ge+=x*_n,le+=x*Wn,he+=x*jn,Be+=x*$n,x=k[9],Pt+=x*$,kt+=x*Zt,Nt+=x*xr,wt+=x*dr,Bt+=x*er,Tt+=x*lr,it+=x*cr,mt+=x*tn,Xe+=x*yr,at+=x*rn,ut+=x*nn,Ge+=x*pn,le+=x*_n,he+=x*Wn,Be+=x*jn,Ae+=x*$n,x=k[10],kt+=x*$,Nt+=x*Zt,wt+=x*xr,Bt+=x*dr,Tt+=x*er,it+=x*lr,mt+=x*cr,Xe+=x*tn,at+=x*yr,ut+=x*rn,Ge+=x*nn,le+=x*pn,he+=x*_n,Be+=x*Wn,Ae+=x*jn,Ce+=x*$n,x=k[11],Nt+=x*$,wt+=x*Zt,Bt+=x*xr,Tt+=x*dr,it+=x*er,mt+=x*lr,Xe+=x*cr,at+=x*tn,ut+=x*yr,Ge+=x*rn,le+=x*nn,he+=x*pn,Be+=x*_n,Ae+=x*Wn,Ce+=x*jn,Oe+=x*$n,x=k[12],wt+=x*$,Bt+=x*Zt,Tt+=x*xr,it+=x*dr,mt+=x*er,Xe+=x*lr,at+=x*cr,ut+=x*tn,Ge+=x*yr,le+=x*rn,he+=x*nn,Be+=x*pn,Ae+=x*_n,Ce+=x*Wn,Oe+=x*jn,At+=x*$n,x=k[13],Bt+=x*$,Tt+=x*Zt,it+=x*xr,mt+=x*dr,Xe+=x*er,at+=x*lr,ut+=x*cr,Ge+=x*tn,le+=x*yr,he+=x*rn,Be+=x*nn,Ae+=x*pn,Ce+=x*_n,Oe+=x*Wn,At+=x*jn,Ft+=x*$n,x=k[14],Tt+=x*$,it+=x*Zt,mt+=x*xr,Xe+=x*dr,at+=x*er,ut+=x*lr,Ge+=x*cr,le+=x*tn,he+=x*yr,Be+=x*rn,Ae+=x*nn,Ce+=x*pn,Oe+=x*_n,At+=x*Wn,Ft+=x*jn,Ht+=x*$n,x=k[15],it+=x*$,mt+=x*Zt,Xe+=x*xr,at+=x*dr,ut+=x*er,Ge+=x*lr,le+=x*cr,he+=x*tn,Be+=x*yr,Ae+=x*rn,Ce+=x*nn,Oe+=x*pn,At+=x*_n,Ft+=x*Wn,Ht+=x*jn,zt+=x*$n,te+=38*mt,ce+=38*Xe,ye+=38*at,Pe+=38*ut,ct+=38*Ge,Ye+=38*le,or+=38*he,tt+=38*Be,Et+=38*Ae,Pt+=38*Ce,kt+=38*Oe,Nt+=38*At,wt+=38*Ft,Bt+=38*Ht,Tt+=38*zt,q=1,x=te+q+65535,q=Math.floor(x/65536),te=x-q*65536,x=ce+q+65535,q=Math.floor(x/65536),ce=x-q*65536,x=ye+q+65535,q=Math.floor(x/65536),ye=x-q*65536,x=Pe+q+65535,q=Math.floor(x/65536),Pe=x-q*65536,x=ct+q+65535,q=Math.floor(x/65536),ct=x-q*65536,x=Ye+q+65535,q=Math.floor(x/65536),Ye=x-q*65536,x=or+q+65535,q=Math.floor(x/65536),or=x-q*65536,x=tt+q+65535,q=Math.floor(x/65536),tt=x-q*65536,x=Et+q+65535,q=Math.floor(x/65536),Et=x-q*65536,x=Pt+q+65535,q=Math.floor(x/65536),Pt=x-q*65536,x=kt+q+65535,q=Math.floor(x/65536),kt=x-q*65536,x=Nt+q+65535,q=Math.floor(x/65536),Nt=x-q*65536,x=wt+q+65535,q=Math.floor(x/65536),wt=x-q*65536,x=Bt+q+65535,q=Math.floor(x/65536),Bt=x-q*65536,x=Tt+q+65535,q=Math.floor(x/65536),Tt=x-q*65536,x=it+q+65535,q=Math.floor(x/65536),it=x-q*65536,te+=q-1+37*(q-1),q=1,x=te+q+65535,q=Math.floor(x/65536),te=x-q*65536,x=ce+q+65535,q=Math.floor(x/65536),ce=x-q*65536,x=ye+q+65535,q=Math.floor(x/65536),ye=x-q*65536,x=Pe+q+65535,q=Math.floor(x/65536),Pe=x-q*65536,x=ct+q+65535,q=Math.floor(x/65536),ct=x-q*65536,x=Ye+q+65535,q=Math.floor(x/65536),Ye=x-q*65536,x=or+q+65535,q=Math.floor(x/65536),or=x-q*65536,x=tt+q+65535,q=Math.floor(x/65536),tt=x-q*65536,x=Et+q+65535,q=Math.floor(x/65536),Et=x-q*65536,x=Pt+q+65535,q=Math.floor(x/65536),Pt=x-q*65536,x=kt+q+65535,q=Math.floor(x/65536),kt=x-q*65536,x=Nt+q+65535,q=Math.floor(x/65536),Nt=x-q*65536,x=wt+q+65535,q=Math.floor(x/65536),wt=x-q*65536,x=Bt+q+65535,q=Math.floor(x/65536),Bt=x-q*65536,x=Tt+q+65535,q=Math.floor(x/65536),Tt=x-q*65536,x=it+q+65535,q=Math.floor(x/65536),it=x-q*65536,te+=q-1+37*(q-1),A[0]=te,A[1]=ce,A[2]=ye,A[3]=Pe,A[4]=ct,A[5]=Ye,A[6]=or,A[7]=tt,A[8]=Et,A[9]=Pt,A[10]=kt,A[11]=Nt,A[12]=wt,A[13]=Bt,A[14]=Tt,A[15]=it}function nt(A,k){xe(A,k,k)}function pt(A,k){var I=e(),x;for(x=0;x<16;x++)I[x]=k[x];for(x=253;x>=0;x--)nt(I,I),x!==2&&x!==4&&xe(I,I,k);for(x=0;x<16;x++)A[x]=I[x]}function Xt(A,k){var I=e(),x;for(x=0;x<16;x++)I[x]=k[x];for(x=250;x>=0;x--)nt(I,I),x!==1&&xe(I,I,k);for(x=0;x<16;x++)A[x]=I[x]}function We(A,k,I){var x=new Uint8Array(32),q=new Float64Array(80),te,ce,ye=e(),Pe=e(),ct=e(),Ye=e(),or=e(),tt=e();for(ce=0;ce<31;ce++)x[ce]=k[ce];for(x[31]=k[31]&127|64,x[0]&=248,oe(q,I),ce=0;ce<16;ce++)Pe[ce]=q[ce],Ye[ce]=ye[ce]=ct[ce]=0;for(ye[0]=Ye[0]=1,ce=254;ce>=0;--ce)te=x[ce>>>3]>>>(ce&7)&1,J(ye,Pe,te),J(ct,Ye,te),re(or,ye,ct),Q(ye,ye,ct),re(ct,Pe,Ye),Q(Pe,Pe,Ye),nt(Ye,or),nt(tt,ye),xe(ye,ct,ye),xe(ct,Pe,or),re(or,ye,ct),Q(ye,ye,ct),nt(Pe,ye),Q(ct,Ye,tt),xe(ye,ct,u),re(ye,ye,Ye),xe(ct,ct,ye),xe(ye,Ye,tt),xe(Ye,Pe,q),nt(Pe,or),J(ye,Pe,te),J(ct,Ye,te);for(ce=0;ce<16;ce++)q[ce+16]=ye[ce],q[ce+32]=ct[ce],q[ce+48]=Pe[ce],q[ce+64]=Ye[ce];var Et=q.subarray(32),Pt=q.subarray(16);return pt(Et,Et),xe(Pt,Pt,Et),L(A,Pt),0}function De(A,k){return We(A,k,i)}function St(A,k){return r(k,32),De(A,k)}function et(A,k,I){var x=new Uint8Array(32);return We(x,I,k),Je(A,n,x,Ze)}var gt=B,fn=D;function sr(A,k,I,x,q,te){var ce=new Uint8Array(32);return et(ce,q,te),gt(A,k,I,x,ce)}function Lt(A,k,I,x,q,te){var ce=new Uint8Array(32);return et(ce,q,te),fn(A,k,I,x,ce)}var Bi=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Pr(A,k,I,x){for(var q=new Int32Array(16),te=new Int32Array(16),ce,ye,Pe,ct,Ye,or,tt,Et,Pt,kt,Nt,wt,Bt,Tt,it,mt,Xe,at,ut,Ge,le,he,Be,Ae,Ce,Oe,At=A[0],Ft=A[1],Ht=A[2],zt=A[3],$=A[4],Zt=A[5],xr=A[6],dr=A[7],er=k[0],lr=k[1],cr=k[2],tn=k[3],yr=k[4],rn=k[5],nn=k[6],pn=k[7],_n=0;x>=128;){for(ut=0;ut<16;ut++)Ge=8*ut+_n,q[ut]=I[Ge+0]<<24|I[Ge+1]<<16|I[Ge+2]<<8|I[Ge+3],te[ut]=I[Ge+4]<<24|I[Ge+5]<<16|I[Ge+6]<<8|I[Ge+7];for(ut=0;ut<80;ut++)if(ce=At,ye=Ft,Pe=Ht,ct=zt,Ye=$,or=Zt,tt=xr,Et=dr,Pt=er,kt=lr,Nt=cr,wt=tn,Bt=yr,Tt=rn,it=nn,mt=pn,le=dr,he=pn,Be=he&65535,Ae=he>>>16,Ce=le&65535,Oe=le>>>16,le=($>>>14|yr<<32-14)^($>>>18|yr<<32-18)^(yr>>>41-32|$<<32-(41-32)),he=(yr>>>14|$<<32-14)^(yr>>>18|$<<32-18)^($>>>41-32|yr<<32-(41-32)),Be+=he&65535,Ae+=he>>>16,Ce+=le&65535,Oe+=le>>>16,le=$&Zt^~$&xr,he=yr&rn^~yr&nn,Be+=he&65535,Ae+=he>>>16,Ce+=le&65535,Oe+=le>>>16,le=Bi[ut*2],he=Bi[ut*2+1],Be+=he&65535,Ae+=he>>>16,Ce+=le&65535,Oe+=le>>>16,le=q[ut%16],he=te[ut%16],Be+=he&65535,Ae+=he>>>16,Ce+=le&65535,Oe+=le>>>16,Ae+=Be>>>16,Ce+=Ae>>>16,Oe+=Ce>>>16,Xe=Ce&65535|Oe<<16,at=Be&65535|Ae<<16,le=Xe,he=at,Be=he&65535,Ae=he>>>16,Ce=le&65535,Oe=le>>>16,le=(At>>>28|er<<32-28)^(er>>>34-32|At<<32-(34-32))^(er>>>39-32|At<<32-(39-32)),he=(er>>>28|At<<32-28)^(At>>>34-32|er<<32-(34-32))^(At>>>39-32|er<<32-(39-32)),Be+=he&65535,Ae+=he>>>16,Ce+=le&65535,Oe+=le>>>16,le=At&Ft^At&Ht^Ft&Ht,he=er&lr^er&cr^lr&cr,Be+=he&65535,Ae+=he>>>16,Ce+=le&65535,Oe+=le>>>16,Ae+=Be>>>16,Ce+=Ae>>>16,Oe+=Ce>>>16,Et=Ce&65535|Oe<<16,mt=Be&65535|Ae<<16,le=ct,he=wt,Be=he&65535,Ae=he>>>16,Ce=le&65535,Oe=le>>>16,le=Xe,he=at,Be+=he&65535,Ae+=he>>>16,Ce+=le&65535,Oe+=le>>>16,Ae+=Be>>>16,Ce+=Ae>>>16,Oe+=Ce>>>16,ct=Ce&65535|Oe<<16,wt=Be&65535|Ae<<16,Ft=ce,Ht=ye,zt=Pe,$=ct,Zt=Ye,xr=or,dr=tt,At=Et,lr=Pt,cr=kt,tn=Nt,yr=wt,rn=Bt,nn=Tt,pn=it,er=mt,ut%16===15)for(Ge=0;Ge<16;Ge++)le=q[Ge],he=te[Ge],Be=he&65535,Ae=he>>>16,Ce=le&65535,Oe=le>>>16,le=q[(Ge+9)%16],he=te[(Ge+9)%16],Be+=he&65535,Ae+=he>>>16,Ce+=le&65535,Oe+=le>>>16,Xe=q[(Ge+1)%16],at=te[(Ge+1)%16],le=(Xe>>>1|at<<32-1)^(Xe>>>8|at<<32-8)^Xe>>>7,he=(at>>>1|Xe<<32-1)^(at>>>8|Xe<<32-8)^(at>>>7|Xe<<32-7),Be+=he&65535,Ae+=he>>>16,Ce+=le&65535,Oe+=le>>>16,Xe=q[(Ge+14)%16],at=te[(Ge+14)%16],le=(Xe>>>19|at<<32-19)^(at>>>61-32|Xe<<32-(61-32))^Xe>>>6,he=(at>>>19|Xe<<32-19)^(Xe>>>61-32|at<<32-(61-32))^(at>>>6|Xe<<32-6),Be+=he&65535,Ae+=he>>>16,Ce+=le&65535,Oe+=le>>>16,Ae+=Be>>>16,Ce+=Ae>>>16,Oe+=Ce>>>16,q[Ge]=Ce&65535|Oe<<16,te[Ge]=Be&65535|Ae<<16;le=At,he=er,Be=he&65535,Ae=he>>>16,Ce=le&65535,Oe=le>>>16,le=A[0],he=k[0],Be+=he&65535,Ae+=he>>>16,Ce+=le&65535,Oe+=le>>>16,Ae+=Be>>>16,Ce+=Ae>>>16,Oe+=Ce>>>16,A[0]=At=Ce&65535|Oe<<16,k[0]=er=Be&65535|Ae<<16,le=Ft,he=lr,Be=he&65535,Ae=he>>>16,Ce=le&65535,Oe=le>>>16,le=A[1],he=k[1],Be+=he&65535,Ae+=he>>>16,Ce+=le&65535,Oe+=le>>>16,Ae+=Be>>>16,Ce+=Ae>>>16,Oe+=Ce>>>16,A[1]=Ft=Ce&65535|Oe<<16,k[1]=lr=Be&65535|Ae<<16,le=Ht,he=cr,Be=he&65535,Ae=he>>>16,Ce=le&65535,Oe=le>>>16,le=A[2],he=k[2],Be+=he&65535,Ae+=he>>>16,Ce+=le&65535,Oe+=le>>>16,Ae+=Be>>>16,Ce+=Ae>>>16,Oe+=Ce>>>16,A[2]=Ht=Ce&65535|Oe<<16,k[2]=cr=Be&65535|Ae<<16,le=zt,he=tn,Be=he&65535,Ae=he>>>16,Ce=le&65535,Oe=le>>>16,le=A[3],he=k[3],Be+=he&65535,Ae+=he>>>16,Ce+=le&65535,Oe+=le>>>16,Ae+=Be>>>16,Ce+=Ae>>>16,Oe+=Ce>>>16,A[3]=zt=Ce&65535|Oe<<16,k[3]=tn=Be&65535|Ae<<16,le=$,he=yr,Be=he&65535,Ae=he>>>16,Ce=le&65535,Oe=le>>>16,le=A[4],he=k[4],Be+=he&65535,Ae+=he>>>16,Ce+=le&65535,Oe+=le>>>16,Ae+=Be>>>16,Ce+=Ae>>>16,Oe+=Ce>>>16,A[4]=$=Ce&65535|Oe<<16,k[4]=yr=Be&65535|Ae<<16,le=Zt,he=rn,Be=he&65535,Ae=he>>>16,Ce=le&65535,Oe=le>>>16,le=A[5],he=k[5],Be+=he&65535,Ae+=he>>>16,Ce+=le&65535,Oe+=le>>>16,Ae+=Be>>>16,Ce+=Ae>>>16,Oe+=Ce>>>16,A[5]=Zt=Ce&65535|Oe<<16,k[5]=rn=Be&65535|Ae<<16,le=xr,he=nn,Be=he&65535,Ae=he>>>16,Ce=le&65535,Oe=le>>>16,le=A[6],he=k[6],Be+=he&65535,Ae+=he>>>16,Ce+=le&65535,Oe+=le>>>16,Ae+=Be>>>16,Ce+=Ae>>>16,Oe+=Ce>>>16,A[6]=xr=Ce&65535|Oe<<16,k[6]=nn=Be&65535|Ae<<16,le=dr,he=pn,Be=he&65535,Ae=he>>>16,Ce=le&65535,Oe=le>>>16,le=A[7],he=k[7],Be+=he&65535,Ae+=he>>>16,Ce+=le&65535,Oe+=le>>>16,Ae+=Be>>>16,Ce+=Ae>>>16,Oe+=Ce>>>16,A[7]=dr=Ce&65535|Oe<<16,k[7]=pn=Be&65535|Ae<<16,_n+=128,x-=128}return x}function Qt(A,k,I){var x=new Int32Array(8),q=new Int32Array(8),te=new Uint8Array(256),ce,ye=I;for(x[0]=1779033703,x[1]=3144134277,x[2]=1013904242,x[3]=2773480762,x[4]=1359893119,x[5]=2600822924,x[6]=528734635,x[7]=1541459225,q[0]=4089235720,q[1]=2227873595,q[2]=4271175723,q[3]=1595750129,q[4]=2917565137,q[5]=725511199,q[6]=4215389547,q[7]=327033209,Pr(x,q,k,I),I%=128,ce=0;ce<I;ce++)te[ce]=k[ye-I+ce];for(te[I]=128,I=256-128*(I<112?1:0),te[I-9]=0,w(te,I-8,ye/536870912|0,ye<<3),Pr(x,q,te,I),ce=0;ce<8;ce++)w(A,8*ce,x[ce],q[ce]);return 0}function jr(A,k){var I=e(),x=e(),q=e(),te=e(),ce=e(),ye=e(),Pe=e(),ct=e(),Ye=e();Q(I,A[1],A[0]),Q(Ye,k[1],k[0]),xe(I,I,Ye),re(x,A[0],A[1]),re(Ye,k[0],k[1]),xe(x,x,Ye),xe(q,A[3],k[3]),xe(q,q,d),xe(te,A[2],k[2]),re(te,te,te),Q(ce,x,I),Q(ye,te,q),re(Pe,te,q),re(ct,x,I),xe(A[0],ce,ye),xe(A[1],ct,Pe),xe(A[2],Pe,ye),xe(A[3],ce,ct)}function wr(A,k,I){var x;for(x=0;x<4;x++)J(A[x],k[x],I)}function Er(A,k){var I=e(),x=e(),q=e();pt(q,k[2]),xe(I,k[0],q),xe(x,k[1],q),L(A,x),A[31]^=T(I)<<7}function _t(A,k,I){var x,q;for(U(A[0],a),U(A[1],o),U(A[2],o),U(A[3],a),q=255;q>=0;--q)x=I[q/8|0]>>(q&7)&1,wr(A,k,x),jr(k,A),jr(A,A),wr(A,k,x)}function Vt(A,k){var I=[e(),e(),e(),e()];U(I[0],h),U(I[1],m),U(I[2],o),xe(I[3],h,m),_t(A,I,k)}function v(A,k,I){var x=new Uint8Array(64),q=[e(),e(),e(),e()],te;for(I||r(k,32),Qt(x,k,32),x[0]&=248,x[31]&=127,x[31]|=64,Vt(q,x),Er(A,q),te=0;te<32;te++)k[te+32]=A[te];return 0}var C=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function O(A,k){var I,x,q,te;for(x=63;x>=32;--x){for(I=0,q=x-32,te=x-12;q<te;++q)k[q]+=I-16*k[x]*C[q-(x-32)],I=Math.floor((k[q]+128)/256),k[q]-=I*256;k[q]+=I,k[x]=0}for(I=0,q=0;q<32;q++)k[q]+=I-(k[31]>>4)*C[q],I=k[q]>>8,k[q]&=255;for(q=0;q<32;q++)k[q]-=I*C[q];for(x=0;x<32;x++)k[x+1]+=k[x]>>8,A[x]=k[x]&255}function H(A){var k=new Float64Array(64),I;for(I=0;I<64;I++)k[I]=A[I];for(I=0;I<64;I++)A[I]=0;O(A,k)}function ee(A,k,I,x){var q=new Uint8Array(64),te=new Uint8Array(64),ce=new Uint8Array(64),ye,Pe,ct=new Float64Array(64),Ye=[e(),e(),e(),e()];Qt(q,x,32),q[0]&=248,q[31]&=127,q[31]|=64;var or=I+64;for(ye=0;ye<I;ye++)A[64+ye]=k[ye];for(ye=0;ye<32;ye++)A[32+ye]=q[32+ye];for(Qt(ce,A.subarray(32),I+32),H(ce),Vt(Ye,ce),Er(A,Ye),ye=32;ye<64;ye++)A[ye]=x[ye];for(Qt(te,A,I+64),H(te),ye=0;ye<64;ye++)ct[ye]=0;for(ye=0;ye<32;ye++)ct[ye]=ce[ye];for(ye=0;ye<32;ye++)for(Pe=0;Pe<32;Pe++)ct[ye+Pe]+=te[ye]*q[Pe];return O(A.subarray(32),ct),or}function Z(A,k){var I=e(),x=e(),q=e(),te=e(),ce=e(),ye=e(),Pe=e();return U(A[2],o),oe(A[1],k),nt(q,A[1]),xe(te,q,f),Q(q,q,A[2]),re(te,A[2],te),nt(ce,te),nt(ye,ce),xe(Pe,ye,ce),xe(I,Pe,q),xe(I,I,te),Xt(I,I),xe(I,I,q),xe(I,I,te),xe(I,I,te),xe(A[0],I,te),nt(x,A[0]),xe(x,x,te),p(x,q)&&xe(A[0],A[0],_),nt(x,A[0]),xe(x,x,te),p(x,q)?-1:(T(A[0])===k[31]>>7&&Q(A[0],a,A[0]),xe(A[3],A[0],A[1]),0)}function se(A,k,I,x){var q,te=new Uint8Array(32),ce=new Uint8Array(64),ye=[e(),e(),e(),e()],Pe=[e(),e(),e(),e()];if(I<64||Z(Pe,x))return-1;for(q=0;q<I;q++)A[q]=k[q];for(q=0;q<32;q++)A[q+32]=x[q];if(Qt(ce,A,I),H(ce),_t(ye,Pe,ce),Vt(Pe,k.subarray(32)),jr(ye,Pe),Er(te,ye),I-=64,K(k,0,te,0)){for(q=0;q<I;q++)A[q]=0;return-1}for(q=0;q<I;q++)A[q]=k[q+64];return I}var de=32,ie=24,Ie=32,Ve=16,je=32,yt=32,dn=32,Gt=32,kr=32,Ia=ie,ln=Ie,hn=Ve,Wi=64,Or=32,qr=64,tc=32,$r=64;t.lowlevel={crypto_core_hsalsa20:Je,crypto_stream_xor:we,crypto_stream:He,crypto_stream_salsa20_xor:Ue,crypto_stream_salsa20:Ke,crypto_onetimeauth:y,crypto_onetimeauth_verify:S,crypto_verify_16:M,crypto_verify_32:K,crypto_secretbox:B,crypto_secretbox_open:D,crypto_scalarmult:We,crypto_scalarmult_base:De,crypto_box_beforenm:et,crypto_box_afternm:gt,crypto_box:sr,crypto_box_open:Lt,crypto_box_keypair:St,crypto_hash:Qt,crypto_sign:ee,crypto_sign_keypair:v,crypto_sign_open:se,crypto_secretbox_KEYBYTES:de,crypto_secretbox_NONCEBYTES:ie,crypto_secretbox_ZEROBYTES:Ie,crypto_secretbox_BOXZEROBYTES:Ve,crypto_scalarmult_BYTES:je,crypto_scalarmult_SCALARBYTES:yt,crypto_box_PUBLICKEYBYTES:dn,crypto_box_SECRETKEYBYTES:Gt,crypto_box_BEFORENMBYTES:kr,crypto_box_NONCEBYTES:Ia,crypto_box_ZEROBYTES:ln,crypto_box_BOXZEROBYTES:hn,crypto_sign_BYTES:Wi,crypto_sign_PUBLICKEYBYTES:Or,crypto_sign_SECRETKEYBYTES:qr,crypto_sign_SEEDBYTES:tc,crypto_hash_BYTES:$r,gf:e,D:f,L:C,pack25519:L,unpack25519:oe,M:xe,A:re,S:nt,Z:Q,pow2523:Xt,add:jr,set25519:U,modL:O,scalarmult:_t,scalarbase:Vt};function en(A,k){if(A.length!==de)throw new Error("bad key size");if(k.length!==ie)throw new Error("bad nonce size")}function rc(A,k){if(A.length!==dn)throw new Error("bad public key size");if(k.length!==Gt)throw new Error("bad secret key size")}function mr(){for(var A=0;A<arguments.length;A++)if(!(arguments[A]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Kr(A){for(var k=0;k<A.length;k++)A[k]=0}t.randomBytes=function(A){var k=new Uint8Array(A);return r(k,A),k},t.secretbox=function(A,k,I){mr(A,k,I),en(I,k);for(var x=new Uint8Array(Ie+A.length),q=new Uint8Array(x.length),te=0;te<A.length;te++)x[te+Ie]=A[te];return B(q,x,x.length,k,I),q.subarray(Ve)},t.secretbox.open=function(A,k,I){mr(A,k,I),en(I,k);for(var x=new Uint8Array(Ve+A.length),q=new Uint8Array(x.length),te=0;te<A.length;te++)x[te+Ve]=A[te];return x.length<32||D(q,x,x.length,k,I)!==0?null:q.subarray(Ie)},t.secretbox.keyLength=de,t.secretbox.nonceLength=ie,t.secretbox.overheadLength=Ve,t.scalarMult=function(A,k){if(mr(A,k),A.length!==yt)throw new Error("bad n size");if(k.length!==je)throw new Error("bad p size");var I=new Uint8Array(je);return We(I,A,k),I},t.scalarMult.base=function(A){if(mr(A),A.length!==yt)throw new Error("bad n size");var k=new Uint8Array(je);return De(k,A),k},t.scalarMult.scalarLength=yt,t.scalarMult.groupElementLength=je,t.box=function(A,k,I,x){var q=t.box.before(I,x);return t.secretbox(A,k,q)},t.box.before=function(A,k){mr(A,k),rc(A,k);var I=new Uint8Array(kr);return et(I,A,k),I},t.box.after=t.secretbox,t.box.open=function(A,k,I,x){var q=t.box.before(I,x);return t.secretbox.open(A,k,q)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var A=new Uint8Array(dn),k=new Uint8Array(Gt);return St(A,k),{publicKey:A,secretKey:k}},t.box.keyPair.fromSecretKey=function(A){if(mr(A),A.length!==Gt)throw new Error("bad secret key size");var k=new Uint8Array(dn);return De(k,A),{publicKey:k,secretKey:new Uint8Array(A)}},t.box.publicKeyLength=dn,t.box.secretKeyLength=Gt,t.box.sharedKeyLength=kr,t.box.nonceLength=Ia,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(A,k){if(mr(A,k),k.length!==qr)throw new Error("bad secret key size");var I=new Uint8Array(Wi+A.length);return ee(I,A,A.length,k),I},t.sign.open=function(A,k){if(mr(A,k),k.length!==Or)throw new Error("bad public key size");var I=new Uint8Array(A.length),x=se(I,A,A.length,k);if(x<0)return null;for(var q=new Uint8Array(x),te=0;te<q.length;te++)q[te]=I[te];return q},t.sign.detached=function(A,k){for(var I=t.sign(A,k),x=new Uint8Array(Wi),q=0;q<x.length;q++)x[q]=I[q];return x},t.sign.detached.verify=function(A,k,I){if(mr(A,k,I),k.length!==Wi)throw new Error("bad signature size");if(I.length!==Or)throw new Error("bad public key size");var x=new Uint8Array(Wi+A.length),q=new Uint8Array(Wi+A.length),te;for(te=0;te<Wi;te++)x[te]=k[te];for(te=0;te<A.length;te++)x[te+Wi]=A[te];return se(q,x,x.length,I)>=0},t.sign.keyPair=function(){var A=new Uint8Array(Or),k=new Uint8Array(qr);return v(A,k),{publicKey:A,secretKey:k}},t.sign.keyPair.fromSecretKey=function(A){if(mr(A),A.length!==qr)throw new Error("bad secret key size");for(var k=new Uint8Array(Or),I=0;I<k.length;I++)k[I]=A[32+I];return{publicKey:k,secretKey:new Uint8Array(A)}},t.sign.keyPair.fromSeed=function(A){if(mr(A),A.length!==tc)throw new Error("bad seed size");for(var k=new Uint8Array(Or),I=new Uint8Array(qr),x=0;x<32;x++)I[x]=A[x];return v(k,I,!0),{publicKey:k,secretKey:I}},t.sign.publicKeyLength=Or,t.sign.secretKeyLength=qr,t.sign.seedLength=tc,t.sign.signatureLength=Wi,t.hash=function(A){mr(A);var k=new Uint8Array($r);return Qt(k,A,A.length),k},t.hash.hashLength=$r,t.verify=function(A,k){return mr(A,k),A.length===0||k.length===0||A.length!==k.length?!1:P(A,0,k,0,A.length)===0},t.setPRNG=function(A){r=A},function(){var A=typeof self<"u"?self.crypto||self.msCrypto:null;if(A&&A.getRandomValues){var k=65536;t.setPRNG(function(I,x){var q,te=new Uint8Array(x);for(q=0;q<x;q+=k)A.getRandomValues(te.subarray(q,q+Math.min(x-q,k)));for(q=0;q<x;q++)I[q]=te[q];Kr(te)})}else typeof require<"u"&&(A=require("crypto"),A&&A.randomBytes&&t.setPRNG(function(I,x){var q,te=A.randomBytes(x);for(q=0;q<x;q++)I[q]=te[q];Kr(te)}))}()})(typeof Av<"u"&&Av.exports?Av.exports:self.nacl=self.nacl||{})});var oC=g(sC=>{"use strict";Object.defineProperty(sC,"__esModule",{value:!0});var MU=class{constructor(e,r=0,n=0){this.start=r,this.end=n>r?n:r,this.buf=e}get length(){return this.buf.length}reset(e=0,r=0){return this.start=e,r>=this.start?this.end=r:this.end<this.start&&(this.end=this.start),this}walk(e){return this.start=this.end,this.end+=e,this}mustHas(e,r="Too few bytes to parse."){let n=this.end+e;if(n>this.buf.length){let i=new Error(r);throw i.available=this.buf.length,i.requested=n,i}return this.walk(0),this}mustWalk(e,r){return this.mustHas(e,r),this.walk(e),this}};sC.BufferVisitor=MU});var DU=g(lC=>{"use strict";Object.defineProperty(lC,"__esModule",{value:!0});var OU=require("util"),qU=64,cC="-----BEGIN ",fC="-----END ",Rm="-----",uC="Proc-Type",dC=class{static parse(e){let r=[],n=e.toString("utf8").split(`
`).map(i=>i.trim()).filter(i=>i!==""&&!i.startsWith("#"));for(;n.length>0;)r.push(Mye(n));if(r.length===0)throw new Error("PEM: no block");return r}constructor(e,r){this.type=e,this.body=r,this.headers=Object.create(null)}get procType(){return this.getHeader(uC)}getHeader(e){let r=this.headers[e];return r??""}setHeader(e,r){if(e.includes(":"))throw new Error("pem: cannot encode a header key that contains a colon");if(e===""||r==="")throw new Error("pem: invalid header key or value");this.headers[e]=r}toString(){let e=cC+this.type+Rm+`
`,r=Object.keys(this.headers);if(r.length>0){let a=this.procType;a!==""&&(e+=`${uC}: ${a}
`),r.sort();for(let o of r)o!==uC&&(e+=`${o}: ${this.headers[o]}
`);e+=`
`}let n=this.body.toString("base64"),i=0;for(;i<n.length;)e+=n.slice(i,i+qU)+`
`,i+=qU;return e+=fC+this.type+Rm+`
`,e}toBuffer(){return Buffer.from(this.toString(),"utf8")}valueOf(){return this.body}toJSON(){return{type:this.type,body:this.body,headers:this.headers}}[OU.inspect.custom](e,r){return`<${this.constructor.name} ${OU.inspect(this.toJSON(),r)}>`}};lC.PEM=dC;function Mye(t){let e=t.shift();if(e==null||!e.startsWith(cC)||!e.endsWith(Rm))throw new Error("pem: invalid BEGIN line");let r=e.slice(cC.length,e.length-Rm.length);if(r==="")throw new Error("pem: invalid type");let n=[];for(e=t.shift();e!=null&&e.includes(": ");){let o=e.split(": ");if(o.length!==2||o[0]===""||o[1]==="")throw new Error("pem: invalid Header line");n.push(o),e=t.shift()}let i="";for(;e!=null&&!e.startsWith(fC);)i+=e,e=t.shift();if(e==null||e!==`${fC}${r}${Rm}`)throw new Error("pem: invalid END line");let a=new dC(r,Buffer.from(i,"base64"));if(i===""||a.body.toString("base64")!==i)throw new Error("pem: invalid base64 body");for(let o of n)a.setHeader(o[0],o[1]);return a}});var HU=g(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});var NU=require("util"),Ev=oC(),Sn;(function(t){t[t.UNIVERSAL=0]="UNIVERSAL",t[t.APPLICATION=64]="APPLICATION",t[t.CONTEXT_SPECIFIC=128]="CONTEXT_SPECIFIC",t[t.PRIVATE=192]="PRIVATE"})(Sn=Ac.Class||(Ac.Class={}));var fr;(function(t){t[t.NONE=0]="NONE",t[t.BOOLEAN=1]="BOOLEAN",t[t.INTEGER=2]="INTEGER",t[t.BITSTRING=3]="BITSTRING",t[t.OCTETSTRING=4]="OCTETSTRING",t[t.NULL=5]="NULL",t[t.OID=6]="OID",t[t.ENUMERATED=10]="ENUMERATED",t[t.UTF8=12]="UTF8",t[t.SEQUENCE=16]="SEQUENCE",t[t.SET=17]="SET",t[t.NUMERICSTRING=18]="NUMERICSTRING",t[t.PRINTABLESTRING=19]="PRINTABLESTRING",t[t.T61STRING=20]="T61STRING",t[t.IA5STRING=22]="IA5STRING",t[t.UTCTIME=23]="UTCTIME",t[t.GENERALIZEDTIME=24]="GENERALIZEDTIME",t[t.GENERALSTRING=27]="GENERALSTRING"})(fr=Ac.Tag||(Ac.Tag={}));var Pv=class{constructor(e,r){this.buf=e,this.bitLen=r}at(e){if(e<0||e>=this.bitLen||!Number.isInteger(e))return 0;let r=Math.floor(e/8),n=7-e%8;return this.buf[r]>>n&1}rightAlign(){let e=8-this.bitLen%8;if(e===8||this.buf.length===0)return this.buf;let r=Buffer.alloc(this.buf.length);r[0]=this.buf[0]>>e;for(let n=1;n<this.buf.length;n++)r[n]=this.buf[n-1]<<8-e,r[n]|=this.buf[n]>>e;return r}};Ac.BitString=Pv;var Kt=class{static Bool(e){let r=new Kt(Sn.UNIVERSAL,fr.BOOLEAN,Buffer.from([e?255:0]));return r._value=e,r}static parseBool(e){if(!(e instanceof Buffer)||e.length!==1)throw new Error("ASN1 syntax error: invalid boolean");switch(e[0]){case 0:return!1;case 255:return!0;default:throw new Error("ASN1 syntax error: invalid boolean")}}static Integer(e){if(e instanceof Buffer){let i=new Kt(Sn.UNIVERSAL,fr.INTEGER,e);return i._value=e.toString("hex"),i}if(!Number.isSafeInteger(e))throw new Error("ASN1 syntax error: invalid integer");let r;if(e>=-128&&e<128)r=Buffer.alloc(1),r.writeInt8(e,0);else if(e>=-32768&&e<32768)r=Buffer.alloc(2),r.writeIntBE(e,0,2);else if(e>=-8388608&&e<8388608)r=Buffer.alloc(3),r.writeIntBE(e,0,3);else if(e>=-2147483648&&e<2147483648)r=Buffer.alloc(4),r.writeIntBE(e,0,4);else if(e>=-549755813888&&e<549755813888)r=Buffer.alloc(5),r.writeIntBE(e,0,5);else if(e>=-140737488355328&&e<140737488355328)r=Buffer.alloc(6),r.writeIntBE(e,0,6);else throw new Error("ASN1 syntax error: invalid Integer");let n=new Kt(Sn.UNIVERSAL,fr.INTEGER,r);return n._value=e,n}static parseInteger(e){if(!(e instanceof Buffer)||e.length===0)throw new Error("ASN1 syntax error: invalid Integer");return e.length>6?e.toString("hex"):e.readIntBE(0,e.length)}static parseIntegerNum(e){let r=Kt.parseInteger(e);if(typeof r!="number")throw new Error("ASN1 syntax error: invalid Integer number");return r}static parseIntegerStr(e){let r=Kt.parseInteger(e);return typeof r=="number"?r.toString(16):r}static BitString(e){e instanceof Buffer&&(e=new Pv(e,e.length*8));let r=e.buf.length*8-e.bitLen,n=Buffer.alloc(e.buf.length+1);return n.writeInt8(r,0),e.buf.copy(n,1),new Kt(Sn.UNIVERSAL,fr.BITSTRING,n)}static parseBitString(e){if(!(e instanceof Buffer)||e.length===0)throw new Error("ASN1 syntax error: invalid BitString");let r=e[0];if(r>7||e.length===1&&r>0||(e[e.length-1]&(1<<e[0])-1)!==0)throw new Error("ASN1 syntax error: invalid padding bits in BIT STRING");return new Pv(e.slice(1),(e.length-1)*8-r)}static Null(){let e=new Kt(Sn.UNIVERSAL,fr.NULL,Buffer.alloc(0));return e._value=null,e}static parseNull(e){if(!(e instanceof Buffer)||e.length!==0)throw new Error("ASN1 syntax error: invalid null");return null}static OID(e){let r=e.split(".");if(r.length===0)throw new Error("ASN1 syntax error: invalid Object Identifier");let n=[];n.push(40*Xn(r[0])+Xn(r[1]));let i=[];for(let o=2;o<r.length;++o){let u=Xn(r[o]);for(i.length=0,i.push(u&127);u>127;)u=u>>>7,i.unshift(u&127|128);n.push(...i)}let a=new Kt(Sn.UNIVERSAL,fr.OID,Buffer.from(n));return a._value=e,a}static parseOID(e){if(!(e instanceof Buffer)||e.length===0)throw new Error("ASN1 syntax error: invalid OID");let r=Math.floor(e[0]/40)+"."+e[0]%40,n=0;for(let i=1;i<e.length;i++)e[i]>=128?(n+=e[i]&127,n=n<<7):(r+="."+(n+e[i]),n=0);return r}static UTF8(e){let r=new Kt(Sn.UNIVERSAL,fr.UTF8,Buffer.from(e,"utf8"));return r._value=e,r}static parseUTF8(e){if(!(e instanceof Buffer))throw new Error("parse ASN1 error: invalid Buffer");return e.toString("utf8")}static NumericString(e){if(!LU(e))throw new Error("ASN1 syntax error: invalid NumericString");let r=new Kt(Sn.UNIVERSAL,fr.NUMERICSTRING,Buffer.from(e,"utf8"));return r._value=e,r}static parseNumericString(e){if(!(e instanceof Buffer))throw new Error("parse ASN1 error: invalid Buffer");let r=e.toString("utf8");if(!LU(r))throw new Error("ASN1 syntax error: invalid NumericString");return r}static PrintableString(e){let r=new Kt(Sn.UNIVERSAL,fr.PRINTABLESTRING,Buffer.from(e,"utf8"));return r._value=e,r}static parsePrintableString(e){if(!(e instanceof Buffer))throw new Error("parse ASN1 error: invalid Buffer");return e.toString("utf8")}static IA5String(e){if(!UU(e))throw new Error("ASN1 syntax error: invalid IA5String");let r=new Kt(Sn.UNIVERSAL,fr.IA5STRING,Buffer.from(e,"utf8"));return r._value=e,r}static parseIA5String(e){if(!(e instanceof Buffer))throw new Error("parse ASN1 error: invalid Buffer");let r=e.toString("utf8");if(!UU(r))throw new Error("ASN1 syntax error: invalid IA5String");return r}static T61String(e){let r=new Kt(Sn.UNIVERSAL,fr.T61STRING,Buffer.from(e,"utf8"));return r._value=e,r}static parseT61String(e){if(!(e instanceof Buffer))throw new Error("parse ASN1 error: invalid Buffer");return e.toString("utf8")}static GeneralString(e){let r=new Kt(Sn.UNIVERSAL,fr.GENERALSTRING,Buffer.from(e,"utf8"));return r._value=e,r}static parseGeneralString(e){if(!(e instanceof Buffer))throw new Error("parse ASN1 error: invalid Buffer");return e.toString("utf8")}static UTCTime(e){let r="",n=[];n.push((""+e.getUTCFullYear()).substr(2)),n.push(""+(e.getUTCMonth()+1)),n.push(""+e.getUTCDate()),n.push(""+e.getUTCHours()),n.push(""+e.getUTCMinutes()),n.push(""+e.getUTCSeconds());for(let a of n)a.length<2&&(r+="0"),r+=a;r+="Z";let i=new Kt(Sn.UNIVERSAL,fr.UTCTIME,Buffer.from(r,"utf8"));return i._value=e,i}static parseUTCTime(e){if(!(e instanceof Buffer)||e.length===0)throw new Error("ASN1 syntax error: invalid UTC Time");let r=e.toString("utf8"),n=new Date,i=Xn(r.substr(0,2));i=i>=50?1900+i:2e3+i;let a=Xn(r.substr(2,2))-1,o=Xn(r.substr(4,2)),u=Xn(r.substr(6,2)),f=Xn(r.substr(8,2)),d=0,h=0,m="";if(r.length>11&&(h=10,m=r.charAt(h),m!=="+"&&m!=="-"&&(d=Xn(r.substr(10,2)),h+=2)),n.setUTCFullYear(i,a,o),n.setUTCHours(u,f,d,0),h>0&&(m=r.charAt(h),m==="+"||m==="-")){let _=Xn(r.substr(h+1,2)),w=Xn(r.substr(h+4,2)),P=_*60+w;P*=6e4,m==="+"?n.setTime(+n-P):n.setTime(+n+P)}return n}static GeneralizedTime(e){let r="",n=[];n.push(""+e.getUTCFullYear()),n.push(""+(e.getUTCMonth()+1)),n.push(""+e.getUTCDate()),n.push(""+e.getUTCHours()),n.push(""+e.getUTCMinutes()),n.push(""+e.getUTCSeconds());for(let a of n)a.length<2&&(r+="0"),r+=a;r+="Z";let i=new Kt(Sn.UNIVERSAL,fr.GENERALIZEDTIME,Buffer.from(r,"utf8"));return i._value=e,i}static parseGeneralizedTime(e){if(!(e instanceof Buffer)||e.length===0)throw new Error("ASN1 syntax error: invalid Generalized Time");let r=e.toString("utf8"),n=new Date,i=Xn(r.substr(0,4)),a=Xn(r.substr(4,2))-1,o=Xn(r.substr(6,2)),u=Xn(r.substr(8,2)),f=Xn(r.substr(10,2)),d=Xn(r.substr(12,2)),h=0,m=0,_=!1;r.charAt(r.length-1)==="Z"&&(_=!0);let w=r.length-5,P=r.charAt(w);if(P==="+"||P==="-"){let M=Xn(r.substr(w+1,2)),K=Xn(r.substr(w+4,2));m=M*60+K,m*=6e4,P==="+"&&(m*=-1),_=!0}return r.charAt(14)==="."&&(h=parseFloat(r.substr(14))*1e3),_?(n.setUTCFullYear(i,a,o),n.setUTCHours(u,f,d,h),n.setTime(+n+m)):(n.setFullYear(i,a,o),n.setHours(u,f,d,h)),n}static parseTime(e,r){switch(e){case fr.UTCTIME:return Kt.parseUTCTime(r);case fr.GENERALIZEDTIME:return Kt.parseGeneralizedTime(r);default:throw new Error("Invalid ASN1 time tag")}}static Set(e){let r=new Kt(Sn.UNIVERSAL,fr.SET,Buffer.concat(e.map(n=>n.toDER())));return r._value=e,r}static Seq(e){let r=new Kt(Sn.UNIVERSAL,fr.SEQUENCE,Buffer.concat(e.map(n=>n.toDER())));return r._value=e,r}static Spec(e,r,n=!0){let i=Array.isArray(r)?Buffer.concat(r.map(o=>o.toDER())):r.toDER();Array.isArray(r)&&(n=!0);let a=new Kt(Sn.CONTEXT_SPECIFIC,e,i,n);return a._value=r,a}static fromDER(e,r=!1){return Kt._fromDER(new Ev.BufferVisitor(e),r)}static parseDER(e,r,n){let i=Kt._fromDER(new Ev.BufferVisitor(e),!1);if(i.class!==r&&i.tag!==n)throw new Error(`invalid ASN.1 DER for class ${r} and tag ${n}`);return i}static parseDERWithTemplate(e,r){let n=Kt._fromDER(new Ev.BufferVisitor(e),!0),i={},a=n.validate(r,i);if(a!=null)throw a.data=n,a;return i}static _parseCompound(e,r){let n=[],i=e.length,a=new Ev.BufferVisitor(e),o=0;for(;o<i;){let u=a.end;n.push(Kt._fromDER(a,r)),o+=a.end-u}return n}static _fromDER(e,r){if(!(e.buf instanceof Buffer)||e.length===0)throw new Error("ASN1 syntax error: invalid Generalized Time");e.mustWalk(1,"Too few bytes to read ASN.1 tag.");let n=e.start,i=e.buf[n],a=i&192,o=i&31,u=Oye(e);if(e.mustHas(u),u!==0&&o===fr.NULL)throw new Error("invalid value length or NULL tag.");e.mustWalk(u);let f=(i&32)===32,d=new Kt(a,o,e.buf.slice(e.start,e.end),f);return f&&r&&(d._value=Kt._parseCompound(d.bytes,r)),d._der=e.buf.slice(n,e.end),d}constructor(e,r,n,i=!1){this.class=e,this.tag=r,this.bytes=n,this.isCompound=i||r===fr.SEQUENCE||r===fr.SET,this._value=void 0,this._der=null}get value(){return this._value===void 0&&(this._value=this.valueOf()),this._value}get DER(){return this._der==null&&(this._der=this.toDER()),this._der}mustCompound(e="asn1 object value is not compound"){if(!this.isCompound||!Array.isArray(this.value)){let r=new Error(e);throw r.data=this.toJSON(),r}return this.value}equals(e){return!(!(e instanceof Kt)||this.class!==e.class||this.tag!==e.tag||this.isCompound!==e.isCompound||!this.bytes.equals(e.bytes))}toDER(){let e=this.class|this.tag;this.isCompound&&(e|=32);let r=qye(this.bytes.length),n=Buffer.allocUnsafe(2+r+this.bytes.length);return n.writeInt8(e,0),r===0?(n.writeUInt8(this.bytes.length,1),this.bytes.copy(n,2)):(n.writeUInt8(r|128,1),n.writeUIntBE(this.bytes.length,2,r),this.bytes.copy(n,2+r)),n}valueOf(){if(this.isCompound)return Kt._parseCompound(this.bytes,!1);if(this.class!==Sn.UNIVERSAL)return this.bytes;switch(this.tag){case fr.BOOLEAN:return Kt.parseBool(this.bytes);case fr.INTEGER:return Kt.parseInteger(this.bytes);case fr.BITSTRING:return Kt.parseBitString(this.bytes);case fr.NULL:return Kt.parseNull(this.bytes);case fr.OID:return Kt.parseOID(this.bytes);case fr.UTF8:return Kt.parseUTF8(this.bytes);case fr.NUMERICSTRING:return Kt.parseNumericString(this.bytes);case fr.PRINTABLESTRING:return Kt.parsePrintableString(this.bytes);case fr.T61STRING:return Kt.parseT61String(this.bytes);case fr.IA5STRING:return Kt.parseIA5String(this.bytes);case fr.GENERALSTRING:return Kt.parseGeneralString(this.bytes);case fr.UTCTIME:return Kt.parseUTCTime(this.bytes);case fr.GENERALIZEDTIME:return Kt.parseGeneralizedTime(this.bytes);default:return this.bytes}}validate(e,r={}){if(this.class!==e.class)return new Error(`ASN.1 object validate failure for ${e.name} : error class ${Sn[this.class]}`);if(!(Array.isArray(e.tag)?e.tag:[e.tag]).includes(this.tag))return new Error(`ASN.1 object validate failure for ${e.name}: error tag ${fr[this.tag]}`);if(e.capture!=null&&(r[e.capture]=this),Array.isArray(e.value)){let i=this.mustCompound(`${e.name} need compound ASN1 value`);for(let a=0,o=0;a<e.value.length;a++)if(i[o]!=null){let u=i[o].validate(e.value[a],r);if(u==null)o++;else if(e.value[a].optional!==!0)return u}else if(e.value[a].optional!==!0)return new Error(`ASN.1 object validate failure for ${e.value[a].name}: not exists`)}else if(e.value!=null){let i=this.tag===fr.BITSTRING?this.bytes.slice(1):this.bytes;return Kt.fromDER(i).validate(e.value,r)}return null}toJSON(){let e=this.value;return Array.isArray(e)&&(e=e.map(r=>r.toJSON())),{class:Sn[this.class],tag:this.class===Sn.UNIVERSAL?fr[this.tag]:this.tag,value:e}}[NU.inspect.custom](e,r){return r.depth<=2&&(r.depth=10),`<${this.constructor.name} ${NU.inspect(this.toJSON(),r)}>`}};Ac.ASN1=Kt;function Oye(t){t.mustWalk(1,"Too few bytes to read ASN.1 value length.");let e=t.buf[t.start];if((e&128)===0)return e;let r=e&127;return t.mustWalk(r,"Too few bytes to read ASN.1 value length."),t.buf.readUIntBE(t.start,r)}function qye(t){if(t<=127)return 0;if(t<=255)return 1;if(t<=65535)return 2;if(t<=16777215)return 3;if(t<=4294967295)return 4;if(t<=1099511627775)return 5;if(t<=281474976710655)return 6;throw new Error("invalid value length")}function LU(t){for(let e of t){let r=e.charCodeAt(0);if(r!==32&&(r<48||r>57))return!1}return!0}function UU(t){for(let e of t)if(e.charCodeAt(0)>=128)return!1;return!0}function Xn(t,e=10){let r=parseInt(t,e);if(Number.isNaN(r))throw new Error(`Invalid numeric string "${t}" in radix ${e}.`);return r}});var hC=g(Cc=>{"use strict";Object.defineProperty(Cc,"__esModule",{value:!0});var Dye=oC();Cc.BufferVisitor=Dye.BufferVisitor;var Nye=DU();Cc.PEM=Nye.PEM;var Tv=HU();Cc.ASN1=Tv.ASN1;Cc.Class=Tv.Class;Cc.Tag=Tv.Tag;Cc.BitString=Tv.BitString});var mC=g(yo=>{"use strict";Object.defineProperty(yo,"__esModule",{value:!0});var Pc=require("util"),Mm=require("crypto"),pC=Cv(),Fe=hC(),Si=Sv();yo.publicKeyValidator={name:"PublicKeyInfo",class:Fe.Class.UNIVERSAL,tag:Fe.Tag.SEQUENCE,capture:"publicKeyInfo",value:[{name:"PublicKeyInfo.AlgorithmIdentifier",class:Fe.Class.UNIVERSAL,tag:Fe.Tag.SEQUENCE,value:[{name:"PublicKeyAlgorithmIdentifier.algorithm",class:Fe.Class.UNIVERSAL,tag:Fe.Tag.OID,capture:"publicKeyOID"}]},{name:"PublicKeyInfo.PublicKey",class:Fe.Class.UNIVERSAL,tag:Fe.Tag.BITSTRING,capture:"publicKey"}]};yo.privateKeyValidator={name:"PrivateKeyInfo",class:Fe.Class.UNIVERSAL,tag:Fe.Tag.SEQUENCE,capture:"privateKeyInfo",value:[{name:"PrivateKeyInfo.Version",class:Fe.Class.UNIVERSAL,tag:Fe.Tag.INTEGER,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.AlgorithmIdentifier",class:Fe.Class.UNIVERSAL,tag:Fe.Tag.SEQUENCE,value:[{name:"PrivateKeyAlgorithmIdentifier.algorithm",class:Fe.Class.UNIVERSAL,tag:Fe.Tag.OID,capture:"privateKeyOID"}]},{name:"PrivateKeyInfo.PrivateKey",class:Fe.Class.UNIVERSAL,tag:Fe.Tag.OCTETSTRING,capture:"privateKey"}]};var Lye={name:"RSAPublicKey",class:Fe.Class.UNIVERSAL,tag:Fe.Tag.SEQUENCE,value:[{name:"RSAPublicKey.modulus",class:Fe.Class.UNIVERSAL,tag:Fe.Tag.INTEGER,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",class:Fe.Class.UNIVERSAL,tag:Fe.Tag.INTEGER,capture:"publicKeyExponent"}]},Uye={name:"RSAPrivateKey",class:Fe.Class.UNIVERSAL,tag:Fe.Tag.SEQUENCE,value:[{name:"RSAPrivateKey.version",class:Fe.Class.UNIVERSAL,tag:Fe.Tag.INTEGER,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",class:Fe.Class.UNIVERSAL,tag:Fe.Tag.INTEGER,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",class:Fe.Class.UNIVERSAL,tag:Fe.Tag.INTEGER,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",class:Fe.Class.UNIVERSAL,tag:Fe.Tag.INTEGER,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",class:Fe.Class.UNIVERSAL,tag:Fe.Tag.INTEGER,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",class:Fe.Class.UNIVERSAL,tag:Fe.Tag.INTEGER,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",class:Fe.Class.UNIVERSAL,tag:Fe.Tag.INTEGER,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",class:Fe.Class.UNIVERSAL,tag:Fe.Tag.INTEGER,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",class:Fe.Class.UNIVERSAL,tag:Fe.Tag.INTEGER,capture:"privateKeyCoefficient"}]},Hye=[Si.getOID("X25519"),Si.getOID("X448"),Si.getOID("Ed25519"),Si.getOID("Ed448")],Ss=class{constructor(e){let r={},n=e.validate(yo.publicKeyValidator,r);if(n!=null)throw new Error("Cannot read X.509 public key: "+n.message);this.oid=Fe.ASN1.parseOID(r.publicKeyOID.bytes),this.algo=Si.getOIDName(this.oid),this._pkcs8=e,this._keyRaw=Fe.ASN1.parseBitString(r.publicKey.bytes).buf,this._finalKey=this._keyRaw,this._finalPEM=""}static fromPEM(e){let r=Fe.PEM.parse(e)[0];if(r.procType.includes("ENCRYPTED"))throw new Error("Could not convert public key from PEM, PEM is encrypted.");let n=Fe.ASN1.fromDER(r.body,!0);switch(r.type){case"PUBLIC KEY":return new Ss(n);case"RSA PUBLIC KEY":let i=Fe.ASN1.Seq([Fe.ASN1.Seq([Fe.ASN1.OID(Si.getOID("rsaEncryption")),Fe.ASN1.Null()]),Fe.ASN1.BitString(n.DER)]);return new Ss(i);default:throw new Error("Could not convert public key from PEM, recommend PKCS#8 PEM")}}static addVerifier(e,r){if(e=Si.getOID(e),e==="")throw new Error(`Invalid object identifier: ${e}`);if(Ss._verifiers[e]!=null)throw new Error(`Verifier ${e} exists`);Ss._verifiers[e]=r}get keyRaw(){return this._finalKey}verify(e,r,n){let i=Ss._verifiers[this.oid];if(i!=null){let o=Mm.createHash(n).update(e).digest();return i.call(this,o,r)}let a=Mm.createVerify(n);return a.update(e),a.verify(this.toPEM(),r)}getFingerprint(e,r="PublicKey"){let n;switch(r){case"PublicKeyInfo":n=this._pkcs8.DER;break;case"PublicKey":n=this._keyRaw;break;default:throw new Error(`Unknown fingerprint type "${r}".`)}let i=Mm.createHash(e);return i.update(n),i.digest()}toASN1(){return this._pkcs8}toDER(){return this._pkcs8.DER}toPEM(){return this._finalPEM===""&&(this._finalPEM=new Fe.PEM("PUBLIC KEY",this._pkcs8.DER).toString()),this._finalPEM}toJSON(){return{oid:this.oid,algo:this.algo,publicKey:this._keyRaw}}[Pc.inspect.custom](e,r){return`<${this.constructor.name} ${Pc.inspect(this.toJSON(),r)}>`}};Ss._verifiers=Object.create(null);yo.PublicKey=Ss;var As=class{constructor(e){let r=Object.create(null),n=e.validate(yo.privateKeyValidator,r);if(n!=null)throw new Error("Cannot read X.509 private key: "+n.message);if(this.version=Fe.ASN1.parseIntegerNum(r.privateKeyVersion.bytes)+1,this.oid=Fe.ASN1.parseOID(r.privateKeyOID.bytes),this.algo=Si.getOIDName(this.oid),this._pkcs8=e,this._keyRaw=r.privateKey.bytes,this._publicKeyRaw=null,this._finalKey=this._keyRaw,this._finalPEM="",Hye.includes(this.oid)){if(this._finalKey=this._keyRaw=Fe.ASN1.parseDER(this._keyRaw,Fe.Class.UNIVERSAL,Fe.Tag.OCTETSTRING).bytes,this.oid==="1.3.101.112"){let i=pC.sign.keyPair.fromSeed(this._keyRaw);this._publicKeyRaw=Buffer.from(i.publicKey),this._finalKey=Buffer.from(i.secretKey)}else if(this.version===2)for(let i of e.mustCompound())i.class===Fe.Class.CONTEXT_SPECIFIC&&i.tag===1&&(this._publicKeyRaw=Fe.ASN1.parseBitString(i.bytes).buf,this._finalKey=Buffer.concat([this._keyRaw,this._publicKeyRaw]))}}static fromPEM(e){let r=Fe.PEM.parse(e)[0];if(r.procType.includes("ENCRYPTED"))throw new Error("Could not convert private key from PEM, PEM is encrypted.");let n=Fe.ASN1.fromDER(r.body,!0);switch(r.type){case"PRIVATE KEY":return new As(n);case"RSA PRIVATE KEY":return n=Fe.ASN1.Seq([n.value[0],Fe.ASN1.Seq([Fe.ASN1.OID(Si.getOID("rsaEncryption")),Fe.ASN1.Null()]),new Fe.ASN1(Fe.Class.UNIVERSAL,Fe.Tag.OCTETSTRING,n.DER)]),new As(n);default:throw new Error("Could not convert private key from PEM, recommend PKCS#8 PEM")}}static addSigner(e,r){if(e=Si.getOID(e),e==="")throw new Error(`Invalid object identifier: ${e}`);if(As._signers[e]!=null)throw new Error(`Signer ${e} exists`);As._signers[e]=r}get keyRaw(){return this._finalKey}get publicKeyRaw(){return this._publicKeyRaw}sign(e,r){let n=As._signers[this.oid];if(n!=null){let a=Mm.createHash(r).update(e).digest();return n.call(this,a)}let i=Mm.createSign(r);return i.update(e),i.sign(this.toPEM())}toASN1(){return this._pkcs8}toDER(){return this._pkcs8.DER}toPEM(){return this._finalPEM===""&&(this._finalPEM=new Fe.PEM("PRIVATE KEY",this._pkcs8.DER).toString()),this._finalPEM}toJSON(){return{version:this.version,oid:this.oid,algo:this.algo,privateKey:this._keyRaw,publicKey:this._publicKeyRaw}}[Pc.inspect.custom](e,r){return`<${this.constructor.name} ${Pc.inspect(this.toJSON(),r)}>`}};As._signers=Object.create(null);yo.PrivateKey=As;var Iv=class extends Ss{static fromPublicKey(e){return new Iv(e.toASN1())}constructor(e){super(e);if(Si.getOID(this.oid)!==Si.getOID("rsaEncryption"))throw new Error(`Invalid RSA public key, unknown OID: ${this.oid}`);let r=Object.create(null);this._pkcs1=Fe.ASN1.fromDER(this._keyRaw,!0);let n=this._pkcs1.validate(Lye,r);if(n!=null)throw new Error("Cannot read RSA public key: "+n.message);this.modulus=Fe.ASN1.parseIntegerStr(r.publicKeyModulus.bytes),this.exponent=Fe.ASN1.parseIntegerNum(r.publicKeyExponent.bytes)}toASN1(){return this._pkcs1}toDER(){return this._keyRaw}toPEM(){return this._finalPEM===""&&(this._finalPEM=new Fe.PEM("RSA PUBLIC KEY",this._keyRaw).toString()),this._finalPEM}toPublicKeyPEM(){return new Fe.PEM("PUBLIC KEY",this._pkcs8.DER).toString()}toJSON(){return{oid:this.oid,algo:this.algo,modulus:Ec(this.modulus),exponent:this.exponent}}[Pc.inspect.custom](e,r){return`<${this.constructor.name} ${Pc.inspect(this.toJSON(),r)}>`}};yo.RSAPublicKey=Iv;var kv=class extends As{static fromPrivateKey(e){return new kv(e.toASN1())}constructor(e){super(e);if(Si.getOID(this.oid)!==Si.getOID("rsaEncryption"))throw new Error(`Invalid RSA private key, unknown OID: ${this.oid}`);let r=Object.create(null);this._pkcs1=Fe.ASN1.fromDER(this._keyRaw,!0);let n=this._pkcs1.validate(Uye,r);if(n!=null)throw new Error("Cannot read RSA private key: "+n.message);this.publicExponent=Fe.ASN1.parseIntegerNum(r.privateKeyPublicExponent.bytes),this.privateExponent=Fe.ASN1.parseIntegerStr(r.privateKeyPrivateExponent.bytes),this.modulus=Fe.ASN1.parseIntegerStr(r.privateKeyModulus.bytes),this.prime1=Fe.ASN1.parseIntegerStr(r.privateKeyPrime1.bytes),this.prime2=Fe.ASN1.parseIntegerStr(r.privateKeyPrime2.bytes),this.exponent1=Fe.ASN1.parseIntegerStr(r.privateKeyExponent1.bytes),this.exponent2=Fe.ASN1.parseIntegerStr(r.privateKeyExponent2.bytes),this.coefficient=Fe.ASN1.parseIntegerStr(r.privateKeyCoefficient.bytes)}toASN1(){return this._pkcs1}toDER(){return this._keyRaw}toPEM(){return this._finalPEM===""&&(this._finalPEM=new Fe.PEM("RSA PRIVATE KEY",this._keyRaw).toString()),this._finalPEM}toPrivateKeyPEM(){return new Fe.PEM("PRIVATE KEY",this._pkcs8.DER).toString()}toJSON(){return{version:this.version,oid:this.oid,algo:this.algo,publicExponent:this.publicExponent,privateExponent:Ec(this.privateExponent),modulus:Ec(this.modulus),prime1:Ec(this.prime1),prime2:Ec(this.prime2),exponent1:Ec(this.exponent1),exponent2:Ec(this.exponent2),coefficient:Ec(this.coefficient)}}[Pc.inspect.custom](e,r){return`<${this.constructor.name} ${Pc.inspect(this.toJSON(),r)}>`}};yo.RSAPrivateKey=kv;function Ec(t){return t.length%8!==0&&t.startsWith("00")?t.slice(2):t}Ss.addVerifier(Si.getOID("Ed25519"),function(t,e){return pC.sign.detached.verify(t,e,this.keyRaw)});As.addSigner(Si.getOID("Ed25519"),function(t){let e=this.keyRaw;if(e.length!==64)throw new Error("Invalid signing key.");return Buffer.from(pC.sign.detached(t,e))})});var $U=g(Rv=>{"use strict";Object.defineProperty(Rv,"__esModule",{value:!0});var KU=require("util"),Kye=require("crypto"),qe=hC(),Ai=Sv(),jU=mC(),Qn=Object.create(null);Qn.CN=Ai.getOID("commonName");Qn.commonName="CN";Qn.C=Ai.getOID("countryName");Qn.countryName="C";Qn.L=Ai.getOID("localityName");Qn.localityName="L";Qn.ST=Ai.getOID("stateOrProvinceName");Qn.stateOrProvinceName="ST";Qn.O=Ai.getOID("organizationName");Qn.organizationName="O";Qn.OU=Ai.getOID("organizationalUnitName");Qn.organizationalUnitName="OU";Qn.E=Ai.getOID("emailAddress");Qn.emailAddress="E";function Fye(t){return Qn[t]==null?"":Qn[t]}var zye={name:"Certificate",class:qe.Class.UNIVERSAL,tag:qe.Tag.SEQUENCE,value:[{name:"Certificate.TBSCertificate",class:qe.Class.UNIVERSAL,tag:qe.Tag.SEQUENCE,capture:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",class:qe.Class.CONTEXT_SPECIFIC,tag:qe.Tag.NONE,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",class:qe.Class.UNIVERSAL,tag:qe.Tag.INTEGER,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",class:qe.Class.UNIVERSAL,tag:qe.Tag.INTEGER,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",class:qe.Class.UNIVERSAL,tag:qe.Tag.SEQUENCE,value:[{name:"Certificate.TBSCertificate.signature.algorithm",class:qe.Class.UNIVERSAL,tag:qe.Tag.OID,capture:"certinfoSignatureOID"},{name:"Certificate.TBSCertificate.signature.parameters",class:qe.Class.UNIVERSAL,tag:qe.Tag.OCTETSTRING,optional:!0,capture:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",class:qe.Class.UNIVERSAL,tag:qe.Tag.SEQUENCE,capture:"certIssuer"},{name:"Certificate.TBSCertificate.validity",class:qe.Class.UNIVERSAL,tag:qe.Tag.SEQUENCE,value:[{name:"Certificate.TBSCertificate.validity.notBefore",class:qe.Class.UNIVERSAL,tag:[qe.Tag.UTCTIME,qe.Tag.GENERALIZEDTIME],capture:"certValidityNotBefore"},{name:"Certificate.TBSCertificate.validity.notAfter",class:qe.Class.UNIVERSAL,tag:[qe.Tag.UTCTIME,qe.Tag.GENERALIZEDTIME],capture:"certValidityNotAfter"}]},{name:"Certificate.TBSCertificate.subject",class:qe.Class.UNIVERSAL,tag:qe.Tag.SEQUENCE,capture:"certSubject"},jU.publicKeyValidator,{name:"Certificate.TBSCertificate.issuerUniqueID",class:qe.Class.CONTEXT_SPECIFIC,tag:qe.Tag.BOOLEAN,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",class:qe.Class.UNIVERSAL,tag:qe.Tag.BITSTRING,capture:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",class:qe.Class.CONTEXT_SPECIFIC,tag:qe.Tag.INTEGER,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",class:qe.Class.UNIVERSAL,tag:qe.Tag.BITSTRING,capture:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",class:qe.Class.CONTEXT_SPECIFIC,tag:qe.Tag.BITSTRING,capture:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",class:qe.Class.UNIVERSAL,tag:qe.Tag.SEQUENCE,value:[{name:"Certificate.signatureAlgorithm.algorithm",class:qe.Class.UNIVERSAL,tag:qe.Tag.OID,capture:"certSignatureOID"},{name:"Certificate.TBSCertificate.signature.parameters",class:qe.Class.UNIVERSAL,tag:qe.Tag.OCTETSTRING,optional:!0,capture:"certSignatureParams"}]},{name:"Certificate.signatureValue",class:qe.Class.UNIVERSAL,tag:qe.Tag.BITSTRING,capture:"certSignature"}]},Bv=class{constructor(){this.attributes=[],this.uniqueId=null}get commonName(){return this.getFieldValue("commonName")}get organizationName(){return this.getFieldValue("organizationName")}get organizationalUnitName(){return this.getFieldValue("organizationalUnitName")}get countryName(){return this.getFieldValue("countryName")}get localityName(){return this.getFieldValue("localityName")}get serialName(){return this.getFieldValue("serialName")}getHash(){let e=Kye.createHash("sha1");for(let r of this.attributes)e.update(r.oid),e.update(r.value);return e.digest()}getField(e){for(let r of this.attributes)if(e===r.oid||e===r.name||e===r.shortName)return r;return null}addField(e){zU([e]),this.attributes.push(e)}setAttrs(e){zU(e),this.attributes=e}toJSON(){let e={};for(let r of this.attributes){let n=r.shortName;typeof n=="string"&&n!==""&&(e[n]=r.value)}return e.uniqueId=this.uniqueId,e.attributes=this.attributes,e}getFieldValue(e){let r=this.getField(e);return r!=null?r.value:""}};Rv.DistinguishedName=Bv;var Om=class{static fromPEMs(e){let r=[],n=qe.PEM.parse(e);for(let i of n){if(i.type!=="CERTIFICATE"&&i.type!=="X509 CERTIFICATE"&&i.type!=="TRUSTED CERTIFICATE")throw new Error("Could not convert certificate from PEM: invalid type");if(i.procType.includes("ENCRYPTED"))throw new Error("Could not convert certificate from PEM: PEM is encrypted.");let a=qe.ASN1.fromDER(i.body);r.push(new Om(a))}if(r.length===0)throw new Error("No Certificate");return r}static fromPEM(e){return Om.fromPEMs(e)[0]}constructor(e){let r=Object.create(null),n=e.validate(zye,r);if(n!=null)throw new Error("Cannot read X.509 certificate: "+n.message);if(this.raw=e.DER,this.version=r.certVersion==null?0:qe.ASN1.parseIntegerNum(r.certVersion.bytes)+1,this.serialNumber=qe.ASN1.parseIntegerStr(r.certSerialNumber.bytes),this.signatureOID=qe.ASN1.parseOID(r.certSignatureOID.bytes),this.signatureAlgorithm=Ai.getOIDName(this.signatureOID),this.infoSignatureOID=qe.ASN1.parseOID(r.certinfoSignatureOID.bytes),this.signature=qe.ASN1.parseBitString(r.certSignature.bytes).buf,this.validFrom=qe.ASN1.parseTime(r.certValidityNotBefore.tag,r.certValidityNotBefore.bytes),this.validTo=qe.ASN1.parseTime(r.certValidityNotAfter.tag,r.certValidityNotAfter.bytes),this.issuer=new Bv,this.issuer.setAttrs(WU(r.certIssuer)),r.certIssuerUniqueId!=null&&(this.issuer.uniqueId=qe.ASN1.parseBitString(r.certIssuerUniqueId.bytes)),this.subject=new Bv,this.subject.setAttrs(WU(r.certSubject)),r.certSubjectUniqueId!=null&&(this.subject.uniqueId=qe.ASN1.parseBitString(r.certSubjectUniqueId.bytes)),this.extensions=[],this.subjectKeyIdentifier="",this.authorityKeyIdentifier="",this.ocspServer="",this.issuingCertificateURL="",this.isCA=!1,this.maxPathLen=-1,this.basicConstraintsValid=!1,this.keyUsage=0,this.dnsNames=[],this.emailAddresses=[],this.ipAddresses=[],this.uris=[],r.certExtensions!=null){this.extensions=Wye(r.certExtensions);for(let i of this.extensions)if(typeof i.subjectKeyIdentifier=="string"&&(this.subjectKeyIdentifier=i.subjectKeyIdentifier),typeof i.authorityKeyIdentifier=="string"&&(this.authorityKeyIdentifier=i.authorityKeyIdentifier),typeof i.authorityInfoAccessOcsp=="string"&&(this.ocspServer=i.authorityInfoAccessOcsp),typeof i.authorityInfoAccessIssuers=="string"&&(this.issuingCertificateURL=i.authorityInfoAccessIssuers),typeof i.basicConstraintsValid=="boolean"&&(this.isCA=i.isCA,this.maxPathLen=i.maxPathLen,this.basicConstraintsValid=i.basicConstraintsValid),typeof i.keyUsage=="number"&&(this.keyUsage=i.keyUsage),Array.isArray(i.altNames))for(let a of i.altNames)a.dnsName!=null&&this.dnsNames.push(a.dnsName),a.email!=null&&this.emailAddresses.push(a.email),a.ip!=null&&this.ipAddresses.push(a.ip),a.uri!=null&&this.uris.push(a.uri)}this.publicKey=new jU.PublicKey(r.publicKeyInfo),this.publicKeyRaw=this.publicKey.toDER(),this.tbsCertificate=r.tbsCertificate}getExtension(e,r=""){for(let n of this.extensions)if(e===n.oid||e===n.name)return r===""?n:n[r];return null}checkSignature(e){if(this.version===3&&!this.basicConstraintsValid||this.basicConstraintsValid&&!this.isCA)return new Error("The parent constraint violation error");if(this.getExtension("keyUsage","keyCertSign")!==!0)return new Error("The parent constraint violation error");if(!e.isIssuer(this))return new Error("The parent certificate did not issue the given child certificate");let r=rbe(e.signatureOID);return r===""?new Error("Unknown child signature OID."):this.publicKey.verify(e.tbsCertificate.DER,e.signature,r)===!1?new Error("Child signature not matched"):null}isIssuer(e){return this.issuer.getHash().equals(e.subject.getHash())}verifySubjectKeyIdentifier(){return this.publicKey.getFingerprint("sha1","PublicKey").toString("hex")===this.subjectKeyIdentifier}toJSON(){let e={};for(let r of Object.keys(this))e[r]=nbe(this[r]);return delete e.tbsCertificate,e}[KU.inspect.custom](e,r){return r.depth<=2&&(r.depth=10),`<${this.constructor.name} ${KU.inspect(this.toJSON(),r)}>`}};Rv.Certificate=Om;function Wye(t){let e=[];for(let r of t.mustCompound())for(let n of r.mustCompound())e.push(jye(n));return e}function jye(t){let e={};switch(e.oid=qe.ASN1.parseOID(t.value[0].bytes),e.critical=!1,t.value[1].tag===qe.Tag.BOOLEAN?(e.critical=qe.ASN1.parseBool(t.value[1].bytes),e.value=t.value[2].bytes):e.value=t.value[1].bytes,e.name=Ai.getOIDName(e.oid),e.name){case"keyUsage":$ye(e);break;case"basicConstraints":Vye(e);break;case"extKeyUsage":Gye(e);break;case"nsCertType":Yye(e);break;case"subjectAltName":FU(e);break;case"issuerAltName":FU(e);break;case"subjectKeyIdentifier":Xye(e);break;case"authorityKeyIdentifier":Zye(e);break;case"authorityInfoAccess":tbe(e);break}return e}function $ye(t){let e=qe.ASN1.parseBitString(qe.ASN1.fromDER(t.value).bytes),r=0,n=0;t.keyUsage=0;for(let i=0;i<9;i++)e.at(i)!==0&&(t.keyUsage|=1<<i);e.buf.length>0&&(r=e.buf[0],n=e.buf.length>1?e.buf[1]:0),t.digitalSignature=(r&128)===128,t.nonRepudiation=(r&64)===64,t.keyEncipherment=(r&32)===32,t.dataEncipherment=(r&16)===16,t.keyAgreement=(r&8)===8,t.keyCertSign=(r&4)===4,t.cRLSign=(r&2)===2,t.encipherOnly=(r&1)===1,t.decipherOnly=(n&128)===128}function Vye(t){let r=qe.ASN1.fromDER(t.value).mustCompound();r.length>0&&r[0].tag===qe.Tag.BOOLEAN?t.isCA=qe.ASN1.parseBool(r[0].bytes):t.isCA=!1;let n=null;r.length>0&&r[0].tag===qe.Tag.INTEGER?n=r[0].bytes:r.length>1&&(n=r[1].bytes),n!==null?t.maxPathLen=qe.ASN1.parseInteger(n):t.maxPathLen=-1,t.basicConstraintsValid=!0}function Gye(t){let r=qe.ASN1.fromDER(t.value).mustCompound();for(let n of r)t[Ai.getOIDName(qe.ASN1.parseOID(n.bytes))]=!0}function Yye(t){let e=qe.ASN1.parseBitString(qe.ASN1.fromDER(t.value).bytes),r=0;e.buf.length>0&&(r=e.buf[0]),t.client=(r&128)===128,t.server=(r&64)===64,t.email=(r&32)===32,t.objsign=(r&16)===16,t.reserved=(r&8)===8,t.sslCA=(r&4)===4,t.emailCA=(r&2)===2,t.objCA=(r&1)===1}function FU(t){t.altNames=[];let r=qe.ASN1.fromDER(t.value).mustCompound();for(let n of r){let i={tag:n.tag,value:n.bytes};switch(t.altNames.push(i),n.tag){case 1:i.email=n.bytes.toString();break;case 2:i.dnsName=n.bytes.toString();break;case 6:i.uri=n.bytes.toString();break;case 7:i.ip=Ai.bytesToIP(n.bytes);break;case 8:i.oid=qe.ASN1.parseOID(n.bytes);break;default:}}}var Jye={name:"subjectKeyIdentifier",class:qe.Class.UNIVERSAL,tag:qe.Tag.OCTETSTRING,capture:"subjectKeyIdentifier"};function Xye(t){let e=qe.ASN1.parseDERWithTemplate(t.value,Jye);t.subjectKeyIdentifier=e.subjectKeyIdentifier.bytes.toString("hex")}var Qye={name:"authorityKeyIdentifier",class:qe.Class.UNIVERSAL,tag:qe.Tag.SEQUENCE,value:[{name:"authorityKeyIdentifier.value",class:qe.Class.CONTEXT_SPECIFIC,tag:qe.Tag.NONE,capture:"authorityKeyIdentifier"}]};function Zye(t){let e=qe.ASN1.parseDERWithTemplate(t.value,Qye);t.authorityKeyIdentifier=e.authorityKeyIdentifier.bytes.toString("hex")}var ebe={name:"authorityInfoAccess",class:qe.Class.UNIVERSAL,tag:qe.Tag.SEQUENCE,value:[{name:"authorityInfoAccess.authorityInfoAccessOcsp",class:qe.Class.UNIVERSAL,tag:qe.Tag.SEQUENCE,optional:!0,value:[{name:"authorityInfoAccess.authorityInfoAccessOcsp.oid",class:qe.Class.UNIVERSAL,tag:qe.Tag.OID},{name:"authorityInfoAccess.authorityInfoAccessOcsp.value",class:qe.Class.CONTEXT_SPECIFIC,tag:qe.Tag.OID,capture:"authorityInfoAccessOcsp"}]},{name:"authorityInfoAccess.authorityInfoAccessIssuers",class:qe.Class.UNIVERSAL,tag:qe.Tag.SEQUENCE,optional:!0,value:[{name:"authorityInfoAccess.authorityInfoAccessIssuers.oid",class:qe.Class.UNIVERSAL,tag:qe.Tag.OID},{name:"authorityInfoAccess.authorityInfoAccessIssuers.value",class:qe.Class.CONTEXT_SPECIFIC,tag:qe.Tag.OID,capture:"authorityInfoAccessIssuers"}]}]};function tbe(t){let e=qe.ASN1.parseDERWithTemplate(t.value,ebe);e.authorityInfoAccessOcsp!=null&&(t.authorityInfoAccessOcsp=e.authorityInfoAccessOcsp.bytes.toString()),e.authorityInfoAccessIssuers!=null&&(t.authorityInfoAccessIssuers=e.authorityInfoAccessIssuers.bytes.toString())}function zU(t){for(let e of t){if((e.name==null||e.name==="")&&(e.oid!=null&&(e.name=Ai.getOIDName(e.oid)),e.name===""&&e.shortName!=null&&(e.name=Ai.getOIDName(Qn[e.shortName]))),e.oid==null||e.oid==="")if(e.name!=="")e.oid=Ai.getOID(e.name);else throw new Error("Attribute oid not specified.");if((e.shortName==null||e.shortName==="")&&(e.shortName=Qn[e.name]==null?"":Qn[e.name]),e.value==null)throw new Error("Attribute value not specified.")}}function rbe(t){switch(Ai.getOIDName(t)){case"sha1WithRsaEncryption":return"sha1";case"md5WithRsaEncryption":return"md5";case"sha256WithRsaEncryption":return"sha256";case"sha384WithRsaEncryption":return"sha384";case"sha512WithRsaEncryption":return"sha512";case"RSASSA-PSS":return"sha256";case"ecdsaWithSha1":return"sha1";case"ecdsaWithSha256":return"sha256";case"ecdsaWithSha384":return"sha384";case"ecdsaWithSha512":return"sha512";case"dsaWithSha1":return"sha1";case"dsaWithSha256":return"sha256";default:return""}}function WU(t){let e=[];for(let r of t.mustCompound())for(let n of r.mustCompound()){let i=n.mustCompound(),a={};a.oid=qe.ASN1.parseOID(i[0].bytes),a.value=i[1].value,a.valueTag=i[1].tag,a.name=Ai.getOIDName(a.oid),a.shortName=Fye(a.name),e.push(a)}return e}function nbe(t){return t!=null&&!(t instanceof Buffer)&&typeof t.toJSON=="function"?t.toJSON():t}});var xC=g(za=>{"use strict";Object.defineProperty(za,"__esModule",{value:!0});var Mv=Sv();za.bytesFromIP=Mv.bytesFromIP;za.bytesToIP=Mv.bytesToIP;za.getOID=Mv.getOID;za.getOIDName=Mv.getOIDName;var Ov=mC();za.PublicKey=Ov.PublicKey;za.PrivateKey=Ov.PrivateKey;za.RSAPublicKey=Ov.RSAPublicKey;za.RSAPrivateKey=Ov.RSAPrivateKey;var VU=$U();za.Certificate=VU.Certificate;za.DistinguishedName=VU.DistinguishedName});var bu=g((qv,GU)=>{(function(t,e){typeof qv=="object"&&typeof GU<"u"?e(qv):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.pvtsutils={}))})(qv,function(t){"use strict";class e{static isArrayBuffer(u){return Object.prototype.toString.call(u)==="[object ArrayBuffer]"}static toArrayBuffer(u){let f=this.toUint8Array(u);return f.byteOffset||f.length?f.buffer.slice(f.byteOffset,f.byteOffset+f.length):f.buffer}static toUint8Array(u){return this.toView(u,Uint8Array)}static toView(u,f){if(typeof Buffer<"u"&&Buffer.isBuffer(u))return new f(u.buffer,u.byteOffset,u.byteLength);if(this.isArrayBuffer(u))return new f(u);if(this.isArrayBufferView(u))return new f(u.buffer,u.byteOffset,u.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(u){return this.isArrayBufferView(u)||this.isArrayBuffer(u)}static isArrayBufferView(u){return ArrayBuffer.isView(u)||u&&this.isArrayBuffer(u.buffer)}}class r{static isHex(u){return typeof u=="string"&&/^[a-z0-9]+$/i.test(u)}static isBase64(u){return typeof u=="string"&&/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(u)}static isBase64Url(u){return typeof u=="string"&&/^[a-zA-Z0-9-_]+$/i.test(u)}static ToString(u,f="utf8"){let d=e.toUint8Array(u);switch(f.toLowerCase()){case"utf8":return this.ToUtf8String(d);case"binary":return this.ToBinary(d);case"hex":return this.ToHex(d);case"base64":return this.ToBase64(d);case"base64url":return this.ToBase64Url(d);default:throw new Error(`Unknown type of encoding '${f}'`)}}static FromString(u,f="utf8"){if(!u)return new ArrayBuffer(0);switch(f.toLowerCase()){case"utf8":return this.FromUtf8String(u);case"binary":return this.FromBinary(u);case"hex":return this.FromHex(u);case"base64":return this.FromBase64(u);case"base64url":return this.FromBase64Url(u);default:throw new Error(`Unknown type of encoding '${f}'`)}}static ToBase64(u){let f=e.toUint8Array(u);if(typeof btoa<"u"){let d=this.ToString(f,"binary");return btoa(d)}else return Buffer.from(f).toString("base64")}static FromBase64(u){let f=this.formatString(u);if(!f)return new ArrayBuffer(0);if(!r.isBase64(f))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return typeof atob<"u"?this.FromBinary(atob(f)):new Uint8Array(Buffer.from(f,"base64")).buffer}static FromBase64Url(u){let f=this.formatString(u);if(!f)return new ArrayBuffer(0);if(!r.isBase64Url(f))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(f.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(u){return this.ToBase64(u).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(u){let f=unescape(encodeURIComponent(u)),d=new Uint8Array(f.length);for(let h=0;h<f.length;h++)d[h]=f.charCodeAt(h);return d.buffer}static ToUtf8String(u){let f=e.toUint8Array(u),d="";for(let m=0;m<f.length;m++)d+=String.fromCharCode(f[m]);return decodeURIComponent(escape(d))}static FromBinary(u){let f=u.length,d=new Uint8Array(f);for(let h=0;h<f;h++)d[h]=u.charCodeAt(h);return d.buffer}static ToBinary(u){let f=e.toUint8Array(u),d="";for(let h=0;h<f.length;h++)d+=String.fromCharCode(f[h]);return d}static ToHex(u){let f=e.toUint8Array(u),d="",h=[],m=f.length;for(let _=0;_<m;_++){let w=f[_].toString(16).padStart(2,"0");h.push(w)}return h.join(d)}static FromHex(u){let f=this.formatString(u);if(!f)return new ArrayBuffer(0);if(!r.isHex(f))throw new TypeError("Argument 'hexString' is not HEX encoded");f.length%2&&(f=`0${f}`);let d=new Uint8Array(f.length/2);for(let h=0;h<f.length;h=h+2){let m=f.slice(h,h+2);d[h/2]=parseInt(m,16)}return d.buffer}static Base64Padding(u){let f=4-u.length%4;if(f<4)for(let d=0;d<f;d++)u+="=";return u}static formatString(u){return u?.replace(/[\n\r\t ]/g,"")||""}}function n(o,...u){let f=arguments[0];for(let d=1;d<arguments.length;d++){let h=arguments[d];for(let m in h)f[m]=h[m]}return f}function i(...o){let u=o.map(h=>h.byteLength).reduce((h,m)=>h+m),f=new Uint8Array(u),d=0;return o.map(h=>new Uint8Array(h)).forEach(h=>{for(let m of h)f[d++]=m}),f.buffer}function a(o,u){if(!(o&&u)||o.byteLength!==u.byteLength)return!1;let f=new Uint8Array(o),d=new Uint8Array(u);for(let h=0;h<o.byteLength;h++)if(f[h]!==d[h])return!1;return!0}t.BufferSourceConverter=e,t.Convert=r,t.assign=n,t.combine=i,t.isEqual=a,Object.defineProperty(t,"__esModule",{value:!0})})});var XU=g(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});Hn.getUTCDate=ibe;Hn.getParametersValue=abe;Hn.bufferToHexCodes=sbe;Hn.checkBufferParams=obe;Hn.utilFromBase=yC;Hn.utilToBase=bC;Hn.utilConcatBuf=ube;Hn.utilConcatView=cbe;Hn.utilDecodeTC=fbe;Hn.utilEncodeTC=dbe;Hn.isEqualBuffer=lbe;Hn.padNumber=hbe;Hn.toBase64=pbe;Hn.fromBase64=mbe;Hn.arrayBufferToString=xbe;Hn.stringToArrayBuffer=ybe;Hn.nearestPowerOf2=vbe;Hn.clearProps=gbe;function ibe(t){return new Date(t.getTime()+t.getTimezoneOffset()*6e4)}function abe(t,e,r){return t instanceof Object&&e in t?t[e]:r}function sbe(t,e=0,r=t.byteLength-e,n=!1){let i="";var a=!0,o=!1,u=void 0;try{for(var f=new Uint8Array(t,e,r)[Symbol.iterator](),d;!(a=(d=f.next()).done);a=!0){let m=d.value.toString(16).toUpperCase();m.length===1&&(i+="0"),i+=m,n&&(i+=" ")}}catch(h){o=!0,u=h}finally{try{!a&&f.return&&f.return()}finally{if(o)throw u}}return i.trim()}function obe(t,e,r,n){return e instanceof ArrayBuffer?e.byteLength===0?(t.error="Wrong parameter: inputBuffer has zero length",!1):r<0?(t.error="Wrong parameter: inputOffset less than zero",!1):n<0?(t.error="Wrong parameter: inputLength less than zero",!1):e.byteLength-r-n<0?(t.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):!0:(t.error='Wrong parameter: inputBuffer must be "ArrayBuffer"',!1)}function yC(t,e){let r=0;if(t.length===1)return t[0];for(let n=t.length-1;n>=0;n--)r+=t[t.length-1-n]*Math.pow(2,e*n);return r}function bC(t,e,r=-1){let n=r,i=t,a=0,o=Math.pow(2,e);for(let u=1;u<8;u++){if(t<o){let f;if(n<0)f=new ArrayBuffer(u),a=u;else{if(n<u)return new ArrayBuffer(0);f=new ArrayBuffer(n),a=n}let d=new Uint8Array(f);for(let h=u-1;h>=0;h--){let m=Math.pow(2,h*e);d[a-h-1]=Math.floor(i/m),i-=d[a-h-1]*m}return f}o*=Math.pow(2,e)}return new ArrayBuffer(0)}function ube(...t){let e=0,r=0;var n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),u;!(n=(u=o.next()).done);n=!0)e+=u.value.byteLength}catch(M){i=!0,a=M}finally{try{!n&&o.return&&o.return()}finally{if(i)throw a}}let f=new ArrayBuffer(e),d=new Uint8Array(f);var h=!0,m=!1,_=void 0;try{for(var w=t[Symbol.iterator](),P;!(h=(P=w.next()).done);h=!0){let M=P.value;d.set(new Uint8Array(M),r),r+=M.byteLength}}catch(M){m=!0,_=M}finally{try{!h&&w.return&&w.return()}finally{if(m)throw _}}return f}function cbe(...t){let e=0,r=0;var n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),u;!(n=(u=o.next()).done);n=!0)e+=u.value.length}catch(M){i=!0,a=M}finally{try{!n&&o.return&&o.return()}finally{if(i)throw a}}let f=new ArrayBuffer(e),d=new Uint8Array(f);var h=!0,m=!1,_=void 0;try{for(var w=t[Symbol.iterator](),P;!(h=(P=w.next()).done);h=!0){let M=P.value;d.set(M,r),r+=M.length}}catch(M){m=!0,_=M}finally{try{!h&&w.return&&w.return()}finally{if(m)throw _}}return d}function fbe(){let t=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){let u=t[0]===255&&t[1]&128,f=t[0]===0&&(t[1]&128)===0;(u||f)&&this.warnings.push("Needlessly long format")}let e=new ArrayBuffer(this.valueHex.byteLength),r=new Uint8Array(e);for(let u=0;u<this.valueHex.byteLength;u++)r[u]=0;r[0]=t[0]&128;let n=yC(r,8),i=new ArrayBuffer(this.valueHex.byteLength),a=new Uint8Array(i);for(let u=0;u<this.valueHex.byteLength;u++)a[u]=t[u];return a[0]&=127,yC(a,8)-n}function dbe(t){let e=t<0?t*-1:t,r=128;for(let n=1;n<8;n++){if(e<=r){if(t<0){let o=r-e,u=bC(o,8,n),f=new Uint8Array(u);return f[0]|=128,u}let i=bC(e,8,n),a=new Uint8Array(i);if(a[0]&128){let o=i.slice(0),u=new Uint8Array(o);i=new ArrayBuffer(i.byteLength+1),a=new Uint8Array(i);for(let f=0;f<o.byteLength;f++)a[f+1]=u[f];a[0]=0}return i}r*=Math.pow(2,8)}return new ArrayBuffer(0)}function lbe(t,e){if(t.byteLength!==e.byteLength)return!1;let r=new Uint8Array(t),n=new Uint8Array(e);for(let i=0;i<r.length;i++)if(r[i]!==n[i])return!1;return!0}function hbe(t,e){let r=t.toString(10);if(e<r.length)return"";let n=e-r.length,i=new Array(n);for(let o=0;o<n;o++)i[o]="0";return i.join("").concat(r)}var YU="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",JU="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";function pbe(t,e=!1,r=!1,n=!1){let i=0,a=0,o=0,u="",f=e?JU:YU;if(n){let d=0;for(let h=0;h<t.length;h++)if(t.charCodeAt(h)!==0){d=h;break}t=t.slice(d)}for(;i<t.length;){let d=t.charCodeAt(i++);i>=t.length&&(a=1);let h=t.charCodeAt(i++);i>=t.length&&(o=1);let m=t.charCodeAt(i++),_=d>>2,w=(d&3)<<4|h>>4,P=(h&15)<<2|m>>6,M=m&63;a===1?P=M=64:o===1&&(M=64),r?P===64?u+=`${f.charAt(_)}${f.charAt(w)}`:M===64?u+=`${f.charAt(_)}${f.charAt(w)}${f.charAt(P)}`:u+=`${f.charAt(_)}${f.charAt(w)}${f.charAt(P)}${f.charAt(M)}`:u+=`${f.charAt(_)}${f.charAt(w)}${f.charAt(P)}${f.charAt(M)}`}return u}function mbe(t,e=!1,r=!1){let n=e?JU:YU;function i(f){for(let d=0;d<64;d++)if(n.charAt(d)===f)return d;return 64}function a(f){return f===64?0:f}let o=0,u="";for(;o<t.length;){let f=i(t.charAt(o++)),d=o>=t.length?0:i(t.charAt(o++)),h=o>=t.length?0:i(t.charAt(o++)),m=o>=t.length?0:i(t.charAt(o++)),_=a(f)<<2|a(d)>>4,w=(a(d)&15)<<4|a(h)>>2,P=(a(h)&3)<<6|a(m);u+=String.fromCharCode(_),h!==64&&(u+=String.fromCharCode(w)),m!==64&&(u+=String.fromCharCode(P))}if(r){let f=u.length,d=-1;for(let h=f-1;h>=0;h--)if(u.charCodeAt(h)!==0){d=h;break}d!==-1?u=u.slice(0,d+1):u=""}return u}function xbe(t){let e="",r=new Uint8Array(t);var n=!0,i=!1,a=void 0;try{for(var o=r[Symbol.iterator](),u;!(n=(u=o.next()).done);n=!0){let f=u.value;e+=String.fromCharCode(f)}}catch(f){i=!0,a=f}finally{try{!n&&o.return&&o.return()}finally{if(i)throw a}}return e}function ybe(t){let e=t.length,r=new ArrayBuffer(e),n=new Uint8Array(r);for(let i=0;i<e;i++)n[i]=t.charCodeAt(i);return r}var bbe=Math.log(2);function vbe(t){let e=Math.log(t)/bbe,r=Math.floor(e),n=Math.round(e);return r===n?r:n}function gbe(t,e){var r=!0,n=!1,i=void 0;try{for(var a=e[Symbol.iterator](),o;!(r=(o=a.next()).done);r=!0){let u=o.value;delete t[u]}}catch(u){n=!0,i=u}finally{try{!r&&a.return&&a.return()}finally{if(n)throw i}}}});var vu=g(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.fromBER=Nm;ze.compareSchema=e0;ze.verifySchema=wbe;ze.fromJSON=Sbe;ze.RawData=ze.Repeated=ze.Any=ze.Choice=ze.TIME=ze.Duration=ze.DateTime=ze.TimeOfDay=ze.DATE=ze.GeneralizedTime=ze.UTCTime=ze.CharacterString=ze.GeneralString=ze.VisibleString=ze.GraphicString=ze.IA5String=ze.VideotexString=ze.TeletexString=ze.PrintableString=ze.NumericString=ze.UniversalString=ze.BmpString=ze.RelativeObjectIdentifier=ze.Utf8String=ze.ObjectIdentifier=ze.Enumerated=ze.Integer=ze.BitString=ze.OctetString=ze.Null=ze.Set=ze.Sequence=ze.Boolean=ze.EndOfContent=ze.Constructed=ze.Primitive=ze.BaseBlock=ze.ValueBlock=ze.HexBlock=void 0;var Ne=XU();function eH(t,e){var r;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(r=_be(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(d){throw d},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,u;return{s:function(){r=t[Symbol.iterator]()},n:function(){var d=r.next();return a=d.done,d},e:function(d){o=!0,u=d},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw u}}}}function _be(t,e){if(!!t){if(typeof t=="string")return QU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QU(t,e)}}function QU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var qm=[new Uint8Array([1])],ZU="0123456789",ma=class{constructor(e={}){this.blockLength=(0,Ne.getParametersValue)(e,"blockLength",0),this.error=(0,Ne.getParametersValue)(e,"error",""),this.warnings=(0,Ne.getParametersValue)(e,"warnings",[]),"valueBeforeDecode"in e?this.valueBeforeDecode=e.valueBeforeDecode.slice(0):this.valueBeforeDecode=new ArrayBuffer(0)}static blockName(){return"baseBlock"}toJSON(){return{blockName:this.constructor.blockName(),blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:(0,Ne.bufferToHexCodes)(this.valueBeforeDecode,0,this.valueBeforeDecode.byteLength)}}},Cs=t=>class extends t{constructor(r={}){super(r);this.isHexOnly=(0,Ne.getParametersValue)(r,"isHexOnly",!1),"valueHex"in r?this.valueHex=r.valueHex.slice(0):this.valueHex=new ArrayBuffer(0)}static blockName(){return"hexBlock"}fromBER(r,n,i){return(0,Ne.checkBufferParams)(this,r,n,i)===!1?-1:new Uint8Array(r,n,i).length===0?(this.warnings.push("Zero buffer length"),n):(this.valueHex=r.slice(n,n+i),this.blockLength=i,n+i)}toBER(r=!1){return this.isHexOnly!==!0?(this.error='Flag "isHexOnly" is not set, abort',new ArrayBuffer(0)):r===!0?new ArrayBuffer(this.valueHex.byteLength):this.valueHex.slice(0)}toJSON(){let r={};try{r=super.toJSON()}catch{}return r.blockName=this.constructor.blockName(),r.isHexOnly=this.isHexOnly,r.valueHex=(0,Ne.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength),r}};ze.HexBlock=Cs;var tH=class extends Cs(ma){constructor(e={}){super();"idBlock"in e?(this.isHexOnly=(0,Ne.getParametersValue)(e.idBlock,"isHexOnly",!1),this.valueHex=(0,Ne.getParametersValue)(e.idBlock,"valueHex",new ArrayBuffer(0)),this.tagClass=(0,Ne.getParametersValue)(e.idBlock,"tagClass",-1),this.tagNumber=(0,Ne.getParametersValue)(e.idBlock,"tagNumber",-1),this.isConstructed=(0,Ne.getParametersValue)(e.idBlock,"isConstructed",!1)):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}static blockName(){return"identificationBlock"}toBER(e=!1){let r=0,n,i;switch(this.tagClass){case 1:r|=0;break;case 2:r|=64;break;case 3:r|=128;break;case 4:r|=192;break;default:return this.error="Unknown tag class",new ArrayBuffer(0)}if(this.isConstructed&&(r|=32),this.tagNumber<31&&!this.isHexOnly){if(n=new ArrayBuffer(1),i=new Uint8Array(n),!e){let a=this.tagNumber;a&=31,r|=a,i[0]=r}return n}if(this.isHexOnly===!1){let a=(0,Ne.utilToBase)(this.tagNumber,7),o=new Uint8Array(a),u=a.byteLength;if(n=new ArrayBuffer(u+1),i=new Uint8Array(n),i[0]=r|31,!e){for(let f=0;f<u-1;f++)i[f+1]=o[f]|128;i[u]=o[u-1]}return n}if(n=new ArrayBuffer(this.valueHex.byteLength+1),i=new Uint8Array(n),i[0]=r|31,e===!1){let a=new Uint8Array(this.valueHex);for(let o=0;o<a.length-1;o++)i[o+1]=a[o]|128;i[this.valueHex.byteLength]=a[a.length-1]}return n}fromBER(e,r,n){if((0,Ne.checkBufferParams)(this,e,r,n)===!1)return-1;let i=new Uint8Array(e,r,n);if(i.length===0)return this.error="Zero buffer length",-1;switch(i[0]&192){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=(i[0]&32)===32,this.isHexOnly=!1;let o=i[0]&31;if(o!==31)this.tagNumber=o,this.blockLength=1;else{let u=1;this.valueHex=new ArrayBuffer(255);let f=255,d=new Uint8Array(this.valueHex);for(;i[u]&128;){if(d[u-1]=i[u]&127,u++,u>=i.length)return this.error="End of input reached before message was fully decoded",-1;if(u===f){f+=255;let _=new ArrayBuffer(f),w=new Uint8Array(_);for(let P=0;P<d.length;P++)w[P]=d[P];this.valueHex=new ArrayBuffer(f),d=new Uint8Array(this.valueHex)}}this.blockLength=u+1,d[u-1]=i[u]&127;let h=new ArrayBuffer(u),m=new Uint8Array(h);for(let _=0;_<u;_++)m[_]=d[_];this.valueHex=new ArrayBuffer(u),d=new Uint8Array(this.valueHex),d.set(m),this.blockLength<=9?this.tagNumber=(0,Ne.utilFromBase)(d,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(this.tagClass===1&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1;default:}return r+this.blockLength}toJSON(){let e={};try{e=super.toJSON()}catch{}return e.blockName=this.constructor.blockName(),e.tagClass=this.tagClass,e.tagNumber=this.tagNumber,e.isConstructed=this.isConstructed,e}},rH=class extends ma{constructor(e={}){super();"lenBlock"in e?(this.isIndefiniteForm=(0,Ne.getParametersValue)(e.lenBlock,"isIndefiniteForm",!1),this.longFormUsed=(0,Ne.getParametersValue)(e.lenBlock,"longFormUsed",!1),this.length=(0,Ne.getParametersValue)(e.lenBlock,"length",0)):(this.isIndefiniteForm=!1,this.longFormUsed=!1,this.length=0)}static blockName(){return"lengthBlock"}fromBER(e,r,n){if((0,Ne.checkBufferParams)(this,e,r,n)===!1)return-1;let i=new Uint8Array(e,r,n);if(i.length===0)return this.error="Zero buffer length",-1;if(i[0]===255)return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=i[0]===128,this.isIndefiniteForm===!0)return this.blockLength=1,r+this.blockLength;if(this.longFormUsed=!!(i[0]&128),this.longFormUsed===!1)return this.length=i[0],this.blockLength=1,r+this.blockLength;let a=i[0]&127;if(a>8)return this.error="Too big integer",-1;if(a+1>i.length)return this.error="End of input reached before message was fully decoded",-1;let o=new Uint8Array(a);for(let u=0;u<a;u++)o[u]=i[u+1];return o[a-1]===0&&this.warnings.push("Needlessly long encoded length"),this.length=(0,Ne.utilFromBase)(o,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=a+1,r+this.blockLength}toBER(e=!1){let r,n;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return r=new ArrayBuffer(1),e===!1&&(n=new Uint8Array(r),n[0]=128),r;if(this.longFormUsed===!0){let i=(0,Ne.utilToBase)(this.length,8);if(i.byteLength>127)return this.error="Too big length",new ArrayBuffer(0);if(r=new ArrayBuffer(i.byteLength+1),e===!0)return r;let a=new Uint8Array(i);n=new Uint8Array(r),n[0]=i.byteLength|128;for(let o=0;o<i.byteLength;o++)n[o+1]=a[o];return r}return r=new ArrayBuffer(1),e===!1&&(n=new Uint8Array(r),n[0]=this.length),r}toJSON(){let e={};try{e=super.toJSON()}catch{}return e.blockName=this.constructor.blockName(),e.isIndefiniteForm=this.isIndefiniteForm,e.longFormUsed=this.longFormUsed,e.length=this.length,e}},bo=class extends ma{constructor(e={}){super(e)}static blockName(){return"valueBlock"}fromBER(e,r,n){throw TypeError('User need to make a specific function in a class which extends "ValueBlock"')}toBER(e=!1){throw TypeError('User need to make a specific function in a class which extends "ValueBlock"')}};ze.ValueBlock=bo;var Zn=class extends ma{constructor(e={},r=bo){super(e);"name"in e&&(this.name=e.name),"optional"in e&&(this.optional=e.optional),"primitiveSchema"in e&&(this.primitiveSchema=e.primitiveSchema),this.idBlock=new tH(e),this.lenBlock=new rH(e),this.valueBlock=new r(e)}static blockName(){return"BaseBlock"}fromBER(e,r,n){let i=this.valueBlock.fromBER(e,r,this.lenBlock.isIndefiniteForm===!0?n:this.lenBlock.length);return i===-1?(this.error=this.valueBlock.error,i):(this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length===0&&(this.blockLength+=this.valueBlock.blockLength),i)}toBER(e=!1){let r,n=this.idBlock.toBER(e),i=this.valueBlock.toBER(!0);this.lenBlock.length=i.byteLength;let a=this.lenBlock.toBER(e);r=(0,Ne.utilConcatBuf)(n,a);let o;if(e===!1?o=this.valueBlock.toBER(e):o=new ArrayBuffer(this.lenBlock.length),r=(0,Ne.utilConcatBuf)(r,o),this.lenBlock.isIndefiniteForm===!0){let u=new ArrayBuffer(2);if(e===!1){let f=new Uint8Array(u);f[0]=0,f[1]=0}r=(0,Ne.utilConcatBuf)(r,u)}return r}toJSON(){let e={};try{e=super.toJSON()}catch{}return e.idBlock=this.idBlock.toJSON(),e.lenBlock=this.lenBlock.toJSON(),e.valueBlock=this.valueBlock.toJSON(),"name"in this&&(e.name=this.name),"optional"in this&&(e.optional=this.optional),"primitiveSchema"in this&&(e.primitiveSchema=this.primitiveSchema.toJSON()),e}toString(){return`${this.constructor.blockName()} : ${(0,Ne.bufferToHexCodes)(this.valueBlock.valueHex)}`}};ze.BaseBlock=Zn;var nH=class extends bo{constructor(e={}){super(e);"valueHex"in e?this.valueHex=e.valueHex.slice(0):this.valueHex=new ArrayBuffer(0),this.isHexOnly=(0,Ne.getParametersValue)(e,"isHexOnly",!0)}fromBER(e,r,n){if((0,Ne.checkBufferParams)(this,e,r,n)===!1)return-1;let i=new Uint8Array(e,r,n);if(i.length===0)return this.warnings.push("Zero buffer length"),r;this.valueHex=new ArrayBuffer(i.length);let a=new Uint8Array(this.valueHex);for(let o=0;o<i.length;o++)a[o]=i[o];return this.blockLength=n,r+n}toBER(e=!1){return this.valueHex.slice(0)}static blockName(){return"PrimitiveValueBlock"}toJSON(){let e={};try{e=super.toJSON()}catch{}return e.valueHex=(0,Ne.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength),e.isHexOnly=this.isHexOnly,e}},Dv=class extends Zn{constructor(e={}){super(e,nH);this.idBlock.isConstructed=!1}static blockName(){return"PRIMITIVE"}};ze.Primitive=Dv;var Tc=class extends bo{constructor(e={}){super(e);this.value=(0,Ne.getParametersValue)(e,"value",[]),this.isIndefiniteForm=(0,Ne.getParametersValue)(e,"isIndefiniteForm",!1)}fromBER(e,r,n){let i=r,a=n;if((0,Ne.checkBufferParams)(this,e,r,n)===!1)return-1;if(new Uint8Array(e,r,n).length===0)return this.warnings.push("Zero buffer length"),r;function u(d,h){return d===!0?1:h}let f=r;for(;u(this.isIndefiniteForm,n)>0;){let d=xH(e,f,n);if(d.offset===-1)return this.error=d.result.error,this.warnings.concat(d.result.warnings),-1;if(f=d.offset,this.blockLength+=d.result.blockLength,n-=d.result.blockLength,this.value.push(d.result),this.isIndefiniteForm===!0&&d.result.constructor.blockName()===sd.blockName())break}return this.isIndefiniteForm===!0&&(this.value[this.value.length-1].constructor.blockName()===sd.blockName()?this.value.pop():this.warnings.push("No EndOfContent block encoded")),this.valueBeforeDecode=e.slice(i,i+a),f}toBER(e=!1){let r=new ArrayBuffer(0);for(let n=0;n<this.value.length;n++){let i=this.value[n].toBER(e);r=(0,Ne.utilConcatBuf)(r,i)}return r}static blockName(){return"ConstructedValueBlock"}toJSON(){let e={};try{e=super.toJSON()}catch{}e.isIndefiniteForm=this.isIndefiniteForm,e.value=[];for(let r=0;r<this.value.length;r++)e.value.push(this.value[r].toJSON());return e}},kc=class extends Zn{constructor(e={}){super(e,Tc);this.idBlock.isConstructed=!0}static blockName(){return"CONSTRUCTED"}fromBER(e,r,n){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;let i=this.valueBlock.fromBER(e,r,this.lenBlock.isIndefiniteForm===!0?n:this.lenBlock.length);return i===-1?(this.error=this.valueBlock.error,i):(this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length===0&&(this.blockLength+=this.valueBlock.blockLength),i)}toString(){let e=[];var r=eH(this.valueBlock.value),n;try{for(r.s();!(n=r.n()).done;){let a=n.value;e.push(a.toString().split(`
`).map(o=>`  ${o}`).join(`
`))}}catch(a){r.e(a)}finally{r.f()}let i=this.idBlock.tagClass===3?`[${this.idBlock.tagNumber}]`:this.constructor.blockName();return e.length?`${i} :
${e.join(`
`)}`:`${i} :`}};ze.Constructed=kc;var iH=class extends bo{constructor(e={}){super(e)}fromBER(e,r,n){return r}toBER(e=!1){return new ArrayBuffer(0)}static blockName(){return"EndOfContentValueBlock"}},sd=class extends Zn{constructor(e={}){super(e,iH);this.idBlock.tagClass=1,this.idBlock.tagNumber=0}static blockName(){return"EndOfContent"}};ze.EndOfContent=sd;var aH=class extends bo{constructor(e={}){super(e);if(this.value=(0,Ne.getParametersValue)(e,"value",!1),this.isHexOnly=(0,Ne.getParametersValue)(e,"isHexOnly",!1),"valueHex"in e)this.valueHex=e.valueHex.slice(0);else if(this.valueHex=new ArrayBuffer(1),this.value===!0){let r=new Uint8Array(this.valueHex);r[0]=255}}fromBER(e,r,n){if((0,Ne.checkBufferParams)(this,e,r,n)===!1)return-1;let i=new Uint8Array(e,r,n);n>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,this.valueHex=new ArrayBuffer(i.length);let a=new Uint8Array(this.valueHex);for(let o=0;o<i.length;o++)a[o]=i[o];return Ne.utilDecodeTC.call(this)!==0?this.value=!0:this.value=!1,this.blockLength=n,r+n}toBER(e=!1){return this.valueHex}static blockName(){return"BooleanValueBlock"}toJSON(){let e={};try{e=super.toJSON()}catch{}return e.value=this.value,e.isHexOnly=this.isHexOnly,e.valueHex=(0,Ne.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength),e}},_C=class extends Zn{constructor(e={}){super(e,aH);this.idBlock.tagClass=1,this.idBlock.tagNumber=1}static blockName(){return"BOOLEAN"}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}};ze.Boolean=_C;var wC=class extends kc{constructor(e={}){super(e);this.idBlock.tagClass=1,this.idBlock.tagNumber=16}static blockName(){return"SEQUENCE"}};ze.Sequence=wC;var SC=class extends kc{constructor(e={}){super(e);this.idBlock.tagClass=1,this.idBlock.tagNumber=17}static blockName(){return"SET"}};ze.Set=SC;var AC=class extends Zn{constructor(e={}){super(e,ma);this.idBlock.tagClass=1,this.idBlock.tagNumber=5}static blockName(){return"NULL"}fromBER(e,r,n){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=n,r+n>e.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):r+n}toBER(e=!1){let r=new ArrayBuffer(2);if(e===!0)return r;let n=new Uint8Array(r);return n[0]=5,n[1]=0,r}toString(){return`${this.constructor.blockName()}`}};ze.Null=AC;var sH=class extends Cs(Tc){constructor(e={}){super(e);this.isConstructed=(0,Ne.getParametersValue)(e,"isConstructed",!1)}fromBER(e,r,n){let i=0;if(this.isConstructed===!0){if(this.isHexOnly=!1,i=Tc.prototype.fromBER.call(this,e,r,n),i===-1)return i;for(let a=0;a<this.value.length;a++){let o=this.value[a].constructor.blockName();if(o===sd.blockName()){if(this.isIndefiniteForm===!0)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(o!==t0.blockName())return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,i=super.fromBER(e,r,n),this.blockLength=n;return i}toBER(e=!1){if(this.isConstructed===!0)return Tc.prototype.toBER.call(this,e);let r=new ArrayBuffer(this.valueHex.byteLength);return e===!0||this.valueHex.byteLength===0||(r=this.valueHex.slice(0)),r}static blockName(){return"OctetStringValueBlock"}toJSON(){let e={};try{e=super.toJSON()}catch{}return e.isConstructed=this.isConstructed,e.isHexOnly=this.isHexOnly,e.valueHex=(0,Ne.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength),e}},t0=class extends Zn{constructor(e={}){super(e,sH);this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(e,r,n){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,n===0)return this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength),r;if(!this.valueBlock.isConstructed){let i=e.slice(r,r+n);try{let a=Nm(i);a.offset!==-1&&a.offset===n&&(this.valueBlock.value=[a.result])}catch{}}return super.fromBER(e,r,n)}static blockName(){return"OCTET STRING"}isEqual(e){return!(!(e instanceof t0)||JSON.stringify(this)!==JSON.stringify(e))}toString(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?kc.prototype.toString.call(this):`${this.constructor.blockName()} : ${(0,Ne.bufferToHexCodes)(this.valueBlock.valueHex)}`}};ze.OctetString=t0;var oH=class extends Cs(Tc){constructor(e={}){super(e);this.unusedBits=(0,Ne.getParametersValue)(e,"unusedBits",0),this.isConstructed=(0,Ne.getParametersValue)(e,"isConstructed",!1),this.blockLength=this.valueHex.byteLength}fromBER(e,r,n){if(n===0)return r;let i=-1;if(this.isConstructed===!0){if(i=Tc.prototype.fromBER.call(this,e,r,n),i===-1)return i;for(let u=0;u<this.value.length;u++){let f=this.value[u].constructor.blockName();if(f===sd.blockName()){if(this.isIndefiniteForm===!0)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(f!==r0.blockName())return this.error="BIT STRING may consists of BIT STRINGs only",-1;if(this.unusedBits>0&&this.value[u].valueBlock.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;if(this.unusedBits=this.value[u].valueBlock.unusedBits,this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1}return i}if((0,Ne.checkBufferParams)(this,e,r,n)===!1)return-1;let a=new Uint8Array(e,r,n);if(this.unusedBits=a[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){let u=e.slice(r+1,r+n);try{let f=Nm(u);f.offset!==-1&&f.offset===n-1&&(this.value=[f.result])}catch{}}this.valueHex=new ArrayBuffer(a.length-1);let o=new Uint8Array(this.valueHex);for(let u=0;u<n-1;u++)o[u]=a[u+1];return this.blockLength=a.length,r+n}toBER(e=!1){if(this.isConstructed===!0)return Tc.prototype.toBER.call(this,e);if(e===!0)return new ArrayBuffer(this.valueHex.byteLength+1);if(this.valueHex.byteLength===0)return new ArrayBuffer(0);let r=new Uint8Array(this.valueHex),n=new ArrayBuffer(this.valueHex.byteLength+1),i=new Uint8Array(n);i[0]=this.unusedBits;for(let a=0;a<this.valueHex.byteLength;a++)i[a+1]=r[a];return n}static blockName(){return"BitStringValueBlock"}toJSON(){let e={};try{e=super.toJSON()}catch{}return e.unusedBits=this.unusedBits,e.isConstructed=this.isConstructed,e.isHexOnly=this.isHexOnly,e.valueHex=(0,Ne.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength),e}},r0=class extends Zn{constructor(e={}){super(e,oH);this.idBlock.tagClass=1,this.idBlock.tagNumber=3}static blockName(){return"BIT STRING"}fromBER(e,r,n){return n===0?r:(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(e,r,n))}isEqual(e){return!(!(e instanceof r0)||JSON.stringify(this)!==JSON.stringify(e))}toString(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return kc.prototype.toString.call(this);{let n=[],i=new Uint8Array(this.valueBlock.valueHex);var e=eH(i),r;try{for(e.s();!(r=e.n()).done;){let a=r.value;n.push(a.toString(2).padStart(8,"0"))}}catch(a){e.e(a)}finally{e.f()}return`${this.constructor.blockName()} : ${n.join("")}`}}};ze.BitString=r0;var uH=class extends Cs(bo){constructor(e={}){super(e);"value"in e&&(this.valueDec=e.value)}set valueHex(e){this._valueHex=e.slice(0),e.byteLength>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,e.byteLength>0&&(this._valueDec=Ne.utilDecodeTC.call(this)))}get valueHex(){return this._valueHex}set valueDec(e){this._valueDec=e,this.isHexOnly=!1,this._valueHex=(0,Ne.utilEncodeTC)(e)}get valueDec(){return this._valueDec}fromDER(e,r,n,i=0){let a=this.fromBER(e,r,n);if(a===-1)return a;let o=new Uint8Array(this._valueHex);if(o[0]===0&&(o[1]&128)!==0){let u=new ArrayBuffer(this._valueHex.byteLength-1);new Uint8Array(u).set(new Uint8Array(this._valueHex,1,this._valueHex.byteLength-1)),this._valueHex=u.slice(0)}else if(i!==0&&this._valueHex.byteLength<i){i-this._valueHex.byteLength>1&&(i=this._valueHex.byteLength+1);let u=new ArrayBuffer(i);new Uint8Array(u).set(o,i-this._valueHex.byteLength),this._valueHex=u.slice(0)}return a}toDER(e=!1){let r=new Uint8Array(this._valueHex);switch(!0){case(r[0]&128)!==0:{let n=new ArrayBuffer(this._valueHex.byteLength+1),i=new Uint8Array(n);i[0]=0,i.set(r,1),this._valueHex=n.slice(0)}break;case(r[0]===0&&(r[1]&128)===0):{let n=new ArrayBuffer(this._valueHex.byteLength-1);new Uint8Array(n).set(new Uint8Array(this._valueHex,1,this._valueHex.byteLength-1)),this._valueHex=n.slice(0)}break;default:}return this.toBER(e)}fromBER(e,r,n){let i=super.fromBER(e,r,n);return i===-1?i:(this.blockLength=n,r+n)}toBER(e=!1){return this.valueHex.slice(0)}static blockName(){return"IntegerValueBlock"}toJSON(){let e={};try{e=super.toJSON()}catch{}return e.valueDec=this.valueDec,e}toString(){function e(m,_){let w=new Uint8Array([0]),P=new Uint8Array(m),M=new Uint8Array(_),K=P.slice(0),Y=K.length-1,fe=M.slice(0),_e=fe.length-1,Je=0,Ze=_e<Y?Y:_e,Ue=0;for(let Ke=Ze;Ke>=0;Ke--,Ue++){switch(!0){case Ue<fe.length:Je=K[Y-Ue]+fe[_e-Ue]+w[0];break;default:Je=K[Y-Ue]+w[0]}switch(w[0]=Je/10,!0){case Ue>=K.length:K=(0,Ne.utilConcatView)(new Uint8Array([Je%10]),K);break;default:K[Y-Ue]=Je%10}}return w[0]>0&&(K=(0,Ne.utilConcatView)(w,K)),K.slice(0)}function r(m){if(m>=qm.length)for(let _=qm.length;_<=m;_++){let w=new Uint8Array([0]),P=qm[_-1].slice(0);for(let M=P.length-1;M>=0;M--){let K=new Uint8Array([(P[M]<<1)+w[0]]);w[0]=K[0]/10,P[M]=K[0]%10}w[0]>0&&(P=(0,Ne.utilConcatView)(w,P)),qm.push(P)}return qm[m]}function n(m,_){let w=0,P=new Uint8Array(m),M=new Uint8Array(_),K=P.slice(0),Y=K.length-1,fe=M.slice(0),_e=fe.length-1,Je,Ze=0;for(let Ue=_e;Ue>=0;Ue--,Ze++)switch(Je=K[Y-Ze]-fe[_e-Ze]-w,!0){case Je<0:w=1,K[Y-Ze]=Je+10;break;default:w=0,K[Y-Ze]=Je}if(w>0)for(let Ue=Y-_e+1;Ue>=0;Ue--,Ze++)if(Je=K[Y-Ze]-w,Je<0)w=1,K[Y-Ze]=Je+10;else{w=0,K[Y-Ze]=Je;break}return K.slice()}let i=this._valueHex.byteLength*8-1,a=new Uint8Array(this._valueHex.byteLength*8/3),o=0,u,f=new Uint8Array(this._valueHex),d="",h=!1;for(let m=this._valueHex.byteLength-1;m>=0;m--){u=f[m];for(let _=0;_<8;_++){if((u&1)===1)switch(o){case i:a=n(r(o),a),d="-";break;default:a=e(a,r(o))}o++,u>>=1}}for(let m=0;m<a.length;m++)a[m]&&(h=!0),h&&(d+=ZU.charAt(a[m]));return h===!1&&(d+=ZU.charAt(0)),d}},Ic=class extends Zn{constructor(e={}){super(e,uH);this.idBlock.tagClass=1,this.idBlock.tagNumber=2}static blockName(){return"INTEGER"}isEqual(e){return e instanceof Ic?this.valueBlock.isHexOnly&&e.valueBlock.isHexOnly?(0,Ne.isEqualBuffer)(this.valueBlock.valueHex,e.valueBlock.valueHex):this.valueBlock.isHexOnly===e.valueBlock.isHexOnly?this.valueBlock.valueDec===e.valueBlock.valueDec:!1:e instanceof ArrayBuffer?(0,Ne.isEqualBuffer)(this.valueBlock.valueHex,e):!1}convertToDER(){let e=new Ic({valueHex:this.valueBlock.valueHex});return e.valueBlock.toDER(),e}convertFromDER(){let e=this.valueBlock.valueHex.byteLength%2?this.valueBlock.valueHex.byteLength+1:this.valueBlock.valueHex.byteLength,r=new Ic({valueHex:this.valueBlock.valueHex});return r.valueBlock.fromDER(r.valueBlock.valueHex,0,r.valueBlock.valueHex.byteLength,e),r}toString(){let e=(0,Ne.bufferToHexCodes)(this.valueBlock.valueHex),r=BigInt(`0x${e}`);return`${this.constructor.blockName()} : ${r.toString()}`}};ze.Integer=Ic;var CC=class extends Ic{constructor(e={}){super(e);this.idBlock.tagClass=1,this.idBlock.tagNumber=10}static blockName(){return"ENUMERATED"}};ze.Enumerated=CC;var vC=class extends Cs(ma){constructor(e={}){super(e);this.valueDec=(0,Ne.getParametersValue)(e,"valueDec",-1),this.isFirstSid=(0,Ne.getParametersValue)(e,"isFirstSid",!1)}static blockName(){return"sidBlock"}fromBER(e,r,n){if(n===0)return r;if((0,Ne.checkBufferParams)(this,e,r,n)===!1)return-1;let i=new Uint8Array(e,r,n);this.valueHex=new ArrayBuffer(n);let a=new Uint8Array(this.valueHex);for(let f=0;f<n&&(a[f]=i[f]&127,this.blockLength++,(i[f]&128)!==0);f++);let o=new ArrayBuffer(this.blockLength),u=new Uint8Array(o);for(let f=0;f<this.blockLength;f++)u[f]=a[f];return this.valueHex=o.slice(0),a=new Uint8Array(this.valueHex),(i[this.blockLength-1]&128)!==0?(this.error="End of input reached before message was fully decoded",-1):(a[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=(0,Ne.utilFromBase)(a,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),r+this.blockLength)}toBER(e=!1){let r,n;if(this.isHexOnly){if(e===!0)return new ArrayBuffer(this.valueHex.byteLength);let a=new Uint8Array(this.valueHex);r=new ArrayBuffer(this.blockLength),n=new Uint8Array(r);for(let o=0;o<this.blockLength-1;o++)n[o]=a[o]|128;return n[this.blockLength-1]=a[this.blockLength-1],r}let i=(0,Ne.utilToBase)(this.valueDec,7);if(i.byteLength===0)return this.error="Error during encoding SID value",new ArrayBuffer(0);if(r=new ArrayBuffer(i.byteLength),e===!1){let a=new Uint8Array(i);n=new Uint8Array(r);for(let o=0;o<i.byteLength-1;o++)n[o]=a[o]|128;n[i.byteLength-1]=a[i.byteLength-1]}return r}toString(){let e="";if(this.isHexOnly===!0)e=(0,Ne.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength);else if(this.isFirstSid){let r=this.valueDec;this.valueDec<=39?e="0.":this.valueDec<=79?(e="1.",r-=40):(e="2.",r-=80),e+=r.toString()}else e=this.valueDec.toString();return e}toJSON(){let e={};try{e=super.toJSON()}catch{}return e.valueDec=this.valueDec,e.isFirstSid=this.isFirstSid,e}},cH=class extends bo{constructor(e={}){super(e);this.fromString((0,Ne.getParametersValue)(e,"value",""))}fromBER(e,r,n){let i=r;for(;n>0;){let a=new vC;if(i=a.fromBER(e,i,n),i===-1)return this.blockLength=0,this.error=a.error,i;this.value.length===0&&(a.isFirstSid=!0),this.blockLength+=a.blockLength,n-=a.blockLength,this.value.push(a)}return i}toBER(e=!1){let r=new ArrayBuffer(0);for(let n=0;n<this.value.length;n++){let i=this.value[n].toBER(e);if(i.byteLength===0)return this.error=this.value[n].error,new ArrayBuffer(0);r=(0,Ne.utilConcatBuf)(r,i)}return r}fromString(e){this.value=[];let r=0,n=0,i="",a=!1;do if(n=e.indexOf(".",r),n===-1?i=e.substr(r):i=e.substr(r,n-r),r=n+1,a){let o=this.value[0],u=0;switch(o.valueDec){case 0:break;case 1:u=40;break;case 2:u=80;break;default:return this.value=[],!1}let f=parseInt(i,10);if(isNaN(f))return!0;o.valueDec=f+u,a=!1}else{let o=new vC;if(o.valueDec=parseInt(i,10),isNaN(o.valueDec))return!0;this.value.length===0&&(o.isFirstSid=!0,a=!0),this.value.push(o)}while(n!==-1);return!0}toString(){let e="",r=!1;for(let n=0;n<this.value.length;n++){r=this.value[n].isHexOnly;let i=this.value[n].toString();n!==0&&(e=`${e}.`),r?(i=`{${i}}`,this.value[n].isFirstSid?e=`2.{${i} - 80}`:e+=i):e+=i}return e}static blockName(){return"ObjectIdentifierValueBlock"}toJSON(){let e={};try{e=super.toJSON()}catch{}e.value=this.toString(),e.sidArray=[];for(let r=0;r<this.value.length;r++)e.sidArray.push(this.value[r].toJSON());return e}},EC=class extends Zn{constructor(e={}){super(e,cH);this.idBlock.tagClass=1,this.idBlock.tagNumber=6}static blockName(){return"OBJECT IDENTIFIER"}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.toString()}`}};ze.ObjectIdentifier=EC;var fH=class extends Cs(ma){constructor(e={}){super(e);this.isHexOnly=!0,this.value=""}static blockName(){return"Utf8StringValueBlock"}toJSON(){let e={};try{e=super.toJSON()}catch{}return e.value=this.value,e}},Bc=class extends Zn{constructor(e={}){super(e,fH);"value"in e&&this.fromString(e.value),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}static blockName(){return"UTF8String"}fromBER(e,r,n){let i=this.valueBlock.fromBER(e,r,this.lenBlock.isIndefiniteForm===!0?n:this.lenBlock.length);return i===-1?(this.error=this.valueBlock.error,i):(this.fromBuffer(this.valueBlock.valueHex),this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length===0&&(this.blockLength+=this.valueBlock.blockLength),i)}fromBuffer(e){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(e));try{this.valueBlock.value=decodeURIComponent(escape(this.valueBlock.value))}catch(r){this.warnings.push(`Error during "decodeURIComponent": ${r}, using raw string`)}}fromString(e){let r=unescape(encodeURIComponent(e)),n=r.length;this.valueBlock.valueHex=new ArrayBuffer(n);let i=new Uint8Array(this.valueBlock.valueHex);for(let a=0;a<n;a++)i[a]=r.charCodeAt(a);this.valueBlock.value=e}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}};ze.Utf8String=Bc;var gC=class extends Cs(ma){constructor(e={}){super(e);this.valueDec=(0,Ne.getParametersValue)(e,"valueDec",-1)}static blockName(){return"relativeSidBlock"}fromBER(e,r,n){if(n===0)return r;if((0,Ne.checkBufferParams)(this,e,r,n)===!1)return-1;let i=new Uint8Array(e,r,n);this.valueHex=new ArrayBuffer(n);let a=new Uint8Array(this.valueHex);for(let f=0;f<n&&(a[f]=i[f]&127,this.blockLength++,(i[f]&128)!==0);f++);let o=new ArrayBuffer(this.blockLength),u=new Uint8Array(o);for(let f=0;f<this.blockLength;f++)u[f]=a[f];return this.valueHex=o.slice(0),a=new Uint8Array(this.valueHex),(i[this.blockLength-1]&128)!==0?(this.error="End of input reached before message was fully decoded",-1):(a[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=(0,Ne.utilFromBase)(a,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),r+this.blockLength)}toBER(e=!1){let r,n;if(this.isHexOnly){if(e===!0)return new ArrayBuffer(this.valueHex.byteLength);let a=new Uint8Array(this.valueHex);r=new ArrayBuffer(this.blockLength),n=new Uint8Array(r);for(let o=0;o<this.blockLength-1;o++)n[o]=a[o]|128;return n[this.blockLength-1]=a[this.blockLength-1],r}let i=(0,Ne.utilToBase)(this.valueDec,7);if(i.byteLength===0)return this.error="Error during encoding SID value",new ArrayBuffer(0);if(r=new ArrayBuffer(i.byteLength),e===!1){let a=new Uint8Array(i);n=new Uint8Array(r);for(let o=0;o<i.byteLength-1;o++)n[o]=a[o]|128;n[i.byteLength-1]=a[i.byteLength-1]}return r}toString(){let e="";return this.isHexOnly===!0?e=(0,Ne.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength):e=this.valueDec.toString(),e}toJSON(){let e={};try{e=super.toJSON()}catch{}return e.valueDec=this.valueDec,e}},dH=class extends bo{constructor(e={}){super(e);this.fromString((0,Ne.getParametersValue)(e,"value",""))}fromBER(e,r,n){let i=r;for(;n>0;){let a=new gC;if(i=a.fromBER(e,i,n),i===-1)return this.blockLength=0,this.error=a.error,i;this.blockLength+=a.blockLength,n-=a.blockLength,this.value.push(a)}return i}toBER(e=!1){let r=new ArrayBuffer(0);for(let n=0;n<this.value.length;n++){let i=this.value[n].toBER(e);if(i.byteLength===0)return this.error=this.value[n].error,new ArrayBuffer(0);r=(0,Ne.utilConcatBuf)(r,i)}return r}fromString(e){this.value=[];let r=0,n=0,i="";do{n=e.indexOf(".",r),n===-1?i=e.substr(r):i=e.substr(r,n-r),r=n+1;let a=new gC;if(a.valueDec=parseInt(i,10),isNaN(a.valueDec))return!0;this.value.push(a)}while(n!==-1);return!0}toString(){let e="",r=!1;for(let n=0;n<this.value.length;n++){r=this.value[n].isHexOnly;let i=this.value[n].toString();n!==0&&(e=`${e}.`),r&&(i=`{${i}}`),e+=i}return e}static blockName(){return"RelativeObjectIdentifierValueBlock"}toJSON(){let e={};try{e=super.toJSON()}catch{}e.value=this.toString(),e.sidArray=[];for(let r=0;r<this.value.length;r++)e.sidArray.push(this.value[r].toJSON());return e}},PC=class extends Zn{constructor(e={}){super(e,dH);this.idBlock.tagClass=1,this.idBlock.tagNumber=13}static blockName(){return"RelativeObjectIdentifier"}};ze.RelativeObjectIdentifier=PC;var lH=class extends Cs(ma){constructor(e={}){super(e);this.isHexOnly=!0,this.value=""}static blockName(){return"BmpStringValueBlock"}toJSON(){let e={};try{e=super.toJSON()}catch{}return e.value=this.value,e}},TC=class extends Zn{constructor(e={}){super(e,lH);"value"in e&&this.fromString(e.value),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}static blockName(){return"BMPString"}fromBER(e,r,n){let i=this.valueBlock.fromBER(e,r,this.lenBlock.isIndefiniteForm===!0?n:this.lenBlock.length);return i===-1?(this.error=this.valueBlock.error,i):(this.fromBuffer(this.valueBlock.valueHex),this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length===0&&(this.blockLength+=this.valueBlock.blockLength),i)}fromBuffer(e){let r=e.slice(0),n=new Uint8Array(r);for(let i=0;i<n.length;i+=2){let a=n[i];n[i]=n[i+1],n[i+1]=a}this.valueBlock.value=String.fromCharCode.apply(null,new Uint16Array(r))}fromString(e){let r=e.length;this.valueBlock.valueHex=new ArrayBuffer(r*2);let n=new Uint8Array(this.valueBlock.valueHex);for(let i=0;i<r;i++){let a=(0,Ne.utilToBase)(e.charCodeAt(i),8),o=new Uint8Array(a);if(o.length>2)continue;let u=2-o.length;for(let f=o.length-1;f>=0;f--)n[i*2+f+u]=o[f]}this.valueBlock.value=e}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}};ze.BmpString=TC;var hH=class extends Cs(ma){constructor(e={}){super(e);this.isHexOnly=!0,this.value=""}static blockName(){return"UniversalStringValueBlock"}toJSON(){let e={};try{e=super.toJSON()}catch{}return e.value=this.value,e}},IC=class extends Zn{constructor(e={}){super(e,hH);"value"in e&&this.fromString(e.value),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}static blockName(){return"UniversalString"}fromBER(e,r,n){let i=this.valueBlock.fromBER(e,r,this.lenBlock.isIndefiniteForm===!0?n:this.lenBlock.length);return i===-1?(this.error=this.valueBlock.error,i):(this.fromBuffer(this.valueBlock.valueHex),this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length===0&&(this.blockLength+=this.valueBlock.blockLength),i)}fromBuffer(e){let r=e.slice(0),n=new Uint8Array(r);for(let i=0;i<n.length;i+=4)n[i]=n[i+3],n[i+1]=n[i+2],n[i+2]=0,n[i+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(r))}fromString(e){let r=e.length;this.valueBlock.valueHex=new ArrayBuffer(r*4);let n=new Uint8Array(this.valueBlock.valueHex);for(let i=0;i<r;i++){let a=(0,Ne.utilToBase)(e.charCodeAt(i),8),o=new Uint8Array(a);if(o.length>4)continue;let u=4-o.length;for(let f=o.length-1;f>=0;f--)n[i*4+f+u]=o[f]}this.valueBlock.value=e}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}};ze.UniversalString=IC;var pH=class extends Cs(ma){constructor(e={}){super(e);this.value="",this.isHexOnly=!0}static blockName(){return"SimpleStringValueBlock"}toJSON(){let e={};try{e=super.toJSON()}catch{}return e.value=this.value,e}},vo=class extends Zn{constructor(e={}){super(e,pH);"value"in e&&this.fromString(e.value)}static blockName(){return"SIMPLESTRING"}fromBER(e,r,n){let i=this.valueBlock.fromBER(e,r,this.lenBlock.isIndefiniteForm===!0?n:this.lenBlock.length);return i===-1?(this.error=this.valueBlock.error,i):(this.fromBuffer(this.valueBlock.valueHex),this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length===0&&(this.blockLength+=this.valueBlock.blockLength),i)}fromBuffer(e){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(e))}fromString(e){let r=e.length;this.valueBlock.valueHex=new ArrayBuffer(r);let n=new Uint8Array(this.valueBlock.valueHex);for(let i=0;i<r;i++)n[i]=e.charCodeAt(i);this.valueBlock.value=e}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}},kC=class extends vo{constructor(e={}){super(e);this.idBlock.tagClass=1,this.idBlock.tagNumber=18}static blockName(){return"NumericString"}};ze.NumericString=kC;var BC=class extends vo{constructor(e={}){super(e);this.idBlock.tagClass=1,this.idBlock.tagNumber=19}static blockName(){return"PrintableString"}};ze.PrintableString=BC;var RC=class extends vo{constructor(e={}){super(e);this.idBlock.tagClass=1,this.idBlock.tagNumber=20}static blockName(){return"TeletexString"}};ze.TeletexString=RC;var MC=class extends vo{constructor(e={}){super(e);this.idBlock.tagClass=1,this.idBlock.tagNumber=21}static blockName(){return"VideotexString"}};ze.VideotexString=MC;var OC=class extends vo{constructor(e={}){super(e);this.idBlock.tagClass=1,this.idBlock.tagNumber=22}static blockName(){return"IA5String"}};ze.IA5String=OC;var qC=class extends vo{constructor(e={}){super(e);this.idBlock.tagClass=1,this.idBlock.tagNumber=25}static blockName(){return"GraphicString"}};ze.GraphicString=qC;var Dm=class extends vo{constructor(e={}){super(e);this.idBlock.tagClass=1,this.idBlock.tagNumber=26}static blockName(){return"VisibleString"}};ze.VisibleString=Dm;var DC=class extends vo{constructor(e={}){super(e);this.idBlock.tagClass=1,this.idBlock.tagNumber=27}static blockName(){return"GeneralString"}};ze.GeneralString=DC;var NC=class extends vo{constructor(e={}){super(e);this.idBlock.tagClass=1,this.idBlock.tagNumber=29}static blockName(){return"CharacterString"}};ze.CharacterString=NC;var LC=class extends Dm{constructor(e={}){super(e);if(this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,"value"in e){this.fromString(e.value),this.valueBlock.valueHex=new ArrayBuffer(e.value.length);let r=new Uint8Array(this.valueBlock.valueHex);for(let n=0;n<e.value.length;n++)r[n]=e.value.charCodeAt(n)}"valueDate"in e&&(this.fromDate(e.valueDate),this.valueBlock.valueHex=this.toBuffer()),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBER(e,r,n){let i=this.valueBlock.fromBER(e,r,this.lenBlock.isIndefiniteForm===!0?n:this.lenBlock.length);return i===-1?(this.error=this.valueBlock.error,i):(this.fromBuffer(this.valueBlock.valueHex),this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length===0&&(this.blockLength+=this.valueBlock.blockLength),i)}fromBuffer(e){this.fromString(String.fromCharCode.apply(null,new Uint8Array(e)))}toBuffer(){let e=this.toString(),r=new ArrayBuffer(e.length),n=new Uint8Array(r);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return r}fromDate(e){this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(e){let n=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig.exec(e);if(n===null){this.error="Wrong input string for convertion";return}let i=parseInt(n[1],10);i>=50?this.year=1900+i:this.year=2e3+i,this.month=parseInt(n[2],10),this.day=parseInt(n[3],10),this.hour=parseInt(n[4],10),this.minute=parseInt(n[5],10),this.second=parseInt(n[6],10)}toString(){let e=new Array(7);return e[0]=(0,Ne.padNumber)(this.year<2e3?this.year-1900:this.year-2e3,2),e[1]=(0,Ne.padNumber)(this.month,2),e[2]=(0,Ne.padNumber)(this.day,2),e[3]=(0,Ne.padNumber)(this.hour,2),e[4]=(0,Ne.padNumber)(this.minute,2),e[5]=(0,Ne.padNumber)(this.second,2),e[6]="Z",e.join("")}static blockName(){return"UTCTime"}toJSON(){let e={};try{e=super.toJSON()}catch{}return e.year=this.year,e.month=this.month,e.day=this.day,e.hour=this.hour,e.minute=this.minute,e.second=this.second,e}};ze.UTCTime=LC;var UC=class extends Dm{constructor(e={}){super(e);if(this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,this.millisecond=0,"value"in e){this.fromString(e.value),this.valueBlock.valueHex=new ArrayBuffer(e.value.length);let r=new Uint8Array(this.valueBlock.valueHex);for(let n=0;n<e.value.length;n++)r[n]=e.value.charCodeAt(n)}"valueDate"in e&&(this.fromDate(e.valueDate),this.valueBlock.valueHex=this.toBuffer()),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromBER(e,r,n){let i=this.valueBlock.fromBER(e,r,this.lenBlock.isIndefiniteForm===!0?n:this.lenBlock.length);return i===-1?(this.error=this.valueBlock.error,i):(this.fromBuffer(this.valueBlock.valueHex),this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length===0&&(this.blockLength+=this.valueBlock.blockLength),i)}fromBuffer(e){this.fromString(String.fromCharCode.apply(null,new Uint8Array(e)))}toBuffer(){let e=this.toString(),r=new ArrayBuffer(e.length),n=new Uint8Array(r);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return r}fromDate(e){this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds(),this.millisecond=e.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(e){let r=!1,n="",i="",a=0,o,u=0,f=0;if(e[e.length-1]==="Z")n=e.substr(0,e.length-1),r=!0;else{let m=new Number(e[e.length-1]);if(isNaN(m.valueOf()))throw new Error("Wrong input string for convertion");n=e}if(r){if(n.indexOf("+")!==-1)throw new Error("Wrong input string for convertion");if(n.indexOf("-")!==-1)throw new Error("Wrong input string for convertion")}else{let m=1,_=n.indexOf("+"),w="";if(_===-1&&(_=n.indexOf("-"),m=-1),_!==-1){if(w=n.substr(_+1),n=n.substr(0,_),w.length!==2&&w.length!==4)throw new Error("Wrong input string for convertion");let P=new Number(w.substr(0,2));if(isNaN(P.valueOf()))throw new Error("Wrong input string for convertion");if(u=m*P,w.length===4){if(P=new Number(w.substr(2,2)),isNaN(P.valueOf()))throw new Error("Wrong input string for convertion");f=m*P}}}let d=n.indexOf(".");if(d===-1&&(d=n.indexOf(",")),d!==-1){let m=new Number(`0${n.substr(d)}`);if(isNaN(m.valueOf()))throw new Error("Wrong input string for convertion");a=m.valueOf(),i=n.substr(0,d)}else i=n;switch(!0){case i.length===8:if(o=/(\d{4})(\d{2})(\d{2})/ig,d!==-1)throw new Error("Wrong input string for convertion");break;case i.length===10:if(o=/(\d{4})(\d{2})(\d{2})(\d{2})/ig,d!==-1){let m=60*a;this.minute=Math.floor(m),m=60*(m-this.minute),this.second=Math.floor(m),m=1e3*(m-this.second),this.millisecond=Math.floor(m)}break;case i.length===12:if(o=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/ig,d!==-1){let m=60*a;this.second=Math.floor(m),m=1e3*(m-this.second),this.millisecond=Math.floor(m)}break;case i.length===14:if(o=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/ig,d!==-1){let m=1e3*a;this.millisecond=Math.floor(m)}break;default:throw new Error("Wrong input string for convertion")}let h=o.exec(i);if(h===null)throw new Error("Wrong input string for convertion");for(let m=1;m<h.length;m++)switch(m){case 1:this.year=parseInt(h[m],10);break;case 2:this.month=parseInt(h[m],10);break;case 3:this.day=parseInt(h[m],10);break;case 4:this.hour=parseInt(h[m],10)+u;break;case 5:this.minute=parseInt(h[m],10)+f;break;case 6:this.second=parseInt(h[m],10);break;default:throw new Error("Wrong input string for convertion")}if(r===!1){let m=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=m.getUTCFullYear(),this.month=m.getUTCMonth(),this.day=m.getUTCDay(),this.hour=m.getUTCHours(),this.minute=m.getUTCMinutes(),this.second=m.getUTCSeconds(),this.millisecond=m.getUTCMilliseconds()}}toString(){let e=[];return e.push((0,Ne.padNumber)(this.year,4)),e.push((0,Ne.padNumber)(this.month,2)),e.push((0,Ne.padNumber)(this.day,2)),e.push((0,Ne.padNumber)(this.hour,2)),e.push((0,Ne.padNumber)(this.minute,2)),e.push((0,Ne.padNumber)(this.second,2)),this.millisecond!==0&&(e.push("."),e.push((0,Ne.padNumber)(this.millisecond,3))),e.push("Z"),e.join("")}static blockName(){return"GeneralizedTime"}toJSON(){let e={};try{e=super.toJSON()}catch{}return e.year=this.year,e.month=this.month,e.day=this.day,e.hour=this.hour,e.minute=this.minute,e.second=this.second,e.millisecond=this.millisecond,e}};ze.GeneralizedTime=UC;var HC=class extends Bc{constructor(e={}){super(e);this.idBlock.tagClass=1,this.idBlock.tagNumber=31}static blockName(){return"DATE"}};ze.DATE=HC;var KC=class extends Bc{constructor(e={}){super(e);this.idBlock.tagClass=1,this.idBlock.tagNumber=32}static blockName(){return"TimeOfDay"}};ze.TimeOfDay=KC;var FC=class extends Bc{constructor(e={}){super(e);this.idBlock.tagClass=1,this.idBlock.tagNumber=33}static blockName(){return"DateTime"}};ze.DateTime=FC;var zC=class extends Bc{constructor(e={}){super(e);this.idBlock.tagClass=1,this.idBlock.tagNumber=34}static blockName(){return"Duration"}};ze.Duration=zC;var WC=class extends Bc{constructor(e={}){super(e);this.idBlock.tagClass=1,this.idBlock.tagNumber=14}static blockName(){return"TIME"}};ze.TIME=WC;var jC=class{constructor(e={}){this.value=(0,Ne.getParametersValue)(e,"value",[]),this.optional=(0,Ne.getParametersValue)(e,"optional",!1)}};ze.Choice=jC;var Lv=class{constructor(e={}){this.name=(0,Ne.getParametersValue)(e,"name",""),this.optional=(0,Ne.getParametersValue)(e,"optional",!1)}};ze.Any=Lv;var Nv=class{constructor(e={}){this.name=(0,Ne.getParametersValue)(e,"name",""),this.optional=(0,Ne.getParametersValue)(e,"optional",!1),this.value=(0,Ne.getParametersValue)(e,"value",new Lv),this.local=(0,Ne.getParametersValue)(e,"local",!1)}};ze.Repeated=Nv;var mH=class{constructor(e={}){this.data=(0,Ne.getParametersValue)(e,"data",new ArrayBuffer(0))}fromBER(e,r,n){return this.data=e.slice(r,n),r+n}toBER(e=!1){return this.data}};ze.RawData=mH;function xH(t,e,r){let n=e;function i(h,m){if(h instanceof m)return h;let _=new m;return _.idBlock=h.idBlock,_.lenBlock=h.lenBlock,_.warnings=h.warnings,_.valueBeforeDecode=h.valueBeforeDecode.slice(0),_}let a=new Zn({},Object),o=new ma;if((0,Ne.checkBufferParams)(o,t,e,r)===!1)return a.error=o.error,{offset:-1,result:a};if(new Uint8Array(t,e,r).length===0)return a.error="Zero buffer length",{offset:-1,result:a};let f=a.idBlock.fromBER(t,e,r);if(a.warnings.concat(a.idBlock.warnings),f===-1)return a.error=a.idBlock.error,{offset:-1,result:a};if(e=f,r-=a.idBlock.blockLength,f=a.lenBlock.fromBER(t,e,r),a.warnings.concat(a.lenBlock.warnings),f===-1)return a.error=a.lenBlock.error,{offset:-1,result:a};if(e=f,r-=a.lenBlock.blockLength,a.idBlock.isConstructed===!1&&a.lenBlock.isIndefiniteForm===!0)return a.error="Indefinite length form used for primitive encoding form",{offset:-1,result:a};let d=Zn;switch(a.idBlock.tagClass){case 1:if(a.idBlock.tagNumber>=37&&a.idBlock.isHexOnly===!1)return a.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:a};switch(a.idBlock.tagNumber){case 0:if(a.idBlock.isConstructed===!0&&a.lenBlock.length>0)return a.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:a};d=sd;break;case 1:d=_C;break;case 2:d=Ic;break;case 3:d=r0;break;case 4:d=t0;break;case 5:d=AC;break;case 6:d=EC;break;case 10:d=CC;break;case 12:d=Bc;break;case 13:d=PC;break;case 14:d=WC;break;case 15:return a.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:a};case 16:d=wC;break;case 17:d=SC;break;case 18:d=kC;break;case 19:d=BC;break;case 20:d=RC;break;case 21:d=MC;break;case 22:d=OC;break;case 23:d=LC;break;case 24:d=UC;break;case 25:d=qC;break;case 26:d=Dm;break;case 27:d=DC;break;case 28:d=IC;break;case 29:d=NC;break;case 30:d=TC;break;case 31:d=HC;break;case 32:d=KC;break;case 33:d=FC;break;case 34:d=zC;break;default:{let h;a.idBlock.isConstructed===!0?h=new kc:h=new Dv,h.idBlock=a.idBlock,h.lenBlock=a.lenBlock,h.warnings=a.warnings,a=h}}break;case 2:case 3:case 4:default:a.idBlock.isConstructed===!0?d=kc:d=Dv}return a=i(a,d),f=a.fromBER(t,e,a.lenBlock.isIndefiniteForm===!0?r:a.lenBlock.length),a.valueBeforeDecode=t.slice(n,n+a.blockLength),{offset:f,result:a}}function Nm(t){if(t.byteLength===0){let e=new Zn({},Object);return e.error="Input buffer has zero length",{offset:-1,result:e}}return xH(t,0,t.byteLength)}function e0(t,e,r){if(r instanceof jC){for(let o=0;o<r.value.length;o++)if(e0(t,e,r.value[o]).verified===!0)return{verified:!0,result:t};{let o={verified:!1,result:{error:"Wrong values for Choice type"}};return r.hasOwnProperty("name")&&(o.name=r.name),o}}if(r instanceof Lv)return r.hasOwnProperty("name")&&(t[r.name]=e),{verified:!0,result:t};if(!(t instanceof Object))return{verified:!1,result:{error:"Wrong root object"}};if(!(e instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(!(r instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!("idBlock"in r))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!("fromBER"in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!("toBER"in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};let n=r.idBlock.toBER(!1);if(n.byteLength===0)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(r.idBlock.fromBER(n,0,n.byteLength)===-1)return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(r.idBlock.hasOwnProperty("tagClass")===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagClass!==e.idBlock.tagClass)return{verified:!1,result:t};if(r.idBlock.hasOwnProperty("tagNumber")===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagNumber!==e.idBlock.tagNumber)return{verified:!1,result:t};if(r.idBlock.hasOwnProperty("isConstructed")===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isConstructed!==e.idBlock.isConstructed)return{verified:!1,result:t};if(!("isHexOnly"in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isHexOnly!==e.idBlock.isHexOnly)return{verified:!1,result:t};if(r.idBlock.isHexOnly===!0){if(!("valueHex"in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};let a=new Uint8Array(r.idBlock.valueHex),o=new Uint8Array(e.idBlock.valueHex);if(a.length!==o.length)return{verified:!1,result:t};for(let u=0;u<a.length;u++)if(a[u]!==o[1])return{verified:!1,result:t}}if(r.hasOwnProperty("name")&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name!==""&&(t[r.name]=e)),r.idBlock.isConstructed===!0){let a=0,o={verified:!1},u=r.valueBlock.value.length;if(u>0&&r.valueBlock.value[0]instanceof Nv&&(u=e.valueBlock.value.length),u===0)return{verified:!0,result:t};if(e.valueBlock.value.length===0&&r.valueBlock.value.length!==0){let f=!0;for(let d=0;d<r.valueBlock.value.length;d++)f=f&&(r.valueBlock.value[d].optional||!1);return f===!0?{verified:!0,result:t}:(r.hasOwnProperty("name")&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name!==""&&delete t[r.name]),t.error="Inconsistent object length",{verified:!1,result:t})}for(let f=0;f<u;f++)if(f-a>=e.valueBlock.value.length){if(r.valueBlock.value[f].optional===!1){let d={verified:!1,result:t};return t.error="Inconsistent length between ASN.1 data and schema",r.hasOwnProperty("name")&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name!==""&&(delete t[r.name],d.name=r.name)),d}}else if(r.valueBlock.value[0]instanceof Nv){if(o=e0(t,e.valueBlock.value[f],r.valueBlock.value[0].value),o.verified===!1)if(r.valueBlock.value[0].optional===!0)a++;else return r.hasOwnProperty("name")&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name!==""&&delete t[r.name]),o;if("name"in r.valueBlock.value[0]&&r.valueBlock.value[0].name.length>0){let d={};"local"in r.valueBlock.value[0]&&r.valueBlock.value[0].local===!0?d=e:d=t,typeof d[r.valueBlock.value[0].name]>"u"&&(d[r.valueBlock.value[0].name]=[]),d[r.valueBlock.value[0].name].push(e.valueBlock.value[f])}}else if(o=e0(t,e.valueBlock.value[f-a],r.valueBlock.value[f]),o.verified===!1)if(r.valueBlock.value[f].optional===!0)a++;else return r.hasOwnProperty("name")&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name!==""&&delete t[r.name]),o;if(o.verified===!1){let f={verified:!1,result:t};return r.hasOwnProperty("name")&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name!==""&&(delete t[r.name],f.name=r.name)),f}return{verified:!0,result:t}}if("primitiveSchema"in r&&"valueHex"in e.valueBlock){let a=Nm(e.valueBlock.valueHex);if(a.offset===-1){let o={verified:!1,result:a.result};return r.hasOwnProperty("name")&&(r.name=r.name.replace(/^\s+|\s+$/g,""),r.name!==""&&(delete t[r.name],o.name=r.name)),o}return e0(t,a.result,r.primitiveSchema)}return{verified:!0,result:t}}function wbe(t,e){if(!(e instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};let r=Nm(t);return r.offset===-1?{verified:!1,result:r.result}:e0(r.result,r.result,e)}function Sbe(t){}});var n0=g(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.AsnPropTypes=Rc.AsnTypeTypes=void 0;var Abe;(function(t){t[t.Sequence=0]="Sequence",t[t.Set=1]="Set",t[t.Choice=2]="Choice"})(Abe=Rc.AsnTypeTypes||(Rc.AsnTypeTypes={}));var Cbe;(function(t){t[t.Any=1]="Any",t[t.Boolean=2]="Boolean",t[t.OctetString=3]="OctetString",t[t.BitString=4]="BitString",t[t.Integer=5]="Integer",t[t.Enumerated=6]="Enumerated",t[t.ObjectIdentifier=7]="ObjectIdentifier",t[t.Utf8String=8]="Utf8String",t[t.BmpString=9]="BmpString",t[t.UniversalString=10]="UniversalString",t[t.NumericString=11]="NumericString",t[t.PrintableString=12]="PrintableString",t[t.TeletexString=13]="TeletexString",t[t.VideotexString=14]="VideotexString",t[t.IA5String=15]="IA5String",t[t.GraphicString=16]="GraphicString",t[t.VisibleString=17]="VisibleString",t[t.GeneralString=18]="GeneralString",t[t.CharacterString=19]="CharacterString",t[t.UTCTime=20]="UTCTime",t[t.GeneralizedTime=21]="GeneralizedTime",t[t.DATE=22]="DATE",t[t.TimeOfDay=23]="TimeOfDay",t[t.DateTime=24]="DateTime",t[t.Duration=25]="Duration",t[t.TIME=26]="TIME",t[t.Null=27]="Null"})(Cbe=Rc.AsnPropTypes||(Rc.AsnPropTypes={}))});var Lm=g(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});rt.defaultConverter=rt.AsnNullConverter=rt.AsnGeneralizedTimeConverter=rt.AsnUTCTimeConverter=rt.AsnCharacterStringConverter=rt.AsnGeneralStringConverter=rt.AsnVisibleStringConverter=rt.AsnGraphicStringConverter=rt.AsnIA5StringConverter=rt.AsnVideotexStringConverter=rt.AsnTeletexStringConverter=rt.AsnPrintableStringConverter=rt.AsnNumericStringConverter=rt.AsnUniversalStringConverter=rt.AsnBmpStringConverter=rt.AsnUtf8StringConverter=rt.AsnOctetStringConverter=rt.AsnBooleanConverter=rt.AsnObjectIdentifierConverter=rt.AsnBitStringConverter=rt.AsnIntegerArrayBufferConverter=rt.AsnEnumeratedConverter=rt.AsnIntegerConverter=rt.AsnAnyConverter=void 0;var on=vu(),An=n0();rt.AsnAnyConverter={fromASN:t=>t instanceof on.Null?null:t.valueBeforeDecode,toASN:t=>{if(t===null)return new on.Null;let e=on.fromBER(t);if(e.result.error)throw new Error(e.result.error);return e.result}};rt.AsnIntegerConverter={fromASN:t=>t.valueBlock.valueHex.byteLength>4?t.valueBlock.toString():t.valueBlock.valueDec,toASN:t=>new on.Integer({value:t})};rt.AsnEnumeratedConverter={fromASN:t=>t.valueBlock.valueDec,toASN:t=>new on.Enumerated({value:t})};rt.AsnIntegerArrayBufferConverter={fromASN:t=>t.valueBlock.valueHex,toASN:t=>new on.Integer({valueHex:t})};rt.AsnBitStringConverter={fromASN:t=>t.valueBlock.valueHex,toASN:t=>new on.BitString({valueHex:t})};rt.AsnObjectIdentifierConverter={fromASN:t=>t.valueBlock.toString(),toASN:t=>new on.ObjectIdentifier({value:t})};rt.AsnBooleanConverter={fromASN:t=>t.valueBlock.value,toASN:t=>new on.Boolean({value:t})};rt.AsnOctetStringConverter={fromASN:t=>t.valueBlock.valueHex,toASN:t=>new on.OctetString({valueHex:t})};function Wa(t){return{fromASN:e=>e.valueBlock.value,toASN:e=>new t({value:e})}}rt.AsnUtf8StringConverter=Wa(on.Utf8String);rt.AsnBmpStringConverter=Wa(on.BmpString);rt.AsnUniversalStringConverter=Wa(on.UniversalString);rt.AsnNumericStringConverter=Wa(on.NumericString);rt.AsnPrintableStringConverter=Wa(on.PrintableString);rt.AsnTeletexStringConverter=Wa(on.TeletexString);rt.AsnVideotexStringConverter=Wa(on.VideotexString);rt.AsnIA5StringConverter=Wa(on.IA5String);rt.AsnGraphicStringConverter=Wa(on.GraphicString);rt.AsnVisibleStringConverter=Wa(on.VisibleString);rt.AsnGeneralStringConverter=Wa(on.GeneralString);rt.AsnCharacterStringConverter=Wa(on.CharacterString);rt.AsnUTCTimeConverter={fromASN:t=>t.toDate(),toASN:t=>new on.UTCTime({valueDate:t})};rt.AsnGeneralizedTimeConverter={fromASN:t=>t.toDate(),toASN:t=>new on.GeneralizedTime({valueDate:t})};rt.AsnNullConverter={fromASN:t=>null,toASN:t=>new on.Null};function Ebe(t){switch(t){case An.AsnPropTypes.Any:return rt.AsnAnyConverter;case An.AsnPropTypes.BitString:return rt.AsnBitStringConverter;case An.AsnPropTypes.BmpString:return rt.AsnBmpStringConverter;case An.AsnPropTypes.Boolean:return rt.AsnBooleanConverter;case An.AsnPropTypes.CharacterString:return rt.AsnCharacterStringConverter;case An.AsnPropTypes.Enumerated:return rt.AsnEnumeratedConverter;case An.AsnPropTypes.GeneralString:return rt.AsnGeneralStringConverter;case An.AsnPropTypes.GeneralizedTime:return rt.AsnGeneralizedTimeConverter;case An.AsnPropTypes.GraphicString:return rt.AsnGraphicStringConverter;case An.AsnPropTypes.IA5String:return rt.AsnIA5StringConverter;case An.AsnPropTypes.Integer:return rt.AsnIntegerConverter;case An.AsnPropTypes.Null:return rt.AsnNullConverter;case An.AsnPropTypes.NumericString:return rt.AsnNumericStringConverter;case An.AsnPropTypes.ObjectIdentifier:return rt.AsnObjectIdentifierConverter;case An.AsnPropTypes.OctetString:return rt.AsnOctetStringConverter;case An.AsnPropTypes.PrintableString:return rt.AsnPrintableStringConverter;case An.AsnPropTypes.TeletexString:return rt.AsnTeletexStringConverter;case An.AsnPropTypes.UTCTime:return rt.AsnUTCTimeConverter;case An.AsnPropTypes.UniversalString:return rt.AsnUniversalStringConverter;case An.AsnPropTypes.Utf8String:return rt.AsnUtf8StringConverter;case An.AsnPropTypes.VideotexString:return rt.AsnVideotexStringConverter;case An.AsnPropTypes.VisibleString:return rt.AsnVisibleStringConverter;default:return null}}rt.defaultConverter=Ebe});var vH=g(Uv=>{"use strict";Object.defineProperty(Uv,"__esModule",{value:!0});Uv.BitString=void 0;var $C=vu(),yH=bu(),bH=class{constructor(e,r=0){if(this.unusedBits=0,this.value=new ArrayBuffer(0),e)if(typeof e=="number")this.fromNumber(e);else if(yH.BufferSourceConverter.isBufferSource(e))this.unusedBits=r,this.value=yH.BufferSourceConverter.toArrayBuffer(e);else throw TypeError("Unsupported type of 'params' argument for BitString")}fromASN(e){if(!(e instanceof $C.BitString))throw new TypeError("Argument 'asn' is not instance of ASN.1 BitString");return this.unusedBits=e.valueBlock.unusedBits,this.value=e.valueBlock.valueHex,this}toASN(){return new $C.BitString({unusedBits:this.unusedBits,valueHex:this.value})}toSchema(e){return new $C.BitString({name:e})}toNumber(){let e="",r=new Uint8Array(this.value);for(let n of r)e+=n.toString(2).padStart(8,"0");return e=e.split("").reverse().join(""),this.unusedBits&&(e=e.slice(this.unusedBits).padStart(this.unusedBits,"0")),parseInt(e,2)}fromNumber(e){let r=e.toString(2),n=r.length+7>>3;this.unusedBits=(n<<3)-r.length;let i=new Uint8Array(n);r=r.padStart(n<<3,"0").split("").reverse().join("");let a=0;for(;a<n;)i[a]=parseInt(r.slice(a<<3,(a<<3)+8),2),a++;this.value=i.buffer}};Uv.BitString=bH});var wH=g(Hv=>{"use strict";Object.defineProperty(Hv,"__esModule",{value:!0});Hv.OctetString=void 0;var VC=vu(),gH=bu(),_H=class{constructor(e){typeof e=="number"?this.buffer=new ArrayBuffer(e):gH.BufferSourceConverter.isBufferSource(e)?this.buffer=gH.BufferSourceConverter.toArrayBuffer(e):Array.isArray(e)?this.buffer=new Uint8Array(e):this.buffer=new ArrayBuffer(0)}get byteLength(){return this.buffer.byteLength}get byteOffset(){return 0}fromASN(e){if(!(e instanceof VC.OctetString))throw new TypeError("Argument 'asn' is not instance of ASN.1 OctetString");return this.buffer=e.valueBlock.valueHex,this}toASN(){return new VC.OctetString({valueHex:this.buffer})}toSchema(e){return new VC.OctetString({name:e})}};Hv.OctetString=_H});var AH=g(Kv=>{"use strict";Object.defineProperty(Kv,"__esModule",{value:!0});var SH=ke();SH.__exportStar(vH(),Kv);SH.__exportStar(wH(),Kv)});var Fv=g(Mc=>{"use strict";Object.defineProperty(Mc,"__esModule",{value:!0});Mc.isArrayEqual=Mc.isTypeOfArray=Mc.isConvertible=void 0;function CH(t){return t&&t.prototype?t.prototype.toASN&&t.prototype.fromASN?!0:CH(t.prototype):!!(t&&t.toASN&&t.fromASN)}Mc.isConvertible=CH;function EH(t){var e;if(t){let r=Object.getPrototypeOf(t);return((e=r?.prototype)===null||e===void 0?void 0:e.constructor)===Array?!0:EH(r)}return!1}Mc.isTypeOfArray=EH;function Pbe(t,e){if(!(t&&e)||t.byteLength!==e.byteLength)return!1;let r=new Uint8Array(t),n=new Uint8Array(e);for(let i=0;i<t.byteLength;i++)if(r[i]!==n[i])return!1;return!0}Mc.isArrayEqual=Pbe});var IH=g(zv=>{"use strict";Object.defineProperty(zv,"__esModule",{value:!0});zv.AsnSchemaStorage=void 0;var xa=vu(),i0=n0(),PH=Fv(),TH=class{constructor(){this.items=new WeakMap}has(e){return this.items.has(e)}get(e){var r,n,i,a;let o=this.items.get(e);if(!o)throw new Error(`Cannot get schema for '${(a=(i=(n=(r=e)===null||r===void 0?void 0:r.prototype)===null||n===void 0?void 0:n.constructor)===null||i===void 0?void 0:i.name)!==null&&a!==void 0?a:e}' target`);return o}cache(e){let r=this.get(e);r.schema||(r.schema=this.create(e,!0))}createDefault(e){let r={type:i0.AsnTypeTypes.Sequence,items:{}},n=this.findParentSchema(e);return n&&(Object.assign(r,n),r.items=Object.assign({},r.items,n.items)),r}create(e,r){let n=this.items.get(e)||this.createDefault(e),i=[];for(let a in n.items){let o=n.items[a],u=r?a:"",f;if(typeof o.type=="number"){let h=i0.AsnPropTypes[o.type],m=xa[h];if(!m)throw new Error(`Cannot get ASN1 class by name '${h}'`);f=new m({name:u})}else PH.isConvertible(o.type)?f=new o.type().toSchema(u):o.optional?this.get(o.type).type===i0.AsnTypeTypes.Choice?f=new xa.Any({name:u}):(f=this.create(o.type,!1),f.name=u):f=new xa.Any({name:u});let d=!!o.optional||o.defaultValue!==void 0;if(o.repeated){f.name="";let h=o.repeated==="set"?xa.Set:xa.Sequence;f=new h({name:"",value:[new xa.Repeated({name:u,value:f})]})}if(o.context!==null&&o.context!==void 0)if(o.implicit)if(typeof o.type=="number"||PH.isConvertible(o.type)){let h=o.repeated?xa.Constructed:xa.Primitive;i.push(new h({name:u,optional:d,idBlock:{tagClass:3,tagNumber:o.context}}))}else{this.cache(o.type);let h=!!o.repeated,m=h?f:this.get(o.type).schema;m=m.valueBlock?m.valueBlock.value:m.value,i.push(new xa.Constructed({name:h?"":u,optional:d,idBlock:{tagClass:3,tagNumber:o.context},value:m}))}else i.push(new xa.Constructed({optional:d,idBlock:{tagClass:3,tagNumber:o.context},value:[f]}));else f.optional=d,i.push(f)}switch(n.type){case i0.AsnTypeTypes.Sequence:return new xa.Sequence({value:i,name:""});case i0.AsnTypeTypes.Set:return new xa.Set({value:i,name:""});case i0.AsnTypeTypes.Choice:return new xa.Choice({value:i,name:""});default:throw new Error("Unsupported ASN1 type in use")}}set(e,r){return this.items.set(e,r),this}findParentSchema(e){let r=e.__proto__;return r?this.items.get(r)||this.findParentSchema(r):null}};zv.AsnSchemaStorage=TH});var jv=g(Wv=>{"use strict";Object.defineProperty(Wv,"__esModule",{value:!0});Wv.schemaStorage=void 0;var Tbe=IH();Wv.schemaStorage=new Tbe.AsnSchemaStorage});var kH=g(a0=>{"use strict";Object.defineProperty(a0,"__esModule",{value:!0});a0.AsnProp=a0.AsnType=void 0;var Ibe=Lm(),Oc=jv(),kbe=t=>e=>{let r;Oc.schemaStorage.has(e)?r=Oc.schemaStorage.get(e):(r=Oc.schemaStorage.createDefault(e),Oc.schemaStorage.set(e,r)),Object.assign(r,t)};a0.AsnType=kbe;var Bbe=t=>(e,r)=>{let n;Oc.schemaStorage.has(e.constructor)?n=Oc.schemaStorage.get(e.constructor):(n=Oc.schemaStorage.createDefault(e.constructor),Oc.schemaStorage.set(e.constructor,n));let i=Object.assign({},t);if(typeof i.type=="number"&&!i.converter){let a=Ibe.defaultConverter(t.type);if(!a)throw new Error(`Cannot get default converter for property '${r}' of ${e.constructor.name}`);i.converter=a}n.items[r]=i};a0.AsnProp=Bbe});var RH=g($v=>{"use strict";Object.defineProperty($v,"__esModule",{value:!0});$v.AsnSchemaValidationError=void 0;var BH=class extends Error{constructor(){super(...arguments);this.schemas=[]}};$v.AsnSchemaValidationError=BH});var YC=g(GC=>{"use strict";Object.defineProperty(GC,"__esModule",{value:!0});var Rbe=ke();Rbe.__exportStar(RH(),GC)});var JC=g(Vv=>{"use strict";Object.defineProperty(Vv,"__esModule",{value:!0});Vv.AsnParser=void 0;var gu=vu(),MH=n0(),Mbe=Lm(),OH=YC(),Um=Fv(),qH=jv(),DH=class{static parse(e,r){let n;if(e instanceof ArrayBuffer)n=e;else if(typeof Buffer<"u"&&Buffer.isBuffer(e))n=new Uint8Array(e).buffer;else if(ArrayBuffer.isView(e)||e.buffer instanceof ArrayBuffer)n=e.buffer;else throw new TypeError("Wrong type of 'data' argument");let i=gu.fromBER(n);if(i.result.error)throw new Error(i.result.error);return this.fromASN(i.result,r)}static fromASN(e,r){var n;try{if(Um.isConvertible(r))return new r().fromASN(e);let i=qH.schemaStorage.get(r);qH.schemaStorage.cache(r);let a=i.schema;if(e.constructor===gu.Constructed&&i.type!==MH.AsnTypeTypes.Choice){a=new gu.Constructed({idBlock:{tagClass:3,tagNumber:e.idBlock.tagNumber},value:i.schema.valueBlock.value});for(let f in i.items)delete e[f]}let o=gu.compareSchema(e,e,a);if(!o.verified)throw new OH.AsnSchemaValidationError(`Data does not match to ${r.name} ASN1 schema. ${o.result.error}`);let u=new r;if(Um.isTypeOfArray(r))if(typeof i.itemType=="number"){let f=Mbe.defaultConverter(i.itemType);if(!f)throw new Error(`Cannot get default converter for array item of ${r.name} ASN1 schema`);return r.from(e.valueBlock.value,d=>f.fromASN(d))}else return r.from(e.valueBlock.value,f=>this.fromASN(f,i.itemType));for(let f in i.items){if(!e[f])continue;let d=i.items[f];if(typeof d.type=="number"||Um.isConvertible(d.type)){let h=(n=d.converter)!==null&&n!==void 0?n:Um.isConvertible(d.type)?new d.type:null;if(!h)throw new Error("Converter is empty");if(d.repeated)if(d.implicit){let m=d.repeated==="sequence"?gu.Sequence:gu.Set,_=new m;_.valueBlock=e[f].valueBlock;let w=gu.fromBER(_.toBER(!1)).result.valueBlock.value;u[f]=Array.from(w,P=>h.fromASN(P))}else u[f]=Array.from(e[f],m=>h.fromASN(m));else{let m=e[f];if(d.implicit){let _;if(Um.isConvertible(d.type))_=new d.type().toSchema("");else{let w=MH.AsnPropTypes[d.type],P=gu[w];if(!P)throw new Error(`Cannot get '${w}' class from asn1js module`);_=new P}_.valueBlock=m.valueBlock,m=gu.fromBER(_.toBER(!1)).result}u[f]=h.fromASN(m)}}else d.repeated?u[f]=Array.from(e[f],h=>this.fromASN(h,d.type)):u[f]=this.fromASN(e[f],d.type)}return u}catch(i){throw i instanceof OH.AsnSchemaValidationError&&i.schemas.push(r.name),i}}};Vv.AsnParser=DH});var QC=g(Jv=>{"use strict";Object.defineProperty(Jv,"__esModule",{value:!0});Jv.AsnSerializer=void 0;var Es=vu(),Obe=Lm(),Gv=n0(),XC=Fv(),NH=jv(),Yv=class{static serialize(e){return e instanceof Es.BaseBlock?e.toBER(!1):this.toASN(e).toBER(!1)}static toASN(e){if(e&&XC.isConvertible(e.constructor))return e.toASN();let r=e.constructor,n=NH.schemaStorage.get(r);NH.schemaStorage.cache(r);let i=[];if(n.itemType)if(typeof n.itemType=="number"){let o=Obe.defaultConverter(n.itemType);if(!o)throw new Error(`Cannot get default converter for array item of ${r.name} ASN1 schema`);i=e.map(u=>o.toASN(u))}else i=e.map(o=>this.toAsnItem({type:n.itemType},"[]",r,o));else for(let o in n.items){let u=n.items[o],f=e[o];if(f===void 0||u.defaultValue===f||typeof u.defaultValue=="object"&&typeof f=="object"&&XC.isArrayEqual(this.serialize(u.defaultValue),this.serialize(f)))continue;let d=Yv.toAsnItem(u,o,r,f);if(typeof u.context=="number")if(u.implicit)if(!u.repeated&&(typeof u.type=="number"||XC.isConvertible(u.type))){let h={};h.valueHex=d instanceof Es.Null?d.valueBeforeDecode:d.valueBlock.toBER(),i.push(new Es.Primitive(Object.assign({optional:u.optional,idBlock:{tagClass:3,tagNumber:u.context}},h)))}else i.push(new Es.Constructed({optional:u.optional,idBlock:{tagClass:3,tagNumber:u.context},value:d.valueBlock.value}));else i.push(new Es.Constructed({optional:u.optional,idBlock:{tagClass:3,tagNumber:u.context},value:[d]}));else u.repeated?i=i.concat(d):i.push(d)}let a;switch(n.type){case Gv.AsnTypeTypes.Sequence:a=new Es.Sequence({value:i});break;case Gv.AsnTypeTypes.Set:a=new Es.Set({value:i});break;case Gv.AsnTypeTypes.Choice:if(!i[0])throw new Error(`Schema '${r.name}' has wrong data. Choice cannot be empty.`);a=i[0];break}return a}static toAsnItem(e,r,n,i){let a;if(typeof e.type=="number"){let o=e.converter;if(!o)throw new Error(`Property '${r}' doesn't have converter for type ${Gv.AsnPropTypes[e.type]} in schema '${n.name}'`);if(e.repeated){let u=Array.from(i,d=>o.toASN(d)),f=e.repeated==="sequence"?Es.Sequence:Es.Set;a=new f({value:u})}else a=o.toASN(i)}else if(e.repeated){let o=Array.from(i,f=>this.toASN(f)),u=e.repeated==="sequence"?Es.Sequence:Es.Set;a=new u({value:o})}else a=this.toASN(i);return a}};Jv.AsnSerializer=Yv});var UH=g(Xv=>{"use strict";Object.defineProperty(Xv,"__esModule",{value:!0});Xv.AsnArray=void 0;var LH=class extends Array{constructor(e=[]){if(typeof e=="number")super(e);else{super();for(let r of e)this.push(r)}}};Xv.AsnArray=LH});var KH=g(Zv=>{"use strict";Object.defineProperty(Zv,"__esModule",{value:!0});Zv.AsnConvert=void 0;var qbe=vu(),HH=bu(),Dbe=JC(),Nbe=QC(),Qv=class{static serialize(e){return Nbe.AsnSerializer.serialize(e)}static parse(e,r){return Dbe.AsnParser.parse(e,r)}static toString(e){let r=HH.BufferSourceConverter.isBufferSource(e)?HH.BufferSourceConverter.toArrayBuffer(e):Qv.serialize(e),n=qbe.fromBER(r);if(n.offset===-1)throw new Error(`Cannot decode ASN.1 data. ${n.result.error}`);return n.result.toString()}};Zv.AsnConvert=Qv});var Le=g(ei=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});ei.AsnSerializer=ei.AsnParser=ei.AsnPropTypes=ei.AsnTypeTypes=ei.AsnType=ei.AsnProp=void 0;var Hm=ke();Hm.__exportStar(Lm(),ei);Hm.__exportStar(AH(),ei);var FH=kH();Object.defineProperty(ei,"AsnProp",{enumerable:!0,get:function(){return FH.AsnProp}});Object.defineProperty(ei,"AsnType",{enumerable:!0,get:function(){return FH.AsnType}});var zH=n0();Object.defineProperty(ei,"AsnTypeTypes",{enumerable:!0,get:function(){return zH.AsnTypeTypes}});Object.defineProperty(ei,"AsnPropTypes",{enumerable:!0,get:function(){return zH.AsnPropTypes}});var Lbe=JC();Object.defineProperty(ei,"AsnParser",{enumerable:!0,get:function(){return Lbe.AsnParser}});var Ube=QC();Object.defineProperty(ei,"AsnSerializer",{enumerable:!0,get:function(){return Ube.AsnSerializer}});Hm.__exportStar(YC(),ei);Hm.__exportStar(UH(),ei);Hm.__exportStar(KH(),ei)});var rE=g(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});var o0=class extends Error{constructor(e,r){super(r?`${e}. See the inner exception for more details.`:e);this.message=e,this.innerError=r}},ZC=class extends o0{constructor(e,r,n){super(r,n);this.schema=e}},s0=class extends ZC{constructor(e,r,n){super(e,`JSON doesn't match to '${e.target.name}' schema. ${r}`,n)}},go=class extends o0{},Km=class extends o0{constructor(e,r,n){super(`Cannot serialize by '${e}' schema. ${r}`,n);this.schemaName=e}},eg=class extends s0{constructor(e,r,n={}){super(e,"Some keys doesn't match to schema");this.keys=r,this.errors=n}};(function(t){t[t.Any=0]="Any",t[t.Boolean=1]="Boolean",t[t.Number=2]="Number",t[t.String=3]="String"})(un.JsonPropTypes||(un.JsonPropTypes={}));function Hbe(t,e){switch(e){case un.JsonPropTypes.Boolean:return typeof t=="boolean";case un.JsonPropTypes.Number:return typeof t=="number";case un.JsonPropTypes.String:return typeof t=="string"}return!0}function tg(t,e){if(!Hbe(t,e))throw new TypeError(`Value must be ${un.JsonPropTypes[e]}`)}function rg(t){return t&&t.prototype?t.prototype.toJSON&&t.prototype.fromJSON?!0:rg(t.prototype):!!(t&&t.toJSON&&t.fromJSON)}var WH=class{constructor(){this.items=new Map}has(e){return this.items.has(e)||!!this.findParentSchema(e)}get(e){let r=this.items.get(e)||this.findParentSchema(e);if(!r)throw new Error("Cannot get schema for current target");return r}create(e){let r={names:{}},n=this.findParentSchema(e);if(n){Object.assign(r,n),r.names={};for(let i in n.names)r.names[i]=Object.assign({},n.names[i])}return r.target=e,r}set(e,r){return this.items.set(e,r),this}findParentSchema(e){let r=e.__proto__;return r?this.items.get(r)||this.findParentSchema(r):null}},Fm="default",Ps=new WH,jH=class{constructor(e){this.pattern=new RegExp(e)}validate(e){let r=new RegExp(this.pattern.source,this.pattern.flags);if(typeof e!="string")throw new go("Incoming value must be string");if(!r.exec(e))throw new go(`Value doesn't match to pattern '${r.toString()}'`)}},$H=class{constructor(e=Number.MIN_VALUE,r=Number.MAX_VALUE){this.min=e,this.max=r}validate(e){if(tg(e,un.JsonPropTypes.Number),!(this.min<=e&&e<=this.max)){let r=this.min===Number.MIN_VALUE?"MIN":this.min,n=this.max===Number.MAX_VALUE?"MAX":this.max;throw new go(`Value doesn't match to diapason [${r},${n}]`)}}},VH=class{constructor(e=Number.MIN_VALUE,r=Number.MAX_VALUE){this.min=e,this.max=r}validate(e){if(tg(e,un.JsonPropTypes.Number),!(this.min<e&&e<this.max)){let r=this.min===Number.MIN_VALUE?"MIN":this.min,n=this.max===Number.MAX_VALUE?"MAX":this.max;throw new go(`Value doesn't match to diapason (${r},${n})`)}}},eE=class{constructor(e,r,n){this.length=e,this.minLength=r,this.maxLength=n}validate(e){if(this.length!==void 0){if(e.length!==this.length)throw new go(`Value length must be exactly ${this.length}.`);return}if(this.minLength!==void 0&&e.length<this.minLength)throw new go(`Value length must be more than ${this.minLength}.`);if(this.maxLength!==void 0&&e.length>this.maxLength)throw new go(`Value length must be less than ${this.maxLength}.`)}},GH=class{constructor(e){this.enumeration=e}validate(e){if(tg(e,un.JsonPropTypes.String),!this.enumeration.includes(e))throw new go(`Value must be one of ${this.enumeration.map(r=>`'${r}'`).join(", ")}`)}},tE=class{static checkValues(e,r){let n=Array.isArray(e)?e:[e];for(let i of n)for(let a of r.validations)a instanceof eE&&r.repeated?a.validate(e):a.validate(i)}static checkTypes(e,r){if(r.repeated&&!Array.isArray(e))throw new TypeError("Value must be Array");if(typeof r.type=="number"){let n=Array.isArray(e)?e:[e];for(let i of n)tg(i,r.type)}}static getSchemaByName(e,r=Fm){return{...e.names[Fm],...e.names[r]}}},YH=class extends tE{static serialize(e,r,n,i){let a=this.toJSON(e,r);return JSON.stringify(a,n,i)}static toJSON(e,r={}){let n,i=r.targetSchema,a=r.schemaName||Fm;if(rg(e))return e.toJSON();if(Array.isArray(e)){n=[];for(let o of e)n.push(this.toJSON(o,r))}else if(typeof e=="object"){if(i&&!Ps.has(i))throw new o0("Cannot get schema for `targetSchema` param");if(i=i||e.constructor,Ps.has(i)){let o=Ps.get(i);n={};let u=this.getSchemaByName(o,a);for(let f in u)try{let d=u[f],h=e[f],m;if(d.optional&&h===void 0||d.defaultValue!==void 0&&h===d.defaultValue)continue;if(!d.optional&&h===void 0)throw new Km(i.name,`Property '${f}' is required.`);typeof d.type=="number"?d.converter?d.repeated?m=h.map(_=>d.converter.toJSON(_,e)):m=d.converter.toJSON(h,e):m=h:d.repeated?m=h.map(_=>this.toJSON(_,{schemaName:a})):m=this.toJSON(h,{schemaName:a}),this.checkTypes(m,d),this.checkValues(m,d),n[d.name||f]=m}catch(d){throw d instanceof Km?d:new Km(o.target.name,`Property '${f}' is wrong. ${d.message}`,d)}}else{n={};for(let o in e)n[o]=this.toJSON(e[o],{schemaName:a})}}else n=e;return n}},ng=class extends tE{static parse(e,r){let n=JSON.parse(e);return this.fromJSON(n,r)}static fromJSON(e,r){let n=r.targetSchema,i=r.schemaName||Fm,a=new n;if(rg(a))return a.fromJSON(e);let o=Ps.get(n),u=this.getSchemaByName(o,i),f={};r.strictProperty&&!Array.isArray(e)&&ng.checkStrictProperty(e,u,o);for(let h in u)try{let m=u[h],_=m.name||h,w=e[_];if(w===void 0&&(m.optional||m.defaultValue!==void 0))continue;if(!m.optional&&w===void 0)throw new s0(o,`Property '${_}' is required.`);if(this.checkTypes(w,m),this.checkValues(w,m),typeof m.type=="number")m.converter?m.repeated?a[h]=w.map(P=>m.converter.fromJSON(P,a)):a[h]=m.converter.fromJSON(w,a):a[h]=w;else{let P={...r,targetSchema:m.type,schemaName:i};m.repeated?a[h]=w.map(M=>this.fromJSON(M,P)):a[h]=this.fromJSON(w,P)}}catch(m){if(m instanceof s0||(m=new s0(o,`Property '${h}' is wrong. ${m.message}`,m)),r.strictAllKeys)f[h]=m;else throw m}let d=Object.keys(f);if(d.length)throw new eg(o,d,f);return a}static checkStrictProperty(e,r,n){let i=Object.keys(e),a=Object.keys(r),o=[];for(let u of i)a.indexOf(u)===-1&&o.push(u);if(o.length)throw new eg(n,o)}};function Kbe(t){let e=[];return t.pattern&&e.push(new jH(t.pattern)),(t.type===un.JsonPropTypes.Number||t.type===un.JsonPropTypes.Any)&&((t.minInclusive!==void 0||t.maxInclusive!==void 0)&&e.push(new $H(t.minInclusive,t.maxInclusive)),(t.minExclusive!==void 0||t.maxExclusive!==void 0)&&e.push(new VH(t.minExclusive,t.maxExclusive)),t.enumeration!==void 0&&e.push(new GH(t.enumeration))),(t.type===un.JsonPropTypes.String||t.repeated||t.type===un.JsonPropTypes.Any)&&(t.length!==void 0||t.minLength!==void 0||t.maxLength!==void 0)&&e.push(new eE(t.length,t.minLength,t.maxLength)),e}var Fbe=(t={})=>(e,r)=>{let n=`Cannot set type for ${r} property of ${e.constructor.name} schema`,i;Ps.has(e.constructor)?(i=Ps.get(e.constructor),i.target!==e.constructor&&(i=Ps.create(e.constructor),Ps.set(e.constructor,i))):(i=Ps.create(e.constructor),Ps.set(e.constructor,i));let a={type:un.JsonPropTypes.Any,validations:[]},o=Object.assign(a,t);if(o.validations=Kbe(o),typeof o.type!="number"&&!Ps.has(o.type)&&!rg(o.type))throw new Error(`${n}. Assigning type doesn't have schema.`);let u;Array.isArray(t.schema)?u=t.schema:u=[t.schema||Fm];for(let f of u){i.names[f]||(i.names[f]={});let d=i.names[f];d[r]=o}};un.JsonError=o0;un.JsonParser=ng;un.JsonProp=Fbe;un.JsonSerializer=YH;un.KeyError=eg;un.ParserError=s0;un.SerializerError=Km;un.TransformError=ZC;un.ValidationError=go});var mK=g(pr=>{"use strict";Object.defineProperty(pr,"__esModule",{value:!0});var Tr=bu(),Ir=ke(),ht=Le(),ja=rE(),nE=vu(),_u=class extends Error{},sg=class extends _u{},Ts=class extends _u{constructor(e){super(`Unsupported operation: ${e?`${e}`:""}`)}},$a=class extends _u{},iE=class extends _u{constructor(e){super(`${e}: Missing required property`)}},JH=class{static toArrayBuffer(e){let r=e.replace(/-{5}(BEGIN|END) .*-{5}/g,"").replace("\r","").replace(`
`,"");return Tr.Convert.FromBase64(r)}static toUint8Array(e){let r=this.toArrayBuffer(e);return new Uint8Array(r)}static fromBufferSource(e,r){let n=Tr.Convert.ToBase64(e),i,a=0,o=[];for(;i=n.slice(a,a=a+64),i.length;)if(o.push(i),i.length<64)break;let u=r.toUpperCase();return`-----BEGIN ${u}-----
${o.join(`
`)}
-----END ${u}-----`}static isPEM(e){return/-----BEGIN .+-----[A-Za-z0-9+\/\+\=\s\n]+-----END .+-----/i.test(e)}static getTagName(e){if(!this.isPEM(e))throw new Error("Bad parameter. Incoming data is not right PEM");let r=/-----BEGIN (.+)-----/.exec(e);if(!r)throw new Error("Cannot get tag from PEM");return r[1]}static hasTagName(e,r){let n=this.getTagName(e);return r.toLowerCase()===n.toLowerCase()}static isCertificate(e){return this.hasTagName(e,"certificate")}static isCertificateRequest(e){return this.hasTagName(e,"certificate request")}static isCRL(e){return this.hasTagName(e,"x509 crl")}static isPublicKey(e){return this.hasTagName(e,"public key")}};function XH(t){return typeof t=="object"&&"kty"in t}var wu=class{async digest(...e){return this.checkDigest.apply(this,e),this.onDigest.apply(this,e)}checkDigest(e,r){this.checkAlgorithmName(e)}async onDigest(e,r){throw new Ts("digest")}async generateKey(...e){return this.checkGenerateKey.apply(this,e),this.onGenerateKey.apply(this,e)}checkGenerateKey(e,r,n,...i){if(this.checkAlgorithmName(e),this.checkGenerateKeyParams(e),!(n&&n.length))throw new TypeError("Usages cannot be empty when creating a key.");let a;Array.isArray(this.usages)?a=this.usages:a=this.usages.privateKey.concat(this.usages.publicKey),this.checkKeyUsages(n,a)}checkGenerateKeyParams(e){}async onGenerateKey(e,r,n,...i){throw new Ts("generateKey")}async sign(...e){return this.checkSign.apply(this,e),this.onSign.apply(this,e)}checkSign(e,r,n,...i){this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(r,"sign")}async onSign(e,r,n,...i){throw new Ts("sign")}async verify(...e){return this.checkVerify.apply(this,e),this.onVerify.apply(this,e)}checkVerify(e,r,n,i,...a){this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(r,"verify")}async onVerify(e,r,n,i,...a){throw new Ts("verify")}async encrypt(...e){return this.checkEncrypt.apply(this,e),this.onEncrypt.apply(this,e)}checkEncrypt(e,r,n,i={},...a){this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(r,i.keyUsage?"encrypt":void 0)}async onEncrypt(e,r,n,...i){throw new Ts("encrypt")}async decrypt(...e){return this.checkDecrypt.apply(this,e),this.onDecrypt.apply(this,e)}checkDecrypt(e,r,n,i={},...a){this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(r,i.keyUsage?"decrypt":void 0)}async onDecrypt(e,r,n,...i){throw new Ts("decrypt")}async deriveBits(...e){return this.checkDeriveBits.apply(this,e),this.onDeriveBits.apply(this,e)}checkDeriveBits(e,r,n,i={},...a){if(this.checkAlgorithmName(e),this.checkAlgorithmParams(e),this.checkCryptoKey(r,i.keyUsage?"deriveBits":void 0),n%8!==0)throw new $a("length: Is not multiple of 8")}async onDeriveBits(e,r,n,...i){throw new Ts("deriveBits")}async exportKey(...e){return this.checkExportKey.apply(this,e),this.onExportKey.apply(this,e)}checkExportKey(e,r,...n){if(this.checkKeyFormat(e),this.checkCryptoKey(r),!r.extractable)throw new _u("key: Is not extractable")}async onExportKey(e,r,...n){throw new Ts("exportKey")}async importKey(...e){return this.checkImportKey.apply(this,e),this.onImportKey.apply(this,e)}checkImportKey(e,r,n,i,a,...o){this.checkKeyFormat(e),this.checkKeyData(e,r),this.checkAlgorithmName(n),this.checkImportParams(n),Array.isArray(this.usages)&&this.checkKeyUsages(a,this.usages)}async onImportKey(e,r,n,i,a,...o){throw new Ts("importKey")}checkAlgorithmName(e){if(e.name.toLowerCase()!==this.name.toLowerCase())throw new sg("Unrecognized name")}checkAlgorithmParams(e){}checkDerivedKeyParams(e){}checkKeyUsages(e,r){for(let n of e)if(r.indexOf(n)===-1)throw new TypeError("Cannot create a key using the specified key usages")}checkCryptoKey(e,r){if(this.checkAlgorithmName(e.algorithm),r&&e.usages.indexOf(r)===-1)throw new _u("key does not match that of operation")}checkRequiredProperty(e,r){if(!(r in e))throw new iE(r)}checkHashAlgorithm(e,r){for(let n of r)if(n.toLowerCase()===e.name.toLowerCase())return;throw new $a(`hash: Must be one of ${r.join(", ")}`)}checkImportParams(e){}checkKeyFormat(e){switch(e){case"raw":case"pkcs8":case"spki":case"jwk":break;default:throw new TypeError("format: Is invalid value. Must be 'jwk', 'raw', 'spki', or 'pkcs8'")}}checkKeyData(e,r){if(!r)throw new TypeError("keyData: Cannot be empty on empty on key importing");if(e==="jwk"){if(!XH(r))throw new TypeError("keyData: Is not JsonWebToken")}else if(!Tr.BufferSourceConverter.isBufferSource(r))throw new TypeError("keyData: Is not ArrayBufferView or ArrayBuffer")}prepareData(e){return Tr.BufferSourceConverter.toArrayBuffer(e)}},qc=class extends wu{checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"length"),typeof e.length!="number")throw new TypeError("length: Is not of type Number");switch(e.length){case 128:case 192:case 256:break;default:throw new TypeError("length: Must be 128, 192, or 256")}}checkDerivedKeyParams(e){this.checkGenerateKeyParams(e)}},QH=class extends qc{constructor(){super(...arguments);this.name="AES-CBC",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"iv"),!(e.iv instanceof ArrayBuffer||ArrayBuffer.isView(e.iv)))throw new TypeError("iv: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(e.iv.byteLength!==16)throw new TypeError("iv: Must have length 16 bytes")}},ZH=class extends qc{constructor(){super(...arguments);this.name="AES-CMAC",this.usages=["sign","verify"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"length"),typeof e.length!="number")throw new TypeError("length: Is not a Number");if(e.length<1)throw new $a("length: Must be more than 0")}},eK=class extends qc{constructor(){super(...arguments);this.name="AES-CTR",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"counter"),!(e.counter instanceof ArrayBuffer||ArrayBuffer.isView(e.counter)))throw new TypeError("counter: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(e.counter.byteLength!==16)throw new TypeError("iv: Must have length 16 bytes");if(this.checkRequiredProperty(e,"length"),typeof e.length!="number")throw new TypeError("length: Is not a Number");if(e.length<1)throw new $a("length: Must be more than 0")}},tK=class extends qc{constructor(){super(...arguments);this.name="AES-ECB",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}},rK=class extends qc{constructor(){super(...arguments);this.name="AES-GCM",this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"iv"),!(e.iv instanceof ArrayBuffer||ArrayBuffer.isView(e.iv)))throw new TypeError("iv: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(e.iv.byteLength<1)throw new $a("iv: Must have length more than 0 and less than 2^64 - 1");switch("tagLength"in e||(e.tagLength=128),e.tagLength){case 32:case 64:case 96:case 104:case 112:case 120:case 128:break;default:throw new $a("tagLength: Must be one of 32, 64, 96, 104, 112, 120 or 128")}}},nK=class extends qc{constructor(){super(...arguments);this.name="AES-KW",this.usages=["wrapKey","unwrapKey"]}},iK=class extends wu{constructor(){super(...arguments);this.usages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmParams(e){if(this.ivSize){if(this.checkRequiredProperty(e,"iv"),!(e.iv instanceof ArrayBuffer||ArrayBuffer.isView(e.iv)))throw new TypeError("iv: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(e.iv.byteLength!==this.ivSize)throw new TypeError(`iv: Must have length ${this.ivSize} bytes`)}}checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"length"),typeof e.length!="number")throw new TypeError("length: Is not of type Number");if(e.length!==this.keySizeBits)throw new $a(`algorith.length: Must be ${this.keySizeBits}`)}checkDerivedKeyParams(e){this.checkGenerateKeyParams(e)}},zm=class extends wu{constructor(){super(...arguments);this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"]}checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms),this.checkRequiredProperty(e,"publicExponent"),!(e.publicExponent&&e.publicExponent instanceof Uint8Array))throw new TypeError("publicExponent: Missing or not a Uint8Array");let r=Tr.Convert.ToBase64(e.publicExponent);if(!(r==="Aw=="||r==="AQAB"))throw new TypeError("publicExponent: Must be [3] or [1,0,1]");switch(this.checkRequiredProperty(e,"modulusLength"),e.modulusLength){case 1024:case 2048:case 4096:break;default:throw new TypeError("modulusLength: Must be 1024, 2048, or 4096")}}checkImportParams(e){this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms)}},aK=class extends zm{constructor(){super(...arguments);this.name="RSASSA-PKCS1-v1_5",this.usages={privateKey:["sign"],publicKey:["verify"]}}},sK=class extends zm{constructor(){super(...arguments);this.name="RSA-PSS",this.usages={privateKey:["sign"],publicKey:["verify"]}}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"saltLength"),typeof e.saltLength!="number")throw new TypeError("saltLength: Is not a Number");if(e.saltLength<0)throw new RangeError("saltLength: Must be positive number")}},oK=class extends zm{constructor(){super(...arguments);this.name="RSA-OAEP",this.usages={privateKey:["decrypt","unwrapKey"],publicKey:["encrypt","wrapKey"]}}checkAlgorithmParams(e){if(e.label&&!(e.label instanceof ArrayBuffer||ArrayBuffer.isView(e.label)))throw new TypeError("label: Is not of type '(ArrayBuffer or ArrayBufferView)'")}},Wm=class extends wu{checkGenerateKeyParams(e){this.checkRequiredProperty(e,"namedCurve"),this.checkNamedCurve(e.namedCurve)}checkNamedCurve(e){for(let r of this.namedCurves)if(r.toLowerCase()===e.toLowerCase())return;throw new $a(`namedCurve: Must be one of ${this.namedCurves.join(", ")}`)}},uK=class extends Wm{constructor(){super(...arguments);this.name="ECDSA",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages={privateKey:["sign"],publicKey:["verify"]},this.namedCurves=["P-256","P-384","P-521","K-256"]}checkAlgorithmParams(e){this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms)}},zbe=["secret","private","public"],og=class{static create(e,r,n,i){let a=new this;return a.algorithm=e,a.type=r,a.extractable=n,a.usages=i,a}static isKeyType(e){return zbe.indexOf(e)!==-1}get[Symbol.toStringTag](){return"CryptoKey"}},aE=class extends Wm{constructor(){super(...arguments);this.name="ECDH",this.usages={privateKey:["deriveBits","deriveKey"],publicKey:[]},this.namedCurves=["P-256","P-384","P-521","K-256"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"public"),!(e.public instanceof og))throw new TypeError("public: Is not a CryptoKey");if(e.public.type!=="public")throw new $a("public: Is not a public key");if(e.public.algorithm.name!==this.name)throw new $a(`public: Is not ${this.name} key`)}},cK=class extends aE{constructor(){super(...arguments);this.name="ECDH-ES",this.namedCurves=["X25519","X448"]}},fK=class extends Wm{constructor(){super(...arguments);this.name="EdDSA",this.usages={privateKey:["sign"],publicKey:["verify"]},this.namedCurves=["Ed25519","Ed448"]}},dK=class extends wu{constructor(){super(...arguments);this.name="HMAC",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages=["sign","verify"]}getDefaultLength(e){switch(e.toUpperCase()){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":return 512;default:throw new Error(`Unknown algorithm name '${e}'`)}}checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms),"length"in e){if(typeof e.length!="number")throw new TypeError("length: Is not a Number");if(e.length<1)throw new RangeError("length: Number is out of range")}}checkImportParams(e){this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms)}},lK=class extends wu{constructor(){super(...arguments);this.name="PBKDF2",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages=["deriveBits","deriveKey"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms),this.checkRequiredProperty(e,"salt"),!(e.salt instanceof ArrayBuffer||ArrayBuffer.isView(e.salt)))throw new TypeError("salt: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(this.checkRequiredProperty(e,"iterations"),typeof e.iterations!="number")throw new TypeError("iterations: Is not a Number");if(e.iterations<1)throw new TypeError("iterations: Is less than 1")}checkImportKey(e,r,n,i,a,...o){if(super.checkImportKey(e,r,n,i,a),i)throw new SyntaxError("extractable: Must be 'false'")}},hK=class extends wu{constructor(){super(...arguments);this.name="HKDF",this.hashAlgorithms=["SHA-1","SHA-256","SHA-384","SHA-512"],this.usages=["deriveKey","deriveBits"]}checkAlgorithmParams(e){if(this.checkRequiredProperty(e,"hash"),this.checkHashAlgorithm(e.hash,this.hashAlgorithms),this.checkRequiredProperty(e,"salt"),!Tr.BufferSourceConverter.isBufferSource(e.salt))throw new TypeError("salt: Is not of type '(ArrayBuffer or ArrayBufferView)'");if(this.checkRequiredProperty(e,"info"),!Tr.BufferSourceConverter.isBufferSource(e.info))throw new TypeError("salt: Is not of type '(ArrayBuffer or ArrayBufferView)'")}checkImportKey(e,r,n,i,a,...o){if(super.checkImportKey(e,r,n,i,a),i)throw new SyntaxError("extractable: Must be 'false'")}},pK=class{get[Symbol.toStringTag](){return"Crypto"}},sE=class{constructor(){this.items={}}get(e){return this.items[e.toLowerCase()]||null}set(e){this.items[e.name.toLowerCase()]=e}removeAt(e){let r=this.get(e.toLowerCase());return r&&delete this.items[e],r}has(e){return!!this.get(e)}get length(){return Object.keys(this.items).length}get algorithms(){let e=[];for(let r in this.items){let n=this.items[r];e.push(n.name)}return e.sort()}},ug=class{constructor(){this.providers=new sE}static isHashedAlgorithm(e){return!!(e&&typeof e=="object"&&"name"in e&&"hash"in e)}get[Symbol.toStringTag](){return"SubtleCrypto"}async digest(...e){this.checkRequiredArguments(e,2,"digest");let[r,n,...i]=e,a=this.prepareAlgorithm(r),o=Tr.BufferSourceConverter.toArrayBuffer(n);return await this.getProvider(a.name).digest(a,o,...i)}async generateKey(...e){this.checkRequiredArguments(e,3,"generateKey");let[r,n,i,...a]=e,o=this.prepareAlgorithm(r),u=this.getProvider(o.name);return await u.generateKey({...o,name:u.name},n,i,...a)}async sign(...e){this.checkRequiredArguments(e,3,"sign");let[r,n,i,...a]=e;this.checkCryptoKey(n);let o=this.prepareAlgorithm(r),u=Tr.BufferSourceConverter.toArrayBuffer(i),f=this.getProvider(o.name);return await f.sign({...o,name:f.name},n,u,...a)}async verify(...e){this.checkRequiredArguments(e,4,"verify");let[r,n,i,a,...o]=e;this.checkCryptoKey(n);let u=this.prepareAlgorithm(r),f=Tr.BufferSourceConverter.toArrayBuffer(a),d=Tr.BufferSourceConverter.toArrayBuffer(i),h=this.getProvider(u.name);return await h.verify({...u,name:h.name},n,d,f,...o)}async encrypt(...e){this.checkRequiredArguments(e,3,"encrypt");let[r,n,i,...a]=e;this.checkCryptoKey(n);let o=this.prepareAlgorithm(r),u=Tr.BufferSourceConverter.toArrayBuffer(i),f=this.getProvider(o.name);return await f.encrypt({...o,name:f.name},n,u,{keyUsage:!0},...a)}async decrypt(...e){this.checkRequiredArguments(e,3,"decrypt");let[r,n,i,...a]=e;this.checkCryptoKey(n);let o=this.prepareAlgorithm(r),u=Tr.BufferSourceConverter.toArrayBuffer(i),f=this.getProvider(o.name);return await f.decrypt({...o,name:f.name},n,u,{keyUsage:!0},...a)}async deriveBits(...e){this.checkRequiredArguments(e,3,"deriveBits");let[r,n,i,...a]=e;this.checkCryptoKey(n);let o=this.prepareAlgorithm(r),u=this.getProvider(o.name);return await u.deriveBits({...o,name:u.name},n,i,{keyUsage:!0},...a)}async deriveKey(...e){this.checkRequiredArguments(e,5,"deriveKey");let[r,n,i,a,o,...u]=e,f=this.prepareAlgorithm(i);this.getProvider(f.name).checkDerivedKeyParams(f);let h=this.prepareAlgorithm(r),m=this.getProvider(h.name);m.checkCryptoKey(n,"deriveKey");let _=await m.deriveBits({...h,name:m.name},n,i.length||512,{keyUsage:!1},...u);return this.importKey("raw",_,i,a,o,...u)}async exportKey(...e){this.checkRequiredArguments(e,2,"exportKey");let[r,n,...i]=e;return this.checkCryptoKey(n),await this.getProvider(n.algorithm.name).exportKey(r,n,...i)}async importKey(...e){this.checkRequiredArguments(e,5,"importKey");let[r,n,i,a,o,...u]=e,f=this.prepareAlgorithm(i),d=this.getProvider(f.name);if(["pkcs8","spki","raw"].indexOf(r)!==-1){let h=Tr.BufferSourceConverter.toArrayBuffer(n);return d.importKey(r,h,{...f,name:d.name},a,o,...u)}else if(!n.kty)throw new TypeError("keyData: Is not JSON");return d.importKey(r,n,{...f,name:d.name},a,o,...u)}async wrapKey(e,r,n,i,...a){let o=await this.exportKey(e,r,...a);if(e==="jwk"){let h=JSON.stringify(o);o=Tr.Convert.FromUtf8String(h)}let u=this.prepareAlgorithm(i),f=Tr.BufferSourceConverter.toArrayBuffer(o),d=this.getProvider(u.name);return d.encrypt({...u,name:d.name},n,f,{keyUsage:!1},...a)}async unwrapKey(e,r,n,i,a,o,u,...f){let d=this.prepareAlgorithm(i),h=Tr.BufferSourceConverter.toArrayBuffer(r),m=this.getProvider(d.name),_=await m.decrypt({...d,name:m.name},n,h,{keyUsage:!1},...f);if(e==="jwk")try{_=JSON.parse(Tr.Convert.ToUtf8String(_))}catch(w){let P=new TypeError("wrappedKey: Is not a JSON");throw P.internal=w,P}return this.importKey(e,_,a,o,u,...f)}checkRequiredArguments(e,r,n){if(e.length<r)throw new TypeError(`Failed to execute '${n}' on 'SubtleCrypto': ${r} arguments required, but only ${e.length} present`)}prepareAlgorithm(e){if(typeof e=="string")return{name:e};if(ug.isHashedAlgorithm(e)){let r={...e};return r.hash=this.prepareAlgorithm(e.hash),r}return{...e}}getProvider(e){let r=this.providers.get(e);if(!r)throw new sg("Unrecognized name");return r}checkCryptoKey(e){if(!(e instanceof og))throw new TypeError("Key is not of type 'CryptoKey'")}},ig=class{constructor(e){e&&(this.value=e)}};Ir.__decorate([ht.AsnProp({type:ht.AsnPropTypes.ObjectIdentifier})],ig.prototype,"value",void 0);ig=Ir.__decorate([ht.AsnType({type:ht.AsnTypeTypes.Choice})],ig);var Dc=class{constructor(e){Object.assign(this,e)}};Ir.__decorate([ht.AsnProp({type:ht.AsnPropTypes.ObjectIdentifier})],Dc.prototype,"algorithm",void 0);Ir.__decorate([ht.AsnProp({type:ht.AsnPropTypes.Any,optional:!0})],Dc.prototype,"parameters",void 0);var c0=class{constructor(){this.version=0,this.privateKeyAlgorithm=new Dc,this.privateKey=new ArrayBuffer(0)}};Ir.__decorate([ht.AsnProp({type:ht.AsnPropTypes.Integer})],c0.prototype,"version",void 0);Ir.__decorate([ht.AsnProp({type:Dc})],c0.prototype,"privateKeyAlgorithm",void 0);Ir.__decorate([ht.AsnProp({type:ht.AsnPropTypes.OctetString})],c0.prototype,"privateKey",void 0);Ir.__decorate([ht.AsnProp({type:ht.AsnPropTypes.Any,optional:!0})],c0.prototype,"attributes",void 0);var cg=class{constructor(){this.publicKeyAlgorithm=new Dc,this.publicKey=new ArrayBuffer(0)}};Ir.__decorate([ht.AsnProp({type:Dc})],cg.prototype,"publicKeyAlgorithm",void 0);Ir.__decorate([ht.AsnProp({type:ht.AsnPropTypes.BitString})],cg.prototype,"publicKey",void 0);var Va={fromJSON:t=>Tr.Convert.FromBase64Url(t),toJSON:t=>Tr.Convert.ToBase64Url(new Uint8Array(t))},Is={fromASN:t=>{let e=t.valueBlock.valueHex;return new Uint8Array(e)[0]?t.valueBlock.valueHex:t.valueBlock.valueHex.slice(1)},toASN:t=>{let e=new Uint8Array(t)[0]>127?Buffer.concat([Buffer.from([0]),Buffer.from(t)]):Buffer.from(t);return new nE.Integer({valueHex:new Uint8Array(e).buffer})}},Wbe=Object.freeze({__proto__:null,JsonBase64UrlArrayBufferConverter:Va,AsnIntegerArrayBufferConverter:Is}),Ga=class{constructor(){this.version=0,this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),this.privateExponent=new ArrayBuffer(0),this.prime1=new ArrayBuffer(0),this.prime2=new ArrayBuffer(0),this.exponent1=new ArrayBuffer(0),this.exponent2=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0)}};Ir.__decorate([ht.AsnProp({type:ht.AsnPropTypes.Integer,converter:ht.AsnIntegerConverter})],Ga.prototype,"version",void 0);Ir.__decorate([ht.AsnProp({type:ht.AsnPropTypes.Integer,converter:Is}),ja.JsonProp({name:"n",converter:Va})],Ga.prototype,"modulus",void 0);Ir.__decorate([ht.AsnProp({type:ht.AsnPropTypes.Integer,converter:Is}),ja.JsonProp({name:"e",converter:Va})],Ga.prototype,"publicExponent",void 0);Ir.__decorate([ht.AsnProp({type:ht.AsnPropTypes.Integer,converter:Is}),ja.JsonProp({name:"d",converter:Va})],Ga.prototype,"privateExponent",void 0);Ir.__decorate([ht.AsnProp({type:ht.AsnPropTypes.Integer,converter:Is}),ja.JsonProp({name:"p",converter:Va})],Ga.prototype,"prime1",void 0);Ir.__decorate([ht.AsnProp({type:ht.AsnPropTypes.Integer,converter:Is}),ja.JsonProp({name:"q",converter:Va})],Ga.prototype,"prime2",void 0);Ir.__decorate([ht.AsnProp({type:ht.AsnPropTypes.Integer,converter:Is}),ja.JsonProp({name:"dp",converter:Va})],Ga.prototype,"exponent1",void 0);Ir.__decorate([ht.AsnProp({type:ht.AsnPropTypes.Integer,converter:Is}),ja.JsonProp({name:"dq",converter:Va})],Ga.prototype,"exponent2",void 0);Ir.__decorate([ht.AsnProp({type:ht.AsnPropTypes.Integer,converter:Is}),ja.JsonProp({name:"qi",converter:Va})],Ga.prototype,"coefficient",void 0);Ir.__decorate([ht.AsnProp({type:ht.AsnPropTypes.Any,optional:!0})],Ga.prototype,"otherPrimeInfos",void 0);var fg=class{constructor(){this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0)}};Ir.__decorate([ht.AsnProp({type:ht.AsnPropTypes.Integer,converter:Is}),ja.JsonProp({name:"n",converter:Va})],fg.prototype,"modulus",void 0);Ir.__decorate([ht.AsnProp({type:ht.AsnPropTypes.Integer,converter:Is}),ja.JsonProp({name:"e",converter:Va})],fg.prototype,"publicExponent",void 0);var u0=class{constructor(e){this.value=new ArrayBuffer(0),e&&(this.value=e)}toJSON(){let e=new Uint8Array(this.value);if(e[0]!==4)throw new _u("Wrong ECPoint. Current version supports only Uncompressed (0x04) point");e=new Uint8Array(this.value.slice(1));let r=e.length/2,n=0;return{x:Tr.Convert.ToBase64Url(e.buffer.slice(n,n+r)),y:Tr.Convert.ToBase64Url(e.buffer.slice(n+r,n+r+r))}}fromJSON(e){if(!("x"in e))throw new Error("x: Missing required property");if(!("y"in e))throw new Error("y: Missing required property");let r=Tr.Convert.FromBase64Url(e.x),n=Tr.Convert.FromBase64Url(e.y),i=Buffer.concat([new Uint8Array([4]),new Uint8Array(r),new Uint8Array(n)]);return this.value=new Uint8Array(i).buffer,this}};Ir.__decorate([ht.AsnProp({type:ht.AsnPropTypes.OctetString})],u0.prototype,"value",void 0);u0=Ir.__decorate([ht.AsnType({type:ht.AsnTypeTypes.Choice})],u0);var f0=class{constructor(){this.version=1,this.privateKey=new ArrayBuffer(0)}fromJSON(e){if(!("d"in e))throw new Error("d: Missing required property");if(this.privateKey=Tr.Convert.FromBase64Url(e.d),"x"in e){let r=new u0;r.fromJSON(e),this.publicKey=ht.AsnSerializer.toASN(r).valueBlock.valueHex}return this}toJSON(){let e={};return e.d=Tr.Convert.ToBase64Url(this.privateKey),this.publicKey&&Object.assign(e,new u0(this.publicKey).toJSON()),e}};Ir.__decorate([ht.AsnProp({type:ht.AsnPropTypes.Integer,converter:ht.AsnIntegerConverter})],f0.prototype,"version",void 0);Ir.__decorate([ht.AsnProp({type:ht.AsnPropTypes.OctetString})],f0.prototype,"privateKey",void 0);Ir.__decorate([ht.AsnProp({context:0,type:ht.AsnPropTypes.Any,optional:!0})],f0.prototype,"parameters",void 0);Ir.__decorate([ht.AsnProp({context:1,type:ht.AsnPropTypes.BitString,optional:!0})],f0.prototype,"publicKey",void 0);var oE={fromASN:t=>{let e=new Uint8Array(t.valueBlock.valueHex);return e[0]===0?e.buffer.slice(1):e.buffer},toASN:t=>{let e=new Uint8Array(t);if(e[0]>127){let r=new Uint8Array(e.length+1);return r.set(e,1),new nE.Integer({valueHex:r.buffer})}return new nE.Integer({valueHex:t})}},jbe=Object.freeze({__proto__:null,AsnIntegerWithoutPaddingConverter:oE}),dg=class{constructor(){this.r=new ArrayBuffer(0),this.s=new ArrayBuffer(0)}static fromWebCryptoSignature(e){let r=Tr.BufferSourceConverter.toUint8Array(e),n=r.byteLength/2,i=new this;return i.r=i.removePadding(r.slice(0,n)),i.s=i.removePadding(r.slice(n,n*2)),i}toWebCryptoSignature(e){e=this.getPointSize();let r=this.addPadding(e,Tr.BufferSourceConverter.toUint8Array(this.r)),n=this.addPadding(e,Tr.BufferSourceConverter.toUint8Array(this.s)),i=new Uint8Array(r.byteLength+n.byteLength);return i.set(r,0),i.set(n,r.length),i.buffer}getPointSize(){switch(Math.max(this.r.byteLength,this.s.byteLength)){case 31:case 32:return 32;case 47:case 48:return 48;case 65:case 66:return 66}throw new Error("Unsupported EC point size")}addPadding(e,r){let n=new Uint8Array(e),i=Tr.BufferSourceConverter.toUint8Array(r);return n.set(i,e-i.length),n}removePadding(e){let r=Tr.BufferSourceConverter.toUint8Array(e);for(let n=0;n<r.length;n++)if(!!r[n])return r.slice(n);return new Uint8Array(0)}};Ir.__decorate([ht.AsnProp({type:ht.AsnPropTypes.Integer,converter:oE})],dg.prototype,"r",void 0);Ir.__decorate([ht.AsnProp({type:ht.AsnPropTypes.Integer,converter:oE})],dg.prototype,"s",void 0);var ag=class{};Ir.__decorate([ht.AsnProp({type:ht.AsnPropTypes.OctetString}),ja.JsonProp({type:ja.JsonPropTypes.String,converter:Va})],ag.prototype,"d",void 0);ag=Ir.__decorate([ht.AsnType({type:ht.AsnTypeTypes.Choice})],ag);var $be="1.3.101.110",Vbe="1.3.101.111",Gbe="1.3.101.112",Ybe="1.3.101.113",Jbe=Object.freeze({__proto__:null,converters:jbe,get ObjectIdentifier(){return ig},AlgorithmIdentifier:Dc,PrivateKeyInfo:c0,PublicKeyInfo:cg,RsaPrivateKey:Ga,RsaPublicKey:fg,EcPrivateKey:f0,get EcPublicKey(){return u0},EcDsaSignature:dg,get CurvePrivateKey(){return ag},idX25519:$be,idX448:Vbe,idEd25519:Gbe,idEd448:Ybe}),Xbe=Object.freeze({__proto__:null,converters:Wbe});Object.defineProperty(pr,"BufferSourceConverter",{enumerable:!0,get:function(){return Tr.BufferSourceConverter}});pr.AesCbcProvider=QH;pr.AesCmacProvider=ZH;pr.AesCtrProvider=eK;pr.AesEcbProvider=tK;pr.AesGcmProvider=rK;pr.AesKwProvider=nK;pr.AesProvider=qc;pr.AlgorithmError=sg;pr.Crypto=pK;pr.CryptoError=_u;pr.CryptoKey=og;pr.DesProvider=iK;pr.EcdhEsProvider=cK;pr.EcdhProvider=aE;pr.EcdsaProvider=uK;pr.EdDsaProvider=fK;pr.EllipticProvider=Wm;pr.HkdfProvider=hK;pr.HmacProvider=dK;pr.OperationError=$a;pr.Pbkdf2Provider=lK;pr.PemConverter=JH;pr.ProviderCrypto=wu;pr.ProviderStorage=sE;pr.RequiredPropertyError=iE;pr.RsaOaepProvider=oK;pr.RsaProvider=zm;pr.RsaPssProvider=sK;pr.RsaSsaProvider=aK;pr.SubtleCrypto=ug;pr.UnsupportedOperationError=Ts;pr.asn1=Jbe;pr.isJWK=XH;pr.json=Xbe});var GK=g(hg=>{"use strict";Object.defineProperty(hg,"__esModule",{value:!0});var jm=mK(),vK=require("crypto"),Qbe=require("process"),fd=ke(),_r=rE(),Lc=bu(),Dt=Le();function Zbe(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}function hE(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var be=hE(jm),It=Zbe(vK),lg=hE(vK),eve=hE(Qbe),pE={fromJSON:t=>Buffer.from(Lc.Convert.FromBase64Url(t)),toJSON:t=>Lc.Convert.ToBase64Url(t)},_o=class extends be.CryptoKey{constructor(){super(...arguments);this.data=Buffer.alloc(0),this.algorithm={name:""},this.extractable=!1,this.type="secret",this.usages=[],this.kty="oct",this.alg=""}};fd.__decorate([_r.JsonProp({name:"ext",type:_r.JsonPropTypes.Boolean,optional:!0})],_o.prototype,"extractable",void 0);fd.__decorate([_r.JsonProp({name:"key_ops",type:_r.JsonPropTypes.String,repeated:!0,optional:!0})],_o.prototype,"usages",void 0);fd.__decorate([_r.JsonProp({type:_r.JsonPropTypes.String})],_o.prototype,"kty",void 0);fd.__decorate([_r.JsonProp({type:_r.JsonPropTypes.String})],_o.prototype,"alg",void 0);var mE=class extends _o{constructor(){super(...arguments);this.kty="oct",this.type="secret"}},dd=class extends _o{},ya=class extends mE{get alg(){switch(this.algorithm.name.toUpperCase()){case"AES-CBC":return`A${this.algorithm.length}CBC`;case"AES-CTR":return`A${this.algorithm.length}CTR`;case"AES-GCM":return`A${this.algorithm.length}GCM`;case"AES-KW":return`A${this.algorithm.length}KW`;case"AES-CMAC":return`A${this.algorithm.length}CMAC`;case"AES-ECB":return`A${this.algorithm.length}ECB`;default:throw new be.AlgorithmError("Unsupported algorithm name")}}set alg(e){}};fd.__decorate([_r.JsonProp({name:"k",converter:pE})],ya.prototype,"data",void 0);var gK=new WeakMap;function ot(t){let e=gK.get(t);if(!e)throw new be.OperationError("Cannot get CryptoKey from secure storage");return e}function $t(t){let e=be.CryptoKey.create(t.algorithm,t.type,t.extractable,t.usages);return Object.freeze(e),gK.set(e,t),e}var Nr=class{static async generateKey(e,r,n){let i=new ya;return i.algorithm=e,i.extractable=r,i.usages=n,i.data=It.default.randomBytes(e.length>>3),i}static async exportKey(e,r){if(!(r instanceof ya))throw new Error("key: Is not AesCryptoKey");switch(e.toLowerCase()){case"jwk":return _r.JsonSerializer.toJSON(r);case"raw":return new Uint8Array(r.data).buffer;default:throw new be.OperationError("format: Must be 'jwk' or 'raw'")}}static async importKey(e,r,n,i,a){let o;switch(e.toLowerCase()){case"jwk":o=_r.JsonParser.fromJSON(r,{targetSchema:ya});break;case"raw":o=new ya,o.data=Buffer.from(r);break;default:throw new be.OperationError("format: Must be 'jwk' or 'raw'")}switch(o.algorithm=n,o.algorithm.length=o.data.length<<3,o.extractable=i,o.usages=a,o.algorithm.length){case 128:case 192:case 256:break;default:throw new be.OperationError("keyData: Is wrong key length")}return o}static async encrypt(e,r,n){switch(e.name.toUpperCase()){case"AES-CBC":return this.encryptAesCBC(e,r,Buffer.from(n));case"AES-CTR":return this.encryptAesCTR(e,r,Buffer.from(n));case"AES-GCM":return this.encryptAesGCM(e,r,Buffer.from(n));case"AES-KW":return this.encryptAesKW(e,r,Buffer.from(n));case"AES-ECB":return this.encryptAesECB(e,r,Buffer.from(n));default:throw new be.OperationError("algorithm: Is not recognized")}}static async decrypt(e,r,n){if(!(r instanceof ya))throw new Error("key: Is not AesCryptoKey");switch(e.name.toUpperCase()){case"AES-CBC":return this.decryptAesCBC(e,r,Buffer.from(n));case"AES-CTR":return this.decryptAesCTR(e,r,Buffer.from(n));case"AES-GCM":return this.decryptAesGCM(e,r,Buffer.from(n));case"AES-KW":return this.decryptAesKW(e,r,Buffer.from(n));case"AES-ECB":return this.decryptAesECB(e,r,Buffer.from(n));default:throw new be.OperationError("algorithm: Is not recognized")}}static async encryptAesCBC(e,r,n){let i=It.default.createCipheriv(`aes-${r.algorithm.length}-cbc`,r.data,new Uint8Array(e.iv)),a=i.update(n);return a=Buffer.concat([a,i.final()]),new Uint8Array(a).buffer}static async decryptAesCBC(e,r,n){let i=It.default.createDecipheriv(`aes-${r.algorithm.length}-cbc`,r.data,new Uint8Array(e.iv)),a=i.update(n);return a=Buffer.concat([a,i.final()]),new Uint8Array(a).buffer}static async encryptAesCTR(e,r,n){let i=It.default.createCipheriv(`aes-${r.algorithm.length}-ctr`,r.data,Buffer.from(e.counter)),a=i.update(n);return a=Buffer.concat([a,i.final()]),new Uint8Array(a).buffer}static async decryptAesCTR(e,r,n){let i=It.default.createDecipheriv(`aes-${r.algorithm.length}-ctr`,r.data,new Uint8Array(e.counter)),a=i.update(n);return a=Buffer.concat([a,i.final()]),new Uint8Array(a).buffer}static async encryptAesGCM(e,r,n){let i=It.default.createCipheriv(`aes-${r.algorithm.length}-gcm`,r.data,Buffer.from(e.iv),{authTagLength:(e.tagLength||128)>>3});e.additionalData&&i.setAAD(Buffer.from(e.additionalData));let a=i.update(n);return a=Buffer.concat([a,i.final(),i.getAuthTag()]),new Uint8Array(a).buffer}static async decryptAesGCM(e,r,n){let i=It.default.createDecipheriv(`aes-${r.algorithm.length}-gcm`,r.data,new Uint8Array(e.iv)),a=(e.tagLength||128)>>3,o=n.slice(0,n.length-a),u=n.slice(n.length-a);e.additionalData&&i.setAAD(Buffer.from(e.additionalData)),i.setAuthTag(u);let f=i.update(o);return f=Buffer.concat([f,i.final()]),new Uint8Array(f).buffer}static async encryptAesKW(e,r,n){let i=It.default.createCipheriv(`id-aes${r.algorithm.length}-wrap`,r.data,this.AES_KW_IV),a=i.update(n);return a=Buffer.concat([a,i.final()]),new Uint8Array(a).buffer}static async decryptAesKW(e,r,n){let i=It.default.createDecipheriv(`id-aes${r.algorithm.length}-wrap`,r.data,this.AES_KW_IV),a=i.update(n);return a=Buffer.concat([a,i.final()]),new Uint8Array(a).buffer}static async encryptAesECB(e,r,n){let i=It.default.createCipheriv(`aes-${r.algorithm.length}-ecb`,r.data,new Uint8Array(0)),a=i.update(n);return a=Buffer.concat([a,i.final()]),new Uint8Array(a).buffer}static async decryptAesECB(e,r,n){let i=It.default.createDecipheriv(`aes-${r.algorithm.length}-ecb`,r.data,new Uint8Array(0)),a=i.update(n);return a=Buffer.concat([a,i.final()]),new Uint8Array(a).buffer}};Nr.AES_KW_IV=Buffer.from("A6A6A6A6A6A6A6A6","hex");var _K=class extends be.AesCbcProvider{async onGenerateKey(e,r,n){let i=await Nr.generateKey({name:this.name,length:e.length},r,n);return $t(i)}async onEncrypt(e,r,n){return Nr.encrypt(e,ot(r),new Uint8Array(n))}async onDecrypt(e,r,n){return Nr.decrypt(e,ot(r),new Uint8Array(n))}async onExportKey(e,r){return Nr.exportKey(e,ot(r))}async onImportKey(e,r,n,i,a){let o=await Nr.importKey(e,r,{name:n.name},i,a);return $t(o)}checkCryptoKey(e,r){if(super.checkCryptoKey(e,r),!(ot(e)instanceof ya))throw new TypeError("key: Is not a AesCryptoKey")}},xE=Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),xK=Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,135]),od=16;function yK(t){let e=Buffer.alloc(t.length),r=t.length-1;for(let n=0;n<r;n++)e[n]=t[n]<<1,t[n+1]&128&&(e[n]+=1);return e[r]=t[r]<<1,e}function d0(t,e){let r=Math.min(t.length,e.length),n=Buffer.alloc(r);for(let i=0;i<r;i++)n[i]=t[i]^e[i];return n}function uE(t,e){let r=lg.createCipheriv(`aes${t.length<<3}`,t,xE),n=r.update(e);return r.final(),n}function bK(t,e){let r=Buffer.alloc(od),n=e*od,i=n+od;return t.copy(r,0,n,i),r}function tve(t,e){let r=Buffer.alloc(od),n=e*od,i=t.length;return r.fill(0),t.copy(r,0,n,i),r[i-n]=128,r}function rve(t){let e=uE(t,xE),r=yK(e);e[0]&128&&(r=d0(r,xK));let n=yK(r);return r[0]&128&&(n=d0(n,xK)),{subkey1:r,subkey2:n}}function nve(t,e){let r=rve(t),n=Math.ceil(e.length/od),i,a;n===0?(n=1,i=!1):i=e.length%od===0;let o=n-1;i?a=d0(bK(e,o),r.subkey1):a=d0(tve(e,o),r.subkey2);let u=xE,f;for(let d=0;d<o;d++)f=d0(u,bK(e,d)),u=uE(t,f);return f=d0(a,u),uE(t,f)}var wK=class extends be.AesCmacProvider{async onGenerateKey(e,r,n){let i=await Nr.generateKey({name:this.name,length:e.length},r,n);return $t(i)}async onSign(e,r,n){let i=nve(ot(r).data,Buffer.from(n));return new Uint8Array(i).buffer}async onVerify(e,r,n,i){let a=await this.sign(e,r,i);return Buffer.from(n).compare(Buffer.from(a))===0}async onExportKey(e,r){return Nr.exportKey(e,ot(r))}async onImportKey(e,r,n,i,a){let o=await Nr.importKey(e,r,{name:n.name},i,a);return $t(o)}checkCryptoKey(e,r){if(super.checkCryptoKey(e,r),!(ot(e)instanceof ya))throw new TypeError("key: Is not a AesCryptoKey")}},SK=class extends be.AesCtrProvider{async onGenerateKey(e,r,n){let i=await Nr.generateKey({name:this.name,length:e.length},r,n);return $t(i)}async onEncrypt(e,r,n){return Nr.encrypt(e,ot(r),new Uint8Array(n))}async onDecrypt(e,r,n){return Nr.decrypt(e,ot(r),new Uint8Array(n))}async onExportKey(e,r){return Nr.exportKey(e,ot(r))}async onImportKey(e,r,n,i,a){let o=await Nr.importKey(e,r,{name:n.name},i,a);return $t(o)}checkCryptoKey(e,r){if(super.checkCryptoKey(e,r),!(ot(e)instanceof ya))throw new TypeError("key: Is not a AesCryptoKey")}},AK=class extends be.AesGcmProvider{async onGenerateKey(e,r,n){let i=await Nr.generateKey({name:this.name,length:e.length},r,n);return $t(i)}async onEncrypt(e,r,n){return Nr.encrypt(e,ot(r),new Uint8Array(n))}async onDecrypt(e,r,n){return Nr.decrypt(e,ot(r),new Uint8Array(n))}async onExportKey(e,r){return Nr.exportKey(e,ot(r))}async onImportKey(e,r,n,i,a){let o=await Nr.importKey(e,r,{name:n.name},i,a);return $t(o)}checkCryptoKey(e,r){if(super.checkCryptoKey(e,r),!(ot(e)instanceof ya))throw new TypeError("key: Is not a AesCryptoKey")}},CK=class extends be.AesKwProvider{async onGenerateKey(e,r,n){let i=await Nr.generateKey({name:this.name,length:e.length},r,n);return $t(i)}async onExportKey(e,r){return Nr.exportKey(e,ot(r))}async onImportKey(e,r,n,i,a){let o=await Nr.importKey(e,r,{name:n.name},i,a);return $t(o)}async onEncrypt(e,r,n){return Nr.encrypt(e,ot(r),new Uint8Array(n))}async onDecrypt(e,r,n){return Nr.decrypt(e,ot(r),new Uint8Array(n))}checkCryptoKey(e,r){if(super.checkCryptoKey(e,r),!(ot(e)instanceof ya))throw new TypeError("key: Is not a AesCryptoKey")}},EK=class extends be.AesEcbProvider{async onGenerateKey(e,r,n){let i=await Nr.generateKey({name:this.name,length:e.length},r,n);return $t(i)}async onEncrypt(e,r,n){return Nr.encrypt(e,ot(r),new Uint8Array(n))}async onDecrypt(e,r,n){return Nr.decrypt(e,ot(r),new Uint8Array(n))}async onExportKey(e,r){return Nr.exportKey(e,ot(r))}async onImportKey(e,r,n,i,a){let o=await Nr.importKey(e,r,{name:n.name},i,a);return $t(o)}checkCryptoKey(e,r){if(super.checkCryptoKey(e,r),!(ot(e)instanceof ya))throw new TypeError("key: Is not a AesCryptoKey")}},Nc=class extends mE{get alg(){switch(this.algorithm.name.toUpperCase()){case"DES-CBC":return"DES-CBC";case"DES-EDE3-CBC":return"3DES-CBC";default:throw new be.AlgorithmError("Unsupported algorithm name")}}set alg(e){}};fd.__decorate([_r.JsonProp({name:"k",converter:pE})],Nc.prototype,"data",void 0);var ks=class{static async generateKey(e,r,n){let i=new Nc;return i.algorithm=e,i.extractable=r,i.usages=n,i.data=It.default.randomBytes(e.length>>3),i}static async exportKey(e,r){switch(e.toLowerCase()){case"jwk":return _r.JsonSerializer.toJSON(r);case"raw":return new Uint8Array(r.data).buffer;default:throw new be.OperationError("format: Must be 'jwk' or 'raw'")}}static async importKey(e,r,n,i,a){let o;switch(e.toLowerCase()){case"jwk":o=_r.JsonParser.fromJSON(r,{targetSchema:Nc});break;case"raw":o=new Nc,o.data=Buffer.from(r);break;default:throw new be.OperationError("format: Must be 'jwk' or 'raw'")}return o.algorithm=n,o.extractable=i,o.usages=a,o}static async encrypt(e,r,n){switch(e.name.toUpperCase()){case"DES-CBC":return this.encryptDesCBC(e,r,Buffer.from(n));case"DES-EDE3-CBC":return this.encryptDesEDE3CBC(e,r,Buffer.from(n));default:throw new be.OperationError("algorithm: Is not recognized")}}static async decrypt(e,r,n){if(!(r instanceof Nc))throw new Error("key: Is not DesCryptoKey");switch(e.name.toUpperCase()){case"DES-CBC":return this.decryptDesCBC(e,r,Buffer.from(n));case"DES-EDE3-CBC":return this.decryptDesEDE3CBC(e,r,Buffer.from(n));default:throw new be.OperationError("algorithm: Is not recognized")}}static async encryptDesCBC(e,r,n){let i=It.default.createCipheriv("des-cbc",r.data,new Uint8Array(e.iv)),a=i.update(n);return a=Buffer.concat([a,i.final()]),new Uint8Array(a).buffer}static async decryptDesCBC(e,r,n){let i=It.default.createDecipheriv("des-cbc",r.data,new Uint8Array(e.iv)),a=i.update(n);return a=Buffer.concat([a,i.final()]),new Uint8Array(a).buffer}static async encryptDesEDE3CBC(e,r,n){let i=It.default.createCipheriv("des-ede3-cbc",r.data,Buffer.from(e.iv)),a=i.update(n);return a=Buffer.concat([a,i.final()]),new Uint8Array(a).buffer}static async decryptDesEDE3CBC(e,r,n){let i=It.default.createDecipheriv("des-ede3-cbc",r.data,new Uint8Array(e.iv)),a=i.update(n);return a=Buffer.concat([a,i.final()]),new Uint8Array(a).buffer}},PK=class extends be.DesProvider{constructor(){super(...arguments);this.keySizeBits=64,this.ivSize=8,this.name="DES-CBC"}async onGenerateKey(e,r,n){let i=await ks.generateKey({name:this.name,length:this.keySizeBits},r,n);return $t(i)}async onEncrypt(e,r,n){return ks.encrypt(e,ot(r),new Uint8Array(n))}async onDecrypt(e,r,n){return ks.decrypt(e,ot(r),new Uint8Array(n))}async onExportKey(e,r){return ks.exportKey(e,ot(r))}async onImportKey(e,r,n,i,a){let o=await ks.importKey(e,r,{name:this.name,length:this.keySizeBits},i,a);if(o.data.length!==this.keySizeBits>>3)throw new be.OperationError("keyData: Wrong key size");return $t(o)}checkCryptoKey(e,r){if(super.checkCryptoKey(e,r),!(ot(e)instanceof Nc))throw new TypeError("key: Is not a DesCryptoKey")}},TK=class extends be.DesProvider{constructor(){super(...arguments);this.keySizeBits=192,this.ivSize=8,this.name="DES-EDE3-CBC"}async onGenerateKey(e,r,n){let i=await ks.generateKey({name:this.name,length:this.keySizeBits},r,n);return $t(i)}async onEncrypt(e,r,n){return ks.encrypt(e,ot(r),new Uint8Array(n))}async onDecrypt(e,r,n){return ks.decrypt(e,ot(r),new Uint8Array(n))}async onExportKey(e,r){return ks.exportKey(e,ot(r))}async onImportKey(e,r,n,i,a){let o=await ks.importKey(e,r,{name:this.name,length:this.keySizeBits},i,a);if(o.data.length!==this.keySizeBits>>3)throw new be.OperationError("keyData: Wrong key size");return $t(o)}checkCryptoKey(e,r){if(super.checkCryptoKey(e,r),!(ot(e)instanceof Nc))throw new TypeError("key: Is not a DesCryptoKey")}};function IK(t){switch(t.name.toUpperCase()){case"RSA-OAEP":{let e=/(\d+)$/.exec(t.hash.name)[1];return`RSA-OAEP${e!=="1"?`-${e}`:""}`}case"RSASSA-PKCS1-V1_5":return`RS${/(\d+)$/.exec(t.hash.name)[1]}`;case"RSA-PSS":return`PS${/(\d+)$/.exec(t.hash.name)[1]}`;case"RSA-PKCS1":return"RS1";default:throw new be.OperationError("algorithm: Is not recognized")}}var ud=class extends dd{constructor(){super(...arguments);this.type="private"}getKey(){let e=Dt.AsnParser.parse(this.data,be.asn1.PrivateKeyInfo);return Dt.AsnParser.parse(e.privateKey,be.asn1.RsaPrivateKey)}toJSON(){let e=this.getKey(),r={kty:"RSA",alg:IK(this.algorithm),key_ops:this.usages,ext:this.extractable};return Object.assign(r,_r.JsonSerializer.toJSON(e))}fromJSON(e){let r=_r.JsonParser.fromJSON(e,{targetSchema:be.asn1.RsaPrivateKey}),n=new be.asn1.PrivateKeyInfo;n.privateKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",n.privateKeyAlgorithm.parameters=null,n.privateKey=Dt.AsnSerializer.serialize(r),this.data=Buffer.from(Dt.AsnSerializer.serialize(n))}},cd=class extends dd{constructor(){super(...arguments);this.type="public"}getKey(){let e=Dt.AsnParser.parse(this.data,be.asn1.PublicKeyInfo);return Dt.AsnParser.parse(e.publicKey,be.asn1.RsaPublicKey)}toJSON(){let e=this.getKey(),r={kty:"RSA",alg:IK(this.algorithm),key_ops:this.usages,ext:this.extractable};return Object.assign(r,_r.JsonSerializer.toJSON(e))}fromJSON(e){let r=_r.JsonParser.fromJSON(e,{targetSchema:be.asn1.RsaPublicKey}),n=new be.asn1.PublicKeyInfo;n.publicKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",n.publicKeyAlgorithm.parameters=null,n.publicKey=Dt.AsnSerializer.serialize(r),this.data=Buffer.from(Dt.AsnSerializer.serialize(n))}},ti=class{static async generateKey(e,r,n){let i=new ud;i.algorithm=e,i.extractable=r,i.usages=n.filter(d=>this.privateKeyUsages.indexOf(d)!==-1);let a=new cd;a.algorithm=e,a.extractable=!0,a.usages=n.filter(d=>this.publicKeyUsages.indexOf(d)!==-1);let o=Buffer.concat([Buffer.alloc(4-e.publicExponent.byteLength,0),Buffer.from(e.publicExponent)]).readInt32BE(0),u=It.default.generateKeyPairSync("rsa",{modulusLength:e.modulusLength,publicExponent:o,publicKeyEncoding:{format:"der",type:"spki"},privateKeyEncoding:{format:"der",type:"pkcs8"}});return i.data=u.privateKey,a.data=u.publicKey,{privateKey:i,publicKey:a}}static async exportKey(e,r){switch(e.toLowerCase()){case"jwk":return _r.JsonSerializer.toJSON(r);case"pkcs8":case"spki":return new Uint8Array(r.data).buffer;default:throw new be.OperationError("format: Must be 'jwk', 'pkcs8' or 'spki'")}}static async importKey(e,r,n,i,a){switch(e.toLowerCase()){case"jwk":if(r.d){let u=_r.JsonParser.fromJSON(r,{targetSchema:be.asn1.RsaPrivateKey});return this.importPrivateKey(u,n,i,a)}else{let u=_r.JsonParser.fromJSON(r,{targetSchema:be.asn1.RsaPublicKey});return this.importPublicKey(u,n,i,a)}case"spki":{let o=Dt.AsnParser.parse(new Uint8Array(r),be.asn1.PublicKeyInfo),u=Dt.AsnParser.parse(o.publicKey,be.asn1.RsaPublicKey);return this.importPublicKey(u,n,i,a)}case"pkcs8":{let o=Dt.AsnParser.parse(new Uint8Array(r),be.asn1.PrivateKeyInfo),u=Dt.AsnParser.parse(o.privateKey,be.asn1.RsaPrivateKey);return this.importPrivateKey(u,n,i,a)}default:throw new be.OperationError("format: Must be 'jwk', 'pkcs8' or 'spki'")}}static async sign(e,r,n){switch(e.name.toUpperCase()){case"RSA-PSS":case"RSASSA-PKCS1-V1_5":return this.signRsa(e,r,n);default:throw new be.OperationError("algorithm: Is not recognized")}}static async verify(e,r,n,i){switch(e.name.toUpperCase()){case"RSA-PSS":case"RSASSA-PKCS1-V1_5":return this.verifySSA(e,r,i,n);default:throw new be.OperationError("algorithm: Is not recognized")}}static async encrypt(e,r,n){switch(e.name.toUpperCase()){case"RSA-OAEP":return this.encryptOAEP(e,r,n);default:throw new be.OperationError("algorithm: Is not recognized")}}static async decrypt(e,r,n){switch(e.name.toUpperCase()){case"RSA-OAEP":return this.decryptOAEP(e,r,n);default:throw new be.OperationError("algorithm: Is not recognized")}}static importPrivateKey(e,r,n,i){let a=new be.asn1.PrivateKeyInfo;a.privateKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",a.privateKeyAlgorithm.parameters=null,a.privateKey=Dt.AsnSerializer.serialize(e);let o=new ud;return o.data=Buffer.from(Dt.AsnSerializer.serialize(a)),o.algorithm=Object.assign({},r),o.algorithm.publicExponent=new Uint8Array(e.publicExponent),o.algorithm.modulusLength=e.modulus.byteLength<<3,o.extractable=n,o.usages=i,o}static importPublicKey(e,r,n,i){let a=new be.asn1.PublicKeyInfo;a.publicKeyAlgorithm.algorithm="1.2.840.113549.1.1.1",a.publicKeyAlgorithm.parameters=null,a.publicKey=Dt.AsnSerializer.serialize(e);let o=new cd;return o.data=Buffer.from(Dt.AsnSerializer.serialize(a)),o.algorithm=Object.assign({},r),o.algorithm.publicExponent=new Uint8Array(e.publicExponent),o.algorithm.modulusLength=e.modulus.byteLength<<3,o.extractable=n,o.usages=i,o}static getCryptoAlgorithm(e){switch(e.hash.name.toUpperCase()){case"SHA-1":return"RSA-SHA1";case"SHA-256":return"RSA-SHA256";case"SHA-384":return"RSA-SHA384";case"SHA-512":return"RSA-SHA512";default:throw new be.OperationError("algorithm.hash: Is not recognized")}}static signRsa(e,r,n){let i=this.getCryptoAlgorithm(r.algorithm),a=It.default.createSign(i);a.update(Buffer.from(n)),r.pem||(r.pem=`-----BEGIN PRIVATE KEY-----
${r.data.toString("base64")}
-----END PRIVATE KEY-----`);let o={key:r.pem};e.name.toUpperCase()==="RSA-PSS"&&(o.padding=It.default.constants.RSA_PKCS1_PSS_PADDING,o.saltLength=e.saltLength);let u=a.sign(o);return new Uint8Array(u).buffer}static verifySSA(e,r,n,i){let a=this.getCryptoAlgorithm(r.algorithm),o=It.default.createVerify(a);o.update(Buffer.from(n)),r.pem||(r.pem=`-----BEGIN PUBLIC KEY-----
${r.data.toString("base64")}
-----END PUBLIC KEY-----`);let u={key:r.pem};return e.name.toUpperCase()==="RSA-PSS"&&(u.padding=It.default.constants.RSA_PKCS1_PSS_PADDING,u.saltLength=e.saltLength),o.verify(u,i)}static encryptOAEP(e,r,n){let i={key:`-----BEGIN PUBLIC KEY-----
${r.data.toString("base64")}
-----END PUBLIC KEY-----`,padding:It.default.constants.RSA_PKCS1_OAEP_PADDING};return e.label,new Uint8Array(It.default.publicEncrypt(i,n)).buffer}static decryptOAEP(e,r,n){let i={key:`-----BEGIN PRIVATE KEY-----
${r.data.toString("base64")}
-----END PRIVATE KEY-----`,padding:It.default.constants.RSA_PKCS1_OAEP_PADDING};return e.label,new Uint8Array(It.default.privateDecrypt(i,n)).buffer}};ti.publicKeyUsages=["verify","encrypt","wrapKey"];ti.privateKeyUsages=["sign","decrypt","unwrapKey"];var kK=class extends be.RsaSsaProvider{async onGenerateKey(e,r,n){let i=await ti.generateKey({...e,name:this.name},r,n);return{privateKey:$t(i.privateKey),publicKey:$t(i.publicKey)}}async onSign(e,r,n){return ti.sign(e,ot(r),new Uint8Array(n))}async onVerify(e,r,n,i){return ti.verify(e,ot(r),new Uint8Array(n),new Uint8Array(i))}async onExportKey(e,r){return ti.exportKey(e,ot(r))}async onImportKey(e,r,n,i,a){let o=await ti.importKey(e,r,{...n,name:this.name},i,a);return $t(o)}checkCryptoKey(e,r){super.checkCryptoKey(e,r);let n=ot(e);if(!(n instanceof ud||n instanceof cd))throw new TypeError("key: Is not RSA CryptoKey")}},BK=class extends be.RsaPssProvider{async onGenerateKey(e,r,n){let i=await ti.generateKey({...e,name:this.name},r,n);return{privateKey:$t(i.privateKey),publicKey:$t(i.publicKey)}}async onSign(e,r,n){return ti.sign(e,ot(r),new Uint8Array(n))}async onVerify(e,r,n,i){return ti.verify(e,ot(r),new Uint8Array(n),new Uint8Array(i))}async onExportKey(e,r){return ti.exportKey(e,ot(r))}async onImportKey(e,r,n,i,a){let o=await ti.importKey(e,r,{...n,name:this.name},i,a);return $t(o)}checkCryptoKey(e,r){super.checkCryptoKey(e,r);let n=ot(e);if(!(n instanceof ud||n instanceof cd))throw new TypeError("key: Is not RSA CryptoKey")}},Uc=class{static size(e){switch(e.name.toUpperCase()){case"SHA-1":return 160;case"SHA-256":return 256;case"SHA-384":return 384;case"SHA-512":return 512;default:throw new Error("Unrecognized name")}}static digest(e,r){let n=It.default.createHash(e.name.replace("-","")).update(Buffer.from(r)).digest();return new Uint8Array(n).buffer}},RK=class extends be.RsaOaepProvider{async onGenerateKey(e,r,n){let i=await ti.generateKey({...e,name:this.name},r,n);return{privateKey:$t(i.privateKey),publicKey:$t(i.publicKey)}}async onEncrypt(e,r,n){let i=ot(r),a=new Uint8Array(n),o=Math.ceil(i.algorithm.modulusLength>>3),u=Uc.size(i.algorithm.hash)>>3,f=a.byteLength,d=o-f-2*u-2;if(f>o-2*u-2)throw new Error("Data too large");let h=new Uint8Array(o),m=h.subarray(1,u+1),_=h.subarray(u+1);_.set(a,u+d+1);let w=It.default.createHash(i.algorithm.hash.name.replace("-","")).update(be.BufferSourceConverter.toUint8Array(e.label||new Uint8Array(0))).digest();_.set(w,0),_[u+d]=1,It.default.randomFillSync(m);let P=this.mgf1(i.algorithm.hash,m,_.length);for(let Y=0;Y<_.length;Y++)_[Y]^=P[Y];let M=this.mgf1(i.algorithm.hash,_,m.length);for(let Y=0;Y<m.length;Y++)m[Y]^=M[Y];i.pem||(i.pem=`-----BEGIN PUBLIC KEY-----
${i.data.toString("base64")}
-----END PUBLIC KEY-----`);let K=It.default.publicEncrypt({key:i.pem,padding:It.default.constants.RSA_NO_PADDING},Buffer.from(h));return new Uint8Array(K).buffer}async onDecrypt(e,r,n){let i=ot(r),a=Math.ceil(i.algorithm.modulusLength>>3),o=Uc.size(i.algorithm.hash)>>3;if(n.byteLength!==a)throw new Error("Bad data");i.pem||(i.pem=`-----BEGIN PRIVATE KEY-----
${i.data.toString("base64")}
-----END PRIVATE KEY-----`);let f=It.default.privateDecrypt({key:i.pem,padding:It.default.constants.RSA_NO_PADDING},Buffer.from(n)),d=f[0],h=f.subarray(1,o+1),m=f.subarray(o+1);if(d!==0)throw new Error("Decryption failed");let _=this.mgf1(i.algorithm.hash,m,h.length);for(let K=0;K<h.length;K++)h[K]^=_[K];let w=this.mgf1(i.algorithm.hash,h,m.length);for(let K=0;K<m.length;K++)m[K]^=w[K];let P=It.default.createHash(i.algorithm.hash.name.replace("-","")).update(be.BufferSourceConverter.toUint8Array(e.label||new Uint8Array(0))).digest();for(let K=0;K<o;K++)if(P[K]!==m[K])throw new Error("Decryption failed");let M=o;for(;M<m.length;M++){let K=m[M];if(K===1)break;if(K!==0)throw new Error("Decryption failed")}if(M===m.length)throw new Error("Decryption failed");return f=m.subarray(M+1),new Uint8Array(f).buffer}async onExportKey(e,r){return ti.exportKey(e,ot(r))}async onImportKey(e,r,n,i,a){let o=await ti.importKey(e,r,{...n,name:this.name},i,a);return $t(o)}checkCryptoKey(e,r){super.checkCryptoKey(e,r);let n=ot(e);if(!(n instanceof ud||n instanceof cd))throw new TypeError("key: Is not RSA CryptoKey")}mgf1(e,r,n=0){let i=Uc.size(e)>>3,a=new Uint8Array(n),o=new Uint8Array(4),u=Math.ceil(n/i);for(let f=0;f<u;f++){o[0]=f>>>24,o[1]=f>>>16&255,o[2]=f>>>8&255,o[3]=f&255;let d=a.subarray(f*i),h=It.default.createHash(e.name.replace("-","")).update(r).update(o).digest();h.length>d.length&&(h=h.subarray(0,d.length)),d.set(h)}return a}},MK=class extends be.ProviderCrypto{constructor(){super(...arguments);this.name="RSAES-PKCS1-v1_5",this.usages={publicKey:["encrypt","wrapKey"],privateKey:["decrypt","unwrapKey"]}}async onGenerateKey(e,r,n){let i=await ti.generateKey({...e,name:this.name},r,n);return{privateKey:$t(i.privateKey),publicKey:$t(i.publicKey)}}checkGenerateKeyParams(e){if(this.checkRequiredProperty(e,"publicExponent"),!(e.publicExponent&&e.publicExponent instanceof Uint8Array))throw new TypeError("publicExponent: Missing or not a Uint8Array");let r=Lc.Convert.ToBase64(e.publicExponent);if(!(r==="Aw=="||r==="AQAB"))throw new TypeError("publicExponent: Must be [3] or [1,0,1]");switch(this.checkRequiredProperty(e,"modulusLength"),e.modulusLength){case 1024:case 2048:case 4096:break;default:throw new TypeError("modulusLength: Must be 1024, 2048, or 4096")}}async onEncrypt(e,r,n){let i=this.toCryptoOptions(r),a=lg.publicEncrypt(i,new Uint8Array(n));return new Uint8Array(a).buffer}async onDecrypt(e,r,n){let i=this.toCryptoOptions(r),a=lg.privateDecrypt(i,new Uint8Array(n));return new Uint8Array(a).buffer}async onExportKey(e,r){return ti.exportKey(e,ot(r))}async onImportKey(e,r,n,i,a){let o=await ti.importKey(e,r,{...n,name:this.name},i,a);return $t(o)}checkCryptoKey(e,r){super.checkCryptoKey(e,r);let n=ot(e);if(!(n instanceof ud||n instanceof cd))throw new TypeError("key: Is not RSA CryptoKey")}toCryptoOptions(e){let r=e.type.toUpperCase();return{key:`-----BEGIN ${r} KEY-----
${ot(e).data.toString("base64")}
-----END ${r} KEY-----`,padding:lg.constants.RSA_PKCS1_PADDING}}},ive={"1.2.840.10045.3.1.7":"P-256","P-256":"1.2.840.10045.3.1.7","1.3.132.0.34":"P-384","P-384":"1.3.132.0.34","1.3.132.0.35":"P-521","P-521":"1.3.132.0.35","1.3.132.0.10":"K-256","K-256":"1.3.132.0.10"};function $m(t){let e=ive[t];if(!e)throw new be.OperationError(`Cannot convert WebCrypto named curve '${t}' to OID`);return e}var Vm=class extends dd{constructor(){super(...arguments);this.type="private"}getKey(){let e=Dt.AsnParser.parse(this.data,be.asn1.PrivateKeyInfo);return Dt.AsnParser.parse(e.privateKey,be.asn1.EcPrivateKey)}toJSON(){let e=this.getKey(),r={kty:"EC",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable};return Object.assign(r,_r.JsonSerializer.toJSON(e))}fromJSON(e){if(!e.crv)throw new be.OperationError("Cannot get named curve from JWK. Property 'crv' is required");let r=new be.asn1.PrivateKeyInfo;r.privateKeyAlgorithm.algorithm="1.2.840.10045.2.1",r.privateKeyAlgorithm.parameters=Dt.AsnSerializer.serialize(new be.asn1.ObjectIdentifier($m(e.crv)));let n=_r.JsonParser.fromJSON(e,{targetSchema:be.asn1.EcPrivateKey});return r.privateKey=Dt.AsnSerializer.serialize(n),this.data=Buffer.from(Dt.AsnSerializer.serialize(r)),this}},Gm=class extends dd{constructor(){super(...arguments);this.type="public"}getKey(){let e=Dt.AsnParser.parse(this.data,be.asn1.PublicKeyInfo);return new be.asn1.EcPublicKey(e.publicKey)}toJSON(){let e=this.getKey(),r={kty:"EC",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable};return Object.assign(r,_r.JsonSerializer.toJSON(e))}fromJSON(e){if(!e.crv)throw new be.OperationError("Cannot get named curve from JWK. Property 'crv' is required");let r=_r.JsonParser.fromJSON(e,{targetSchema:be.asn1.EcPublicKey}),n=new be.asn1.PublicKeyInfo;return n.publicKeyAlgorithm.algorithm="1.2.840.10045.2.1",n.publicKeyAlgorithm.parameters=Dt.AsnSerializer.serialize(new be.asn1.ObjectIdentifier($m(e.crv))),n.publicKey=Dt.AsnSerializer.toASN(r).valueHex,this.data=Buffer.from(Dt.AsnSerializer.serialize(n)),this}},Ya=class{static async generateKey(e,r,n){let i=new Vm;i.algorithm=e,i.extractable=r,i.usages=n.filter(f=>this.privateKeyUsages.indexOf(f)!==-1);let a=new Gm;a.algorithm=e,a.extractable=!0,a.usages=n.filter(f=>this.publicKeyUsages.indexOf(f)!==-1);let o=It.default.generateKeyPairSync("ec",{namedCurve:this.getOpenSSLNamedCurve(e.namedCurve),publicKeyEncoding:{format:"der",type:"spki"},privateKeyEncoding:{format:"der",type:"pkcs8"}});return i.data=o.privateKey,a.data=o.publicKey,{privateKey:i,publicKey:a}}static async sign(e,r,n){let i=e.hash.name.replace("-",""),a=It.default.createSign(i);a.update(Buffer.from(n)),r.pem||(r.pem=`-----BEGIN PRIVATE KEY-----
${r.data.toString("base64")}
-----END PRIVATE KEY-----`);let o={key:r.pem},u=a.sign(o),f=Dt.AsnParser.parse(u,be.asn1.EcDsaSignature),d=this.getPointSize(r.algorithm.namedCurve),h=this.addPadding(d,Buffer.from(f.r)),m=this.addPadding(d,Buffer.from(f.s));return new Uint8Array(Buffer.concat([h,m])).buffer}static async verify(e,r,n,i){let a=e.hash.name.replace("-",""),o=It.default.createVerify(a);o.update(Buffer.from(i)),r.pem||(r.pem=`-----BEGIN PUBLIC KEY-----
${r.data.toString("base64")}
-----END PUBLIC KEY-----`);let u={key:r.pem},f=new be.asn1.EcDsaSignature,d=this.getPointSize(r.algorithm.namedCurve);f.r=this.removePadding(n.slice(0,d)),f.s=this.removePadding(n.slice(d,d+d));let h=Buffer.from(Dt.AsnSerializer.serialize(f));return o.verify(u,h)}static async deriveBits(e,r,n){let i=this.getOpenSSLNamedCurve(r.algorithm.namedCurve),a=It.default.createECDH(i),o=Dt.AsnParser.parse(r.data,be.asn1.PrivateKeyInfo),u=Dt.AsnParser.parse(o.privateKey,be.asn1.EcPrivateKey);a.setPrivateKey(Buffer.from(u.privateKey));let f=Dt.AsnParser.parse(e.public.data,be.asn1.PublicKeyInfo),d=a.computeSecret(Buffer.from(f.publicKey));return new Uint8Array(d).buffer.slice(0,n>>3)}static async exportKey(e,r){switch(e.toLowerCase()){case"jwk":return _r.JsonSerializer.toJSON(r);case"pkcs8":case"spki":return new Uint8Array(r.data).buffer;case"raw":return Dt.AsnParser.parse(r.data,be.asn1.PublicKeyInfo).publicKey;default:throw new be.OperationError("format: Must be 'jwk', 'raw', pkcs8' or 'spki'")}}static async importKey(e,r,n,i,a){switch(e.toLowerCase()){case"jwk":if(r.d){let u=_r.JsonParser.fromJSON(r,{targetSchema:be.asn1.EcPrivateKey});return this.importPrivateKey(u,n,i,a)}else{let u=_r.JsonParser.fromJSON(r,{targetSchema:be.asn1.EcPublicKey});return this.importPublicKey(u,n,i,a)}case"raw":{let o=new be.asn1.EcPublicKey(r);return this.importPublicKey(o,n,i,a)}case"spki":{let o=Dt.AsnParser.parse(new Uint8Array(r),be.asn1.PublicKeyInfo),u=new be.asn1.EcPublicKey(o.publicKey);return this.assertKeyParameters(o.publicKeyAlgorithm.parameters,n.namedCurve),this.importPublicKey(u,n,i,a)}case"pkcs8":{let o=Dt.AsnParser.parse(new Uint8Array(r),be.asn1.PrivateKeyInfo),u=Dt.AsnParser.parse(o.privateKey,be.asn1.EcPrivateKey);return this.assertKeyParameters(o.privateKeyAlgorithm.parameters,n.namedCurve),this.importPrivateKey(u,n,i,a)}default:throw new be.OperationError("format: Must be 'jwk', 'raw', 'pkcs8' or 'spki'")}}static assertKeyParameters(e,r){if(!e)throw new be.CryptoError("Key info doesn't have required parameters");let n="";try{n=Dt.AsnParser.parse(e,be.asn1.ObjectIdentifier).value}catch{throw new be.CryptoError("Cannot read key info parameters")}if($m(r)!==n)throw new be.CryptoError("Key info parameter doesn't match to named curve")}static async importPrivateKey(e,r,n,i){let a=new be.asn1.PrivateKeyInfo;a.privateKeyAlgorithm.algorithm="1.2.840.10045.2.1",a.privateKeyAlgorithm.parameters=Dt.AsnSerializer.serialize(new be.asn1.ObjectIdentifier($m(r.namedCurve))),a.privateKey=Dt.AsnSerializer.serialize(e);let o=new Vm;return o.data=Buffer.from(Dt.AsnSerializer.serialize(a)),o.algorithm=Object.assign({},r),o.extractable=n,o.usages=i,o}static async importPublicKey(e,r,n,i){let a=new be.asn1.PublicKeyInfo;a.publicKeyAlgorithm.algorithm="1.2.840.10045.2.1";let o=$m(r.namedCurve);a.publicKeyAlgorithm.parameters=Dt.AsnSerializer.serialize(new be.asn1.ObjectIdentifier(o)),a.publicKey=e.value;let u=new Gm;return u.data=Buffer.from(Dt.AsnSerializer.serialize(a)),u.algorithm=Object.assign({},r),u.extractable=n,u.usages=i,u}static getOpenSSLNamedCurve(e){switch(e.toUpperCase()){case"P-256":return"prime256v1";case"K-256":return"secp256k1";case"P-384":return"secp384r1";case"P-521":return"secp521r1";default:throw new be.OperationError(`Cannot convert WebCrypto named curve to NodeJs. Unknown name '${e}'`)}}static getPointSize(e){switch(e){case"P-256":case"K-256":return 32;case"P-384":return 48;case"P-521":return 66;default:throw new Error(`Cannot get size for the named curve '${e}'`)}}static addPadding(e,r){let n=Buffer.alloc(e);return n.set(Buffer.from(r),e-r.length),n}static removePadding(e){for(let r=0;r<e.length;r++)if(!!e[r])return e.slice(r).buffer;return new ArrayBuffer(0)}};Ya.publicKeyUsages=["verify"];Ya.privateKeyUsages=["sign","deriveKey","deriveBits"];var OK=class extends be.EcdsaProvider{constructor(){super(...arguments);this.namedCurves=["P-256","P-384","P-521","K-256"]}async onGenerateKey(e,r,n){let i=await Ya.generateKey({...e,name:this.name},r,n);return{privateKey:$t(i.privateKey),publicKey:$t(i.publicKey)}}async onSign(e,r,n){return Ya.sign(e,ot(r),new Uint8Array(n))}async onVerify(e,r,n,i){return Ya.verify(e,ot(r),new Uint8Array(n),new Uint8Array(i))}async onExportKey(e,r){return Ya.exportKey(e,ot(r))}async onImportKey(e,r,n,i,a){let o=await Ya.importKey(e,r,{...n,name:this.name},i,a);return $t(o)}checkCryptoKey(e,r){super.checkCryptoKey(e,r);let n=ot(e);if(!(n instanceof Vm||n instanceof Gm))throw new TypeError("key: Is not EC CryptoKey")}},qK=class extends be.EcdhProvider{async onGenerateKey(e,r,n){let i=await Ya.generateKey({...e,name:this.name},r,n);return{privateKey:$t(i.privateKey),publicKey:$t(i.publicKey)}}async onExportKey(e,r){return Ya.exportKey(e,ot(r))}async onImportKey(e,r,n,i,a){let o=await Ya.importKey(e,r,{...n,name:this.name},i,a);return $t(o)}checkCryptoKey(e,r){super.checkCryptoKey(e,r);let n=ot(e);if(!(n instanceof Vm||n instanceof Gm))throw new TypeError("key: Is not EC CryptoKey")}async onDeriveBits(e,r,n){return await Ya.deriveBits({...e,public:ot(e.public)},ot(r),n)}},ave={[be.asn1.idEd448]:"Ed448",ed448:be.asn1.idEd448,[be.asn1.idX448]:"X448",x448:be.asn1.idX448,[be.asn1.idEd25519]:"Ed25519",ed25519:be.asn1.idEd25519,[be.asn1.idX25519]:"X25519",x25519:be.asn1.idX25519};function DK(t){let e=ave[t.toLowerCase()];if(!e)throw new be.OperationError(`Cannot convert WebCrypto named curve '${t}' to OID`);return e}var cE=class extends dd{constructor(){super(...arguments);this.type="private"}getKey(){let e=Dt.AsnParser.parse(this.data,be.asn1.PrivateKeyInfo);return Dt.AsnParser.parse(e.privateKey,be.asn1.CurvePrivateKey)}toJSON(){let e=this.getKey(),r={kty:"OKP",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable};return Object.assign(r,_r.JsonSerializer.toJSON(e))}fromJSON(e){if(!e.crv)throw new be.OperationError("Cannot get named curve from JWK. Property 'crv' is required");let r=new be.asn1.PrivateKeyInfo;r.privateKeyAlgorithm.algorithm=DK(e.crv);let n=_r.JsonParser.fromJSON(e,{targetSchema:be.asn1.CurvePrivateKey});return r.privateKey=Dt.AsnSerializer.serialize(n),this.data=Buffer.from(Dt.AsnSerializer.serialize(r)),this}},fE=class extends dd{constructor(){super(...arguments);this.type="public"}getKey(){return Dt.AsnParser.parse(this.data,be.asn1.PublicKeyInfo).publicKey}toJSON(){let e=this.getKey(),r={kty:"OKP",crv:this.algorithm.namedCurve,key_ops:this.usages,ext:this.extractable};return Object.assign(r,{x:Lc.Convert.ToBase64Url(e)})}fromJSON(e){if(!e.crv)throw new be.OperationError("Cannot get named curve from JWK. Property 'crv' is required");if(!e.x)throw new be.OperationError("Cannot get property from JWK. Property 'x' is required");let r=new be.asn1.PublicKeyInfo;return r.publicKeyAlgorithm.algorithm=DK(e.crv),r.publicKey=Lc.Convert.FromBase64Url(e.x),this.data=Buffer.from(Dt.AsnSerializer.serialize(r)),this}},Ja=class{static async generateKey(e,r,n){let i=new cE;i.algorithm=e,i.extractable=r,i.usages=n.filter(d=>this.privateKeyUsages.indexOf(d)!==-1);let a=new fE;a.algorithm=e,a.extractable=!0,a.usages=n.filter(d=>this.publicKeyUsages.indexOf(d)!==-1);let o=e.namedCurve.toLowerCase(),u=It.default.generateKeyPairSync(o,{publicKeyEncoding:{format:"der",type:"spki"},privateKeyEncoding:{format:"der",type:"pkcs8"}});return i.data=u.privateKey,a.data=u.publicKey,{privateKey:i,publicKey:a}}static async sign(e,r,n){r.pem||(r.pem=`-----BEGIN PRIVATE KEY-----
${r.data.toString("base64")}
-----END PRIVATE KEY-----`);let i={key:r.pem},a=It.default.sign(null,Buffer.from(n),i);return be.BufferSourceConverter.toArrayBuffer(a)}static async verify(e,r,n,i){r.pem||(r.pem=`-----BEGIN PUBLIC KEY-----
${r.data.toString("base64")}
-----END PUBLIC KEY-----`);let a={key:r.pem};return It.default.verify(null,Buffer.from(i),a,Buffer.from(n))}static async deriveBits(e,r,n){let i=It.default.createPublicKey({key:e.public.data,format:"der",type:"spki"}),a=It.default.createPrivateKey({key:r.data,format:"der",type:"pkcs8"}),o=It.default.diffieHellman({publicKey:i,privateKey:a});return new Uint8Array(o).buffer.slice(0,n>>3)}static async exportKey(e,r){switch(e.toLowerCase()){case"jwk":return _r.JsonSerializer.toJSON(r);case"pkcs8":case"spki":return new Uint8Array(r.data).buffer;case"raw":return Dt.AsnParser.parse(r.data,be.asn1.PublicKeyInfo).publicKey;default:throw new be.OperationError("format: Must be 'jwk', 'raw', pkcs8' or 'spki'")}}static async importKey(e,r,n,i,a){switch(e.toLowerCase()){case"jwk":{let o=r;if(o.d){let u=_r.JsonParser.fromJSON(r,{targetSchema:be.asn1.CurvePrivateKey});return this.importPrivateKey(u,n,i,a)}else{if(!o.x)throw new TypeError("keyData: Cannot get required 'x' filed");return this.importPublicKey(Lc.Convert.FromBase64Url(o.x),n,i,a)}}case"raw":return this.importPublicKey(r,n,i,a);case"spki":{let o=Dt.AsnParser.parse(new Uint8Array(r),be.asn1.PublicKeyInfo);return this.importPublicKey(o.publicKey,n,i,a)}case"pkcs8":{let o=Dt.AsnParser.parse(new Uint8Array(r),be.asn1.PrivateKeyInfo),u=Dt.AsnParser.parse(o.privateKey,be.asn1.CurvePrivateKey);return this.importPrivateKey(u,n,i,a)}default:throw new be.OperationError("format: Must be 'jwk', 'raw', 'pkcs8' or 'spki'")}}static importPrivateKey(e,r,n,i){let a=new cE;return a.fromJSON({crv:r.namedCurve,d:Lc.Convert.ToBase64Url(e.d)}),a.algorithm=Object.assign({},r),a.extractable=n,a.usages=i,a}static async importPublicKey(e,r,n,i){let a=new fE;return a.fromJSON({crv:r.namedCurve,x:Lc.Convert.ToBase64Url(e)}),a.algorithm=Object.assign({},r),a.extractable=n,a.usages=i,a}};Ja.publicKeyUsages=["verify"];Ja.privateKeyUsages=["sign","deriveKey","deriveBits"];var NK=class extends be.EdDsaProvider{async onGenerateKey(e,r,n){let i=await Ja.generateKey({name:this.name,namedCurve:e.namedCurve.replace(/^ed/i,"Ed")},r,n);return{privateKey:$t(i.privateKey),publicKey:$t(i.publicKey)}}async onSign(e,r,n){return Ja.sign(e,ot(r),new Uint8Array(n))}async onVerify(e,r,n,i){return Ja.verify(e,ot(r),new Uint8Array(n),new Uint8Array(i))}async onExportKey(e,r){return Ja.exportKey(e,ot(r))}async onImportKey(e,r,n,i,a){let o=await Ja.importKey(e,r,{...n,name:this.name},i,a);return $t(o)}},LK=class extends be.EcdhEsProvider{async onGenerateKey(e,r,n){let i=await Ja.generateKey({name:this.name,namedCurve:e.namedCurve.toUpperCase()},r,n);return{privateKey:$t(i.privateKey),publicKey:$t(i.publicKey)}}async onDeriveBits(e,r,n){return await Ja.deriveBits({...e,public:ot(e.public)},ot(r),n)}async onExportKey(e,r){return Ja.exportKey(e,ot(r))}async onImportKey(e,r,n,i,a){let o=await Ja.importKey(e,r,{...n,name:this.name},i,a);return $t(o)}},UK=class extends be.ProviderCrypto{constructor(){super(...arguments);this.name="SHA-1",this.usages=[]}async onDigest(e,r){return Uc.digest(e,r)}},HK=class extends be.ProviderCrypto{constructor(){super(...arguments);this.name="SHA-256",this.usages=[]}async onDigest(e,r){return Uc.digest(e,r)}},KK=class extends be.ProviderCrypto{constructor(){super(...arguments);this.name="SHA-384",this.usages=[]}async onDigest(e,r){return Uc.digest(e,r)}},FK=class extends be.ProviderCrypto{constructor(){super(...arguments);this.name="SHA-512",this.usages=[]}async onDigest(e,r){return Uc.digest(e,r)}},dE=class extends _o{},zK=class extends be.Pbkdf2Provider{async onDeriveBits(e,r,n){return new Promise((i,a)=>{let o=be.BufferSourceConverter.toArrayBuffer(e.salt),u=e.hash.name.replace("-","");It.default.pbkdf2(ot(r).data,Buffer.from(o),e.iterations,n>>3,u,(f,d)=>{f?a(f):i(new Uint8Array(d).buffer)})})}async onImportKey(e,r,n,i,a){if(e==="raw"){let o=new dE;return o.data=Buffer.from(r),o.algorithm={name:this.name},o.extractable=!1,o.usages=a,$t(o)}throw new be.OperationError("format: Must be 'raw'")}checkCryptoKey(e,r){if(super.checkCryptoKey(e,r),!(ot(e)instanceof dE))throw new TypeError("key: Is not PBKDF CryptoKey")}},l0=class extends _o{get alg(){return`HS${this.algorithm.hash.name.toUpperCase().replace("SHA-","")}`}set alg(e){}};fd.__decorate([_r.JsonProp({name:"k",converter:pE})],l0.prototype,"data",void 0);var WK=class extends be.HmacProvider{async onGenerateKey(e,r,n){let i=(e.length||this.getDefaultLength(e.hash.name))>>3<<3,a=new l0;return a.algorithm={...e,length:i,name:this.name},a.extractable=r,a.usages=n,a.data=It.default.randomBytes(i>>3),$t(a)}async onSign(e,r,n){let i=r.algorithm.hash.name.replace("-",""),a=It.default.createHmac(i,ot(r).data).update(Buffer.from(n)).digest();return new Uint8Array(a).buffer}async onVerify(e,r,n,i){let a=r.algorithm.hash.name.replace("-","");return It.default.createHmac(a,ot(r).data).update(Buffer.from(i)).digest().compare(Buffer.from(n))===0}async onImportKey(e,r,n,i,a){let o;switch(e.toLowerCase()){case"jwk":o=_r.JsonParser.fromJSON(r,{targetSchema:l0});break;case"raw":o=new l0,o.data=Buffer.from(r);break;default:throw new be.OperationError("format: Must be 'jwk' or 'raw'")}return o.algorithm={hash:{name:n.hash.name},name:this.name,length:o.data.length<<3},o.extractable=i,o.usages=a,$t(o)}async onExportKey(e,r){switch(e.toLowerCase()){case"jwk":return _r.JsonSerializer.toJSON(ot(r));case"raw":return new Uint8Array(ot(r).data).buffer;default:throw new be.OperationError("format: Must be 'jwk' or 'raw'")}}checkCryptoKey(e,r){if(super.checkCryptoKey(e,r),!(ot(e)instanceof l0))throw new TypeError("key: Is not HMAC CryptoKey")}},lE=class extends _o{},jK=class extends be.HkdfProvider{async onImportKey(e,r,n,i,a){if(e.toLowerCase()!=="raw")throw new be.OperationError("Operation not supported");let o=new lE;return o.data=Buffer.from(r),o.algorithm={name:this.name},o.extractable=i,o.usages=a,$t(o)}async onDeriveBits(e,r,n){let i=e.hash.name.replace("-",""),a=It.default.createHash(i).digest().length,o=n/8,u=jm.BufferSourceConverter.toUint8Array(e.info),f=It.default.createHmac(i,jm.BufferSourceConverter.toUint8Array(e.salt)).update(jm.BufferSourceConverter.toUint8Array(ot(r).data)).digest(),d=[Buffer.alloc(0)],h=Math.ceil(o/a)+1;for(let m=1;m<h;++m)d.push(It.default.createHmac(i,f).update(Buffer.concat([d[m-1],u,Buffer.from([m])])).digest());return Buffer.concat(d).slice(0,o)}checkCryptoKey(e,r){if(super.checkCryptoKey(e,r),!(ot(e)instanceof lE))throw new TypeError("key: Is not HKDF CryptoKey")}},$K=class extends be.SubtleCrypto{constructor(){var e;super();this.providers.set(new _K),this.providers.set(new SK),this.providers.set(new AK),this.providers.set(new wK),this.providers.set(new CK),this.providers.set(new EK),this.providers.set(new PK),this.providers.set(new TK),this.providers.set(new kK),this.providers.set(new BK),this.providers.set(new RK),this.providers.set(new MK),this.providers.set(new OK),this.providers.set(new qK),this.providers.set(new UK),this.providers.set(new HK),this.providers.set(new KK),this.providers.set(new FK),this.providers.set(new zK),this.providers.set(new WK),this.providers.set(new jK);let r=(e=/^v(\d+)/.exec(eve.version))===null||e===void 0?void 0:e[1];r&&parseInt(r,10)>=14&&(this.providers.set(new NK),this.providers.set(new LK))}},VK=class extends be.Crypto{constructor(){super(...arguments);this.subtle=new $K}getRandomValues(e){let r=Buffer.from(e.buffer);return It.default.randomFillSync(r),e}};Object.defineProperty(hg,"CryptoKey",{enumerable:!0,get:function(){return jm.CryptoKey}});hg.Crypto=VK});var JK=g(()=>{var YK;(function(t){(function(e){var r=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),n=i(t);typeof r.Reflect>"u"?r.Reflect=t:n=i(r.Reflect,n),e(n);function i(a,o){return function(u,f){typeof a[u]!="function"&&Object.defineProperty(a,u,{configurable:!0,writable:!0,value:f}),o&&o(u,f)}}})(function(e){var r=Object.prototype.hasOwnProperty,n=typeof Symbol=="function",i=n&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",a=n&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",o=typeof Object.create=="function",u={__proto__:[]}instanceof Array,f=!o&&!u,d={create:o?function(){return Vt(Object.create(null))}:u?function(){return Vt({__proto__:null})}:function(){return Vt({})},has:f?function(v,C){return r.call(v,C)}:function(v,C){return C in v},get:f?function(v,C){return r.call(v,C)?v[C]:void 0}:function(v,C){return v[C]}},h=Object.getPrototypeOf(Function),m=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",_=!m&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:wr(),w=!m&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Er(),P=!m&&typeof WeakMap=="function"?WeakMap:_t(),M=new P;function K(v,C,O,H){if(oe(O)){if(!St(v))throw new TypeError;if(!gt(C))throw new TypeError;return F(v,C)}else{if(!St(v))throw new TypeError;if(!xe(C))throw new TypeError;if(!xe(H)&&!oe(H)&&!re(H))throw new TypeError;return re(H)&&(H=void 0),O=De(O),y(v,C,O,H)}}e("decorate",K);function Y(v,C){function O(H,ee){if(!xe(H))throw new TypeError;if(!oe(ee)&&!fn(ee))throw new TypeError;J(v,C,H,ee)}return O}e("metadata",Y);function fe(v,C,O,H){if(!xe(O))throw new TypeError;return oe(H)||(H=De(H)),J(v,C,O,H)}e("defineMetadata",fe);function _e(v,C,O){if(!xe(C))throw new TypeError;return oe(O)||(O=De(O)),B(v,C,O)}e("hasMetadata",_e);function Je(v,C,O){if(!xe(C))throw new TypeError;return oe(O)||(O=De(O)),D(v,C,O)}e("hasOwnMetadata",Je);function Ze(v,C,O){if(!xe(C))throw new TypeError;return oe(O)||(O=De(O)),U(v,C,O)}e("getMetadata",Ze);function Ue(v,C,O){if(!xe(C))throw new TypeError;return oe(O)||(O=De(O)),G(v,C,O)}e("getOwnMetadata",Ue);function Ke(v,C){if(!xe(v))throw new TypeError;return oe(C)||(C=De(C)),L(v,C)}e("getMetadataKeys",Ke);function He(v,C){if(!xe(v))throw new TypeError;return oe(C)||(C=De(C)),p(v,C)}e("getOwnMetadataKeys",He);function we(v,C,O){if(!xe(C))throw new TypeError;oe(O)||(O=De(O));var H=S(C,O,!1);if(oe(H)||!H.delete(v))return!1;if(H.size>0)return!0;var ee=M.get(C);return ee.delete(O),ee.size>0||M.delete(C),!0}e("deleteMetadata",we);function F(v,C){for(var O=v.length-1;O>=0;--O){var H=v[O],ee=H(C);if(!oe(ee)&&!re(ee)){if(!gt(ee))throw new TypeError;C=ee}}return C}function y(v,C,O,H){for(var ee=v.length-1;ee>=0;--ee){var Z=v[ee],se=Z(C,O,H);if(!oe(se)&&!re(se)){if(!xe(se))throw new TypeError;H=se}}return H}function S(v,C,O){var H=M.get(v);if(oe(H)){if(!O)return;H=new _,M.set(v,H)}var ee=H.get(C);if(oe(ee)){if(!O)return;ee=new _,H.set(C,ee)}return ee}function B(v,C,O){var H=D(v,C,O);if(H)return!0;var ee=jr(C);return re(ee)?!1:B(v,ee,O)}function D(v,C,O){var H=S(C,O,!1);return oe(H)?!1:Xt(H.has(v))}function U(v,C,O){var H=D(v,C,O);if(H)return G(v,C,O);var ee=jr(C);if(!re(ee))return U(v,ee,O)}function G(v,C,O){var H=S(C,O,!1);if(!oe(H))return H.get(v)}function J(v,C,O,H){var ee=S(O,H,!0);ee.set(v,C)}function L(v,C){var O=p(v,C),H=jr(v);if(H===null)return O;var ee=L(H,C);if(ee.length<=0)return O;if(O.length<=0)return ee;for(var Z=new w,se=[],de=0,ie=O;de<ie.length;de++){var Ie=ie[de],Ve=Z.has(Ie);Ve||(Z.add(Ie),se.push(Ie))}for(var je=0,yt=ee;je<yt.length;je++){var Ie=yt[je],Ve=Z.has(Ie);Ve||(Z.add(Ie),se.push(Ie))}return se}function p(v,C){var O=[],H=S(v,C,!1);if(oe(H))return O;for(var ee=H.keys(),Z=Lt(ee),se=0;;){var de=Pr(Z);if(!de)return O.length=se,O;var ie=Bi(de);try{O[se]=ie}catch(Ie){try{Qt(Z)}finally{throw Ie}}se++}}function T(v){if(v===null)return 1;switch(typeof v){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return v===null?1:6;default:return 6}}function oe(v){return v===void 0}function re(v){return v===null}function Q(v){return typeof v=="symbol"}function xe(v){return typeof v=="object"?v!==null:typeof v=="function"}function nt(v,C){switch(T(v)){case 0:return v;case 1:return v;case 2:return v;case 3:return v;case 4:return v;case 5:return v}var O=C===3?"string":C===5?"number":"default",H=sr(v,i);if(H!==void 0){var ee=H.call(v,O);if(xe(ee))throw new TypeError;return ee}return pt(v,O==="default"?"number":O)}function pt(v,C){if(C==="string"){var O=v.toString;if(et(O)){var H=O.call(v);if(!xe(H))return H}var ee=v.valueOf;if(et(ee)){var H=ee.call(v);if(!xe(H))return H}}else{var ee=v.valueOf;if(et(ee)){var H=ee.call(v);if(!xe(H))return H}var Z=v.toString;if(et(Z)){var H=Z.call(v);if(!xe(H))return H}}throw new TypeError}function Xt(v){return!!v}function We(v){return""+v}function De(v){var C=nt(v,3);return Q(C)?C:We(C)}function St(v){return Array.isArray?Array.isArray(v):v instanceof Object?v instanceof Array:Object.prototype.toString.call(v)==="[object Array]"}function et(v){return typeof v=="function"}function gt(v){return typeof v=="function"}function fn(v){switch(T(v)){case 3:return!0;case 4:return!0;default:return!1}}function sr(v,C){var O=v[C];if(O!=null){if(!et(O))throw new TypeError;return O}}function Lt(v){var C=sr(v,a);if(!et(C))throw new TypeError;var O=C.call(v);if(!xe(O))throw new TypeError;return O}function Bi(v){return v.value}function Pr(v){var C=v.next();return C.done?!1:C}function Qt(v){var C=v.return;C&&C.call(v)}function jr(v){var C=Object.getPrototypeOf(v);if(typeof v!="function"||v===h||C!==h)return C;var O=v.prototype,H=O&&Object.getPrototypeOf(O);if(H==null||H===Object.prototype)return C;var ee=H.constructor;return typeof ee!="function"||ee===v?C:ee}function wr(){var v={},C=[],O=function(){function se(de,ie,Ie){this._index=0,this._keys=de,this._values=ie,this._selector=Ie}return se.prototype["@@iterator"]=function(){return this},se.prototype[a]=function(){return this},se.prototype.next=function(){var de=this._index;if(de>=0&&de<this._keys.length){var ie=this._selector(this._keys[de],this._values[de]);return de+1>=this._keys.length?(this._index=-1,this._keys=C,this._values=C):this._index++,{value:ie,done:!1}}return{value:void 0,done:!0}},se.prototype.throw=function(de){throw this._index>=0&&(this._index=-1,this._keys=C,this._values=C),de},se.prototype.return=function(de){return this._index>=0&&(this._index=-1,this._keys=C,this._values=C),{value:de,done:!0}},se}();return function(){function se(){this._keys=[],this._values=[],this._cacheKey=v,this._cacheIndex=-2}return Object.defineProperty(se.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),se.prototype.has=function(de){return this._find(de,!1)>=0},se.prototype.get=function(de){var ie=this._find(de,!1);return ie>=0?this._values[ie]:void 0},se.prototype.set=function(de,ie){var Ie=this._find(de,!0);return this._values[Ie]=ie,this},se.prototype.delete=function(de){var ie=this._find(de,!1);if(ie>=0){for(var Ie=this._keys.length,Ve=ie+1;Ve<Ie;Ve++)this._keys[Ve-1]=this._keys[Ve],this._values[Ve-1]=this._values[Ve];return this._keys.length--,this._values.length--,de===this._cacheKey&&(this._cacheKey=v,this._cacheIndex=-2),!0}return!1},se.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=v,this._cacheIndex=-2},se.prototype.keys=function(){return new O(this._keys,this._values,H)},se.prototype.values=function(){return new O(this._keys,this._values,ee)},se.prototype.entries=function(){return new O(this._keys,this._values,Z)},se.prototype["@@iterator"]=function(){return this.entries()},se.prototype[a]=function(){return this.entries()},se.prototype._find=function(de,ie){return this._cacheKey!==de&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=de)),this._cacheIndex<0&&ie&&(this._cacheIndex=this._keys.length,this._keys.push(de),this._values.push(void 0)),this._cacheIndex},se}();function H(se,de){return se}function ee(se,de){return de}function Z(se,de){return[se,de]}}function Er(){return function(){function v(){this._map=new _}return Object.defineProperty(v.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),v.prototype.has=function(C){return this._map.has(C)},v.prototype.add=function(C){return this._map.set(C,C),this},v.prototype.delete=function(C){return this._map.delete(C)},v.prototype.clear=function(){this._map.clear()},v.prototype.keys=function(){return this._map.keys()},v.prototype.values=function(){return this._map.values()},v.prototype.entries=function(){return this._map.entries()},v.prototype["@@iterator"]=function(){return this.keys()},v.prototype[a]=function(){return this.keys()},v}()}function _t(){var v=16,C=d.create(),O=H();return function(){function ie(){this._key=H()}return ie.prototype.has=function(Ie){var Ve=ee(Ie,!1);return Ve!==void 0?d.has(Ve,this._key):!1},ie.prototype.get=function(Ie){var Ve=ee(Ie,!1);return Ve!==void 0?d.get(Ve,this._key):void 0},ie.prototype.set=function(Ie,Ve){var je=ee(Ie,!0);return je[this._key]=Ve,this},ie.prototype.delete=function(Ie){var Ve=ee(Ie,!1);return Ve!==void 0?delete Ve[this._key]:!1},ie.prototype.clear=function(){this._key=H()},ie}();function H(){var ie;do ie="@@WeakMap@@"+de();while(d.has(C,ie));return C[ie]=!0,ie}function ee(ie,Ie){if(!r.call(ie,O)){if(!Ie)return;Object.defineProperty(ie,O,{value:d.create()})}return ie[O]}function Z(ie,Ie){for(var Ve=0;Ve<Ie;++Ve)ie[Ve]=Math.random()*255|0;return ie}function se(ie){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(ie)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(ie)):Z(new Uint8Array(ie),ie):Z(new Array(ie),ie)}function de(){var ie=se(v);ie[6]=ie[6]&79|64,ie[8]=ie[8]&191|128;for(var Ie="",Ve=0;Ve<v;++Ve){var je=ie[Ve];(Ve===4||Ve===6||Ve===8)&&(Ie+="-"),je<16&&(Ie+="0"),Ie+=je.toString(16).toLowerCase()}return Ie}}function Vt(v){return v.__=void 0,delete v.__,v}})})(YK||(YK={}))});var QK=g((XK,pg)=>{(function(t){"use strict";let e="(0?\\d+|0x[a-f0-9]+)",r={fourOctet:new RegExp(`^${e}\\.${e}\\.${e}\\.${e}$`,"i"),threeOctet:new RegExp(`^${e}\\.${e}\\.${e}$`,"i"),twoOctet:new RegExp(`^${e}\\.${e}$`,"i"),longValue:new RegExp(`^${e}$`,"i")},n=new RegExp("^0[0-7]+$","i"),i=new RegExp("^0x[a-f0-9]+$","i"),a="%[0-9a-z]{1,}",o="(?:[0-9a-f]+::?)+",u={zoneIndex:new RegExp(a,"i"),native:new RegExp(`^(::)?(${o})?([0-9a-f]+)?(::)?(${a})?$`,"i"),deprecatedTransitional:new RegExp(`^(?:::)(${e}\\.${e}\\.${e}\\.${e}(${a})?)$`,"i"),transitional:new RegExp(`^((?:${o})|(?:::)(?:${o})?)${e}\\.${e}\\.${e}\\.${e}(${a})?$`,"i")};function f(w,P){if(w.indexOf("::")!==w.lastIndexOf("::"))return null;let M=0,K=-1,Y=(w.match(u.zoneIndex)||[])[0],fe,_e;for(Y&&(Y=Y.substring(1),w=w.replace(/%.+$/,""));(K=w.indexOf(":",K+1))>=0;)M++;if(w.substr(0,2)==="::"&&M--,w.substr(-2,2)==="::"&&M--,M>P)return null;for(_e=P-M,fe=":";_e--;)fe+="0:";return w=w.replace("::",fe),w[0]===":"&&(w=w.slice(1)),w[w.length-1]===":"&&(w=w.slice(0,-1)),P=function(){let Je=w.split(":"),Ze=[];for(let Ue=0;Ue<Je.length;Ue++)Ze.push(parseInt(Je[Ue],16));return Ze}(),{parts:P,zoneId:Y}}function d(w,P,M,K){if(w.length!==P.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");let Y=0,fe;for(;K>0;){if(fe=M-K,fe<0&&(fe=0),w[Y]>>fe!==P[Y]>>fe)return!1;K-=M,Y+=1}return!0}function h(w){if(i.test(w))return parseInt(w,16);if(w[0]==="0"&&!isNaN(parseInt(w[1],10))){if(n.test(w))return parseInt(w,8);throw new Error(`ipaddr: cannot parse ${w} as octal`)}return parseInt(w,10)}function m(w,P){for(;w.length<P;)w=`0${w}`;return w}let _={};_.IPv4=function(){function w(P){if(P.length!==4)throw new Error("ipaddr: ipv4 octet count should be 4");let M,K;for(M=0;M<P.length;M++)if(K=P[M],!(0<=K&&K<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=P}return w.prototype.SpecialRanges={unspecified:[[new w([0,0,0,0]),8]],broadcast:[[new w([255,255,255,255]),32]],multicast:[[new w([224,0,0,0]),4]],linkLocal:[[new w([169,254,0,0]),16]],loopback:[[new w([127,0,0,0]),8]],carrierGradeNat:[[new w([100,64,0,0]),10]],private:[[new w([10,0,0,0]),8],[new w([172,16,0,0]),12],[new w([192,168,0,0]),16]],reserved:[[new w([192,0,0,0]),24],[new w([192,0,2,0]),24],[new w([192,88,99,0]),24],[new w([198,51,100,0]),24],[new w([203,0,113,0]),24],[new w([240,0,0,0]),4]]},w.prototype.kind=function(){return"ipv4"},w.prototype.match=function(P,M){let K;if(M===void 0&&(K=P,P=K[0],M=K[1]),P.kind()!=="ipv4")throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return d(this.octets,P.octets,8,M)},w.prototype.prefixLengthFromSubnetMask=function(){let P=0,M=!1,K={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0},Y,fe,_e;for(Y=3;Y>=0;Y-=1)if(fe=this.octets[Y],fe in K){if(_e=K[fe],M&&_e!==0)return null;_e!==8&&(M=!0),P+=_e}else return null;return 32-P},w.prototype.range=function(){return _.subnetMatch(this,this.SpecialRanges)},w.prototype.toByteArray=function(){return this.octets.slice(0)},w.prototype.toIPv4MappedAddress=function(){return _.IPv6.parse(`::ffff:${this.toString()}`)},w.prototype.toNormalizedString=function(){return this.toString()},w.prototype.toString=function(){return this.octets.join(".")},w}(),_.IPv4.broadcastAddressFromCIDR=function(w){try{let P=this.parseCIDR(w),M=P[0].toByteArray(),K=this.subnetMaskFromPrefixLength(P[1]).toByteArray(),Y=[],fe=0;for(;fe<4;)Y.push(parseInt(M[fe],10)|parseInt(K[fe],10)^255),fe++;return new this(Y)}catch{throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},_.IPv4.isIPv4=function(w){return this.parser(w)!==null},_.IPv4.isValid=function(w){try{return new this(this.parser(w)),!0}catch{return!1}},_.IPv4.isValidFourPartDecimal=function(w){return!!(_.IPv4.isValid(w)&&w.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},_.IPv4.networkAddressFromCIDR=function(w){let P,M,K,Y,fe;try{for(P=this.parseCIDR(w),K=P[0].toByteArray(),fe=this.subnetMaskFromPrefixLength(P[1]).toByteArray(),Y=[],M=0;M<4;)Y.push(parseInt(K[M],10)&parseInt(fe[M],10)),M++;return new this(Y)}catch{throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},_.IPv4.parse=function(w){let P=this.parser(w);if(P===null)throw new Error("ipaddr: string is not formatted like an IPv4 Address");return new this(P)},_.IPv4.parseCIDR=function(w){let P;if(P=w.match(/^(.+)\/(\d+)$/)){let M=parseInt(P[2]);if(M>=0&&M<=32){let K=[this.parse(P[1]),M];return Object.defineProperty(K,"toString",{value:function(){return this.join("/")}}),K}}throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},_.IPv4.parser=function(w){let P,M,K;if(P=w.match(r.fourOctet))return function(){let Y=P.slice(1,6),fe=[];for(let _e=0;_e<Y.length;_e++)M=Y[_e],fe.push(h(M));return fe}();if(P=w.match(r.longValue)){if(K=h(P[1]),K>4294967295||K<0)throw new Error("ipaddr: address outside defined range");return function(){let Y=[],fe;for(fe=0;fe<=24;fe+=8)Y.push(K>>fe&255);return Y}().reverse()}else return(P=w.match(r.twoOctet))?function(){let Y=P.slice(1,4),fe=[];if(K=h(Y[1]),K>16777215||K<0)throw new Error("ipaddr: address outside defined range");return fe.push(h(Y[0])),fe.push(K>>16&255),fe.push(K>>8&255),fe.push(K&255),fe}():(P=w.match(r.threeOctet))?function(){let Y=P.slice(1,5),fe=[];if(K=h(Y[2]),K>65535||K<0)throw new Error("ipaddr: address outside defined range");return fe.push(h(Y[0])),fe.push(h(Y[1])),fe.push(K>>8&255),fe.push(K&255),fe}():null},_.IPv4.subnetMaskFromPrefixLength=function(w){if(w=parseInt(w),w<0||w>32)throw new Error("ipaddr: invalid IPv4 prefix length");let P=[0,0,0,0],M=0,K=Math.floor(w/8);for(;M<K;)P[M]=255,M++;return K<4&&(P[K]=Math.pow(2,w%8)-1<<8-w%8),new this(P)},_.IPv6=function(){function w(P,M){let K,Y;if(P.length===16)for(this.parts=[],K=0;K<=14;K+=2)this.parts.push(P[K]<<8|P[K+1]);else if(P.length===8)this.parts=P;else throw new Error("ipaddr: ipv6 part count should be 8 or 16");for(K=0;K<this.parts.length;K++)if(Y=this.parts[K],!(0<=Y&&Y<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");M&&(this.zoneId=M)}return w.prototype.SpecialRanges={unspecified:[new w([0,0,0,0,0,0,0,0]),128],linkLocal:[new w([65152,0,0,0,0,0,0,0]),10],multicast:[new w([65280,0,0,0,0,0,0,0]),8],loopback:[new w([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new w([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new w([0,0,0,0,0,65535,0,0]),96],rfc6145:[new w([0,0,0,0,65535,0,0,0]),96],rfc6052:[new w([100,65435,0,0,0,0,0,0]),96],"6to4":[new w([8194,0,0,0,0,0,0,0]),16],teredo:[new w([8193,0,0,0,0,0,0,0]),32],reserved:[[new w([8193,3512,0,0,0,0,0,0]),32]]},w.prototype.isIPv4MappedAddress=function(){return this.range()==="ipv4Mapped"},w.prototype.kind=function(){return"ipv6"},w.prototype.match=function(P,M){let K;if(M===void 0&&(K=P,P=K[0],M=K[1]),P.kind()!=="ipv6")throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return d(this.parts,P.parts,16,M)},w.prototype.prefixLengthFromSubnetMask=function(){let P=0,M=!1,K={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0},Y,fe;for(let _e=7;_e>=0;_e-=1)if(Y=this.parts[_e],Y in K){if(fe=K[Y],M&&fe!==0)return null;fe!==16&&(M=!0),P+=fe}else return null;return 128-P},w.prototype.range=function(){return _.subnetMatch(this,this.SpecialRanges)},w.prototype.toByteArray=function(){let P,M=[],K=this.parts;for(let Y=0;Y<K.length;Y++)P=K[Y],M.push(P>>8),M.push(P&255);return M},w.prototype.toFixedLengthString=function(){let P=function(){let K=[];for(let Y=0;Y<this.parts.length;Y++)K.push(m(this.parts[Y].toString(16),4));return K}.call(this).join(":"),M="";return this.zoneId&&(M=`%${this.zoneId}`),P+M},w.prototype.toIPv4Address=function(){if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");let P=this.parts.slice(-2),M=P[0],K=P[1];return new _.IPv4([M>>8,M&255,K>>8,K&255])},w.prototype.toNormalizedString=function(){let P=function(){let K=[];for(let Y=0;Y<this.parts.length;Y++)K.push(this.parts[Y].toString(16));return K}.call(this).join(":"),M="";return this.zoneId&&(M=`%${this.zoneId}`),P+M},w.prototype.toRFC5952String=function(){let P=/((^|:)(0(:|$)){2,})/g,M=this.toNormalizedString(),K=0,Y=-1,fe;for(;fe=P.exec(M);)fe[0].length>Y&&(K=fe.index,Y=fe[0].length);return Y<0?M:`${M.substring(0,K)}::${M.substring(K+Y)}`},w.prototype.toString=function(){return this.toNormalizedString().replace(/((^|:)(0(:|$))+)/,"::")},w}(),_.IPv6.broadcastAddressFromCIDR=function(w){try{let P=this.parseCIDR(w),M=P[0].toByteArray(),K=this.subnetMaskFromPrefixLength(P[1]).toByteArray(),Y=[],fe=0;for(;fe<16;)Y.push(parseInt(M[fe],10)|parseInt(K[fe],10)^255),fe++;return new this(Y)}catch(P){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${P})`)}},_.IPv6.isIPv6=function(w){return this.parser(w)!==null},_.IPv6.isValid=function(w){if(typeof w=="string"&&w.indexOf(":")===-1)return!1;try{let P=this.parser(w);return new this(P.parts,P.zoneId),!0}catch{return!1}},_.IPv6.networkAddressFromCIDR=function(w){let P,M,K,Y,fe;try{for(P=this.parseCIDR(w),K=P[0].toByteArray(),fe=this.subnetMaskFromPrefixLength(P[1]).toByteArray(),Y=[],M=0;M<16;)Y.push(parseInt(K[M],10)&parseInt(fe[M],10)),M++;return new this(Y)}catch(_e){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${_e})`)}},_.IPv6.parse=function(w){let P=this.parser(w);if(P.parts===null)throw new Error("ipaddr: string is not formatted like an IPv6 Address");return new this(P.parts,P.zoneId)},_.IPv6.parseCIDR=function(w){let P,M,K;if((M=w.match(/^(.+)\/(\d+)$/))&&(P=parseInt(M[2]),P>=0&&P<=128))return K=[this.parse(M[1]),P],Object.defineProperty(K,"toString",{value:function(){return this.join("/")}}),K;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},_.IPv6.parser=function(w){let P,M,K,Y,fe,_e;if(K=w.match(u.deprecatedTransitional))return this.parser(`::ffff:${K[1]}`);if(u.native.test(w))return f(w,8);if((K=w.match(u.transitional))&&(_e=K[6]||"",P=f(K[1].slice(0,-1)+_e,6),P.parts)){for(fe=[parseInt(K[2]),parseInt(K[3]),parseInt(K[4]),parseInt(K[5])],M=0;M<fe.length;M++)if(Y=fe[M],!(0<=Y&&Y<=255))return null;return P.parts.push(fe[0]<<8|fe[1]),P.parts.push(fe[2]<<8|fe[3]),{parts:P.parts,zoneId:P.zoneId}}return null},_.IPv6.subnetMaskFromPrefixLength=function(w){if(w=parseInt(w),w<0||w>128)throw new Error("ipaddr: invalid IPv6 prefix length");let P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],M=0,K=Math.floor(w/8);for(;M<K;)P[M]=255,M++;return K<16&&(P[K]=Math.pow(2,w%8)-1<<8-w%8),new this(P)},_.fromByteArray=function(w){let P=w.length;if(P===4)return new _.IPv4(w);if(P===16)return new _.IPv6(w);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},_.isValid=function(w){return _.IPv6.isValid(w)||_.IPv4.isValid(w)},_.parse=function(w){if(_.IPv6.isValid(w))return _.IPv6.parse(w);if(_.IPv4.isValid(w))return _.IPv4.parse(w);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},_.parseCIDR=function(w){try{return _.IPv6.parseCIDR(w)}catch{try{return _.IPv4.parseCIDR(w)}catch{throw new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},_.process=function(w){let P=this.parse(w);return P.kind()==="ipv6"&&P.isIPv4MappedAddress()?P.toIPv4Address():P},_.subnetMatch=function(w,P,M){let K,Y,fe,_e;M==null&&(M="unicast");for(Y in P)if(Object.prototype.hasOwnProperty.call(P,Y)){for(fe=P[Y],fe[0]&&!(fe[0]instanceof Array)&&(fe=[fe]),K=0;K<fe.length;K++)if(_e=fe[K],w.kind()===_e[0].kind()&&w.match.apply(w,_e))return Y}return M},typeof pg<"u"&&pg.exports?pg.exports=_:t.ipaddr=_})(XK)});var tF=g(mg=>{"use strict";Object.defineProperty(mg,"__esModule",{value:!0});mg.IpConverter=void 0;var ZK=QK(),sve=bu(),eF=class{static decodeIP(e){if(e.length===64&&parseInt(e,16)===0)return"::/0";if(e.length!==16)return e;let r=parseInt(e.slice(8),16).toString(2).split("").reduce((i,a)=>i+ +a,0),n=e.slice(0,8).replace(/(.{2})/g,i=>`${parseInt(i,16)}.`);return n=n.slice(0,-1),`${n}/${r}`}static toString(e){if(e.byteLength===4||e.byteLength===16){let r=new Uint8Array(e);return ZK.fromByteArray(Array.from(r)).toString()}return this.decodeIP(sve.Convert.ToHex(e))}static fromString(e){let r=ZK.parse(e);return new Uint8Array(r.toByteArray()).buffer}};mg.IpConverter=eF});var h0=g(Xi=>{"use strict";var yE,bE,vE;Object.defineProperty(Xi,"__esModule",{value:!0});Xi.Name=Xi.RDNSequence=Xi.RelativeDistinguishedName=Xi.AttributeTypeAndValue=Xi.AttributeValue=Xi.DirectoryString=void 0;var Qi=ke(),Hr=Le(),ove=bu(),Su=class{constructor(e={}){Object.assign(this,e)}toString(){return this.bmpString||this.printableString||this.teletexString||this.universalString||this.utf8String||""}};Qi.__decorate([Hr.AsnProp({type:Hr.AsnPropTypes.TeletexString})],Su.prototype,"teletexString",void 0);Qi.__decorate([Hr.AsnProp({type:Hr.AsnPropTypes.PrintableString})],Su.prototype,"printableString",void 0);Qi.__decorate([Hr.AsnProp({type:Hr.AsnPropTypes.UniversalString})],Su.prototype,"universalString",void 0);Qi.__decorate([Hr.AsnProp({type:Hr.AsnPropTypes.Utf8String})],Su.prototype,"utf8String",void 0);Qi.__decorate([Hr.AsnProp({type:Hr.AsnPropTypes.BmpString})],Su.prototype,"bmpString",void 0);Su=Qi.__decorate([Hr.AsnType({type:Hr.AsnTypeTypes.Choice})],Su);Xi.DirectoryString=Su;var ld=class extends Su{constructor(e={}){super(e);Object.assign(this,e)}toString(){return this.ia5String||(this.anyValue?ove.Convert.ToHex(this.anyValue):super.toString())}};Qi.__decorate([Hr.AsnProp({type:Hr.AsnPropTypes.IA5String})],ld.prototype,"ia5String",void 0);Qi.__decorate([Hr.AsnProp({type:Hr.AsnPropTypes.Any})],ld.prototype,"anyValue",void 0);ld=Qi.__decorate([Hr.AsnType({type:Hr.AsnTypeTypes.Choice})],ld);Xi.AttributeValue=ld;var Ym=class{constructor(e={}){this.type="",this.value=new ld,Object.assign(this,e)}};Qi.__decorate([Hr.AsnProp({type:Hr.AsnPropTypes.ObjectIdentifier})],Ym.prototype,"type",void 0);Qi.__decorate([Hr.AsnProp({type:ld})],Ym.prototype,"value",void 0);Xi.AttributeTypeAndValue=Ym;var xg=yE=class extends Hr.AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,yE.prototype)}};xg=yE=Qi.__decorate([Hr.AsnType({type:Hr.AsnTypeTypes.Set,itemType:Ym})],xg);Xi.RelativeDistinguishedName=xg;var yg=bE=class extends Hr.AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,bE.prototype)}};yg=bE=Qi.__decorate([Hr.AsnType({type:Hr.AsnTypeTypes.Sequence,itemType:xg})],yg);Xi.RDNSequence=yg;var gE=vE=class extends yg{constructor(e){super(e);Object.setPrototypeOf(this,vE.prototype)}};gE=vE=Qi.__decorate([Hr.AsnType({type:Hr.AsnTypeTypes.Sequence})],gE);Xi.Name=gE});var hd=g(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});Bs.GeneralName=Bs.EDIPartyName=Bs.OtherName=Bs.AsnIpConverter=void 0;var Zi=ke(),cn=Le(),rF=tF(),_E=h0();Bs.AsnIpConverter={fromASN:t=>rF.IpConverter.toString(cn.AsnOctetStringConverter.fromASN(t)),toASN:t=>cn.AsnOctetStringConverter.toASN(rF.IpConverter.fromString(t))};var Jm=class{constructor(e={}){this.typeId="",this.value=new ArrayBuffer(0),Object.assign(this,e)}};Zi.__decorate([cn.AsnProp({type:cn.AsnPropTypes.ObjectIdentifier})],Jm.prototype,"typeId",void 0);Zi.__decorate([cn.AsnProp({type:cn.AsnPropTypes.Any,context:0})],Jm.prototype,"value",void 0);Bs.OtherName=Jm;var Xm=class{constructor(e={}){this.partyName=new ArrayBuffer(0),Object.assign(this,e)}};Zi.__decorate([cn.AsnProp({type:_E.DirectoryString,optional:!0,context:0,implicit:!0})],Xm.prototype,"nameAssigner",void 0);Zi.__decorate([cn.AsnProp({type:_E.DirectoryString,context:1,implicit:!0})],Xm.prototype,"partyName",void 0);Bs.EDIPartyName=Xm;var Xa=class{constructor(e={}){Object.assign(this,e)}};Zi.__decorate([cn.AsnProp({type:Jm,context:0,implicit:!0})],Xa.prototype,"otherName",void 0);Zi.__decorate([cn.AsnProp({type:cn.AsnPropTypes.IA5String,context:1,implicit:!0})],Xa.prototype,"rfc822Name",void 0);Zi.__decorate([cn.AsnProp({type:cn.AsnPropTypes.IA5String,context:2,implicit:!0})],Xa.prototype,"dNSName",void 0);Zi.__decorate([cn.AsnProp({type:cn.AsnPropTypes.Any,context:3,implicit:!0})],Xa.prototype,"x400Address",void 0);Zi.__decorate([cn.AsnProp({type:_E.Name,context:4,implicit:!1})],Xa.prototype,"directoryName",void 0);Zi.__decorate([cn.AsnProp({type:Xm,context:5})],Xa.prototype,"ediPartyName",void 0);Zi.__decorate([cn.AsnProp({type:cn.AsnPropTypes.IA5String,context:6,implicit:!0})],Xa.prototype,"uniformResourceIdentifier",void 0);Zi.__decorate([cn.AsnProp({type:cn.AsnPropTypes.OctetString,context:7,implicit:!0,converter:Bs.AsnIpConverter})],Xa.prototype,"iPAddress",void 0);Zi.__decorate([cn.AsnProp({type:cn.AsnPropTypes.ObjectIdentifier,context:8,implicit:!0})],Xa.prototype,"registeredID",void 0);Xa=Zi.__decorate([cn.AsnType({type:cn.AsnTypeTypes.Choice})],Xa);Bs.GeneralName=Xa});var On=g(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});vr.id_ce=vr.id_ad_caRepository=vr.id_ad_timeStamping=vr.id_ad_caIssuers=vr.id_ad_ocsp=vr.id_qt_unotice=vr.id_qt_csp=vr.id_ad=vr.id_kp=vr.id_qt=vr.id_pe=vr.id_pkix=void 0;vr.id_pkix="1.3.6.1.5.5.7";vr.id_pe=`${vr.id_pkix}.1`;vr.id_qt=`${vr.id_pkix}.2`;vr.id_kp=`${vr.id_pkix}.3`;vr.id_ad=`${vr.id_pkix}.48`;vr.id_qt_csp=`${vr.id_qt}.1`;vr.id_qt_unotice=`${vr.id_qt}.2`;vr.id_ad_ocsp=`${vr.id_ad}.1`;vr.id_ad_caIssuers=`${vr.id_ad}.2`;vr.id_ad_timeStamping=`${vr.id_ad}.3`;vr.id_ad_caRepository=`${vr.id_ad}.5`;vr.id_ce="2.5.29"});var iF=g(Hc=>{"use strict";var wE;Object.defineProperty(Hc,"__esModule",{value:!0});Hc.AuthorityInfoAccessSyntax=Hc.AccessDescription=Hc.id_pe_authorityInfoAccess=void 0;var AE=ke(),p0=Le(),nF=hd(),uve=On();Hc.id_pe_authorityInfoAccess=`${uve.id_pe}.1`;var Qm=class{constructor(e={}){this.accessMethod="",this.accessLocation=new nF.GeneralName,Object.assign(this,e)}};AE.__decorate([p0.AsnProp({type:p0.AsnPropTypes.ObjectIdentifier})],Qm.prototype,"accessMethod",void 0);AE.__decorate([p0.AsnProp({type:nF.GeneralName})],Qm.prototype,"accessLocation",void 0);Hc.AccessDescription=Qm;var SE=wE=class extends p0.AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,wE.prototype)}};SE=wE=AE.__decorate([p0.AsnType({type:p0.AsnTypeTypes.Sequence,itemType:Qm})],SE);Hc.AuthorityInfoAccessSyntax=SE});var PE=g(Kc=>{"use strict";Object.defineProperty(Kc,"__esModule",{value:!0});Kc.AuthorityKeyIdentifier=Kc.KeyIdentifier=Kc.id_ce_authorityKeyIdentifier=void 0;var CE=ke(),m0=Le(),cve=hd(),fve=On();Kc.id_ce_authorityKeyIdentifier=`${fve.id_ce}.35`;var EE=class extends m0.OctetString{};Kc.KeyIdentifier=EE;var Zm=class{constructor(e={}){e&&Object.assign(this,e)}};CE.__decorate([m0.AsnProp({type:EE,context:0,optional:!0,implicit:!0})],Zm.prototype,"keyIdentifier",void 0);CE.__decorate([m0.AsnProp({type:cve.GeneralName,context:1,optional:!0,implicit:!0,repeated:"sequence"})],Zm.prototype,"authorityCertIssuer",void 0);CE.__decorate([m0.AsnProp({type:m0.AsnPropTypes.Integer,context:2,optional:!0,implicit:!0,converter:m0.AsnIntegerArrayBufferConverter})],Zm.prototype,"authorityCertSerialNumber",void 0);Kc.AuthorityKeyIdentifier=Zm});var sF=g(x0=>{"use strict";Object.defineProperty(x0,"__esModule",{value:!0});x0.BasicConstraints=x0.id_ce_basicConstraints=void 0;var aF=ke(),bg=Le(),dve=On();x0.id_ce_basicConstraints=`${dve.id_ce}.19`;var vg=class{constructor(e={}){this.cA=!1,Object.assign(this,e)}};aF.__decorate([bg.AsnProp({type:bg.AsnPropTypes.Boolean,defaultValue:!1})],vg.prototype,"cA",void 0);aF.__decorate([bg.AsnProp({type:bg.AsnPropTypes.Integer,optional:!0})],vg.prototype,"pathLenConstraint",void 0);x0.BasicConstraints=vg});var e1=g(gg=>{"use strict";var TE;Object.defineProperty(gg,"__esModule",{value:!0});gg.GeneralNames=void 0;var lve=ke(),oF=Le(),hve=hd(),pve=Le(),IE=TE=class extends pve.AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,TE.prototype)}};IE=TE=lve.__decorate([oF.AsnType({type:oF.AsnTypeTypes.Sequence,itemType:hve.GeneralName})],IE);gg.GeneralNames=IE});var cF=g(y0=>{"use strict";var kE;Object.defineProperty(y0,"__esModule",{value:!0});y0.CertificateIssuer=y0.id_ce_certificateIssuer=void 0;var mve=ke(),uF=Le(),xve=e1(),yve=On();y0.id_ce_certificateIssuer=`${yve.id_ce}.29`;var BE=kE=class extends xve.GeneralNames{constructor(e){super(e);Object.setPrototypeOf(this,kE.prototype)}};BE=kE=mve.__decorate([uF.AsnType({type:uF.AsnTypeTypes.Sequence})],BE);y0.CertificateIssuer=BE});var fF=g(qn=>{"use strict";var RE;Object.defineProperty(qn,"__esModule",{value:!0});qn.CertificatePolicies=qn.PolicyInformation=qn.PolicyQualifierInfo=qn.Qualifier=qn.UserNotice=qn.NoticeReference=qn.DisplayText=qn.id_ce_certificatePolicies_anyPolicy=qn.id_ce_certificatePolicies=void 0;var xi=ke(),Lr=Le(),bve=On();qn.id_ce_certificatePolicies=`${bve.id_ce}.32`;qn.id_ce_certificatePolicies_anyPolicy=`${qn.id_ce_certificatePolicies}.0`;var wo=class{constructor(e={}){Object.assign(this,e)}toString(){return this.ia5String||this.visibleString||this.bmpString||this.utf8String}};xi.__decorate([Lr.AsnProp({type:Lr.AsnPropTypes.IA5String})],wo.prototype,"ia5String",void 0);xi.__decorate([Lr.AsnProp({type:Lr.AsnPropTypes.VisibleString})],wo.prototype,"visibleString",void 0);xi.__decorate([Lr.AsnProp({type:Lr.AsnPropTypes.BmpString})],wo.prototype,"bmpString",void 0);xi.__decorate([Lr.AsnProp({type:Lr.AsnPropTypes.Utf8String})],wo.prototype,"utf8String",void 0);wo=xi.__decorate([Lr.AsnType({type:Lr.AsnTypeTypes.Choice})],wo);qn.DisplayText=wo;var r1=class{constructor(e={}){this.organization=new wo,this.noticeNumbers=[],Object.assign(this,e)}};xi.__decorate([Lr.AsnProp({type:wo})],r1.prototype,"organization",void 0);xi.__decorate([Lr.AsnProp({type:Lr.AsnPropTypes.Integer,repeated:"sequence"})],r1.prototype,"noticeNumbers",void 0);qn.NoticeReference=r1;var n1=class{constructor(e={}){Object.assign(this,e)}};xi.__decorate([Lr.AsnProp({type:r1,optional:!0})],n1.prototype,"noticeRef",void 0);xi.__decorate([Lr.AsnProp({type:wo,optional:!0})],n1.prototype,"explicitText",void 0);qn.UserNotice=n1;var t1=class{constructor(e={}){Object.assign(this,e)}};xi.__decorate([Lr.AsnProp({type:Lr.AsnPropTypes.IA5String})],t1.prototype,"cPSuri",void 0);xi.__decorate([Lr.AsnProp({type:n1})],t1.prototype,"userNotice",void 0);t1=xi.__decorate([Lr.AsnType({type:Lr.AsnTypeTypes.Choice})],t1);qn.Qualifier=t1;var i1=class{constructor(e={}){this.policyQualifierId="",this.qualifier=new ArrayBuffer(0),Object.assign(this,e)}};xi.__decorate([Lr.AsnProp({type:Lr.AsnPropTypes.ObjectIdentifier})],i1.prototype,"policyQualifierId",void 0);xi.__decorate([Lr.AsnProp({type:Lr.AsnPropTypes.Any})],i1.prototype,"qualifier",void 0);qn.PolicyQualifierInfo=i1;var a1=class{constructor(e={}){this.policyIdentifier="",Object.assign(this,e)}};xi.__decorate([Lr.AsnProp({type:Lr.AsnPropTypes.ObjectIdentifier})],a1.prototype,"policyIdentifier",void 0);xi.__decorate([Lr.AsnProp({type:i1,repeated:"sequence",optional:!0})],a1.prototype,"policyQualifiers",void 0);qn.PolicyInformation=a1;var ME=RE=class extends Lr.AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,RE.prototype)}};ME=RE=xi.__decorate([Lr.AsnType({type:Lr.AsnTypeTypes.Sequence,itemType:a1})],ME);qn.CertificatePolicies=ME});var lF=g(Ui=>{"use strict";var OE;Object.defineProperty(Ui,"__esModule",{value:!0});Ui.CRLDistributionPoints=Ui.DistributionPoint=Ui.DistributionPointName=Ui.Reason=Ui.ReasonFlags=Ui.id_ce_cRLDistributionPoints=void 0;var pd=ke(),Rs=Le(),vve=h0(),dF=hd(),gve=On();Ui.id_ce_cRLDistributionPoints=`${gve.id_ce}.31`;var So;(function(t){t[t.unused=1]="unused",t[t.keyCompromise=2]="keyCompromise",t[t.cACompromise=4]="cACompromise",t[t.affiliationChanged=8]="affiliationChanged",t[t.superseded=16]="superseded",t[t.cessationOfOperation=32]="cessationOfOperation",t[t.certificateHold=64]="certificateHold",t[t.privilegeWithdrawn=128]="privilegeWithdrawn",t[t.aACompromise=256]="aACompromise"})(So=Ui.ReasonFlags||(Ui.ReasonFlags={}));var DE=class extends Rs.BitString{toJSON(){let e=[],r=this.toNumber();return r&So.aACompromise&&e.push("aACompromise"),r&So.affiliationChanged&&e.push("affiliationChanged"),r&So.cACompromise&&e.push("cACompromise"),r&So.certificateHold&&e.push("certificateHold"),r&So.cessationOfOperation&&e.push("cessationOfOperation"),r&So.keyCompromise&&e.push("keyCompromise"),r&So.privilegeWithdrawn&&e.push("privilegeWithdrawn"),r&So.superseded&&e.push("superseded"),r&So.unused&&e.push("unused"),e}toString(){return`[${this.toJSON().join(", ")}]`}};Ui.Reason=DE;var b0=class{constructor(e={}){Object.assign(this,e)}};pd.__decorate([Rs.AsnProp({type:dF.GeneralName,context:0,repeated:"sequence",implicit:!0})],b0.prototype,"fullName",void 0);pd.__decorate([Rs.AsnProp({type:vve.RelativeDistinguishedName,context:1,implicit:!0})],b0.prototype,"nameRelativeToCRLIssuer",void 0);b0=pd.__decorate([Rs.AsnType({type:Rs.AsnTypeTypes.Choice})],b0);Ui.DistributionPointName=b0;var v0=class{constructor(e={}){Object.assign(this,e)}};pd.__decorate([Rs.AsnProp({type:b0,context:0,optional:!0})],v0.prototype,"distributionPoint",void 0);pd.__decorate([Rs.AsnProp({type:DE,context:1,optional:!0,implicit:!0})],v0.prototype,"reasons",void 0);pd.__decorate([Rs.AsnProp({type:dF.GeneralName,context:2,optional:!0,repeated:"sequence",implicit:!0})],v0.prototype,"cRLIssuer",void 0);Ui.DistributionPoint=v0;var qE=OE=class extends Rs.AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,OE.prototype)}};qE=OE=pd.__decorate([Rs.AsnType({type:Rs.AsnTypeTypes.Sequence,itemType:v0})],qE);Ui.CRLDistributionPoints=qE});var pF=g(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});Au.CRLReason=Au.CRLReasons=Au.id_ce_cRLReasons=void 0;var hF=ke(),wg=Le(),_ve=On();Au.id_ce_cRLReasons=`${_ve.id_ce}.21`;var _g;(function(t){t[t.unspecified=0]="unspecified",t[t.keyCompromise=1]="keyCompromise",t[t.cACompromise=2]="cACompromise",t[t.affiliationChanged=3]="affiliationChanged",t[t.superseded=4]="superseded",t[t.cessationOfOperation=5]="cessationOfOperation",t[t.certificateHold=6]="certificateHold",t[t.removeFromCRL=8]="removeFromCRL",t[t.privilegeWithdrawn=9]="privilegeWithdrawn",t[t.aACompromise=10]="aACompromise"})(_g=Au.CRLReasons||(Au.CRLReasons={}));var Sg=class{constructor(e=_g.unspecified){this.reason=_g.unspecified,this.reason=e}toJSON(){return _g[this.reason]}toString(){return this.toJSON()}};hF.__decorate([wg.AsnProp({type:wg.AsnPropTypes.Enumerated})],Sg.prototype,"reason",void 0);Sg=hF.__decorate([wg.AsnType({type:wg.AsnTypeTypes.Choice})],Sg);Au.CRLReason=Sg});var mF=g(Dn=>{"use strict";var NE;Object.defineProperty(Dn,"__esModule",{value:!0});Dn.id_kp_OCSPSigning=Dn.id_kp_timeStamping=Dn.id_kp_emailProtection=Dn.id_kp_codeSigning=Dn.id_kp_clientAuth=Dn.id_kp_serverAuth=Dn.anyExtendedKeyUsage=Dn.ExtendedKeyUsage=Dn.id_ce_extKeyUsage=void 0;var wve=ke(),Ag=Le(),md=On();Dn.id_ce_extKeyUsage=`${md.id_ce}.37`;var LE=NE=class extends Ag.AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,NE.prototype)}};LE=NE=wve.__decorate([Ag.AsnType({type:Ag.AsnTypeTypes.Sequence,itemType:Ag.AsnPropTypes.ObjectIdentifier})],LE);Dn.ExtendedKeyUsage=LE;Dn.anyExtendedKeyUsage=`${Dn.id_ce_extKeyUsage}.0`;Dn.id_kp_serverAuth=`${md.id_kp}.1`;Dn.id_kp_clientAuth=`${md.id_kp}.2`;Dn.id_kp_codeSigning=`${md.id_kp}.3`;Dn.id_kp_emailProtection=`${md.id_kp}.4`;Dn.id_kp_timeStamping=`${md.id_kp}.8`;Dn.id_kp_OCSPSigning=`${md.id_kp}.9`});var yF=g(g0=>{"use strict";Object.defineProperty(g0,"__esModule",{value:!0});g0.InhibitAnyPolicy=g0.id_ce_inhibitAnyPolicy=void 0;var xF=ke(),s1=Le(),Sve=On();g0.id_ce_inhibitAnyPolicy=`${Sve.id_ce}.54`;var Cg=class{constructor(e=new ArrayBuffer(0)){this.value=e}};xF.__decorate([s1.AsnProp({type:s1.AsnPropTypes.Integer,converter:s1.AsnIntegerArrayBufferConverter})],Cg.prototype,"value",void 0);Cg=xF.__decorate([s1.AsnType({type:s1.AsnTypeTypes.Choice})],Cg);g0.InhibitAnyPolicy=Cg});var vF=g(_0=>{"use strict";Object.defineProperty(_0,"__esModule",{value:!0});_0.InvalidityDate=_0.id_ce_invalidityDate=void 0;var bF=ke(),Eg=Le(),Ave=On();_0.id_ce_invalidityDate=`${Ave.id_ce}.24`;var Pg=class{constructor(e){this.value=new Date,e&&(this.value=e)}};bF.__decorate([Eg.AsnProp({type:Eg.AsnPropTypes.GeneralizedTime})],Pg.prototype,"value",void 0);Pg=bF.__decorate([Eg.AsnType({type:Eg.AsnTypeTypes.Choice})],Pg);_0.InvalidityDate=Pg});var _F=g(w0=>{"use strict";var UE;Object.defineProperty(w0,"__esModule",{value:!0});w0.IssueAlternativeName=w0.id_ce_issuerAltName=void 0;var Cve=ke(),gF=Le(),Eve=e1(),Pve=On();w0.id_ce_issuerAltName=`${Pve.id_ce}.18`;var HE=UE=class extends Eve.GeneralNames{constructor(e){super(e);Object.setPrototypeOf(this,UE.prototype)}};HE=UE=Cve.__decorate([gF.AsnType({type:gF.AsnTypeTypes.Sequence})],HE);w0.IssueAlternativeName=HE});var SF=g(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});Cu.KeyUsage=Cu.KeyUsageFlags=Cu.id_ce_keyUsage=void 0;var Tve=Le(),Ive=On();Cu.id_ce_keyUsage=`${Ive.id_ce}.15`;var Ao;(function(t){t[t.digitalSignature=1]="digitalSignature",t[t.nonRepudiation=2]="nonRepudiation",t[t.keyEncipherment=4]="keyEncipherment",t[t.dataEncipherment=8]="dataEncipherment",t[t.keyAgreement=16]="keyAgreement",t[t.keyCertSign=32]="keyCertSign",t[t.cRLSign=64]="cRLSign",t[t.encipherOnly=128]="encipherOnly",t[t.decipherOnly=256]="decipherOnly"})(Ao=Cu.KeyUsageFlags||(Cu.KeyUsageFlags={}));var wF=class extends Tve.BitString{toJSON(){let e=this.toNumber(),r=[];return e&Ao.cRLSign&&r.push("crlSign"),e&Ao.dataEncipherment&&r.push("dataEncipherment"),e&Ao.decipherOnly&&r.push("decipherOnly"),e&Ao.digitalSignature&&r.push("digitalSignature"),e&Ao.encipherOnly&&r.push("encipherOnly"),e&Ao.keyAgreement&&r.push("keyAgreement"),e&Ao.keyCertSign&&r.push("keyCertSign"),e&Ao.keyEncipherment&&r.push("keyEncipherment"),e&Ao.nonRepudiation&&r.push("nonRepudiation"),r}toString(){return`[${this.toJSON().join(", ")}]`}};Cu.KeyUsage=wF});var CF=g(Co=>{"use strict";var KE;Object.defineProperty(Co,"__esModule",{value:!0});Co.NameConstraints=Co.GeneralSubtrees=Co.GeneralSubtree=Co.id_ce_nameConstraints=void 0;var S0=ke(),Eo=Le(),AF=hd(),kve=On();Co.id_ce_nameConstraints=`${kve.id_ce}.30`;var A0=class{constructor(e={}){this.base=new AF.GeneralName,this.minimum=0,Object.assign(this,e)}};S0.__decorate([Eo.AsnProp({type:AF.GeneralName})],A0.prototype,"base",void 0);S0.__decorate([Eo.AsnProp({type:Eo.AsnPropTypes.Integer,context:0,defaultValue:0,implicit:!0})],A0.prototype,"minimum",void 0);S0.__decorate([Eo.AsnProp({type:Eo.AsnPropTypes.Integer,context:1,optional:!0,implicit:!0})],A0.prototype,"maximum",void 0);Co.GeneralSubtree=A0;var o1=KE=class extends Eo.AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,KE.prototype)}};o1=KE=S0.__decorate([Eo.AsnType({type:Eo.AsnTypeTypes.Sequence,itemType:A0})],o1);Co.GeneralSubtrees=o1;var Tg=class{constructor(e={}){Object.assign(this,e)}};S0.__decorate([Eo.AsnProp({type:o1,context:0,optional:!0,implicit:!0})],Tg.prototype,"permittedSubtrees",void 0);S0.__decorate([Eo.AsnProp({type:o1,context:1,optional:!0,implicit:!0})],Tg.prototype,"excludedSubtrees",void 0);Co.NameConstraints=Tg});var PF=g(E0=>{"use strict";Object.defineProperty(E0,"__esModule",{value:!0});E0.PolicyConstraints=E0.id_ce_policyConstraints=void 0;var EF=ke(),C0=Le(),Bve=On();E0.id_ce_policyConstraints=`${Bve.id_ce}.36`;var Ig=class{constructor(e={}){Object.assign(this,e)}};EF.__decorate([C0.AsnProp({type:C0.AsnPropTypes.Integer,context:0,implicit:!0,optional:!0,converter:C0.AsnIntegerArrayBufferConverter})],Ig.prototype,"requireExplicitPolicy",void 0);EF.__decorate([C0.AsnProp({type:C0.AsnPropTypes.Integer,context:1,implicit:!0,optional:!0,converter:C0.AsnIntegerArrayBufferConverter})],Ig.prototype,"inhibitPolicyMapping",void 0);E0.PolicyConstraints=Ig});var IF=g(P0=>{"use strict";Object.defineProperty(P0,"__esModule",{value:!0});P0.PolicyMappings=P0.id_ce_policyMappings=void 0;var TF=ke(),kg=Le(),Rve=On();P0.id_ce_policyMappings=`${Rve.id_ce}.33`;var Bg=class{constructor(e={}){this.issuerDomainPolicy="",this.subjectDomainPolicy="",Object.assign(this,e)}};TF.__decorate([kg.AsnProp({type:kg.AsnPropTypes.ObjectIdentifier})],Bg.prototype,"issuerDomainPolicy",void 0);TF.__decorate([kg.AsnProp({type:kg.AsnPropTypes.ObjectIdentifier})],Bg.prototype,"subjectDomainPolicy",void 0);P0.PolicyMappings=Bg});var BF=g(T0=>{"use strict";var FE;Object.defineProperty(T0,"__esModule",{value:!0});T0.SubjectAlternativeName=T0.id_ce_subjectAltName=void 0;var Mve=ke(),kF=Le(),Ove=e1(),qve=On();T0.id_ce_subjectAltName=`${qve.id_ce}.17`;var zE=FE=class extends Ove.GeneralNames{constructor(e){super(e);Object.setPrototypeOf(this,FE.prototype)}};zE=FE=Mve.__decorate([kF.AsnType({type:kF.AsnTypeTypes.Sequence})],zE);T0.SubjectAlternativeName=zE});var WE=g(Og=>{"use strict";Object.defineProperty(Og,"__esModule",{value:!0});Og.Attribute=void 0;var RF=ke(),Rg=Le(),Mg=class{constructor(e={}){this.type="",this.values=[],Object.assign(this,e)}};RF.__decorate([Rg.AsnProp({type:Rg.AsnPropTypes.ObjectIdentifier})],Mg.prototype,"type",void 0);RF.__decorate([Rg.AsnProp({type:Rg.AsnPropTypes.Any,repeated:"set"})],Mg.prototype,"values",void 0);Og.Attribute=Mg});var MF=g(I0=>{"use strict";var jE;Object.defineProperty(I0,"__esModule",{value:!0});I0.SubjectDirectoryAttributes=I0.id_ce_subjectDirectoryAttributes=void 0;var Dve=ke(),$E=Le(),Nve=WE(),Lve=On();I0.id_ce_subjectDirectoryAttributes=`${Lve.id_ce}.9`;var VE=jE=class extends $E.AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,jE.prototype)}};VE=jE=Dve.__decorate([$E.AsnType({type:$E.AsnTypeTypes.Sequence,itemType:Nve.Attribute})],VE);I0.SubjectDirectoryAttributes=VE});var qF=g(k0=>{"use strict";Object.defineProperty(k0,"__esModule",{value:!0});k0.SubjectKeyIdentifier=k0.id_ce_subjectKeyIdentifier=void 0;var Uve=On(),Hve=PE();k0.id_ce_subjectKeyIdentifier=`${Uve.id_ce}.14`;var OF=class extends Hve.KeyIdentifier{};k0.SubjectKeyIdentifier=OF});var NF=g(B0=>{"use strict";Object.defineProperty(B0,"__esModule",{value:!0});B0.PrivateKeyUsagePeriod=B0.id_ce_privateKeyUsagePeriod=void 0;var DF=ke(),qg=Le(),Kve=On();B0.id_ce_privateKeyUsagePeriod=`${Kve.id_ce}.16`;var Dg=class{constructor(e={}){Object.assign(this,e)}};DF.__decorate([qg.AsnProp({type:qg.AsnPropTypes.GeneralizedTime,context:0,implicit:!0,optional:!0})],Dg.prototype,"notBefore",void 0);DF.__decorate([qg.AsnProp({type:qg.AsnPropTypes.GeneralizedTime,context:1,implicit:!0,optional:!0})],Dg.prototype,"notAfter",void 0);B0.PrivateKeyUsagePeriod=Dg});var UF=g(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});Ms.EntrustVersionInfo=Ms.EntrustInfo=Ms.EntrustInfoFlags=Ms.id_entrust_entrustVersInfo=void 0;var LF=ke(),Lg=Le();Ms.id_entrust_entrustVersInfo="1.2.840.113533.7.65.0";var Ng;(function(t){t[t.keyUpdateAllowed=1]="keyUpdateAllowed",t[t.newExtensions=2]="newExtensions",t[t.pKIXCertificate=4]="pKIXCertificate"})(Ng=Ms.EntrustInfoFlags||(Ms.EntrustInfoFlags={}));var Ug=class extends Lg.BitString{toJSON(){let e=[],r=this.toNumber();return r&Ng.pKIXCertificate&&e.push("pKIXCertificate"),r&Ng.newExtensions&&e.push("newExtensions"),r&Ng.keyUpdateAllowed&&e.push("keyUpdateAllowed"),e}toString(){return`[${this.toJSON().join(", ")}]`}};Ms.EntrustInfo=Ug;var Hg=class{constructor(e={}){this.entrustVers="",this.entrustInfoFlags=new Ug,Object.assign(this,e)}};LF.__decorate([Lg.AsnProp({type:Lg.AsnPropTypes.GeneralString})],Hg.prototype,"entrustVers",void 0);LF.__decorate([Lg.AsnProp({type:Ug})],Hg.prototype,"entrustInfoFlags",void 0);Ms.EntrustVersionInfo=Hg});var HF=g(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});var Kn=ke();Kn.__exportStar(iF(),Cn);Kn.__exportStar(PE(),Cn);Kn.__exportStar(sF(),Cn);Kn.__exportStar(cF(),Cn);Kn.__exportStar(fF(),Cn);Kn.__exportStar(lF(),Cn);Kn.__exportStar(pF(),Cn);Kn.__exportStar(mF(),Cn);Kn.__exportStar(yF(),Cn);Kn.__exportStar(vF(),Cn);Kn.__exportStar(_F(),Cn);Kn.__exportStar(SF(),Cn);Kn.__exportStar(CF(),Cn);Kn.__exportStar(PF(),Cn);Kn.__exportStar(IF(),Cn);Kn.__exportStar(BF(),Cn);Kn.__exportStar(MF(),Cn);Kn.__exportStar(qF(),Cn);Kn.__exportStar(NF(),Cn);Kn.__exportStar(UF(),Cn)});var xd=g(zg=>{"use strict";Object.defineProperty(zg,"__esModule",{value:!0});zg.AlgorithmIdentifier=void 0;var KF=ke(),Kg=Le(),Fg=class{constructor(e={}){this.algorithm="",Object.assign(this,e)}};KF.__decorate([Kg.AsnProp({type:Kg.AsnPropTypes.ObjectIdentifier})],Fg.prototype,"algorithm",void 0);KF.__decorate([Kg.AsnProp({type:Kg.AsnPropTypes.Any,optional:!0})],Fg.prototype,"parameters",void 0);zg.AlgorithmIdentifier=Fg});var YE=g(jg=>{"use strict";Object.defineProperty(jg,"__esModule",{value:!0});jg.SubjectPublicKeyInfo=void 0;var FF=ke(),GE=Le(),zF=xd(),Wg=class{constructor(e={}){this.algorithm=new zF.AlgorithmIdentifier,this.subjectPublicKey=new ArrayBuffer(0),Object.assign(this,e)}};FF.__decorate([GE.AsnProp({type:zF.AlgorithmIdentifier})],Wg.prototype,"algorithm",void 0);FF.__decorate([GE.AsnProp({type:GE.AsnPropTypes.BitString})],Wg.prototype,"subjectPublicKey",void 0);jg.SubjectPublicKeyInfo=Wg});var Vg=g($g=>{"use strict";Object.defineProperty($g,"__esModule",{value:!0});$g.Time=void 0;var JE=ke(),R0=Le(),u1=class{constructor(e){e&&(typeof e=="string"||typeof e=="number"?this.utcTime=new Date(e):e instanceof Date?this.utcTime=e:Object.assign(this,e))}getTime(){let e=this.utcTime||this.generalTime;if(!e)throw new Error("Cannot get time from CHOICE object");return e}};JE.__decorate([R0.AsnProp({type:R0.AsnPropTypes.UTCTime})],u1.prototype,"utcTime",void 0);JE.__decorate([R0.AsnProp({type:R0.AsnPropTypes.GeneralizedTime})],u1.prototype,"generalTime",void 0);u1=JE.__decorate([R0.AsnType({type:R0.AsnTypeTypes.Choice})],u1);$g.Time=u1});var XE=g(Yg=>{"use strict";Object.defineProperty(Yg,"__esModule",{value:!0});Yg.Validity=void 0;var WF=ke(),jF=Le(),M0=Vg(),Gg=class{constructor(e){this.notBefore=new M0.Time(new Date),this.notAfter=new M0.Time(new Date),e&&(this.notBefore=new M0.Time(e.notBefore),this.notAfter=new M0.Time(e.notAfter))}};WF.__decorate([jF.AsnProp({type:M0.Time})],Gg.prototype,"notBefore",void 0);WF.__decorate([jF.AsnProp({type:M0.Time})],Gg.prototype,"notAfter",void 0);Yg.Validity=Gg});var Xg=g(O0=>{"use strict";var QE;Object.defineProperty(O0,"__esModule",{value:!0});O0.Extensions=O0.Extension=void 0;var Jg=ke(),Po=Le(),To=class{constructor(e={}){this.extnID="",this.critical=To.CRITICAL,this.extnValue=new Po.OctetString,Object.assign(this,e)}};To.CRITICAL=!1;Jg.__decorate([Po.AsnProp({type:Po.AsnPropTypes.ObjectIdentifier})],To.prototype,"extnID",void 0);Jg.__decorate([Po.AsnProp({type:Po.AsnPropTypes.Boolean,defaultValue:To.CRITICAL})],To.prototype,"critical",void 0);Jg.__decorate([Po.AsnProp({type:Po.OctetString})],To.prototype,"extnValue",void 0);O0.Extension=To;var ZE=QE=class extends Po.AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,QE.prototype)}};ZE=QE=Jg.__decorate([Po.AsnType({type:Po.AsnTypeTypes.Sequence,itemType:To})],ZE);O0.Extensions=ZE});var eP=g(c1=>{"use strict";Object.defineProperty(c1,"__esModule",{value:!0});c1.Version=void 0;var Fve;(function(t){t[t.v1=0]="v1",t[t.v2=1]="v2",t[t.v3=2]="v3"})(Fve=c1.Version||(c1.Version={}))});var tP=g(Zg=>{"use strict";Object.defineProperty(Zg,"__esModule",{value:!0});Zg.TBSCertificate=void 0;var Io=ke(),Hi=Le(),$F=xd(),Qg=h0(),VF=YE(),GF=XE(),zve=Xg(),YF=eP(),Qa=class{constructor(e={}){this.version=YF.Version.v1,this.serialNumber=new ArrayBuffer(0),this.signature=new $F.AlgorithmIdentifier,this.issuer=new Qg.Name,this.validity=new GF.Validity,this.subject=new Qg.Name,this.subjectPublicKeyInfo=new VF.SubjectPublicKeyInfo,Object.assign(this,e)}};Io.__decorate([Hi.AsnProp({type:Hi.AsnPropTypes.Integer,context:0,defaultValue:YF.Version.v1})],Qa.prototype,"version",void 0);Io.__decorate([Hi.AsnProp({type:Hi.AsnPropTypes.Integer,converter:Hi.AsnIntegerArrayBufferConverter})],Qa.prototype,"serialNumber",void 0);Io.__decorate([Hi.AsnProp({type:$F.AlgorithmIdentifier})],Qa.prototype,"signature",void 0);Io.__decorate([Hi.AsnProp({type:Qg.Name})],Qa.prototype,"issuer",void 0);Io.__decorate([Hi.AsnProp({type:GF.Validity})],Qa.prototype,"validity",void 0);Io.__decorate([Hi.AsnProp({type:Qg.Name})],Qa.prototype,"subject",void 0);Io.__decorate([Hi.AsnProp({type:VF.SubjectPublicKeyInfo})],Qa.prototype,"subjectPublicKeyInfo",void 0);Io.__decorate([Hi.AsnProp({type:Hi.AsnPropTypes.BitString,context:1,implicit:!0,optional:!0})],Qa.prototype,"issuerUniqueID",void 0);Io.__decorate([Hi.AsnProp({type:Hi.AsnPropTypes.BitString,context:2,implicit:!0,optional:!0})],Qa.prototype,"subjectUniqueID",void 0);Io.__decorate([Hi.AsnProp({type:zve.Extensions,context:3,optional:!0})],Qa.prototype,"extensions",void 0);Zg.TBSCertificate=Qa});var QF=g(t_=>{"use strict";Object.defineProperty(t_,"__esModule",{value:!0});t_.Certificate=void 0;var rP=ke(),e_=Le(),JF=xd(),XF=tP(),f1=class{constructor(e={}){this.tbsCertificate=new XF.TBSCertificate,this.signatureAlgorithm=new JF.AlgorithmIdentifier,this.signatureValue=new ArrayBuffer(0),Object.assign(this,e)}};rP.__decorate([e_.AsnProp({type:XF.TBSCertificate})],f1.prototype,"tbsCertificate",void 0);rP.__decorate([e_.AsnProp({type:JF.AlgorithmIdentifier})],f1.prototype,"signatureAlgorithm",void 0);rP.__decorate([e_.AsnProp({type:e_.AsnPropTypes.BitString})],f1.prototype,"signatureValue",void 0);t_.Certificate=f1});var nP=g(q0=>{"use strict";Object.defineProperty(q0,"__esModule",{value:!0});q0.TBSCertList=q0.RevokedCertificate=void 0;var ko=ke(),ba=Le(),ZF=xd(),ez=h0(),d1=Vg(),tz=Xg(),D0=class{constructor(e={}){this.userCertificate=new ArrayBuffer(0),this.revocationDate=new d1.Time,Object.assign(this,e)}};ko.__decorate([ba.AsnProp({type:ba.AsnPropTypes.Integer,converter:ba.AsnIntegerArrayBufferConverter})],D0.prototype,"userCertificate",void 0);ko.__decorate([ba.AsnProp({type:d1.Time})],D0.prototype,"revocationDate",void 0);ko.__decorate([ba.AsnProp({type:tz.Extension,optional:!0,repeated:"sequence"})],D0.prototype,"crlEntryExtensions",void 0);q0.RevokedCertificate=D0;var Eu=class{constructor(e={}){this.signature=new ZF.AlgorithmIdentifier,this.issuer=new ez.Name,this.thisUpdate=new d1.Time,Object.assign(this,e)}};ko.__decorate([ba.AsnProp({type:ba.AsnPropTypes.Integer,optional:!0})],Eu.prototype,"version",void 0);ko.__decorate([ba.AsnProp({type:ZF.AlgorithmIdentifier})],Eu.prototype,"signature",void 0);ko.__decorate([ba.AsnProp({type:ez.Name})],Eu.prototype,"issuer",void 0);ko.__decorate([ba.AsnProp({type:d1.Time})],Eu.prototype,"thisUpdate",void 0);ko.__decorate([ba.AsnProp({type:d1.Time,optional:!0})],Eu.prototype,"nextUpdate",void 0);ko.__decorate([ba.AsnProp({type:D0,repeated:"sequence",optional:!0})],Eu.prototype,"revokedCertificates",void 0);ko.__decorate([ba.AsnProp({type:tz.Extension,optional:!0,context:0,repeated:"sequence"})],Eu.prototype,"crlExtensions",void 0);q0.TBSCertList=Eu});var iz=g(n_=>{"use strict";Object.defineProperty(n_,"__esModule",{value:!0});n_.CertificateList=void 0;var iP=ke(),r_=Le(),rz=xd(),nz=nP(),l1=class{constructor(e={}){this.tbsCertList=new nz.TBSCertList,this.signatureAlgorithm=new rz.AlgorithmIdentifier,this.signature=new ArrayBuffer(0),Object.assign(this,e)}};iP.__decorate([r_.AsnProp({type:nz.TBSCertList})],l1.prototype,"tbsCertList",void 0);iP.__decorate([r_.AsnProp({type:rz.AlgorithmIdentifier})],l1.prototype,"signatureAlgorithm",void 0);iP.__decorate([r_.AsnProp({type:r_.AsnPropTypes.BitString})],l1.prototype,"signature",void 0);n_.CertificateList=l1});var Rr=g(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});var Ci=ke();Ci.__exportStar(HF(),ui);Ci.__exportStar(xd(),ui);Ci.__exportStar(WE(),ui);Ci.__exportStar(QF(),ui);Ci.__exportStar(iz(),ui);Ci.__exportStar(Xg(),ui);Ci.__exportStar(hd(),ui);Ci.__exportStar(e1(),ui);Ci.__exportStar(h0(),ui);Ci.__exportStar(On(),ui);Ci.__exportStar(YE(),ui);Ci.__exportStar(nP(),ui);Ci.__exportStar(tP(),ui);Ci.__exportStar(Vg(),ui);Ci.__exportStar(eP(),ui);Ci.__exportStar(XE(),ui)});var sP=g((qGe,a_)=>{var az,sz,oz,uz,cz,fz,dz,lz,hz,i_,aP,pz,mz,N0,xz,yz,bz,vz,gz,_z,wz,Sz,Az;(function(t){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){t(r(e,r(n)))}):typeof a_=="object"&&typeof a_.exports=="object"?t(r(e,r(a_.exports))):t(r(e));function r(n,i){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(a,o){return n[a]=i?i(a,o):o}}})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])};az=function(r,n){e(r,n);function i(){this.constructor=r}r.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)},sz=Object.assign||function(r){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},oz=function(r,n){var i={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&n.indexOf(a)<0&&(i[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)n.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(i[a[o]]=r[a[o]]);return i},uz=function(r,n,i,a){var o=arguments.length,u=o<3?n:a===null?a=Object.getOwnPropertyDescriptor(n,i):a,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(r,n,i,a);else for(var d=r.length-1;d>=0;d--)(f=r[d])&&(u=(o<3?f(u):o>3?f(n,i,u):f(n,i))||u);return o>3&&u&&Object.defineProperty(n,i,u),u},cz=function(r,n){return function(i,a){n(i,a,r)}},fz=function(r,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,n)},dz=function(r,n,i,a){function o(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function d(_){try{m(a.next(_))}catch(w){f(w)}}function h(_){try{m(a.throw(_))}catch(w){f(w)}}function m(_){_.done?u(_.value):o(_.value).then(d,h)}m((a=a.apply(r,n||[])).next())})},lz=function(r,n){var i={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},a,o,u,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(m){return function(_){return h([m,_])}}function h(m){if(a)throw new TypeError("Generator is already executing.");for(;i;)try{if(a=1,o&&(u=m[0]&2?o.return:m[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,m[1])).done)return u;switch(o=0,u&&(m=[m[0]&2,u.value]),m[0]){case 0:case 1:u=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,o=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(u=i.trys,!(u=u.length>0&&u[u.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!u||m[1]>u[0]&&m[1]<u[3])){i.label=m[1];break}if(m[0]===6&&i.label<u[1]){i.label=u[1],u=m;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(m);break}u[2]&&i.ops.pop(),i.trys.pop();continue}m=n.call(r,i)}catch(_){m=[6,_],o=0}finally{a=u=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Az=function(r,n,i,a){a===void 0&&(a=i),r[a]=n[i]},hz=function(r,n){for(var i in r)i!=="default"&&!n.hasOwnProperty(i)&&(n[i]=r[i])},i_=function(r){var n=typeof Symbol=="function"&&Symbol.iterator,i=n&&r[n],a=0;if(i)return i.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},aP=function(r,n){var i=typeof Symbol=="function"&&r[Symbol.iterator];if(!i)return r;var a=i.call(r),o,u=[],f;try{for(;(n===void 0||n-- >0)&&!(o=a.next()).done;)u.push(o.value)}catch(d){f={error:d}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(f)throw f.error}}return u},pz=function(){for(var r=[],n=0;n<arguments.length;n++)r=r.concat(aP(arguments[n]));return r},mz=function(){for(var r=0,n=0,i=arguments.length;n<i;n++)r+=arguments[n].length;for(var a=Array(r),o=0,n=0;n<i;n++)for(var u=arguments[n],f=0,d=u.length;f<d;f++,o++)a[o]=u[f];return a},N0=function(r){return this instanceof N0?(this.v=r,this):new N0(r)},xz=function(r,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=i.apply(r,n||[]),o,u=[];return o={},f("next"),f("throw"),f("return"),o[Symbol.asyncIterator]=function(){return this},o;function f(P){a[P]&&(o[P]=function(M){return new Promise(function(K,Y){u.push([P,M,K,Y])>1||d(P,M)})})}function d(P,M){try{h(a[P](M))}catch(K){w(u[0][3],K)}}function h(P){P.value instanceof N0?Promise.resolve(P.value.v).then(m,_):w(u[0][2],P)}function m(P){d("next",P)}function _(P){d("throw",P)}function w(P,M){P(M),u.shift(),u.length&&d(u[0][0],u[0][1])}},yz=function(r){var n,i;return n={},a("next"),a("throw",function(o){throw o}),a("return"),n[Symbol.iterator]=function(){return this},n;function a(o,u){n[o]=r[o]?function(f){return(i=!i)?{value:N0(r[o](f)),done:o==="return"}:u?u(f):f}:u}},bz=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r[Symbol.asyncIterator],i;return n?n.call(r):(r=typeof i_=="function"?i_(r):r[Symbol.iterator](),i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i);function a(u){i[u]=r[u]&&function(f){return new Promise(function(d,h){f=r[u](f),o(d,h,f.done,f.value)})}}function o(u,f,d,h){Promise.resolve(h).then(function(m){u({value:m,done:d})},f)}},vz=function(r,n){return Object.defineProperty?Object.defineProperty(r,"raw",{value:n}):r.raw=n,r},gz=function(r){if(r&&r.__esModule)return r;var n={};if(r!=null)for(var i in r)Object.hasOwnProperty.call(r,i)&&(n[i]=r[i]);return n.default=r,n},_z=function(r){return r&&r.__esModule?r:{default:r}},wz=function(r,n){if(!n.has(r))throw new TypeError("attempted to get private field on non-instance");return n.get(r)},Sz=function(r,n,i){if(!n.has(r))throw new TypeError("attempted to set private field on non-instance");return n.set(r,i),i},t("__extends",az),t("__assign",sz),t("__rest",oz),t("__decorate",uz),t("__param",cz),t("__metadata",fz),t("__awaiter",dz),t("__generator",lz),t("__exportStar",hz),t("__createBinding",Az),t("__values",i_),t("__read",aP),t("__spread",pz),t("__spreadArrays",mz),t("__await",N0),t("__asyncGenerator",xz),t("__asyncDelegator",yz),t("__asyncValues",bz),t("__makeTemplateObject",vz),t("__importStar",gz),t("__importDefault",_z),t("__classPrivateFieldGet",wz),t("__classPrivateFieldSet",Sz)})});var cP=g(uP=>{"use strict";Object.defineProperty(uP,"__esModule",{value:!0});var oP;(function(t){t[t.Transient=0]="Transient",t[t.Singleton=1]="Singleton",t[t.ResolutionScoped=2]="ResolutionScoped",t[t.ContainerScoped=3]="ContainerScoped"})(oP||(oP={}));uP.default=oP});var Cz=g(fP=>{"use strict";Object.defineProperty(fP,"__esModule",{value:!0});var Wve=cP();Object.defineProperty(fP,"Lifecycle",{enumerable:!0,get:function(){return Wve.default}})});var yd=g(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});Os.defineInjectionTokenMetadata=Os.getParamInfo=Os.INJECTION_TOKEN_METADATA_KEY=void 0;Os.INJECTION_TOKEN_METADATA_KEY="injectionTokens";function jve(t){let e=Reflect.getMetadata("design:paramtypes",t)||[],r=Reflect.getOwnMetadata(Os.INJECTION_TOKEN_METADATA_KEY,t)||{};return Object.keys(r).forEach(n=>{e[+n]=r[n]}),e}Os.getParamInfo=jve;function $ve(t,e){return function(r,n,i){let a=Reflect.getOwnMetadata(Os.INJECTION_TOKEN_METADATA_KEY,r)||{};a[i]=e?{token:t,transform:e.transformToken,transformArgs:e.args||[]}:t,Reflect.defineMetadata(Os.INJECTION_TOKEN_METADATA_KEY,a,r)}}Os.defineInjectionTokenMetadata=$ve});var dP=g(s_=>{"use strict";Object.defineProperty(s_,"__esModule",{value:!0});s_.isClassProvider=void 0;function Vve(t){return!!t.useClass}s_.isClassProvider=Vve});var lP=g(o_=>{"use strict";Object.defineProperty(o_,"__esModule",{value:!0});o_.isFactoryProvider=void 0;function Gve(t){return!!t.useFactory}o_.isFactoryProvider=Gve});var u_=g(L0=>{"use strict";Object.defineProperty(L0,"__esModule",{value:!0});L0.delay=L0.DelayedConstructor=void 0;var hP=class{constructor(e){this.wrap=e,this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct","ownKeys"]}createProxy(e){let r={},n=!1,i,a=()=>(n||(i=e(this.wrap()),n=!0),i);return new Proxy(r,this.createHandler(a))}createHandler(e){let r={},n=i=>{r[i]=(...a)=>(a[0]=e(),Reflect[i](...a))};return this.reflectMethods.forEach(n),r}};L0.DelayedConstructor=hP;function Yve(t){if(typeof t>"u")throw new Error("Attempt to `delay` undefined. Constructor must be wrapped in a callback");return new hP(t)}L0.delay=Yve});var c_=g(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});Bo.isConstructorToken=Bo.isTransformDescriptor=Bo.isTokenDescriptor=Bo.isNormalToken=void 0;var Jve=u_();function Xve(t){return typeof t=="string"||typeof t=="symbol"}Bo.isNormalToken=Xve;function Qve(t){return typeof t=="object"&&"token"in t&&"multiple"in t}Bo.isTokenDescriptor=Qve;function Zve(t){return typeof t=="object"&&"token"in t&&"transform"in t}Bo.isTransformDescriptor=Zve;function ege(t){return typeof t=="function"||t instanceof Jve.DelayedConstructor}Bo.isConstructorToken=ege});var pP=g(f_=>{"use strict";Object.defineProperty(f_,"__esModule",{value:!0});f_.isTokenProvider=void 0;function tge(t){return!!t.useToken}f_.isTokenProvider=tge});var mP=g(d_=>{"use strict";Object.defineProperty(d_,"__esModule",{value:!0});d_.isValueProvider=void 0;function rge(t){return t.useValue!=null}d_.isValueProvider=rge});var xP=g(bd=>{"use strict";Object.defineProperty(bd,"__esModule",{value:!0});var nge=dP();Object.defineProperty(bd,"isClassProvider",{enumerable:!0,get:function(){return nge.isClassProvider}});var ige=lP();Object.defineProperty(bd,"isFactoryProvider",{enumerable:!0,get:function(){return ige.isFactoryProvider}});var age=c_();Object.defineProperty(bd,"isNormalToken",{enumerable:!0,get:function(){return age.isNormalToken}});var sge=pP();Object.defineProperty(bd,"isTokenProvider",{enumerable:!0,get:function(){return sge.isTokenProvider}});var oge=mP();Object.defineProperty(bd,"isValueProvider",{enumerable:!0,get:function(){return oge.isValueProvider}})});var Ez=g(l_=>{"use strict";Object.defineProperty(l_,"__esModule",{value:!0});l_.isProvider=void 0;var uge=dP(),cge=mP(),fge=pP(),dge=lP();function lge(t){return uge.isClassProvider(t)||cge.isValueProvider(t)||fge.isTokenProvider(t)||dge.isFactoryProvider(t)}l_.isProvider=lge});var bP=g(yP=>{"use strict";Object.defineProperty(yP,"__esModule",{value:!0});var Pz=class{constructor(){this._registryMap=new Map}entries(){return this._registryMap.entries()}getAll(e){return this.ensure(e),this._registryMap.get(e)}get(e){this.ensure(e);let r=this._registryMap.get(e);return r[r.length-1]||null}set(e,r){this.ensure(e),this._registryMap.get(e).push(r)}setAll(e,r){this._registryMap.set(e,r)}has(e){return this.ensure(e),this._registryMap.get(e).length>0}clear(){this._registryMap.clear()}ensure(e){this._registryMap.has(e)||this._registryMap.set(e,[])}};yP.default=Pz});var Iz=g(vP=>{"use strict";Object.defineProperty(vP,"__esModule",{value:!0});var hge=bP(),Tz=class extends hge.default{};vP.default=Tz});var Bz=g(gP=>{"use strict";Object.defineProperty(gP,"__esModule",{value:!0});var kz=class{constructor(){this.scopedResolutions=new Map}};gP.default=kz});var _P=g(h_=>{"use strict";Object.defineProperty(h_,"__esModule",{value:!0});h_.formatErrorCtor=void 0;function pge(t,e){return t===null?`at position #${e}`:`"${t.split(",")[e].trim()}" at position #${e}`}function mge(t,e,r="    "){return[t,...e.message.split(`
`).map(n=>r+n)].join(`
`)}function xge(t,e,r){let[,n=null]=t.toString().match(/constructor\(([\w, ]+)\)/)||[],i=pge(n,e);return mge(`Cannot inject the dependency ${i} of "${t.name}" constructor. Reason:`,r)}h_.formatErrorCtor=xge});var Oz=g(vd=>{"use strict";Object.defineProperty(vd,"__esModule",{value:!0});vd.PostResolutionInterceptors=vd.PreResolutionInterceptors=void 0;var Rz=bP(),wP=class extends Rz.default{};vd.PreResolutionInterceptors=wP;var SP=class extends Rz.default{};vd.PostResolutionInterceptors=SP;var Mz=class{constructor(){this.preResolution=new wP,this.postResolution=new SP}};vd.default=Mz});var gd=g(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});Pu.instance=Pu.typeInfo=void 0;var Ki=xP(),yge=Ez(),p_=c_(),bge=Iz(),ea=cP(),qz=Bz(),vge=_P(),gge=u_(),_ge=Oz();Pu.typeInfo=new Map;var m_=class{constructor(e){this.parent=e,this._registry=new bge.default,this.interceptors=new _ge.default}register(e,r,n={lifecycle:ea.default.Transient}){let i;if(yge.isProvider(r)?i=r:i={useClass:r},Ki.isTokenProvider(i)){let a=[e],o=i;for(;o!=null;){let u=o.useToken;if(a.includes(u))throw new Error(`Token registration cycle detected! ${[...a,u].join(" -> ")}`);a.push(u);let f=this._registry.get(u);f&&Ki.isTokenProvider(f.provider)?o=f.provider:o=null}}if((n.lifecycle===ea.default.Singleton||n.lifecycle==ea.default.ContainerScoped||n.lifecycle==ea.default.ResolutionScoped)&&(Ki.isValueProvider(i)||Ki.isFactoryProvider(i)))throw new Error(`Cannot use lifecycle "${ea.default[n.lifecycle]}" with ValueProviders or FactoryProviders`);return this._registry.set(e,{provider:i,options:n}),this}registerType(e,r){return Ki.isNormalToken(r)?this.register(e,{useToken:r}):this.register(e,{useClass:r})}registerInstance(e,r){return this.register(e,{useValue:r})}registerSingleton(e,r){if(Ki.isNormalToken(e)){if(Ki.isNormalToken(r))return this.register(e,{useToken:r},{lifecycle:ea.default.Singleton});if(r)return this.register(e,{useClass:r},{lifecycle:ea.default.Singleton});throw new Error('Cannot register a type name as a singleton without a "to" token')}let n=e;return r&&!Ki.isNormalToken(r)&&(n=r),this.register(e,{useClass:n},{lifecycle:ea.default.Singleton})}resolve(e,r=new qz.default){let n=this.getRegistration(e);if(!n&&Ki.isNormalToken(e))throw new Error(`Attempted to resolve unregistered dependency token: "${e.toString()}"`);if(this.executePreResolutionInterceptor(e,"Single"),n){let i=this.resolveRegistration(n,r);return this.executePostResolutionInterceptor(e,i,"Single"),i}if(p_.isConstructorToken(e)){let i=this.construct(e,r);return this.executePostResolutionInterceptor(e,i,"Single"),i}throw new Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")}executePreResolutionInterceptor(e,r){if(this.interceptors.preResolution.has(e)){let n=[];for(let i of this.interceptors.preResolution.getAll(e))i.options.frequency!="Once"&&n.push(i),i.callback(e,r);this.interceptors.preResolution.setAll(e,n)}}executePostResolutionInterceptor(e,r,n){if(this.interceptors.postResolution.has(e)){let i=[];for(let a of this.interceptors.postResolution.getAll(e))a.options.frequency!="Once"&&i.push(a),a.callback(e,r,n);this.interceptors.postResolution.setAll(e,i)}}resolveRegistration(e,r){if(e.options.lifecycle===ea.default.ResolutionScoped&&r.scopedResolutions.has(e))return r.scopedResolutions.get(e);let n=e.options.lifecycle===ea.default.Singleton,i=e.options.lifecycle===ea.default.ContainerScoped,a=n||i,o;return Ki.isValueProvider(e.provider)?o=e.provider.useValue:Ki.isTokenProvider(e.provider)?o=a?e.instance||(e.instance=this.resolve(e.provider.useToken,r)):this.resolve(e.provider.useToken,r):Ki.isClassProvider(e.provider)?o=a?e.instance||(e.instance=this.construct(e.provider.useClass,r)):this.construct(e.provider.useClass,r):Ki.isFactoryProvider(e.provider)?o=e.provider.useFactory(this):o=this.construct(e.provider,r),e.options.lifecycle===ea.default.ResolutionScoped&&r.scopedResolutions.set(e,o),o}resolveAll(e,r=new qz.default){let n=this.getAllRegistrations(e);if(!n&&Ki.isNormalToken(e))throw new Error(`Attempted to resolve unregistered dependency token: "${e.toString()}"`);if(this.executePreResolutionInterceptor(e,"All"),n){let a=n.map(o=>this.resolveRegistration(o,r));return this.executePostResolutionInterceptor(e,a,"All"),a}let i=[this.construct(e,r)];return this.executePostResolutionInterceptor(e,i,"All"),i}isRegistered(e,r=!1){return this._registry.has(e)||r&&(this.parent||!1)&&this.parent.isRegistered(e,!0)}reset(){this._registry.clear(),this.interceptors.preResolution.clear(),this.interceptors.postResolution.clear()}clearInstances(){for(let[e,r]of this._registry.entries())this._registry.setAll(e,r.filter(n=>!Ki.isValueProvider(n.provider)).map(n=>(n.instance=void 0,n)))}createChildContainer(){let e=new m_(this);for(let[r,n]of this._registry.entries())n.some(({options:i})=>i.lifecycle===ea.default.ContainerScoped)&&e._registry.setAll(r,n.map(i=>i.options.lifecycle===ea.default.ContainerScoped?{provider:i.provider,options:i.options}:i));return e}beforeResolution(e,r,n={frequency:"Always"}){this.interceptors.preResolution.set(e,{callback:r,options:n})}afterResolution(e,r,n={frequency:"Always"}){this.interceptors.postResolution.set(e,{callback:r,options:n})}getRegistration(e){return this.isRegistered(e)?this._registry.get(e):this.parent?this.parent.getRegistration(e):null}getAllRegistrations(e){return this.isRegistered(e)?this._registry.getAll(e):this.parent?this.parent.getAllRegistrations(e):null}construct(e,r){if(e instanceof gge.DelayedConstructor)return e.createProxy(a=>this.resolve(a,r));let n=Pu.typeInfo.get(e);if(!n||n.length===0){if(e.length===0)return new e;throw new Error(`TypeInfo not known for "${e.name}"`)}let i=n.map(this.resolveParams(r,e));return new e(...i)}resolveParams(e,r){return(n,i)=>{try{return p_.isTokenDescriptor(n)?p_.isTransformDescriptor(n)?n.multiple?this.resolve(n.transform).transform(this.resolveAll(n.token),...n.transformArgs):this.resolve(n.transform).transform(this.resolve(n.token,e),...n.transformArgs):n.multiple?this.resolveAll(n.token):this.resolve(n.token,e):p_.isTransformDescriptor(n)?this.resolve(n.transform,e).transform(this.resolve(n.token,e),...n.transformArgs):this.resolve(n,e)}catch(a){throw new Error(vge.formatErrorCtor(r,i,a))}}}};Pu.instance=new m_;Pu.default=Pu.instance});var Dz=g(CP=>{"use strict";Object.defineProperty(CP,"__esModule",{value:!0});var wge=yd(),Tu=gd(),AP=c_(),Sge=_P();function Age(){return function(t){let e=wge.getParamInfo(t);return class extends t{constructor(...r){super(...r.concat(e.slice(r.length).map((n,i)=>{try{return AP.isTokenDescriptor(n)?AP.isTransformDescriptor(n)?n.multiple?Tu.instance.resolve(n.transform).transform(Tu.instance.resolveAll(n.token),...n.transformArgs):Tu.instance.resolve(n.transform).transform(Tu.instance.resolve(n.token),...n.transformArgs):n.multiple?Tu.instance.resolveAll(n.token):Tu.instance.resolve(n.token):AP.isTransformDescriptor(n)?Tu.instance.resolve(n.transform).transform(Tu.instance.resolve(n.token),...n.transformArgs):Tu.instance.resolve(n)}catch(a){let o=i+r.length;throw new Error(Sge.formatErrorCtor(t,o,a))}})))}}}}CP.default=Age});var Nz=g(EP=>{"use strict";Object.defineProperty(EP,"__esModule",{value:!0});var Cge=yd();function Ege(t){return Cge.defineInjectionTokenMetadata(t)}EP.default=Ege});var x_=g(PP=>{"use strict";Object.defineProperty(PP,"__esModule",{value:!0});var Pge=yd(),Tge=gd();function Ige(){return function(t){Tge.typeInfo.set(t,Pge.getParamInfo(t))}}PP.default=Ige});var Lz=g(TP=>{"use strict";Object.defineProperty(TP,"__esModule",{value:!0});var kge=sP(),Bge=gd();function Rge(t=[]){return function(e){return t.forEach(r=>{var{token:n,options:i}=r,a=kge.__rest(r,["token","options"]);return Bge.instance.register(n,a,i)}),e}}TP.default=Rge});var Uz=g(IP=>{"use strict";Object.defineProperty(IP,"__esModule",{value:!0});var Mge=x_(),Oge=gd();function qge(){return function(t){Mge.default()(t),Oge.instance.registerSingleton(t)}}IP.default=qge});var Hz=g(kP=>{"use strict";Object.defineProperty(kP,"__esModule",{value:!0});var Dge=yd();function Nge(t){let e={token:t,multiple:!0};return Dge.defineInjectionTokenMetadata(e)}kP.default=Nge});var Kz=g(BP=>{"use strict";Object.defineProperty(BP,"__esModule",{value:!0});var Lge=yd();function Uge(t,e,...r){let n={token:t,multiple:!0,transform:e,transformArgs:r};return Lge.defineInjectionTokenMetadata(n)}BP.default=Uge});var Fz=g(RP=>{"use strict";Object.defineProperty(RP,"__esModule",{value:!0});var Hge=yd();function Kge(t,e,...r){return Hge.defineInjectionTokenMetadata(t,{transformToken:e,args:r})}RP.default=Kge});var zz=g(MP=>{"use strict";Object.defineProperty(MP,"__esModule",{value:!0});var Fge=x_(),zge=gd();function Wge(t,e){return function(r){Fge.default()(r),zge.instance.register(e||r,r,{lifecycle:t})}}MP.default=Wge});var Wz=g(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});var jge=Dz();Object.defineProperty(qs,"autoInjectable",{enumerable:!0,get:function(){return jge.default}});var $ge=Nz();Object.defineProperty(qs,"inject",{enumerable:!0,get:function(){return $ge.default}});var Vge=x_();Object.defineProperty(qs,"injectable",{enumerable:!0,get:function(){return Vge.default}});var Gge=Lz();Object.defineProperty(qs,"registry",{enumerable:!0,get:function(){return Gge.default}});var Yge=Uz();Object.defineProperty(qs,"singleton",{enumerable:!0,get:function(){return Yge.default}});var Jge=Hz();Object.defineProperty(qs,"injectAll",{enumerable:!0,get:function(){return Jge.default}});var Xge=Kz();Object.defineProperty(qs,"injectAllWithTransform",{enumerable:!0,get:function(){return Xge.default}});var Qge=Fz();Object.defineProperty(qs,"injectWithTransform",{enumerable:!0,get:function(){return Qge.default}});var Zge=zz();Object.defineProperty(qs,"scoped",{enumerable:!0,get:function(){return Zge.default}})});var jz=g(OP=>{"use strict";Object.defineProperty(OP,"__esModule",{value:!0});function e_e(t){let e;return r=>(e==null&&(e=t(r)),e)}OP.default=e_e});var $z=g(qP=>{"use strict";Object.defineProperty(qP,"__esModule",{value:!0});function t_e(t){let e=new WeakMap;return r=>{let n=e.get(r);return n==null&&(n=t(r),e.set(r,n)),n}}qP.default=t_e});var Vz=g(DP=>{"use strict";Object.defineProperty(DP,"__esModule",{value:!0});function r_e(t,e,r,n=!0){let i,a;return o=>{let u=t(o);return(!n||a!==u)&&((a=u)?i=o.resolve(e):i=o.resolve(r)),i}}DP.default=r_e});var Gz=g(h1=>{"use strict";Object.defineProperty(h1,"__esModule",{value:!0});var n_e=jz();Object.defineProperty(h1,"instanceCachingFactory",{enumerable:!0,get:function(){return n_e.default}});var i_e=$z();Object.defineProperty(h1,"instancePerContainerCachingFactory",{enumerable:!0,get:function(){return i_e.default}});var a_e=Vz();Object.defineProperty(h1,"predicateAwareClassFactory",{enumerable:!0,get:function(){return a_e.default}})});var Yz=g(Fc=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});var NP=sP();if(typeof Reflect>"u"||!Reflect.getMetadata)throw new Error(`tsyringe requires a reflect polyfill. Please add 'import "reflect-metadata"' to the top of your entry point.`);var s_e=Cz();Object.defineProperty(Fc,"Lifecycle",{enumerable:!0,get:function(){return s_e.Lifecycle}});NP.__exportStar(Wz(),Fc);NP.__exportStar(Gz(),Fc);NP.__exportStar(xP(),Fc);var o_e=u_();Object.defineProperty(Fc,"delay",{enumerable:!0,get:function(){return o_e.delay}});var u_e=gd();Object.defineProperty(Fc,"container",{enumerable:!0,get:function(){return u_e.instance}})});var p1=g(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.id_mgf1=dt.id_md5=dt.id_md2=dt.id_sha512_256=dt.id_sha512_224=dt.id_sha512=dt.id_sha384=dt.id_sha256=dt.id_sha224=dt.id_sha1=dt.id_sha512_256WithRSAEncryption=dt.id_sha512_224WithRSAEncryption=dt.id_sha512WithRSAEncryption=dt.id_sha384WithRSAEncryption=dt.id_sha256WithRSAEncryption=dt.id_ssha224WithRSAEncryption=dt.id_sha224WithRSAEncryption=dt.id_sha1WithRSAEncryption=dt.id_md5WithRSAEncryption=dt.id_md2WithRSAEncryption=dt.id_RSASSA_PSS=dt.id_pSpecified=dt.id_RSAES_OAEP=dt.id_rsaEncryption=dt.id_pkcs_1=void 0;dt.id_pkcs_1="1.2.840.113549.1.1";dt.id_rsaEncryption=`${dt.id_pkcs_1}.1`;dt.id_RSAES_OAEP=`${dt.id_pkcs_1}.7`;dt.id_pSpecified=`${dt.id_pkcs_1}.9`;dt.id_RSASSA_PSS=`${dt.id_pkcs_1}.10`;dt.id_md2WithRSAEncryption=`${dt.id_pkcs_1}.2`;dt.id_md5WithRSAEncryption=`${dt.id_pkcs_1}.4`;dt.id_sha1WithRSAEncryption=`${dt.id_pkcs_1}.5`;dt.id_sha224WithRSAEncryption=`${dt.id_pkcs_1}.14`;dt.id_ssha224WithRSAEncryption=dt.id_sha224WithRSAEncryption;dt.id_sha256WithRSAEncryption=`${dt.id_pkcs_1}.11`;dt.id_sha384WithRSAEncryption=`${dt.id_pkcs_1}.12`;dt.id_sha512WithRSAEncryption=`${dt.id_pkcs_1}.13`;dt.id_sha512_224WithRSAEncryption=`${dt.id_pkcs_1}.15`;dt.id_sha512_256WithRSAEncryption=`${dt.id_pkcs_1}.16`;dt.id_sha1="1.3.14.3.2.26";dt.id_sha224="2.16.840.1.101.3.4.2.4";dt.id_sha256="2.16.840.1.101.3.4.2.1";dt.id_sha384="2.16.840.1.101.3.4.2.2";dt.id_sha512="2.16.840.1.101.3.4.2.3";dt.id_sha512_224="2.16.840.1.101.3.4.2.5";dt.id_sha512_256="2.16.840.1.101.3.4.2.6";dt.id_md2="1.2.840.113549.2.2";dt.id_md5="1.2.840.113549.2.5";dt.id_mgf1=`${dt.id_pkcs_1}.8`});var y_=g(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.sha512_256WithRSAEncryption=Wt.sha512_224WithRSAEncryption=Wt.sha512WithRSAEncryption=Wt.sha384WithRSAEncryption=Wt.sha256WithRSAEncryption=Wt.sha224WithRSAEncryption=Wt.sha1WithRSAEncryption=Wt.md5WithRSAEncryption=Wt.md2WithRSAEncryption=Wt.rsaEncryption=Wt.pSpecifiedEmpty=Wt.mgf1SHA1=Wt.sha512_256=Wt.sha512_224=Wt.sha512=Wt.sha384=Wt.sha256=Wt.sha224=Wt.sha1=Wt.md4=Wt.md2=void 0;var LP=Le(),UP=Rr(),Nn=p1();function ri(t){return new UP.AlgorithmIdentifier({algorithm:t,parameters:null})}Wt.md2=ri(Nn.id_md2);Wt.md4=ri(Nn.id_md5);Wt.sha1=ri(Nn.id_sha1);Wt.sha224=ri(Nn.id_sha224);Wt.sha256=ri(Nn.id_sha256);Wt.sha384=ri(Nn.id_sha384);Wt.sha512=ri(Nn.id_sha512);Wt.sha512_224=ri(Nn.id_sha512_224);Wt.sha512_256=ri(Nn.id_sha512_256);Wt.mgf1SHA1=new UP.AlgorithmIdentifier({algorithm:Nn.id_mgf1,parameters:LP.AsnConvert.serialize(Wt.sha1)});Wt.pSpecifiedEmpty=new UP.AlgorithmIdentifier({algorithm:Nn.id_pSpecified,parameters:LP.AsnConvert.serialize(LP.AsnOctetStringConverter.toASN(new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]).buffer))});Wt.rsaEncryption=ri(Nn.id_rsaEncryption);Wt.md2WithRSAEncryption=ri(Nn.id_md2WithRSAEncryption);Wt.md5WithRSAEncryption=ri(Nn.id_md5WithRSAEncryption);Wt.sha1WithRSAEncryption=ri(Nn.id_sha1WithRSAEncryption);Wt.sha224WithRSAEncryption=ri(Nn.id_sha512_224WithRSAEncryption);Wt.sha256WithRSAEncryption=ri(Nn.id_sha512_256WithRSAEncryption);Wt.sha384WithRSAEncryption=ri(Nn.id_sha384WithRSAEncryption);Wt.sha512WithRSAEncryption=ri(Nn.id_sha512WithRSAEncryption);Wt.sha512_224WithRSAEncryption=ri(Nn.id_sha512_224WithRSAEncryption);Wt.sha512_256WithRSAEncryption=ri(Nn.id_sha512_256WithRSAEncryption)});var Xz=g(H0=>{"use strict";Object.defineProperty(H0,"__esModule",{value:!0});H0.RSAES_OAEP=H0.RsaEsOaepParams=void 0;var HP=ke(),m1=Le(),_d=Rr(),Jz=p1(),U0=y_(),K0=class{constructor(e={}){this.hashAlgorithm=new _d.AlgorithmIdentifier(U0.sha1),this.maskGenAlgorithm=new _d.AlgorithmIdentifier({algorithm:Jz.id_mgf1,parameters:m1.AsnConvert.serialize(U0.sha1)}),this.pSourceAlgorithm=new _d.AlgorithmIdentifier(U0.pSpecifiedEmpty),Object.assign(this,e)}};HP.__decorate([m1.AsnProp({type:_d.AlgorithmIdentifier,context:0,defaultValue:U0.sha1})],K0.prototype,"hashAlgorithm",void 0);HP.__decorate([m1.AsnProp({type:_d.AlgorithmIdentifier,context:1,defaultValue:U0.mgf1SHA1})],K0.prototype,"maskGenAlgorithm",void 0);HP.__decorate([m1.AsnProp({type:_d.AlgorithmIdentifier,context:2,defaultValue:U0.pSpecifiedEmpty})],K0.prototype,"pSourceAlgorithm",void 0);H0.RsaEsOaepParams=K0;H0.RSAES_OAEP=new _d.AlgorithmIdentifier({algorithm:Jz.id_RSAES_OAEP,parameters:m1.AsnConvert.serialize(new K0)})});var Zz=g(F0=>{"use strict";Object.defineProperty(F0,"__esModule",{value:!0});F0.RSASSA_PSS=F0.RsaSaPssParams=void 0;var v_=ke(),zc=Le(),x1=Rr(),Qz=p1(),b_=y_(),wd=class{constructor(e={}){this.hashAlgorithm=new x1.AlgorithmIdentifier(b_.sha1),this.maskGenAlgorithm=new x1.AlgorithmIdentifier({algorithm:Qz.id_mgf1,parameters:zc.AsnConvert.serialize(b_.sha1)}),this.saltLength=20,this.trailerField=1,Object.assign(this,e)}};v_.__decorate([zc.AsnProp({type:x1.AlgorithmIdentifier,context:0,defaultValue:b_.sha1})],wd.prototype,"hashAlgorithm",void 0);v_.__decorate([zc.AsnProp({type:x1.AlgorithmIdentifier,context:1,defaultValue:b_.mgf1SHA1})],wd.prototype,"maskGenAlgorithm",void 0);v_.__decorate([zc.AsnProp({type:zc.AsnPropTypes.Integer,context:2,defaultValue:20})],wd.prototype,"saltLength",void 0);v_.__decorate([zc.AsnProp({type:zc.AsnPropTypes.Integer,context:3,defaultValue:1})],wd.prototype,"trailerField",void 0);F0.RsaSaPssParams=wd;F0.RSASSA_PSS=new x1.AlgorithmIdentifier({algorithm:Qz.id_RSASSA_PSS,parameters:zc.AsnConvert.serialize(new wd)})});var rW=g(w_=>{"use strict";Object.defineProperty(w_,"__esModule",{value:!0});w_.DigestInfo=void 0;var eW=ke(),tW=Rr(),g_=Le(),__=class{constructor(e={}){this.digestAlgorithm=new tW.AlgorithmIdentifier,this.digest=new g_.OctetString,Object.assign(this,e)}};eW.__decorate([g_.AsnProp({type:tW.AlgorithmIdentifier})],__.prototype,"digestAlgorithm",void 0);eW.__decorate([g_.AsnProp({type:g_.OctetString})],__.prototype,"digest",void 0);w_.DigestInfo=__});var nW=g(y1=>{"use strict";Object.defineProperty(y1,"__esModule",{value:!0});var KP=ke();KP.__exportStar(Xz(),y1);KP.__exportStar(Zz(),y1);KP.__exportStar(rW(),y1)});var WP=g(z0=>{"use strict";var FP;Object.defineProperty(z0,"__esModule",{value:!0});z0.OtherPrimeInfos=z0.OtherPrimeInfo=void 0;var S_=ke(),Za=Le(),W0=class{constructor(e={}){this.prime=new ArrayBuffer(0),this.exponent=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0),Object.assign(this,e)}};S_.__decorate([Za.AsnProp({type:Za.AsnPropTypes.Integer,converter:Za.AsnIntegerArrayBufferConverter})],W0.prototype,"prime",void 0);S_.__decorate([Za.AsnProp({type:Za.AsnPropTypes.Integer,converter:Za.AsnIntegerArrayBufferConverter})],W0.prototype,"exponent",void 0);S_.__decorate([Za.AsnProp({type:Za.AsnPropTypes.Integer,converter:Za.AsnIntegerArrayBufferConverter})],W0.prototype,"coefficient",void 0);z0.OtherPrimeInfo=W0;var zP=FP=class extends Za.AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,FP.prototype)}};zP=FP=S_.__decorate([Za.AsnType({type:Za.AsnTypeTypes.Sequence,itemType:W0})],zP);z0.OtherPrimeInfos=zP});var iW=g(A_=>{"use strict";Object.defineProperty(A_,"__esModule",{value:!0});A_.RSAPrivateKey=void 0;var Ro=ke(),zr=Le(),c_e=WP(),es=class{constructor(e={}){this.version=0,this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),this.privateExponent=new ArrayBuffer(0),this.prime1=new ArrayBuffer(0),this.prime2=new ArrayBuffer(0),this.exponent1=new ArrayBuffer(0),this.exponent2=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0),Object.assign(this,e)}};Ro.__decorate([zr.AsnProp({type:zr.AsnPropTypes.Integer})],es.prototype,"version",void 0);Ro.__decorate([zr.AsnProp({type:zr.AsnPropTypes.Integer,converter:zr.AsnIntegerArrayBufferConverter})],es.prototype,"modulus",void 0);Ro.__decorate([zr.AsnProp({type:zr.AsnPropTypes.Integer,converter:zr.AsnIntegerArrayBufferConverter})],es.prototype,"publicExponent",void 0);Ro.__decorate([zr.AsnProp({type:zr.AsnPropTypes.Integer,converter:zr.AsnIntegerArrayBufferConverter})],es.prototype,"privateExponent",void 0);Ro.__decorate([zr.AsnProp({type:zr.AsnPropTypes.Integer,converter:zr.AsnIntegerArrayBufferConverter})],es.prototype,"prime1",void 0);Ro.__decorate([zr.AsnProp({type:zr.AsnPropTypes.Integer,converter:zr.AsnIntegerArrayBufferConverter})],es.prototype,"prime2",void 0);Ro.__decorate([zr.AsnProp({type:zr.AsnPropTypes.Integer,converter:zr.AsnIntegerArrayBufferConverter})],es.prototype,"exponent1",void 0);Ro.__decorate([zr.AsnProp({type:zr.AsnPropTypes.Integer,converter:zr.AsnIntegerArrayBufferConverter})],es.prototype,"exponent2",void 0);Ro.__decorate([zr.AsnProp({type:zr.AsnPropTypes.Integer,converter:zr.AsnIntegerArrayBufferConverter})],es.prototype,"coefficient",void 0);Ro.__decorate([zr.AsnProp({type:c_e.OtherPrimeInfos,optional:!0})],es.prototype,"otherPrimeInfos",void 0);A_.RSAPrivateKey=es});var sW=g(E_=>{"use strict";Object.defineProperty(E_,"__esModule",{value:!0});E_.RSAPublicKey=void 0;var aW=ke(),j0=Le(),C_=class{constructor(e={}){this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),Object.assign(this,e)}};aW.__decorate([j0.AsnProp({type:j0.AsnPropTypes.Integer,converter:j0.AsnIntegerArrayBufferConverter})],C_.prototype,"modulus",void 0);aW.__decorate([j0.AsnProp({type:j0.AsnPropTypes.Integer,converter:j0.AsnIntegerArrayBufferConverter})],C_.prototype,"publicExponent",void 0);E_.RSAPublicKey=C_});var jP=g(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});var $0=ke();$0.__exportStar(nW(),Wc);$0.__exportStar(y_(),Wc);$0.__exportStar(p1(),Wc);$0.__exportStar(WP(),Wc);$0.__exportStar(iW(),Wc);$0.__exportStar(sW(),Wc)});var $P=g(I_=>{"use strict";Object.defineProperty(I_,"__esModule",{value:!0});I_.Attribute=void 0;var oW=ke(),P_=Le(),T_=class{constructor(e={}){this.attrType="",this.attrValues=[],Object.assign(this,e)}};oW.__decorate([P_.AsnProp({type:P_.AsnPropTypes.ObjectIdentifier})],T_.prototype,"attrType",void 0);oW.__decorate([P_.AsnProp({type:P_.AsnPropTypes.Any,repeated:"set"})],T_.prototype,"attrValues",void 0);I_.Attribute=T_});var uW=g(B_=>{"use strict";Object.defineProperty(B_,"__esModule",{value:!0});B_.ACClearAttrs=void 0;var VP=ke(),k_=Le(),GP=Rr(),b1=class{constructor(e={}){this.acIssuer=new GP.GeneralName,this.acSerial=0,this.attrs=[],Object.assign(this,e)}};VP.__decorate([k_.AsnProp({type:GP.GeneralName})],b1.prototype,"acIssuer",void 0);VP.__decorate([k_.AsnProp({type:k_.AsnPropTypes.Integer})],b1.prototype,"acSerial",void 0);VP.__decorate([k_.AsnProp({type:GP.Attribute,repeated:"sequence"})],b1.prototype,"attrs",void 0);B_.ACClearAttrs=b1});var XP=g(M_=>{"use strict";var YP;Object.defineProperty(M_,"__esModule",{value:!0});M_.AttrSpec=void 0;var f_e=ke(),R_=Le(),JP=YP=class extends R_.AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,YP.prototype)}};JP=YP=f_e.__decorate([R_.AsnType({type:R_.AsnTypeTypes.Sequence,itemType:R_.AsnPropTypes.ObjectIdentifier})],JP);M_.AttrSpec=JP});var fW=g(q_=>{"use strict";Object.defineProperty(q_,"__esModule",{value:!0});q_.AAControls=void 0;var O_=ke(),V0=Le(),cW=XP(),G0=class{constructor(e={}){this.permitUnSpecified=!0,Object.assign(this,e)}};O_.__decorate([V0.AsnProp({type:V0.AsnPropTypes.Integer,optional:!0})],G0.prototype,"pathLenConstraint",void 0);O_.__decorate([V0.AsnProp({type:cW.AttrSpec,implicit:!0,context:0,optional:!0})],G0.prototype,"permittedAttrs",void 0);O_.__decorate([V0.AsnProp({type:cW.AttrSpec,implicit:!0,context:1,optional:!0})],G0.prototype,"excludedAttrs",void 0);O_.__decorate([V0.AsnProp({type:V0.AsnPropTypes.Boolean,defaultValue:!0})],G0.prototype,"permitUnSpecified",void 0);q_.AAControls=G0});var g1=g(D_=>{"use strict";Object.defineProperty(D_,"__esModule",{value:!0});D_.IssuerSerial=void 0;var QP=ke(),Y0=Le(),dW=Rr(),v1=class{constructor(e={}){this.issuer=new dW.GeneralNames,this.serial=new ArrayBuffer(0),this.issuerUID=new ArrayBuffer(0),Object.assign(this,e)}};QP.__decorate([Y0.AsnProp({type:dW.GeneralNames})],v1.prototype,"issuer",void 0);QP.__decorate([Y0.AsnProp({type:Y0.AsnPropTypes.Integer,converter:Y0.AsnIntegerArrayBufferConverter})],v1.prototype,"serial",void 0);QP.__decorate([Y0.AsnProp({type:Y0.AsnPropTypes.BitString,optional:!0})],v1.prototype,"issuerUID",void 0);D_.IssuerSerial=v1});var _1=g(Ad=>{"use strict";Object.defineProperty(Ad,"__esModule",{value:!0});Ad.ObjectDigestInfo=Ad.DigestedObjectType=void 0;var N_=ke(),Sd=Le(),lW=Rr(),hW;(function(t){t[t.publicKey=0]="publicKey",t[t.publicKeyCert=1]="publicKeyCert",t[t.otherObjectTypes=2]="otherObjectTypes"})(hW=Ad.DigestedObjectType||(Ad.DigestedObjectType={}));var J0=class{constructor(e={}){this.digestedObjectType=hW.publicKey,this.digestAlgorithm=new lW.AlgorithmIdentifier,this.objectDigest=new ArrayBuffer(0),Object.assign(this,e)}};N_.__decorate([Sd.AsnProp({type:Sd.AsnPropTypes.Enumerated})],J0.prototype,"digestedObjectType",void 0);N_.__decorate([Sd.AsnProp({type:Sd.AsnPropTypes.ObjectIdentifier,optional:!0})],J0.prototype,"otherObjectTypeID",void 0);N_.__decorate([Sd.AsnProp({type:lW.AlgorithmIdentifier})],J0.prototype,"digestAlgorithm",void 0);N_.__decorate([Sd.AsnProp({type:Sd.AsnPropTypes.BitString})],J0.prototype,"objectDigest",void 0);Ad.ObjectDigestInfo=J0});var tT=g(L_=>{"use strict";Object.defineProperty(L_,"__esModule",{value:!0});L_.V2Form=void 0;var ZP=ke(),eT=Le(),d_e=Rr(),l_e=g1(),h_e=_1(),w1=class{constructor(e={}){Object.assign(this,e)}};ZP.__decorate([eT.AsnProp({type:d_e.GeneralNames,optional:!0})],w1.prototype,"issuerName",void 0);ZP.__decorate([eT.AsnProp({type:l_e.IssuerSerial,context:0,implicit:!0,optional:!0})],w1.prototype,"baseCertificateID",void 0);ZP.__decorate([eT.AsnProp({type:h_e.ObjectDigestInfo,context:1,implicit:!0,optional:!0})],w1.prototype,"objectDigestInfo",void 0);L_.V2Form=w1});var nT=g(H_=>{"use strict";Object.defineProperty(H_,"__esModule",{value:!0});H_.AttCertIssuer=void 0;var rT=ke(),U_=Le(),p_e=Rr(),m_e=tT(),S1=class{constructor(e={}){Object.assign(this,e)}};rT.__decorate([U_.AsnProp({type:p_e.GeneralName,repeated:"sequence"})],S1.prototype,"v1Form",void 0);rT.__decorate([U_.AsnProp({type:m_e.V2Form,context:0,implicit:!0})],S1.prototype,"v2Form",void 0);S1=rT.__decorate([U_.AsnType({type:U_.AsnTypeTypes.Choice})],S1);H_.AttCertIssuer=S1});var iT=g(z_=>{"use strict";Object.defineProperty(z_,"__esModule",{value:!0});z_.AttCertValidityPeriod=void 0;var pW=ke(),K_=Le(),F_=class{constructor(e={}){this.notBeforeTime=new Date,this.notAfterTime=new Date,Object.assign(this,e)}};pW.__decorate([K_.AsnProp({type:K_.AsnPropTypes.GeneralizedTime})],F_.prototype,"notBeforeTime",void 0);pW.__decorate([K_.AsnProp({type:K_.AsnPropTypes.GeneralizedTime})],F_.prototype,"notAfterTime",void 0);z_.AttCertValidityPeriod=F_});var oT=g(W_=>{"use strict";Object.defineProperty(W_,"__esModule",{value:!0});W_.Holder=void 0;var aT=ke(),sT=Le(),x_e=g1(),y_e=Rr(),b_e=_1(),A1=class{constructor(e={}){Object.assign(this,e)}};aT.__decorate([sT.AsnProp({type:x_e.IssuerSerial,implicit:!0,context:0,optional:!0})],A1.prototype,"baseCertificateID",void 0);aT.__decorate([sT.AsnProp({type:y_e.GeneralNames,implicit:!0,context:1,optional:!0})],A1.prototype,"entityName",void 0);aT.__decorate([sT.AsnProp({type:b_e.ObjectDigestInfo,implicit:!0,context:2,optional:!0})],A1.prototype,"objectDigestInfo",void 0);W_.Holder=A1});var uT=g(Cd=>{"use strict";Object.defineProperty(Cd,"__esModule",{value:!0});Cd.AttributeCertificateInfo=Cd.AttCertVersion=void 0;var Iu=ke(),va=Le(),j_=Rr(),mW=oT(),xW=nT(),yW=iT(),bW;(function(t){t[t.v2=1]="v2"})(bW=Cd.AttCertVersion||(Cd.AttCertVersion={}));var Ds=class{constructor(e={}){this.version=bW.v2,this.holder=new mW.Holder,this.issuer=new xW.AttCertIssuer,this.signature=new j_.AlgorithmIdentifier,this.serialNumber=new ArrayBuffer(0),this.attrCertValidityPeriod=new yW.AttCertValidityPeriod,this.attributes=[],Object.assign(this,e)}};Iu.__decorate([va.AsnProp({type:va.AsnPropTypes.Integer})],Ds.prototype,"version",void 0);Iu.__decorate([va.AsnProp({type:mW.Holder})],Ds.prototype,"holder",void 0);Iu.__decorate([va.AsnProp({type:xW.AttCertIssuer})],Ds.prototype,"issuer",void 0);Iu.__decorate([va.AsnProp({type:j_.AlgorithmIdentifier})],Ds.prototype,"signature",void 0);Iu.__decorate([va.AsnProp({type:va.AsnPropTypes.Integer,converter:va.AsnIntegerArrayBufferConverter})],Ds.prototype,"serialNumber",void 0);Iu.__decorate([va.AsnProp({type:yW.AttCertValidityPeriod})],Ds.prototype,"attrCertValidityPeriod",void 0);Iu.__decorate([va.AsnProp({type:j_.Attribute,repeated:"sequence"})],Ds.prototype,"attributes",void 0);Iu.__decorate([va.AsnProp({type:va.AsnPropTypes.BitString,optional:!0})],Ds.prototype,"issuerUniqueID",void 0);Iu.__decorate([va.AsnProp({type:j_.Extensions,optional:!0})],Ds.prototype,"extensions",void 0);Cd.AttributeCertificateInfo=Ds});var _W=g(V_=>{"use strict";Object.defineProperty(V_,"__esModule",{value:!0});V_.AttributeCertificate=void 0;var cT=ke(),$_=Le(),vW=Rr(),gW=uT(),C1=class{constructor(e={}){this.acinfo=new gW.AttributeCertificateInfo,this.signatureAlgorithm=new vW.AlgorithmIdentifier,this.signatureValue=new ArrayBuffer(0),Object.assign(this,e)}};cT.__decorate([$_.AsnProp({type:gW.AttributeCertificateInfo})],C1.prototype,"acinfo",void 0);cT.__decorate([$_.AsnProp({type:vW.AlgorithmIdentifier})],C1.prototype,"signatureAlgorithm",void 0);cT.__decorate([$_.AsnProp({type:$_.AsnPropTypes.BitString})],C1.prototype,"signatureValue",void 0);V_.AttributeCertificate=C1});var fT=g(Ed=>{"use strict";Object.defineProperty(Ed,"__esModule",{value:!0});Ed.ClassList=Ed.ClassListFlags=void 0;var v_e=Le(),g_e;(function(t){t[t.unmarked=1]="unmarked",t[t.unclassified=2]="unclassified",t[t.restricted=4]="restricted",t[t.confidential=8]="confidential",t[t.secret=16]="secret",t[t.topSecret=32]="topSecret"})(g_e=Ed.ClassListFlags||(Ed.ClassListFlags={}));var wW=class extends v_e.BitString{};Ed.ClassList=wW});var dT=g(J_=>{"use strict";Object.defineProperty(J_,"__esModule",{value:!0});J_.SecurityCategory=void 0;var SW=ke(),G_=Le(),Y_=class{constructor(e={}){this.type="",this.value=new ArrayBuffer(0),Object.assign(this,e)}};SW.__decorate([G_.AsnProp({type:G_.AsnPropTypes.ObjectIdentifier,implicit:!0,context:0})],Y_.prototype,"type",void 0);SW.__decorate([G_.AsnProp({type:G_.AsnPropTypes.Any,implicit:!0,context:1})],Y_.prototype,"value",void 0);J_.SecurityCategory=Y_});var AW=g(Q_=>{"use strict";Object.defineProperty(Q_,"__esModule",{value:!0});Q_.Clearance=void 0;var lT=ke(),X_=Le(),E1=fT(),__e=dT(),P1=class{constructor(e={}){this.policyId="",this.classList=new E1.ClassList(E1.ClassListFlags.unclassified),Object.assign(this,e)}};lT.__decorate([X_.AsnProp({type:X_.AsnPropTypes.ObjectIdentifier})],P1.prototype,"policyId",void 0);lT.__decorate([X_.AsnProp({type:E1.ClassList,defaultValue:new E1.ClassList(E1.ClassListFlags.unclassified)})],P1.prototype,"classList",void 0);lT.__decorate([X_.AsnProp({type:__e.SecurityCategory,repeated:"set"})],P1.prototype,"securityCategories",void 0);Q_.Clearance=P1});var CW=g(X0=>{"use strict";Object.defineProperty(X0,"__esModule",{value:!0});X0.IetfAttrSyntax=X0.IetfAttrSyntaxValueChoices=void 0;var T1=ke(),jc=Le(),w_e=Rr(),Q0=class{constructor(e={}){Object.assign(this,e)}};T1.__decorate([jc.AsnProp({type:jc.OctetString})],Q0.prototype,"cotets",void 0);T1.__decorate([jc.AsnProp({type:jc.AsnPropTypes.ObjectIdentifier})],Q0.prototype,"oid",void 0);T1.__decorate([jc.AsnProp({type:jc.AsnPropTypes.Utf8String})],Q0.prototype,"string",void 0);X0.IetfAttrSyntaxValueChoices=Q0;var Z_=class{constructor(e={}){this.values=[],Object.assign(this,e)}};T1.__decorate([jc.AsnProp({type:w_e.GeneralNames,implicit:!0,context:0,optional:!0})],Z_.prototype,"policyAuthority",void 0);T1.__decorate([jc.AsnProp({type:Q0,repeated:"sequence"})],Z_.prototype,"values",void 0);X0.IetfAttrSyntax=Z_});var EW=g(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.id_at_clearance=Ar.id_at_role=Ar.id_at=Ar.id_aca_encAttrs=Ar.id_aca_group=Ar.id_aca_chargingIdentity=Ar.id_aca_accessIdentity=Ar.id_aca_authenticationInfo=Ar.id_aca=Ar.id_ce_targetInformation=Ar.id_pe_ac_proxying=Ar.id_pe_aaControls=Ar.id_pe_ac_auditIdentity=void 0;var I1=Rr();Ar.id_pe_ac_auditIdentity=`${I1.id_pe}.4`;Ar.id_pe_aaControls=`${I1.id_pe}.6`;Ar.id_pe_ac_proxying=`${I1.id_pe}.10`;Ar.id_ce_targetInformation=`${I1.id_ce}.55`;Ar.id_aca=`${I1.id_pkix}.10`;Ar.id_aca_authenticationInfo=`${Ar.id_aca}.1`;Ar.id_aca_accessIdentity=`${Ar.id_aca}.2`;Ar.id_aca_chargingIdentity=`${Ar.id_aca}.3`;Ar.id_aca_group=`${Ar.id_aca}.4`;Ar.id_aca_encAttrs=`${Ar.id_aca}.6`;Ar.id_at="2.5.4";Ar.id_at_role=`${Ar.id_at}.72`;Ar.id_at_clearance="2.5.1.5.55"});var xT=g($c=>{"use strict";var hT;Object.defineProperty($c,"__esModule",{value:!0});$c.Targets=$c.Target=$c.TargetCert=void 0;var Vc=ke(),Ns=Le(),mT=Rr(),PW=g1(),S_e=_1(),Z0=class{constructor(e={}){this.targetCertificate=new PW.IssuerSerial,Object.assign(this,e)}};Vc.__decorate([Ns.AsnProp({type:PW.IssuerSerial})],Z0.prototype,"targetCertificate",void 0);Vc.__decorate([Ns.AsnProp({type:mT.GeneralName,optional:!0})],Z0.prototype,"targetName",void 0);Vc.__decorate([Ns.AsnProp({type:S_e.ObjectDigestInfo,optional:!0})],Z0.prototype,"certDigestInfo",void 0);$c.TargetCert=Z0;var Pd=class{constructor(e={}){Object.assign(this,e)}};Vc.__decorate([Ns.AsnProp({type:mT.GeneralName,context:0,implicit:!0})],Pd.prototype,"targetName",void 0);Vc.__decorate([Ns.AsnProp({type:mT.GeneralName,context:1,implicit:!0})],Pd.prototype,"targetGroup",void 0);Vc.__decorate([Ns.AsnProp({type:Z0,context:2,implicit:!0})],Pd.prototype,"targetCert",void 0);Pd=Vc.__decorate([Ns.AsnType({type:Ns.AsnTypeTypes.Choice})],Pd);$c.Target=Pd;var pT=hT=class extends Ns.AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,hT.prototype)}};pT=hT=Vc.__decorate([Ns.AsnType({type:Ns.AsnTypeTypes.Sequence,itemType:Pd})],pT);$c.Targets=pT});var TW=g(e2=>{"use strict";var yT;Object.defineProperty(e2,"__esModule",{value:!0});e2.ProxyInfo=void 0;var A_e=ke(),bT=Le(),C_e=xT(),vT=yT=class extends bT.AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,yT.prototype)}};vT=yT=A_e.__decorate([bT.AsnType({type:bT.AsnTypeTypes.Sequence,itemType:C_e.Targets})],vT);e2.ProxyInfo=vT});var RW=g(r2=>{"use strict";Object.defineProperty(r2,"__esModule",{value:!0});r2.RoleSyntax=void 0;var IW=ke(),kW=Le(),BW=Rr(),t2=class{constructor(e={}){Object.assign(this,e)}};IW.__decorate([kW.AsnProp({type:BW.GeneralNames,implicit:!0,context:0,optional:!0})],t2.prototype,"roleAuthority",void 0);IW.__decorate([kW.AsnProp({type:BW.GeneralName,implicit:!0,context:1})],t2.prototype,"roleName",void 0);r2.RoleSyntax=t2});var MW=g(a2=>{"use strict";Object.defineProperty(a2,"__esModule",{value:!0});a2.SvceAuthInfo=void 0;var gT=ke(),n2=Le(),i2=Rr(),k1=class{constructor(e={}){this.service=new i2.GeneralName,this.ident=new i2.GeneralName,Object.assign(this,e)}};gT.__decorate([n2.AsnProp({type:i2.GeneralName})],k1.prototype,"service",void 0);gT.__decorate([n2.AsnProp({type:i2.GeneralName})],k1.prototype,"ident",void 0);gT.__decorate([n2.AsnProp({type:n2.OctetString,optional:!0})],k1.prototype,"authInfo",void 0);a2.SvceAuthInfo=k1});var _T=g(En=>{"use strict";Object.defineProperty(En,"__esModule",{value:!0});var Fn=ke();Fn.__exportStar(uW(),En);Fn.__exportStar(fW(),En);Fn.__exportStar(nT(),En);Fn.__exportStar(iT(),En);Fn.__exportStar(XP(),En);Fn.__exportStar(_W(),En);Fn.__exportStar(uT(),En);Fn.__exportStar(fT(),En);Fn.__exportStar(AW(),En);Fn.__exportStar(oT(),En);Fn.__exportStar(CW(),En);Fn.__exportStar(g1(),En);Fn.__exportStar(_1(),En);Fn.__exportStar(EW(),En);Fn.__exportStar(TW(),En);Fn.__exportStar(RW(),En);Fn.__exportStar(dT(),En);Fn.__exportStar(MW(),En);Fn.__exportStar(xT(),En);Fn.__exportStar(tT(),En)});var AT=g(Gc=>{"use strict";var wT;Object.defineProperty(Gc,"__esModule",{value:!0});Gc.CertificateSet=Gc.CertificateChoices=Gc.OtherCertificateFormat=void 0;var Id=ke(),ts=Le(),E_e=Rr(),P_e=_T(),B1=class{constructor(e={}){this.otherCertFormat="",this.otherCert=new ArrayBuffer(0),Object.assign(this,e)}};Id.__decorate([ts.AsnProp({type:ts.AsnPropTypes.ObjectIdentifier})],B1.prototype,"otherCertFormat",void 0);Id.__decorate([ts.AsnProp({type:ts.AsnPropTypes.Any})],B1.prototype,"otherCert",void 0);Gc.OtherCertificateFormat=B1;var Td=class{constructor(e={}){Object.assign(this,e)}};Id.__decorate([ts.AsnProp({type:E_e.Certificate})],Td.prototype,"certificate",void 0);Id.__decorate([ts.AsnProp({type:P_e.AttributeCertificate,context:2,implicit:!0})],Td.prototype,"v2AttrCert",void 0);Id.__decorate([ts.AsnProp({type:B1,context:3,implicit:!0})],Td.prototype,"other",void 0);Td=Id.__decorate([ts.AsnType({type:ts.AsnTypeTypes.Choice})],Td);Gc.CertificateChoices=Td;var ST=wT=class extends ts.AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,wT.prototype)}};ST=wT=Id.__decorate([ts.AsnType({type:ts.AsnTypeTypes.Set,itemType:Td})],ST);Gc.CertificateSet=ST});var qW=g(u2=>{"use strict";Object.defineProperty(u2,"__esModule",{value:!0});u2.ContentInfo=void 0;var OW=ke(),s2=Le(),o2=class{constructor(e={}){this.contentType="",this.content=new ArrayBuffer(0),Object.assign(this,e)}};OW.__decorate([s2.AsnProp({type:s2.AsnPropTypes.ObjectIdentifier})],o2.prototype,"contentType",void 0);OW.__decorate([s2.AsnProp({type:s2.AsnPropTypes.Any,context:0})],o2.prototype,"content",void 0);u2.ContentInfo=o2});var CT=g(th=>{"use strict";Object.defineProperty(th,"__esModule",{value:!0});th.EncapsulatedContentInfo=th.EncapsulatedContent=void 0;var R1=ke(),ku=Le(),eh=class{constructor(e={}){Object.assign(this,e)}};R1.__decorate([ku.AsnProp({type:ku.OctetString})],eh.prototype,"single",void 0);R1.__decorate([ku.AsnProp({type:ku.AsnPropTypes.Any})],eh.prototype,"any",void 0);eh=R1.__decorate([ku.AsnType({type:ku.AsnTypeTypes.Choice})],eh);th.EncapsulatedContent=eh;var c2=class{constructor(e={}){this.eContentType="",Object.assign(this,e)}};R1.__decorate([ku.AsnProp({type:ku.AsnPropTypes.ObjectIdentifier})],c2.prototype,"eContentType",void 0);R1.__decorate([ku.AsnProp({type:eh,context:0,optional:!0})],c2.prototype,"eContent",void 0);th.EncapsulatedContentInfo=c2});var ET=g(l2=>{"use strict";Object.defineProperty(l2,"__esModule",{value:!0});l2.IssuerAndSerialNumber=void 0;var DW=ke(),f2=Le(),NW=Rr(),d2=class{constructor(e={}){this.issuer=new NW.Name,this.serialNumber=new ArrayBuffer(0),Object.assign(this,e)}};DW.__decorate([f2.AsnProp({type:NW.Name})],d2.prototype,"issuer",void 0);DW.__decorate([f2.AsnProp({type:f2.AsnPropTypes.Integer,converter:f2.AsnIntegerArrayBufferConverter})],d2.prototype,"serialNumber",void 0);l2.IssuerAndSerialNumber=d2});var LW=g(Ei=>{"use strict";Object.defineProperty(Ei,"__esModule",{value:!0});Ei.id_authData=Ei.id_encryptedData=Ei.id_digestedData=Ei.id_envelopedData=Ei.id_signedData=Ei.id_data=Ei.id_ct_contentInfo=void 0;Ei.id_ct_contentInfo="1.2.840.113549.1.9.16.1.6";Ei.id_data="1.2.840.113549.1.7.1";Ei.id_signedData="1.2.840.113549.1.7.2";Ei.id_envelopedData="1.2.840.113549.1.7.3";Ei.id_digestedData="1.2.840.113549.1.7.5";Ei.id_encryptedData="1.2.840.113549.1.7.6";Ei.id_authData="1.2.840.113549.1.9.16.1.2"});var IT=g(Pi=>{"use strict";var PT;Object.defineProperty(Pi,"__esModule",{value:!0});Pi.RevocationInfoChoices=Pi.RevocationInfoChoice=Pi.OtherRevocationInfoFormat=Pi.id_ri_scvp=Pi.id_ri_ocsp_response=Pi.id_ri=void 0;var O1=ke(),Mo=Le(),T_e=Rr();Pi.id_ri=`${T_e.id_pkix}.16`;Pi.id_ri_ocsp_response=`${Pi.id_ri}.2`;Pi.id_ri_scvp=`${Pi.id_ri}.4`;var rh=class{constructor(e={}){this.otherRevInfoFormat="",this.otherRevInfo=new ArrayBuffer(0),Object.assign(this,e)}};O1.__decorate([Mo.AsnProp({type:Mo.AsnPropTypes.ObjectIdentifier})],rh.prototype,"otherRevInfoFormat",void 0);O1.__decorate([Mo.AsnProp({type:Mo.AsnPropTypes.Any})],rh.prototype,"otherRevInfo",void 0);Pi.OtherRevocationInfoFormat=rh;var M1=class{constructor(e={}){this.other=new rh,Object.assign(this,e)}};O1.__decorate([Mo.AsnProp({type:rh,context:1,implicit:!0})],M1.prototype,"other",void 0);M1=O1.__decorate([Mo.AsnType({type:Mo.AsnTypeTypes.Choice})],M1);Pi.RevocationInfoChoice=M1;var TT=PT=class extends Mo.AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,PT.prototype)}};TT=PT=O1.__decorate([Mo.AsnType({type:Mo.AsnTypeTypes.Set,itemType:M1})],TT);Pi.RevocationInfoChoices=TT});var p2=g(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.SignatureAlgorithmIdentifier=Bu.DigestAlgorithmIdentifier=Bu.CMSVersion=void 0;var UW=ke(),HW=Rr(),h2=Le(),I_e;(function(t){t[t.v0=0]="v0",t[t.v1=1]="v1",t[t.v2=2]="v2",t[t.v3=3]="v3",t[t.v4=4]="v4",t[t.v5=5]="v5"})(I_e=Bu.CMSVersion||(Bu.CMSVersion={}));var kT=class extends HW.AlgorithmIdentifier{};kT=UW.__decorate([h2.AsnType({type:h2.AsnTypeTypes.Sequence})],kT);Bu.DigestAlgorithmIdentifier=kT;var BT=class extends HW.AlgorithmIdentifier{};BT=UW.__decorate([h2.AsnType({type:h2.AsnTypeTypes.Sequence})],BT);Bu.SignatureAlgorithmIdentifier=BT});var MT=g(x2=>{"use strict";Object.defineProperty(x2,"__esModule",{value:!0});x2.SignerIdentifier=void 0;var RT=ke(),m2=Le(),KW=ET(),FW=Rr(),q1=class{constructor(e={}){this.issuerAndSerialNumber=new KW.IssuerAndSerialNumber,this.subjectKeyIdentifier=new FW.SubjectKeyIdentifier,Object.assign(this,e)}};RT.__decorate([m2.AsnProp({type:KW.IssuerAndSerialNumber})],q1.prototype,"issuerAndSerialNumber",void 0);RT.__decorate([m2.AsnProp({type:FW.SubjectKeyIdentifier,context:0,implicit:!0})],q1.prototype,"subjectKeyIdentifier",void 0);q1=RT.__decorate([m2.AsnType({type:m2.AsnTypeTypes.Choice})],q1);x2.SignerIdentifier=q1});var DT=g(nh=>{"use strict";var OT;Object.defineProperty(nh,"__esModule",{value:!0});nh.SignerInfos=nh.SignerInfo=void 0;var Yc=ke(),ga=Le(),zW=MT(),D1=p2(),WW=$P(),Oo=class{constructor(e={}){this.version=D1.CMSVersion.v0,this.sid=new zW.SignerIdentifier,this.digestAlgorithm=new D1.DigestAlgorithmIdentifier,this.signatureAlgorithm=new D1.SignatureAlgorithmIdentifier,this.signature=new ga.OctetString,Object.assign(this,e)}};Yc.__decorate([ga.AsnProp({type:ga.AsnPropTypes.Integer})],Oo.prototype,"version",void 0);Yc.__decorate([ga.AsnProp({type:zW.SignerIdentifier})],Oo.prototype,"sid",void 0);Yc.__decorate([ga.AsnProp({type:D1.DigestAlgorithmIdentifier})],Oo.prototype,"digestAlgorithm",void 0);Yc.__decorate([ga.AsnProp({type:WW.Attribute,repeated:"set",context:0,implicit:!0,optional:!0})],Oo.prototype,"signedAttrs",void 0);Yc.__decorate([ga.AsnProp({type:D1.SignatureAlgorithmIdentifier})],Oo.prototype,"signatureAlgorithm",void 0);Yc.__decorate([ga.AsnProp({type:ga.OctetString})],Oo.prototype,"signature",void 0);Yc.__decorate([ga.AsnProp({type:WW.Attribute,repeated:"set",context:1,implicit:!0,optional:!0})],Oo.prototype,"unsignedAttrs",void 0);nh.SignerInfo=Oo;var qT=OT=class extends ga.AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,OT.prototype)}};qT=OT=Yc.__decorate([ga.AsnType({type:ga.AsnTypeTypes.Set,itemType:Oo})],qT);nh.SignerInfos=qT});var GW=g(ih=>{"use strict";var NT;Object.defineProperty(ih,"__esModule",{value:!0});ih.SignedData=ih.DigestAlgorithmIdentifiers=void 0;var kd=ke(),qo=Le(),k_e=AT(),jW=p2(),$W=CT(),B_e=IT(),VW=DT(),N1=NT=class extends qo.AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,NT.prototype)}};N1=NT=kd.__decorate([qo.AsnType({type:qo.AsnTypeTypes.Set,itemType:jW.DigestAlgorithmIdentifier})],N1);ih.DigestAlgorithmIdentifiers=N1;var Jc=class{constructor(e={}){this.version=jW.CMSVersion.v0,this.digestAlgorithms=new N1,this.encapContentInfo=new $W.EncapsulatedContentInfo,this.signerInfos=new VW.SignerInfos,Object.assign(this,e)}};kd.__decorate([qo.AsnProp({type:qo.AsnPropTypes.Integer})],Jc.prototype,"version",void 0);kd.__decorate([qo.AsnProp({type:N1})],Jc.prototype,"digestAlgorithms",void 0);kd.__decorate([qo.AsnProp({type:$W.EncapsulatedContentInfo})],Jc.prototype,"encapContentInfo",void 0);kd.__decorate([qo.AsnProp({type:k_e.CertificateSet,context:0,implicit:!0,optional:!0})],Jc.prototype,"certificates",void 0);kd.__decorate([qo.AsnProp({type:B_e.RevocationInfoChoice,context:1,implicit:!0,optional:!0})],Jc.prototype,"crls",void 0);kd.__decorate([qo.AsnProp({type:VW.SignerInfos})],Jc.prototype,"signerInfos",void 0);ih.SignedData=Jc});var L1=g(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});var Ls=ke();Ls.__exportStar($P(),_a);Ls.__exportStar(AT(),_a);Ls.__exportStar(qW(),_a);Ls.__exportStar(CT(),_a);Ls.__exportStar(ET(),_a);Ls.__exportStar(LW(),_a);Ls.__exportStar(IT(),_a);Ls.__exportStar(GW(),_a);Ls.__exportStar(MT(),_a);Ls.__exportStar(DT(),_a);Ls.__exportStar(p2(),_a)});var KT=g(ah=>{"use strict";var LT;Object.defineProperty(ah,"__esModule",{value:!0});ah.PKCS12AttrSet=ah.PKCS12Attribute=void 0;var HT=ke(),Bd=Le(),U1=class{constructor(e={}){this.attrId="",this.attrValues=[],Object.assign(e)}};HT.__decorate([Bd.AsnProp({type:Bd.AsnPropTypes.ObjectIdentifier})],U1.prototype,"attrId",void 0);HT.__decorate([Bd.AsnProp({type:Bd.AsnPropTypes.Any,repeated:"set"})],U1.prototype,"attrValues",void 0);ah.PKCS12Attribute=U1;var UT=LT=class extends Bd.AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,LT.prototype)}};UT=LT=HT.__decorate([Bd.AsnType({type:Bd.AsnTypeTypes.Sequence,itemType:U1})],UT);ah.PKCS12AttrSet=UT});var YW=g(y2=>{"use strict";var FT;Object.defineProperty(y2,"__esModule",{value:!0});y2.AuthenticatedSafe=void 0;var R_e=ke(),zT=Le(),M_e=L1(),WT=FT=class extends zT.AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,FT.prototype)}};WT=FT=R_e.__decorate([zT.AsnType({type:zT.AsnTypeTypes.Sequence,itemType:M_e.ContentInfo})],WT);y2.AuthenticatedSafe=WT});var jT=g(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});Cr.id_bagtypes=Cr.id_pbewithSHAAnd40BitRC2_CBC=Cr.id_pbeWithSHAAnd128BitRC2_CBC=Cr.id_pbeWithSHAAnd2_KeyTripleDES_CBC=Cr.id_pbeWithSHAAnd3_KeyTripleDES_CBC=Cr.id_pbeWithSHAAnd40BitRC4=Cr.id_pbeWithSHAAnd128BitRC4=Cr.id_pkcs_12PbeIds=Cr.id_pkcs_12=Cr.id_pkcs=Cr.id_rsadsi=void 0;Cr.id_rsadsi="1.2.840.113549";Cr.id_pkcs=`${Cr.id_rsadsi}.1`;Cr.id_pkcs_12=`${Cr.id_pkcs}.12`;Cr.id_pkcs_12PbeIds=`${Cr.id_pkcs_12}.1`;Cr.id_pbeWithSHAAnd128BitRC4=`${Cr.id_pkcs_12PbeIds}.1`;Cr.id_pbeWithSHAAnd40BitRC4=`${Cr.id_pkcs_12PbeIds}.2`;Cr.id_pbeWithSHAAnd3_KeyTripleDES_CBC=`${Cr.id_pkcs_12PbeIds}.3`;Cr.id_pbeWithSHAAnd2_KeyTripleDES_CBC=`${Cr.id_pkcs_12PbeIds}.4`;Cr.id_pbeWithSHAAnd128BitRC2_CBC=`${Cr.id_pkcs_12PbeIds}.5`;Cr.id_pbewithSHAAnd40BitRC2_CBC=`${Cr.id_pkcs_12PbeIds}.6`;Cr.id_bagtypes=`${Cr.id_pkcs_12}.10.1`});var b2=g(Ti=>{"use strict";Object.defineProperty(Ti,"__esModule",{value:!0});Ti.id_pkcs_9=Ti.id_SafeContents=Ti.id_SecretBag=Ti.id_CRLBag=Ti.id_certBag=Ti.id_pkcs8ShroudedKeyBag=Ti.id_keyBag=void 0;var sh=jT();Ti.id_keyBag=`${sh.id_bagtypes}.1`;Ti.id_pkcs8ShroudedKeyBag=`${sh.id_bagtypes}.2`;Ti.id_certBag=`${sh.id_bagtypes}.3`;Ti.id_CRLBag=`${sh.id_bagtypes}.4`;Ti.id_SecretBag=`${sh.id_bagtypes}.5`;Ti.id_SafeContents=`${sh.id_bagtypes}.6`;Ti.id_pkcs_9="1.2.840.113549.1.9"});var XW=g(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.id_sdsiCertificate=rs.id_x509Certificate=rs.id_certTypes=rs.CertBag=void 0;var JW=ke(),v2=Le(),O_e=b2(),g2=class{constructor(e={}){this.certId="",this.certValue=new ArrayBuffer(0),Object.assign(this,e)}};JW.__decorate([v2.AsnProp({type:v2.AsnPropTypes.ObjectIdentifier})],g2.prototype,"certId",void 0);JW.__decorate([v2.AsnProp({type:v2.AsnPropTypes.Any,context:0})],g2.prototype,"certValue",void 0);rs.CertBag=g2;rs.id_certTypes=`${O_e.id_pkcs_9}.22`;rs.id_x509Certificate=`${rs.id_certTypes}.1`;rs.id_sdsiCertificate=`${rs.id_certTypes}.2`});var ZW=g(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru.id_x509CRL=Ru.id_crlTypes=Ru.CRLBag=void 0;var QW=ke(),_2=Le(),q_e=b2(),w2=class{constructor(e={}){this.crlId="",this.crltValue=new ArrayBuffer(0),Object.assign(this,e)}};QW.__decorate([_2.AsnProp({type:_2.AsnPropTypes.ObjectIdentifier})],w2.prototype,"crlId",void 0);QW.__decorate([_2.AsnProp({type:_2.AsnPropTypes.Any,context:0})],w2.prototype,"crltValue",void 0);Ru.CRLBag=w2;Ru.id_crlTypes=`${q_e.id_pkcs_9}.23`;Ru.id_x509CRL=`${Ru.id_crlTypes}.1`});var rj=g(oh=>{"use strict";Object.defineProperty(oh,"__esModule",{value:!0});oh.EncryptedPrivateKeyInfo=oh.EncryptedData=void 0;var ej=ke(),$T=Le(),tj=Rr(),S2=class extends $T.OctetString{};oh.EncryptedData=S2;var A2=class{constructor(e={}){this.encryptionAlgorithm=new tj.AlgorithmIdentifier,this.encryptedData=new S2,Object.assign(this,e)}};ej.__decorate([$T.AsnProp({type:tj.AlgorithmIdentifier})],A2.prototype,"encryptionAlgorithm",void 0);ej.__decorate([$T.AsnProp({type:S2})],A2.prototype,"encryptedData",void 0);oh.EncryptedPrivateKeyInfo=A2});var ij=g(Us=>{"use strict";var VT;Object.defineProperty(Us,"__esModule",{value:!0});Us.PrivateKeyInfo=Us.Attributes=Us.PrivateKey=Us.Version=void 0;var H1=ke(),Mu=Le(),GT=Rr(),nj;(function(t){t[t.v1=0]="v1"})(nj=Us.Version||(Us.Version={}));var E2=class extends Mu.OctetString{};Us.PrivateKey=E2;var C2=VT=class extends Mu.AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,VT.prototype)}};C2=VT=H1.__decorate([Mu.AsnType({type:Mu.AsnTypeTypes.Sequence,itemType:GT.Attribute})],C2);Us.Attributes=C2;var uh=class{constructor(e={}){this.version=nj.v1,this.privateKeyAlgorithm=new GT.AlgorithmIdentifier,this.privateKey=new E2,Object.assign(this,e)}};H1.__decorate([Mu.AsnProp({type:Mu.AsnPropTypes.Integer})],uh.prototype,"version",void 0);H1.__decorate([Mu.AsnProp({type:GT.AlgorithmIdentifier})],uh.prototype,"privateKeyAlgorithm",void 0);H1.__decorate([Mu.AsnProp({type:E2})],uh.prototype,"privateKey",void 0);H1.__decorate([Mu.AsnProp({type:C2,implicit:!0,context:0,optional:!0})],uh.prototype,"attributes",void 0);Us.PrivateKeyInfo=uh});var T2=g(P2=>{"use strict";Object.defineProperty(P2,"__esModule",{value:!0});var aj=ke();aj.__exportStar(rj(),P2);aj.__exportStar(ij(),P2)});var oj=g(I2=>{"use strict";Object.defineProperty(I2,"__esModule",{value:!0});I2.KeyBag=void 0;var D_e=ke(),N_e=T2(),sj=Le(),YT=class extends N_e.PrivateKeyInfo{};YT=D_e.__decorate([sj.AsnType({type:sj.AsnTypeTypes.Sequence})],YT);I2.KeyBag=YT});var cj=g(k2=>{"use strict";Object.defineProperty(k2,"__esModule",{value:!0});k2.PKCS8ShroudedKeyBag=void 0;var L_e=ke(),U_e=T2(),uj=Le(),JT=class extends U_e.EncryptedPrivateKeyInfo{};JT=L_e.__decorate([uj.AsnType({type:uj.AsnTypeTypes.Sequence})],JT);k2.PKCS8ShroudedKeyBag=JT});var dj=g(M2=>{"use strict";Object.defineProperty(M2,"__esModule",{value:!0});M2.SecretBag=void 0;var fj=ke(),B2=Le(),R2=class{constructor(e={}){this.secretTypeId="",this.secretValue=new ArrayBuffer(0),Object.assign(this,e)}};fj.__decorate([B2.AsnProp({type:B2.AsnPropTypes.ObjectIdentifier})],R2.prototype,"secretTypeId",void 0);fj.__decorate([B2.AsnProp({type:B2.AsnPropTypes.Any,context:0})],R2.prototype,"secretValue",void 0);M2.SecretBag=R2});var lj=g(Xc=>{"use strict";Object.defineProperty(Xc,"__esModule",{value:!0});var ch=ke();ch.__exportStar(XW(),Xc);ch.__exportStar(ZW(),Xc);ch.__exportStar(oj(),Xc);ch.__exportStar(cj(),Xc);ch.__exportStar(dj(),Xc);ch.__exportStar(b2(),Xc)});var QT=g(O2=>{"use strict";Object.defineProperty(O2,"__esModule",{value:!0});O2.MacData=void 0;var XT=ke(),hj=jP(),fh=Le(),K1=class{constructor(e={}){this.mac=new hj.DigestInfo,this.macSalt=new fh.OctetString,this.iterations=1,Object.assign(this,e)}};XT.__decorate([fh.AsnProp({type:hj.DigestInfo})],K1.prototype,"mac",void 0);XT.__decorate([fh.AsnProp({type:fh.OctetString})],K1.prototype,"macSalt",void 0);XT.__decorate([fh.AsnProp({type:fh.AsnPropTypes.Integer,defaultValue:1})],K1.prototype,"iterations",void 0);O2.MacData=K1});var xj=g(D2=>{"use strict";Object.defineProperty(D2,"__esModule",{value:!0});D2.PFX=void 0;var ZT=ke(),q2=Le(),pj=L1(),mj=QT(),F1=class{constructor(e={}){this.version=3,this.authSafe=new pj.ContentInfo,this.macData=new mj.MacData,Object.assign(this,e)}};ZT.__decorate([q2.AsnProp({type:q2.AsnPropTypes.Integer})],F1.prototype,"version",void 0);ZT.__decorate([q2.AsnProp({type:pj.ContentInfo})],F1.prototype,"authSafe",void 0);ZT.__decorate([q2.AsnProp({type:mj.MacData,optional:!0})],F1.prototype,"macData",void 0);D2.PFX=F1});var yj=g(dh=>{"use strict";var eI;Object.defineProperty(dh,"__esModule",{value:!0});dh.SafeContents=dh.SafeBag=void 0;var N2=ke(),Qc=Le(),H_e=KT(),lh=class{constructor(e={}){this.bagId="",this.bagValue=new ArrayBuffer(0),Object.assign(this,e)}};N2.__decorate([Qc.AsnProp({type:Qc.AsnPropTypes.ObjectIdentifier})],lh.prototype,"bagId",void 0);N2.__decorate([Qc.AsnProp({type:Qc.AsnPropTypes.Any,context:0})],lh.prototype,"bagValue",void 0);N2.__decorate([Qc.AsnProp({type:H_e.PKCS12Attribute,repeated:"set",optional:!0})],lh.prototype,"bagAttributes",void 0);dh.SafeBag=lh;var tI=eI=class extends Qc.AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,eI.prototype)}};tI=eI=N2.__decorate([Qc.AsnType({type:Qc.AsnTypeTypes.Sequence,itemType:lh})],tI);dh.SafeContents=tI});var bj=g(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});var Rd=ke();Rd.__exportStar(KT(),Ou);Rd.__exportStar(YW(),Ou);Rd.__exportStar(lj(),Ou);Rd.__exportStar(QT(),Ou);Rd.__exportStar(jT(),Ou);Rd.__exportStar(xj(),Ou);Rd.__exportStar(yj(),Ou)});var Sj=g(ae=>{"use strict";var rI,nI,iI;Object.defineProperty(ae,"__esModule",{value:!0});ae.DateOfBirth=ae.UnstructuredAddress=ae.UnstructuredName=ae.EmailAddress=ae.EncryptedPrivateKeyInfo=ae.UserPKCS12=ae.Pkcs7PDU=ae.PKCS9String=ae.id_at_pseudonym=ae.crlTypes=ae.id_certTypes=ae.id_smime=ae.id_pkcs9_mr_signingTimeMatch=ae.id_pkcs9_mr_caseIgnoreMatch=ae.id_pkcs9_sx_signingTime=ae.id_pkcs9_sx_pkcs9String=ae.id_pkcs9_at_countryOfResidence=ae.id_pkcs9_at_countryOfCitizenship=ae.id_pkcs9_at_gender=ae.id_pkcs9_at_placeOfBirth=ae.id_pkcs9_at_dateOfBirth=ae.id_ietf_at=ae.id_pkcs9_at_pkcs7PDU=ae.id_pkcs9_at_sequenceNumber=ae.id_pkcs9_at_randomNonce=ae.id_pkcs9_at_encryptedPrivateKeyInfo=ae.id_pkcs9_at_pkcs15Token=ae.id_pkcs9_at_userPKCS12=ae.id_pkcs9_at_localKeyId=ae.id_pkcs9_at_friendlyName=ae.id_pkcs9_at_smimeCapabilities=ae.id_pkcs9_at_extensionRequest=ae.id_pkcs9_at_signingDescription=ae.id_pkcs9_at_extendedCertificateAttributes=ae.id_pkcs9_at_unstructuredAddress=ae.id_pkcs9_at_challengePassword=ae.id_pkcs9_at_counterSignature=ae.id_pkcs9_at_signingTime=ae.id_pkcs9_at_messageDigest=ae.id_pkcs9_at_contentType=ae.id_pkcs9_at_unstructuredName=ae.id_pkcs9_at_emailAddress=ae.id_pkcs9_oc_naturalPerson=ae.id_pkcs9_oc_pkcsEntity=ae.id_pkcs9_mr=ae.id_pkcs9_sx=ae.id_pkcs9_at=ae.id_pkcs9_oc=ae.id_pkcs9_mo=ae.id_pkcs9=void 0;ae.SMIMECapabilities=ae.SMIMECapability=ae.SigningDescription=ae.LocalKeyId=ae.FriendlyName=ae.ExtendedCertificateAttributes=ae.ExtensionRequest=ae.ChallengePassword=ae.CounterSignature=ae.SequenceNumber=ae.RandomNonce=ae.SigningTime=ae.MessageDigest=ae.ContentType=ae.Pseudonym=ae.CountryOfResidence=ae.CountryOfCitizenship=ae.Gender=ae.PlaceOfBirth=void 0;var Mr=ke(),lt=Le(),vI=L1(),K_e=bj(),F_e=T2(),qu=Rr(),z_e=_T();ae.id_pkcs9="1.2.840.113549.1.9";ae.id_pkcs9_mo=`${ae.id_pkcs9}.0`;ae.id_pkcs9_oc=`${ae.id_pkcs9}.24`;ae.id_pkcs9_at=`${ae.id_pkcs9}.25`;ae.id_pkcs9_sx=`${ae.id_pkcs9}.26`;ae.id_pkcs9_mr=`${ae.id_pkcs9}.27`;ae.id_pkcs9_oc_pkcsEntity=`${ae.id_pkcs9_oc}.1`;ae.id_pkcs9_oc_naturalPerson=`${ae.id_pkcs9_oc}.2`;ae.id_pkcs9_at_emailAddress=`${ae.id_pkcs9}.1`;ae.id_pkcs9_at_unstructuredName=`${ae.id_pkcs9}.2`;ae.id_pkcs9_at_contentType=`${ae.id_pkcs9}.3`;ae.id_pkcs9_at_messageDigest=`${ae.id_pkcs9}.4`;ae.id_pkcs9_at_signingTime=`${ae.id_pkcs9}.5`;ae.id_pkcs9_at_counterSignature=`${ae.id_pkcs9}.6`;ae.id_pkcs9_at_challengePassword=`${ae.id_pkcs9}.7`;ae.id_pkcs9_at_unstructuredAddress=`${ae.id_pkcs9}.8`;ae.id_pkcs9_at_extendedCertificateAttributes=`${ae.id_pkcs9}.9`;ae.id_pkcs9_at_signingDescription=`${ae.id_pkcs9}.13`;ae.id_pkcs9_at_extensionRequest=`${ae.id_pkcs9}.14`;ae.id_pkcs9_at_smimeCapabilities=`${ae.id_pkcs9}.15`;ae.id_pkcs9_at_friendlyName=`${ae.id_pkcs9}.20`;ae.id_pkcs9_at_localKeyId=`${ae.id_pkcs9}.21`;ae.id_pkcs9_at_userPKCS12="2.16.840.1.113730.3.1.216";ae.id_pkcs9_at_pkcs15Token=`${ae.id_pkcs9_at}.1`;ae.id_pkcs9_at_encryptedPrivateKeyInfo=`${ae.id_pkcs9_at}.2`;ae.id_pkcs9_at_randomNonce=`${ae.id_pkcs9_at}.3`;ae.id_pkcs9_at_sequenceNumber=`${ae.id_pkcs9_at}.4`;ae.id_pkcs9_at_pkcs7PDU=`${ae.id_pkcs9_at}.5`;ae.id_ietf_at="1.3.6.1.5.5.7.9";ae.id_pkcs9_at_dateOfBirth=`${ae.id_ietf_at}.1`;ae.id_pkcs9_at_placeOfBirth=`${ae.id_ietf_at}.2`;ae.id_pkcs9_at_gender=`${ae.id_ietf_at}.3`;ae.id_pkcs9_at_countryOfCitizenship=`${ae.id_ietf_at}.4`;ae.id_pkcs9_at_countryOfResidence=`${ae.id_ietf_at}.5`;ae.id_pkcs9_sx_pkcs9String=`${ae.id_pkcs9_sx}.1`;ae.id_pkcs9_sx_signingTime=`${ae.id_pkcs9_sx}.2`;ae.id_pkcs9_mr_caseIgnoreMatch=`${ae.id_pkcs9_mr}.1`;ae.id_pkcs9_mr_signingTimeMatch=`${ae.id_pkcs9_mr}.2`;ae.id_smime=`${ae.id_pkcs9}.16`;ae.id_certTypes=`${ae.id_pkcs9}.22`;ae.crlTypes=`${ae.id_pkcs9}.23`;ae.id_at_pseudonym=`${z_e.id_at}.65`;var z1=class extends qu.DirectoryString{constructor(e={}){super(e)}toString(){return{}.toString(),this.ia5String||super.toString()}};Mr.__decorate([lt.AsnProp({type:lt.AsnPropTypes.IA5String})],z1.prototype,"ia5String",void 0);z1=Mr.__decorate([lt.AsnType({type:lt.AsnTypeTypes.Choice})],z1);ae.PKCS9String=z1;var aI=class extends vI.ContentInfo{};aI=Mr.__decorate([lt.AsnType({type:lt.AsnTypeTypes.Sequence})],aI);ae.Pkcs7PDU=aI;var sI=class extends K_e.PFX{};sI=Mr.__decorate([lt.AsnType({type:lt.AsnTypeTypes.Sequence})],sI);ae.UserPKCS12=sI;var oI=class extends F_e.EncryptedPrivateKeyInfo{};oI=Mr.__decorate([lt.AsnType({type:lt.AsnTypeTypes.Sequence})],oI);ae.EncryptedPrivateKeyInfo=oI;var L2=class{constructor(e=""){this.value=e}toString(){return this.value}};Mr.__decorate([lt.AsnProp({type:lt.AsnPropTypes.IA5String})],L2.prototype,"value",void 0);L2=Mr.__decorate([lt.AsnType({type:lt.AsnTypeTypes.Choice})],L2);ae.EmailAddress=L2;var uI=class extends z1{};uI=Mr.__decorate([lt.AsnType({type:lt.AsnTypeTypes.Choice})],uI);ae.UnstructuredName=uI;var cI=class extends qu.DirectoryString{};cI=Mr.__decorate([lt.AsnType({type:lt.AsnTypeTypes.Choice})],cI);ae.UnstructuredAddress=cI;var U2=class{constructor(e=new Date){this.value=e}};Mr.__decorate([lt.AsnProp({type:lt.AsnPropTypes.GeneralizedTime})],U2.prototype,"value",void 0);U2=Mr.__decorate([lt.AsnType({type:lt.AsnTypeTypes.Choice})],U2);ae.DateOfBirth=U2;var fI=class extends qu.DirectoryString{};fI=Mr.__decorate([lt.AsnType({type:lt.AsnTypeTypes.Choice})],fI);ae.PlaceOfBirth=fI;var H2=class{constructor(e="M"){this.value=e}toString(){return this.value}};Mr.__decorate([lt.AsnProp({type:lt.AsnPropTypes.PrintableString})],H2.prototype,"value",void 0);H2=Mr.__decorate([lt.AsnType({type:lt.AsnTypeTypes.Choice})],H2);ae.Gender=H2;var W1=class{constructor(e=""){this.value=e}toString(){return this.value}};Mr.__decorate([lt.AsnProp({type:lt.AsnPropTypes.PrintableString})],W1.prototype,"value",void 0);W1=Mr.__decorate([lt.AsnType({type:lt.AsnTypeTypes.Choice})],W1);ae.CountryOfCitizenship=W1;var dI=class extends W1{};dI=Mr.__decorate([lt.AsnType({type:lt.AsnTypeTypes.Choice})],dI);ae.CountryOfResidence=dI;var lI=class extends qu.DirectoryString{};lI=Mr.__decorate([lt.AsnType({type:lt.AsnTypeTypes.Choice})],lI);ae.Pseudonym=lI;var K2=class{constructor(e=""){this.value=e}toString(){return this.value}};Mr.__decorate([lt.AsnProp({type:lt.AsnPropTypes.ObjectIdentifier})],K2.prototype,"value",void 0);K2=Mr.__decorate([lt.AsnType({type:lt.AsnTypeTypes.Choice})],K2);ae.ContentType=K2;var vj=class extends lt.OctetString{};ae.MessageDigest=vj;var hI=class extends qu.Time{};hI=Mr.__decorate([lt.AsnType({type:lt.AsnTypeTypes.Choice})],hI);ae.SigningTime=hI;var gj=class extends lt.OctetString{};ae.RandomNonce=gj;var F2=class{constructor(e=0){this.value=e}toString(){return this.value.toString()}};Mr.__decorate([lt.AsnProp({type:lt.AsnPropTypes.Integer})],F2.prototype,"value",void 0);F2=Mr.__decorate([lt.AsnType({type:lt.AsnTypeTypes.Choice})],F2);ae.SequenceNumber=F2;var pI=class extends vI.SignerInfo{};pI=Mr.__decorate([lt.AsnType({type:lt.AsnTypeTypes.Sequence})],pI);ae.CounterSignature=pI;var mI=class extends qu.DirectoryString{};mI=Mr.__decorate([lt.AsnType({type:lt.AsnTypeTypes.Choice})],mI);ae.ChallengePassword=mI;var xI=rI=class extends qu.Extensions{constructor(e){super(e);Object.setPrototypeOf(this,rI.prototype)}};xI=rI=Mr.__decorate([lt.AsnType({type:lt.AsnTypeTypes.Sequence})],xI);ae.ExtensionRequest=xI;var yI=nI=class extends lt.AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,nI.prototype)}};yI=nI=Mr.__decorate([lt.AsnType({type:lt.AsnTypeTypes.Set,itemType:vI.Attribute})],yI);ae.ExtendedCertificateAttributes=yI;var z2=class{constructor(e=""){this.value=e}toString(){return this.value}};Mr.__decorate([lt.AsnProp({type:lt.AsnPropTypes.BmpString})],z2.prototype,"value",void 0);z2=Mr.__decorate([lt.AsnType({type:lt.AsnTypeTypes.Choice})],z2);ae.FriendlyName=z2;var _j=class extends lt.OctetString{};ae.LocalKeyId=_j;var wj=class extends qu.DirectoryString{};ae.SigningDescription=wj;var W2=class extends qu.AlgorithmIdentifier{};W2=Mr.__decorate([lt.AsnType({type:lt.AsnTypeTypes.Sequence})],W2);ae.SMIMECapability=W2;var bI=iI=class extends lt.AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,iI.prototype)}};bI=iI=Mr.__decorate([lt.AsnType({type:lt.AsnTypeTypes.Sequence,itemType:W2})],bI);ae.SMIMECapabilities=bI});var gI=g(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});Ut.id_sect571r1=Ut.id_sect571k1=Ut.id_secp521r1=Ut.id_sect409r1=Ut.id_sect409k1=Ut.id_secp384r1=Ut.id_sect283r1=Ut.id_sect283k1=Ut.id_secp256r1=Ut.id_sect233r1=Ut.id_sect233k1=Ut.id_secp224r1=Ut.id_sect163r2=Ut.id_sect163k1=Ut.id_secp192r1=Ut.id_ecdsaWithSHA512=Ut.id_ecdsaWithSHA384=Ut.id_ecdsaWithSHA256=Ut.id_ecdsaWithSHA224=Ut.id_ecdsaWithSHA1=Ut.id_ecMQV=Ut.id_ecDH=Ut.id_ecPublicKey=void 0;Ut.id_ecPublicKey="1.2.840.10045.2.1";Ut.id_ecDH="1.3.132.1.12";Ut.id_ecMQV="1.3.132.1.13";Ut.id_ecdsaWithSHA1="1.2.840.10045.4.1";Ut.id_ecdsaWithSHA224="1.2.840.10045.4.3.1";Ut.id_ecdsaWithSHA256="1.2.840.10045.4.3.2";Ut.id_ecdsaWithSHA384="1.2.840.10045.4.3.3";Ut.id_ecdsaWithSHA512="1.2.840.10045.4.3.4";Ut.id_secp192r1="1.2.840.10045.3.1.1";Ut.id_sect163k1="1.3.132.0.1";Ut.id_sect163r2="1.3.132.0.15";Ut.id_secp224r1="1.3.132.0.33";Ut.id_sect233k1="1.3.132.0.26";Ut.id_sect233r1="1.3.132.0.27";Ut.id_secp256r1="1.2.840.10045.3.1.7";Ut.id_sect283k1="1.3.132.0.16";Ut.id_sect283r1="1.3.132.0.17";Ut.id_secp384r1="1.3.132.0.34";Ut.id_sect409k1="1.3.132.0.36";Ut.id_sect409r1="1.3.132.0.37";Ut.id_secp521r1="1.3.132.0.35";Ut.id_sect571k1="1.3.132.0.38";Ut.id_sect571r1="1.3.132.0.39"});var Aj=g(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.ecdsaWithSHA512=ns.ecdsaWithSHA384=ns.ecdsaWithSHA256=ns.ecdsaWithSHA224=ns.ecdsaWithSHA1=void 0;var W_e=Rr(),j1=gI();function $1(t){return new W_e.AlgorithmIdentifier({algorithm:t})}ns.ecdsaWithSHA1=$1(j1.id_ecdsaWithSHA1);ns.ecdsaWithSHA224=$1(j1.id_ecdsaWithSHA224);ns.ecdsaWithSHA256=$1(j1.id_ecdsaWithSHA256);ns.ecdsaWithSHA384=$1(j1.id_ecdsaWithSHA384);ns.ecdsaWithSHA512=$1(j1.id_ecdsaWithSHA512)});var _I=g(V2=>{"use strict";Object.defineProperty(V2,"__esModule",{value:!0});V2.ECParameters=void 0;var Cj=ke(),j2=Le(),$2=class{constructor(e={}){Object.assign(this,e)}};Cj.__decorate([j2.AsnProp({type:j2.AsnPropTypes.ObjectIdentifier})],$2.prototype,"namedCurve",void 0);$2=Cj.__decorate([j2.AsnType({type:j2.AsnTypeTypes.Choice})],$2);V2.ECParameters=$2});var Ej=g(Y2=>{"use strict";Object.defineProperty(Y2,"__esModule",{value:!0});Y2.ECPrivateKey=void 0;var G2=ke(),Zc=Le(),j_e=_I(),hh=class{constructor(e={}){this.version=1,this.privateKey=new Zc.OctetString,Object.assign(this,e)}};G2.__decorate([Zc.AsnProp({type:Zc.AsnPropTypes.Integer})],hh.prototype,"version",void 0);G2.__decorate([Zc.AsnProp({type:Zc.OctetString})],hh.prototype,"privateKey",void 0);G2.__decorate([Zc.AsnProp({type:j_e.ECParameters,context:0,optional:!0})],hh.prototype,"parameters",void 0);G2.__decorate([Zc.AsnProp({type:Zc.AsnPropTypes.BitString,context:1,optional:!0})],hh.prototype,"publicKey",void 0);Y2.ECPrivateKey=hh});var Tj=g(X2=>{"use strict";Object.defineProperty(X2,"__esModule",{value:!0});X2.ECDSASigValue=void 0;var Pj=ke(),ph=Le(),J2=class{constructor(e={}){this.r=new ArrayBuffer(0),this.s=new ArrayBuffer(0),Object.assign(this,e)}};Pj.__decorate([ph.AsnProp({type:ph.AsnPropTypes.Integer,converter:ph.AsnIntegerArrayBufferConverter})],J2.prototype,"r",void 0);Pj.__decorate([ph.AsnProp({type:ph.AsnPropTypes.Integer,converter:ph.AsnIntegerArrayBufferConverter})],J2.prototype,"s",void 0);X2.ECDSASigValue=J2});var Ij=g(Md=>{"use strict";Object.defineProperty(Md,"__esModule",{value:!0});var V1=ke();V1.__exportStar(Aj(),Md);V1.__exportStar(_I(),Md);V1.__exportStar(Ej(),Md);V1.__exportStar(Tj(),Md);V1.__exportStar(gI(),Md)});var CI=g(Q2=>{"use strict";var wI;Object.defineProperty(Q2,"__esModule",{value:!0});Q2.Attributes=void 0;var $_e=ke(),SI=Le(),V_e=Rr(),AI=wI=class extends SI.AsnArray{constructor(e){super(e);Object.setPrototypeOf(this,wI.prototype)}};AI=wI=$_e.__decorate([SI.AsnType({type:SI.AsnTypeTypes.Sequence,itemType:V_e.Attribute})],AI);Q2.Attributes=AI});var EI=g(t6=>{"use strict";Object.defineProperty(t6,"__esModule",{value:!0});t6.CertificationRequestInfo=void 0;var e6=ke(),G1=Le(),Z2=Rr(),kj=CI(),mh=class{constructor(e={}){this.version=0,this.subject=new Z2.Name,this.subjectPKInfo=new Z2.SubjectPublicKeyInfo,this.attributes=new kj.Attributes,Object.assign(this,e)}};e6.__decorate([G1.AsnProp({type:G1.AsnPropTypes.Integer})],mh.prototype,"version",void 0);e6.__decorate([G1.AsnProp({type:Z2.Name})],mh.prototype,"subject",void 0);e6.__decorate([G1.AsnProp({type:Z2.SubjectPublicKeyInfo})],mh.prototype,"subjectPKInfo",void 0);e6.__decorate([G1.AsnProp({type:kj.Attributes,implicit:!0,context:0})],mh.prototype,"attributes",void 0);t6.CertificationRequestInfo=mh});var Mj=g(n6=>{"use strict";Object.defineProperty(n6,"__esModule",{value:!0});n6.CertificationRequest=void 0;var PI=ke(),r6=Le(),Bj=EI(),Rj=Rr(),Y1=class{constructor(e={}){this.certificationRequestInfo=new Bj.CertificationRequestInfo,this.signatureAlgorithm=new Rj.AlgorithmIdentifier,this.signature=new ArrayBuffer(0),Object.assign(this,e)}};PI.__decorate([r6.AsnProp({type:Bj.CertificationRequestInfo})],Y1.prototype,"certificationRequestInfo",void 0);PI.__decorate([r6.AsnProp({type:Rj.AlgorithmIdentifier})],Y1.prototype,"signatureAlgorithm",void 0);PI.__decorate([r6.AsnProp({type:r6.AsnPropTypes.BitString})],Y1.prototype,"signature",void 0);n6.CertificationRequest=Y1});var Oj=g(J1=>{"use strict";Object.defineProperty(J1,"__esModule",{value:!0});var TI=ke();TI.__exportStar(CI(),J1);TI.__exportStar(Mj(),J1);TI.__exportStar(EI(),J1)});var Lj=g(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});JK();var xt=Le(),Jt=Rr(),st=bu(),ni=Yz(),II=jP(),DI=Sj(),NI=ke(),kI=Ij(),BI=Oj(),G_e=L1();function Q1(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var tr=Q1(Jt),Do=Q1(II),xh=Q1(DI),ci=Q1(kI),ef=Q1(G_e),rf=class{constructor(...e){if(e.length===1){let r=e[0];this.rawData=xt.AsnConvert.serialize(r),this.onInit(r)}else{let r=xt.AsnConvert.parse(e[0],e[1]);this.rawData=st.BufferSourceConverter.toArrayBuffer(e[0]),this.onInit(r)}}equal(e){return e instanceof rf?st.isEqual(e.rawData,this.rawData):!1}},Lu=class extends rf{constructor(...e){let r;st.BufferSourceConverter.isBufferSource(e[0])?r=st.BufferSourceConverter.toArrayBuffer(e[0]):r=xt.AsnConvert.serialize(new Jt.Extension({extnID:e[0],critical:e[1],extnValue:new xt.OctetString(st.BufferSourceConverter.toArrayBuffer(e[2]))}));super(r,Jt.Extension)}onInit(e){this.type=e.extnID,this.critical=e.critical,this.value=e.extnValue.buffer}},Du=class extends Map{constructor(){super();typeof self<"u"&&typeof crypto<"u"&&this.set(Du.DEFAULT,crypto)}static isCryptoKeyPair(e){return e&&e.privateKey&&e.publicKey}static isCryptoKey(e){return e&&e.usages&&e.type&&e.algorithm&&e.extractable!==void 0}get(e=Du.DEFAULT){let r=super.get(e.toLowerCase());if(!r)throw new Error(`Cannot get Crypto by name '${e}'`);return r}set(e,r){if(typeof e=="string"){if(!r)throw new TypeError("Argument 'value' is required");super.set(e.toLowerCase(),r)}else super.set(Du.DEFAULT,e);return this}};Du.DEFAULT="default";var wa=new Du,a6=class{constructor(){this.items={}}get(e){return this.items[e]||null}register(e,r){this.items[e]=r,this.items[r]=e}},Sa=new a6;Sa.register("CN","2.5.4.3");Sa.register("L","2.5.4.7");Sa.register("ST","2.5.4.8");Sa.register("O","2.5.4.10");Sa.register("OU","2.5.4.11");Sa.register("C","2.5.4.6");Sa.register("DC","0.9.2342.19200300.100.1.25");Sa.register("E","1.2.840.113549.1.9.1");Sa.register("G","2.5.4.42");Sa.register("I","2.5.4.43");Sa.register("SN","2.5.4.4");Sa.register("T","2.5.4.12");function Y_e(t,e){return`\\${st.Convert.ToHex(st.Convert.FromUtf8String(e)).toUpperCase()}`}function J_e(t){return t.replace(/([,+"\\<>;])/g,"\\$1").replace(/^([ #])/,"\\$1").replace(/([ ]$)/,"\\$1").replace(/([\r\n\t])/,Y_e)}var tf=class{constructor(e,r={}){this.extraNames=new a6,this.asn=new Jt.Name;for(let n in r)if(Object.prototype.hasOwnProperty.call(r,n)){let i=r[n];this.extraNames.register(n,i)}typeof e=="string"?this.asn=this.fromString(e):e instanceof Jt.Name?this.asn=e:st.BufferSourceConverter.isBufferSource(e)?this.asn=xt.AsnConvert.parse(e,Jt.Name):this.asn=this.fromJSON(e)}getName(e){return this.extraNames.get(e)||Sa.get(e)}toString(){return this.asn.map(e=>e.map(r=>{let n=this.getName(r.type)||r.type,i=r.value.anyValue?`#${st.Convert.ToHex(r.value.anyValue)}`:J_e(r.value.toString());return`${n}=${i}`}).join("+")).join(", ")}toJSON(){var e;let r=[];for(let n of this.asn){let i={};for(let a of n){let o=this.getName(a.type)||a.type;(e=i[o])!==null&&e!==void 0||(i[o]=[]),i[o].push(a.value.anyValue?`#${st.Convert.ToHex(a.value.anyValue)}`:a.value.toString())}r.push(i)}return r}fromString(e){let r=new Jt.Name,n=/(\d\.[\d.]*\d|[A-Za-z]+)=((?:"")|(?:".*?[^\\]")|(?:[^,+].*?(?:[^\\][,+]))|(?:))([,+])?/g,i=null,a=",";for(;i=n.exec(`${e},`);){let[,o,u]=i,f=u[u.length-1];(f===","||f==="+")&&(u=u.slice(0,u.length-1),i[3]=f);let d=i[3];if(/[\d.]+/.test(o)||(o=this.getName(o)||""),!o)throw new Error(`Cannot get OID for name type '${o}'`);let h=new Jt.AttributeTypeAndValue({type:o});if(u.charAt(0)==="#")h.value.anyValue=st.Convert.FromHex(u.slice(1));else{let m=/"(.*?[^\\])?"/.exec(u);m&&(u=m[1]),u=u.replace(/\\0a/ig,`
`).replace(/\\0d/ig,"\r").replace(/\\0g/ig,"	").replace(/\\(.)/g,"$1"),o===this.getName("E")||o===this.getName("DC")?h.value.ia5String=u:h.value.printableString=u}a==="+"?r[r.length-1].push(h):r.push(new Jt.RelativeDistinguishedName([h])),a=d}return r}fromJSON(e){let r=new Jt.Name;for(let n of e){let i=new Jt.RelativeDistinguishedName;for(let a in n){let o=a;if(/[\d.]+/.test(a)||(o=this.getName(a)||""),!o)throw new Error(`Cannot get OID for name type '${a}'`);let u=n[a];for(let f of u){let d=new Jt.AttributeTypeAndValue({type:o});f[0]==="#"?d.value.anyValue=st.Convert.FromHex(f.slice(1)):o===this.getName("E")||o===this.getName("DC")?d.value.ia5String=f:d.value.printableString=f,i.push(d)}}r.push(i)}return r}toArrayBuffer(){return xt.AsnConvert.serialize(this.asn)}},Hs=class{static register(e,r){this.items.set(e,r)}static create(e){let r=new Lu(e),n=this.items.get(r.type);return n?new n(e):r}};Hs.items=new Map;var Z1="crypto.algorithm",LI=class{getAlgorithms(){return ni.container.resolveAll(Z1)}toAsnAlgorithm(e){for(let r of this.getAlgorithms()){let n=r.toAsnAlgorithm(e);if(n)return n}if(/[0-9.]+/.test(e.name)){let r=new Jt.AlgorithmIdentifier({algorithm:e.name});if("parameters"in e){let n=e;r.parameters=n.parameters}return r}throw new Error("Cannot convert WebCrypto algorithm to ASN.1 algorithm")}toWebAlgorithm(e){for(let n of this.getAlgorithms()){let i=n.toWebAlgorithm(e);if(i)return i}return{name:e.algorithm,parameters:e.parameters}}},Od="crypto.algorithmProvider";ni.container.registerSingleton(Od,LI);var yh=class{constructor(){this.CertificateTag="CERTIFICATE",this.CertificateRequestTag="CERTIFICATE REQUEST",this.PublicKeyTag="PUBLIC KEY",this.PrivateKeyTag="PRIVATE KEY"}static isPem(e){return typeof e=="string"&&/-{5}BEGIN [A-Z0-9 ]+-{5}([a-zA-Z0-9=+/\n\r]+)-{5}END [A-Z0-9 ]+-{5}/g.test(e)}static decode(e){let r=/-{5}BEGIN [A-Z0-9 ]+-{5}([a-zA-Z0-9=+/\n\r]+)-{5}END [A-Z0-9 ]+-{5}/g,n=[],i=null;for(;i=r.exec(e);){let a=i[1].replace(/\r/g,"").replace(/\n/g,"");n.push(st.Convert.FromBase64(a))}return n}static encode(e,r){if(Array.isArray(e)){let n=new Array;return e.forEach(i=>{n.push(this.encodeBuffer(i,r))}),n.join(`
`)}else return this.encodeBuffer(e,r)}static encodeBuffer(e,r){let n=st.Convert.ToBase64(e),i,a=0,o=Array();for(;a<n.length&&(n.length-a<64?i=n.substring(a):(i=n.substring(a,a+64),a+=64),i.length!==0);)if(o.push(i),i.length<64)break;let u=r.toLocaleUpperCase();return`-----BEGIN ${u}-----
${o.join(`
`)}
-----END ${u}-----`}},as=class extends rf{static isAsnEncoded(e){return st.BufferSourceConverter.isBufferSource(e)||typeof e=="string"}static toArrayBuffer(e){if(typeof e=="string"){if(yh.isPem(e))return yh.decode(e)[0];if(st.Convert.isHex(e))return st.Convert.FromHex(e);if(st.Convert.isBase64(e))return st.Convert.FromBase64(e);if(st.Convert.isBase64Url(e))return st.Convert.FromBase64Url(e);throw new TypeError("Unsupported format of 'raw' argument. Must be one of DER, PEM, HEX, Base64, or Base4Url")}else return e}constructor(...e){as.isAsnEncoded(e[0])?super(as.toArrayBuffer(e[0]),e[1]):super(e[0])}toString(e="pem"){switch(e){case"pem":return yh.encode(this.rawData,this.tag);case"hex":return st.Convert.ToHex(this.rawData);case"base64":return st.Convert.ToBase64(this.rawData);case"base64url":return st.Convert.ToBase64Url(this.rawData);default:throw TypeError("Argument 'format' is unsupported value")}}},X1=class extends as{constructor(e){as.isAsnEncoded(e)?super(e,Jt.SubjectPublicKeyInfo):super(e),this.tag="PUBLIC KEY"}async export(...e){let r,n=["verify"],i={hash:"SHA-256",...this.algorithm};return e.length>1?(i=e[0]||i,n=e[1]||n,r=e[2]||wa.get()):r=e[0]||wa.get(),r.subtle.importKey("spki",this.rawData,i,!0,n)}onInit(e){let r=ni.container.resolve(Od),n=this.algorithm=r.toWebAlgorithm(e.algorithm);switch(e.algorithm.algorithm){case II.id_rsaEncryption:{let i=xt.AsnConvert.parse(e.subjectPublicKey,II.RSAPublicKey),a=st.BufferSourceConverter.toUint8Array(i.modulus);n.publicExponent=st.BufferSourceConverter.toUint8Array(i.publicExponent),n.modulusLength=(a[0]?a:a.slice(1)).byteLength<<3;break}}}async getThumbprint(...e){var r;let n,i="SHA-1";return e.length>=1&&!(!((r=e[0])===null||r===void 0)&&r.subtle)?(i=e[0]||i,n=e[1]||wa.get()):n=e[0]||wa.get(),await n.subtle.digest(i,this.rawData)}},qd="crypto.signatureFormatter",UI=class{toAsnSignature(e,r){return st.BufferSourceConverter.toArrayBuffer(r)}toWebSignature(e,r){return st.BufferSourceConverter.toArrayBuffer(r)}},Nu=class extends as{constructor(e){as.isAsnEncoded(e)?super(e,Jt.Certificate):super(e),this.tag="CERTIFICATE"}onInit(e){let r=e.tbsCertificate;this.tbs=xt.AsnConvert.serialize(r),this.serialNumber=st.Convert.ToHex(r.serialNumber),this.subject=new tf(r.subject).toString(),this.issuer=new tf(r.issuer).toString();let n=ni.container.resolve(Od);this.signatureAlgorithm=n.toWebAlgorithm(e.signatureAlgorithm),this.signature=e.signatureValue;let i=r.validity.notBefore.utcTime||r.validity.notBefore.generalTime;if(!i)throw new Error("Cannot get 'notBefore' value");this.notBefore=i;let a=r.validity.notAfter.utcTime||r.validity.notAfter.generalTime;if(!a)throw new Error("Cannot get 'notAfter' value");this.notAfter=a,this.extensions=[],r.extensions&&(this.extensions=r.extensions.map(o=>Hs.create(xt.AsnConvert.serialize(o)))),this.publicKey=new X1(r.subjectPublicKeyInfo)}getExtension(e){for(let r of this.extensions)if(typeof e=="string"){if(r.type===e)return r}else if(r instanceof e)return r;return null}getExtensions(e){return this.extensions.filter(r=>typeof e=="string"?r.type===e:r instanceof e)}async verify(e={},r=wa.get()){let n,i,a=e.publicKey;try{a?a instanceof Nu?(n={...a.publicKey.algorithm,...this.signatureAlgorithm},i=await a.publicKey.export(n,["verify"])):a instanceof X1?(n={...a.algorithm,...this.signatureAlgorithm},i=await a.export(n,["verify"])):(n={...a.algorithm,...this.signatureAlgorithm},i=a):(n={...this.publicKey.algorithm,...this.signatureAlgorithm},i=await this.publicKey.export(n,["verify"],r))}catch{return!1}let o=ni.container.resolveAll(qd).reverse(),u=null;for(let d of o)if(u=d.toWebSignature(n,this.signature),u)break;if(!u)throw Error("Cannot convert ASN.1 signature value to WebCrypto format");let f=await r.subtle.verify(this.signatureAlgorithm,i,u,this.tbs);if(e.signatureOnly)return f;{let h=(e.date||new Date).getTime();return f&&this.notBefore.getTime()<h&&h<this.notAfter.getTime()}}async getThumbprint(...e){let r,n="SHA-1";return e[0]&&(e[0].subtle?r=e[0]:(n=e[0]||n,r=e[1])),r??(r=wa.get()),await r.subtle.digest(n,this.rawData)}async isSelfSigned(){return this.subject===this.issuer&&await this.verify({signatureOnly:!0})}},bh=class extends Lu{constructor(...e){if(st.BufferSourceConverter.isBufferSource(e[0]))super(e[0]);else if(typeof e[0]=="string"){let r=new tr.AuthorityKeyIdentifier({keyIdentifier:new xt.OctetString(st.Convert.FromHex(e[0]))});super(tr.id_ce_authorityKeyIdentifier,e[1],xt.AsnConvert.serialize(r))}else{let r=e[0],n=new tr.AuthorityKeyIdentifier({authorityCertIssuer:r.name,authorityCertSerialNumber:st.Convert.FromHex(r.serialNumber)});super(tr.id_ce_authorityKeyIdentifier,e[1],xt.AsnConvert.serialize(n))}}static async create(e,r=!1,n=wa.get()){if(e instanceof Nu||Du.isCryptoKey(e)){let i=e instanceof Nu?await e.publicKey.export(n):e,a=await n.subtle.exportKey("spki",i),o=await n.subtle.digest("SHA-1",a);return new bh(st.Convert.ToHex(o),r)}else return new bh(e,r)}onInit(e){super.onInit(e);let r=xt.AsnConvert.parse(e.extnValue,tr.AuthorityKeyIdentifier);r.keyIdentifier&&(this.keyId=st.Convert.ToHex(r.keyIdentifier)),r.authorityCertIssuer&&r.authorityCertSerialNumber&&(this.certId={name:r.authorityCertIssuer,serialNumber:st.Convert.ToHex(r.authorityCertSerialNumber)})}},HI=class extends Lu{constructor(...e){if(st.BufferSourceConverter.isBufferSource(e[0])){super(e[0]);let r=xt.AsnConvert.parse(this.value,Jt.BasicConstraints);this.ca=r.cA,this.pathLength=r.pathLenConstraint}else{let r=new Jt.BasicConstraints({cA:e[0],pathLenConstraint:e[1]});super(Jt.id_ce_basicConstraints,e[2],xt.AsnConvert.serialize(r));this.ca=e[0],this.pathLength=e[1]}}},KI=class extends Lu{constructor(...e){if(st.BufferSourceConverter.isBufferSource(e[0])){super(e[0]);let r=xt.AsnConvert.parse(this.value,Jt.ExtendedKeyUsage);this.usages=r.map(n=>n)}else{let r=new Jt.ExtendedKeyUsage(e[0]);super(Jt.id_ce_extKeyUsage,e[1],xt.AsnConvert.serialize(r));this.usages=e[0]}}};Ct.KeyUsageFlags=void 0;(function(t){t[t.digitalSignature=1]="digitalSignature",t[t.nonRepudiation=2]="nonRepudiation",t[t.keyEncipherment=4]="keyEncipherment",t[t.dataEncipherment=8]="dataEncipherment",t[t.keyAgreement=16]="keyAgreement",t[t.keyCertSign=32]="keyCertSign",t[t.cRLSign=64]="cRLSign",t[t.encipherOnly=128]="encipherOnly",t[t.decipherOnly=256]="decipherOnly"})(Ct.KeyUsageFlags||(Ct.KeyUsageFlags={}));var FI=class extends Lu{constructor(...e){if(st.BufferSourceConverter.isBufferSource(e[0])){super(e[0]);let r=xt.AsnConvert.parse(this.value,Jt.KeyUsage);this.usages=r.toNumber()}else{let r=new Jt.KeyUsage(e[0]);super(Jt.id_ce_keyUsage,e[1],xt.AsnConvert.serialize(r));this.usages=e[0]}}},ex=class extends Lu{constructor(...e){if(st.BufferSourceConverter.isBufferSource(e[0])){super(e[0]);let r=xt.AsnConvert.parse(this.value,Jt.SubjectKeyIdentifier);this.keyId=st.Convert.ToHex(r)}else{let r=typeof e[0]=="string"?st.Convert.FromHex(e[0]):e[0],n=new Jt.SubjectKeyIdentifier(r);super(Jt.id_ce_subjectKeyIdentifier,e[1],xt.AsnConvert.serialize(n));this.keyId=st.Convert.ToHex(r)}}static async create(e,r=!1,n=wa.get()){let i=await n.subtle.exportKey("spki",e),a=await n.subtle.digest("SHA-1",i);return new ex(st.Convert.ToHex(a),r)}},zI=class extends rf{constructor(...e){let r;if(st.BufferSourceConverter.isBufferSource(e[0]))r=st.BufferSourceConverter.toArrayBuffer(e[0]);else{let n=e[0],i=st.BufferSourceConverter.toArrayBuffer(e[1]);r=xt.AsnConvert.serialize(new tr.OtherName({typeId:n,value:i}))}super(r,tr.OtherName)}onInit(e){this.type=e.typeId,this.value=e.value}toJSON(){return{type:this.type,value:st.Convert.ToHex(this.value)}}},is=class extends Lu{constructor(...e){if(st.BufferSourceConverter.isBufferSource(e[0]))super(e[0]);else{let r=e[0]||{},n=new tr.SubjectAlternativeName;for(let i of r.dns||[])n.push(new tr.GeneralName({dNSName:i}));for(let i of r.email||[])n.push(new tr.GeneralName({rfc822Name:i}));for(let i of r.guid||[]){let a=/([0-9a-f]{8})-?([0-9a-f]{4})-?([0-9a-f]{4})-?([0-9a-f]{4})-?([0-9a-f]{12})/i.exec(i);if(!a)throw new Error("Cannot parse GUID value. Value doesn't match to regular expression");let o=a.slice(1).map((u,f)=>f<3?st.Convert.ToHex(new Uint8Array(st.Convert.FromHex(u)).reverse()):u).join("");n.push(new tr.GeneralName({otherName:new tr.OtherName({typeId:is.GUID,value:xt.AsnConvert.serialize(new xt.OctetString(st.Convert.FromHex(o)))})}))}for(let i of r.ip||[])n.push(new tr.GeneralName({iPAddress:i}));for(let i of r.url||[])n.push(new tr.GeneralName({uniformResourceIdentifier:i}));for(let i of r.upn||[])n.push(new tr.GeneralName({otherName:new tr.OtherName({typeId:is.UPN,value:xt.AsnConvert.serialize(xt.AsnUtf8StringConverter.toASN(i))})}));for(let i of r.registeredId||[])n.push(new tr.GeneralName({registeredID:i}));for(let i of r.otherName||[])n.push(new tr.GeneralName({otherName:new tr.OtherName({typeId:i.type,value:st.Convert.FromHex(i.value)})}));super(tr.id_ce_subjectAltName,e[1],xt.AsnConvert.serialize(n))}}onInit(e){super.onInit(e);let r=xt.AsnConvert.parse(e.extnValue,tr.SubjectAlternativeName);this.dns=r.filter(n=>n.dNSName).map(n=>n.dNSName||""),this.email=r.filter(n=>n.rfc822Name).map(n=>n.rfc822Name||""),this.ip=r.filter(n=>n.iPAddress).map(n=>n.iPAddress||""),this.url=r.filter(n=>n.uniformResourceIdentifier).map(n=>n.uniformResourceIdentifier||""),this.upn=r.filter(n=>{var i;return((i=n.otherName)===null||i===void 0?void 0:i.typeId)===is.UPN}).map(n=>n.otherName?xt.AsnConvert.parse(n.otherName.value,tr.DirectoryString).toString():""),this.guid=r.filter(n=>{var i;return((i=n.otherName)===null||i===void 0?void 0:i.typeId)===is.GUID}).map(n=>n.otherName?xt.AsnConvert.parse(n.otherName.value,xt.OctetString):new xt.OctetString).map(n=>{let i=/([0-9a-f]{8})-?([0-9a-f]{4})-?([0-9a-f]{4})-?([0-9a-f]{4})-?([0-9a-f]{12})/i.exec(st.Convert.ToHex(n));if(!i)throw new Error("Cannot parse GUID value. Value doesn't match to regular expression");return`{${i.slice(1).map((o,u)=>u<3?st.Convert.ToHex(new Uint8Array(st.Convert.FromHex(o)).reverse()):o).join("-")}}`}),this.registeredId=r.filter(n=>n.registeredID).map(n=>n.registeredID||""),this.otherNames=r.filter(n=>n.otherName&&![is.GUID,is.UPN].includes(n.otherName.typeId)).map(n=>new zI(n.otherName.typeId,n.otherName.value))}toJSON(){let e={};return this.dns.length&&(e.dns=[...this.dns]),this.email.length&&(e.email=[...this.email]),this.ip.length&&(e.ip=[...this.ip]),this.guid.length&&(e.guid=[...this.guid]),this.upn.length&&(e.upn=[...this.upn]),this.url.length&&(e.url=[...this.url]),this.registeredId.length&&(e.registeredId=[...this.registeredId]),this.otherNames.length&&(e.otherName=this.otherNames.map(r=>r.toJSON())),e}};is.GUID="1.3.6.1.4.1.311.25.1";is.UPN="1.3.6.1.4.1.311.20.2.3";var tx=class extends rf{constructor(...e){let r;if(st.BufferSourceConverter.isBufferSource(e[0]))r=st.BufferSourceConverter.toArrayBuffer(e[0]);else{let n=e[0],i=Array.isArray(e[1])?e[1].map(a=>st.BufferSourceConverter.toArrayBuffer(a)):[];r=xt.AsnConvert.serialize(new Jt.Attribute({type:n,values:i}))}super(r,Jt.Attribute)}onInit(e){this.type=e.type,this.values=e.values}},WI=class extends tx{constructor(...e){var r;if(st.BufferSourceConverter.isBufferSource(e[0]))super(e[0]);else{let n=new xh.ChallengePassword({printableString:e[0]});super(xh.id_pkcs9_at_challengePassword,[xt.AsnConvert.serialize(n)])}(r=this.password)!==null&&r!==void 0||(this.password="")}onInit(e){if(super.onInit(e),this.values[0]){let r=xt.AsnConvert.parse(this.values[0],xh.ChallengePassword);this.password=r.toString()}}},s6=class extends tx{constructor(...e){var r;if(st.BufferSourceConverter.isBufferSource(e[0]))super(e[0]);else{let n=new tr.Extensions(e[0]);super(xh.id_pkcs9_at_extensionRequest,[xt.AsnConvert.serialize(n)])}(r=this.items)!==null&&r!==void 0||(this.items=[])}onInit(e){if(super.onInit(e),this.values[0]){let r=xt.AsnConvert.parse(this.values[0],tr.Extensions);this.items=r.map(n=>Hs.create(xt.AsnConvert.serialize(n)))}}},vh=class{static register(e,r){this.items.set(e,r)}static create(e){let r=new tx(e),n=this.items.get(r.type);return n?new n(e):r}};vh.items=new Map;Ct.RsaAlgorithm=class{toAsnAlgorithm(e){switch(e.name.toLowerCase()){case"rsassa-pkcs1-v1_5":if(e.hash)switch(e.hash.name.toLowerCase()){case"sha-1":return new Jt.AlgorithmIdentifier({algorithm:Do.id_sha1WithRSAEncryption,parameters:null});case"sha-256":return new Jt.AlgorithmIdentifier({algorithm:Do.id_sha256WithRSAEncryption,parameters:null});case"sha-384":return new Jt.AlgorithmIdentifier({algorithm:Do.id_sha384WithRSAEncryption,parameters:null});case"sha-512":return new Jt.AlgorithmIdentifier({algorithm:Do.id_sha512WithRSAEncryption,parameters:null})}else return new Jt.AlgorithmIdentifier({algorithm:Do.id_rsaEncryption,parameters:null})}return null}toWebAlgorithm(e){switch(e.algorithm){case Do.id_rsaEncryption:return{name:"RSASSA-PKCS1-v1_5"};case Do.id_sha1WithRSAEncryption:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case Do.id_sha256WithRSAEncryption:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case Do.id_sha384WithRSAEncryption:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case Do.id_sha512WithRSAEncryption:return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}}}return null}};Ct.RsaAlgorithm=NI.__decorate([ni.injectable()],Ct.RsaAlgorithm);ni.container.registerSingleton(Z1,Ct.RsaAlgorithm);var i6;Ct.EcAlgorithm=i6=class{toAsnAlgorithm(e){switch(e.name.toLowerCase()){case"ecdsa":if("hash"in e)switch((typeof e.hash=="string"?e.hash:e.hash.name).toLowerCase()){case"sha-1":return ci.ecdsaWithSHA1;case"sha-256":return ci.ecdsaWithSHA256;case"sha-384":return ci.ecdsaWithSHA384;case"sha-512":return ci.ecdsaWithSHA512}else if("namedCurve"in e){let r="";switch(e.namedCurve){case"P-256":r=ci.id_secp256r1;break;case"K-256":r=i6.SECP256K1;break;case"P-384":r=ci.id_secp384r1;break;case"P-521":r=ci.id_secp521r1;break}if(r)return new Jt.AlgorithmIdentifier({algorithm:ci.id_ecPublicKey,parameters:xt.AsnConvert.serialize(new ci.ECParameters({namedCurve:r}))})}}return null}toWebAlgorithm(e){switch(e.algorithm){case ci.id_ecdsaWithSHA1:return{name:"ECDSA",hash:{name:"SHA-1"}};case ci.id_ecdsaWithSHA256:return{name:"ECDSA",hash:{name:"SHA-256"}};case ci.id_ecdsaWithSHA384:return{name:"ECDSA",hash:{name:"SHA-384"}};case ci.id_ecdsaWithSHA512:return{name:"ECDSA",hash:{name:"SHA-512"}};case ci.id_ecPublicKey:{if(!e.parameters)throw new TypeError("Cannot get required parameters from EC algorithm");switch(xt.AsnConvert.parse(e.parameters,ci.ECParameters).namedCurve){case ci.id_secp256r1:return{name:"ECDSA",namedCurve:"P-256"};case i6.SECP256K1:return{name:"ECDSA",namedCurve:"K-256"};case ci.id_secp384r1:return{name:"ECDSA",namedCurve:"P-384"};case ci.id_secp521r1:return{name:"ECDSA",namedCurve:"P-521"}}}}return null}};Ct.EcAlgorithm.SECP256K1="1.3.132.0.10";Ct.EcAlgorithm=i6=NI.__decorate([ni.injectable()],Ct.EcAlgorithm);ni.container.registerSingleton(Z1,Ct.EcAlgorithm);var ta=class{addPadding(e,r){let n=st.BufferSourceConverter.toUint8Array(r),i=new Uint8Array(e);return i.set(n,e-n.length),i}removePadding(e,r=!1){let n=st.BufferSourceConverter.toUint8Array(e);for(let i=0;i<n.length;i++)if(!!n[i]){n=n.slice(i);break}if(r&&n[0]>127){let i=new Uint8Array(n.length+1);return i.set(n,1),i.buffer}return n.buffer}toAsnSignature(e,r){if(e.name==="ECDSA"){let n=e.namedCurve,i=ta.namedCurveSize.get(n)||ta.defaultNamedCurveSize,a=new kI.ECDSASigValue,o=st.BufferSourceConverter.toUint8Array(r);return a.r=this.removePadding(o.slice(0,i),!0),a.s=this.removePadding(o.slice(i,i+i),!0),xt.AsnConvert.serialize(a)}return null}toWebSignature(e,r){if(e.name==="ECDSA"){let n=xt.AsnConvert.parse(r,kI.ECDSASigValue),i=e.namedCurve,a=ta.namedCurveSize.get(i)||ta.defaultNamedCurveSize,o=this.addPadding(a,this.removePadding(n.r)),u=this.addPadding(a,this.removePadding(n.s));return st.combine(o,u)}return null}};ta.namedCurveSize=new Map;ta.defaultNamedCurveSize=32;var RI="1.3.101.110",MI="1.3.101.111",OI="1.3.101.112",qI="1.3.101.113";Ct.EdAlgorithm=class{toAsnAlgorithm(e){let r=null;switch(e.name.toLowerCase()){case"eddsa":switch(e.namedCurve.toLowerCase()){case"ed25519":r=OI;break;case"ed448":r=qI;break}break;case"ecdh-es":switch(e.namedCurve.toLowerCase()){case"x25519":r=RI;break;case"x448":r=MI;break}}return r?new Jt.AlgorithmIdentifier({algorithm:r}):null}toWebAlgorithm(e){switch(e.algorithm){case OI:return{name:"EdDSA",namedCurve:"Ed25519"};case qI:return{name:"EdDSA",namedCurve:"Ed448"};case RI:return{name:"ECDH-ES",namedCurve:"X25519"};case MI:return{name:"ECDH-ES",namedCurve:"X448"}}return null}};Ct.EdAlgorithm=NI.__decorate([ni.injectable()],Ct.EdAlgorithm);ni.container.registerSingleton(Z1,Ct.EdAlgorithm);var jI=class extends as{constructor(e){as.isAsnEncoded(e)?super(e,BI.CertificationRequest):super(e),this.tag="CERTIFICATE REQUEST"}onInit(e){this.tbs=xt.AsnConvert.serialize(e.certificationRequestInfo),this.publicKey=new X1(e.certificationRequestInfo.subjectPKInfo);let r=ni.container.resolve(Od);this.signatureAlgorithm=r.toWebAlgorithm(e.signatureAlgorithm),this.signature=e.signature,this.attributes=e.certificationRequestInfo.attributes.map(i=>vh.create(xt.AsnConvert.serialize(i)));let n=this.getAttribute(DI.id_pkcs9_at_extensionRequest);this.extensions=[],n instanceof s6&&(this.extensions=n.items),this.subject=new tf(e.certificationRequestInfo.subject).toString()}getAttribute(e){for(let r of this.attributes)if(r.type===e)return r;return null}getAttributes(e){return this.attributes.filter(r=>r.type===e)}getExtension(e){for(let r of this.extensions)if(r.type===e)return r;return null}getExtensions(e){return this.extensions.filter(r=>r.type===e)}async verify(e=wa.get()){let r={...this.publicKey.algorithm,...this.signatureAlgorithm},n=await this.publicKey.export(r,["verify"],e),i=ni.container.resolveAll(qd).reverse(),a=null;for(let u of i)if(a=u.toWebSignature(r,this.signature),a)break;if(!a)throw Error("Cannot convert WebCrypto signature value to ASN.1 format");return await e.subtle.verify(this.signatureAlgorithm,n,a,this.tbs)}},qj=class{static async create(e,r=wa.get()){let n=await r.subtle.exportKey("spki",e.keys.publicKey),i=new BI.CertificationRequest({certificationRequestInfo:new BI.CertificationRequestInfo({subjectPKInfo:xt.AsnConvert.parse(n,Jt.SubjectPublicKeyInfo)})});if(e.name&&(i.certificationRequestInfo.subject=xt.AsnConvert.parse(new tf(e.name).toArrayBuffer(),Jt.Name)),e.attributes)for(let m of e.attributes)i.certificationRequestInfo.attributes.push(xt.AsnConvert.parse(m.rawData,Jt.Attribute));if(e.extensions&&e.extensions.length){let m=new Jt.Attribute({type:DI.id_pkcs9_at_extensionRequest}),_=new Jt.Extensions;for(let w of e.extensions)_.push(xt.AsnConvert.parse(w.rawData,Jt.Extension));m.values.push(xt.AsnConvert.serialize(_)),i.certificationRequestInfo.attributes.push(m)}let a={...e.signingAlgorithm,...e.keys.privateKey.algorithm},o=ni.container.resolve(Od);i.signatureAlgorithm=o.toAsnAlgorithm(a);let u=xt.AsnConvert.serialize(i.certificationRequestInfo),f=await r.subtle.sign(a,e.keys.privateKey,u),d=ni.container.resolveAll(qd).reverse(),h=null;for(let m of d)if(h=m.toAsnSignature(a,f),h)break;if(!h)throw Error("Cannot convert WebCrypto signature value to ASN.1 format");return i.signature=h,new jI(xt.AsnConvert.serialize(i))}},$I=class extends Array{constructor(e){super();if(as.isAsnEncoded(e))this.import(e);else if(e instanceof Nu)this.push(e);else if(Array.isArray(e))for(let r of e)this.push(r)}export(e){let r=new ef.SignedData;r.certificates=new ef.CertificateSet(this.map(a=>new ef.CertificateChoices({certificate:xt.AsnConvert.parse(a.rawData,Jt.Certificate)})));let n=new ef.ContentInfo({contentType:ef.id_signedData,content:xt.AsnConvert.serialize(r)}),i=xt.AsnConvert.serialize(n);return e==="raw"?i:this.toString(e)}import(e){let r=as.toArrayBuffer(e),n=xt.AsnConvert.parse(r,ef.ContentInfo);if(n.contentType!==ef.id_signedData)throw new TypeError("Cannot parse CMS package. Incoming data is not a SignedData object.");let i=xt.AsnConvert.parse(n.content,ef.SignedData);this.clear();for(let a of i.certificates||[])a.certificate&&this.push(new Nu(a.certificate))}clear(){for(;this.pop(););}toString(e="pem"){let r=this.export("raw");switch(e){case"pem":return yh.encode(r,"CMS");case"hex":return st.Convert.ToHex(r);case"base64":return st.Convert.ToBase64(r);case"base64url":return st.Convert.ToBase64Url(r);default:throw TypeError("Argument 'format' is unsupported value")}}},Dj=class{constructor(e={}){this.certificates=[],e.certificates&&(this.certificates=e.certificates)}async build(e){let r=new $I(e),n=e;for(;n=await this.findIssuer(n);){let i=await n.getThumbprint();for(let a of r){let o=await a.getThumbprint();if(st.isEqual(i,o))throw new Error("Cannot build a certificate chain. Circular dependency.")}r.push(n)}return r}async findIssuer(e){if(!await e.isSelfSigned()){let r=e.getExtension(tr.id_ce_authorityKeyIdentifier);for(let n of this.certificates)if(n.subject===e.issuer){if(r){if(r.keyId){let i=n.getExtension(tr.id_ce_subjectKeyIdentifier);if(i&&i.keyId!==r.keyId)continue}else if(r.certId){let i=n.getExtension(tr.id_ce_subjectAltName);if(i&&!(r.certId.serialNumber===n.serialNumber&&st.isEqual(xt.AsnConvert.serialize(r.certId.name),xt.AsnConvert.serialize(i))))continue}}if(!!await e.verify({publicKey:await n.publicKey.export(),signatureOnly:!0}))return n}}return null}},Nj=class{static async createSelfSigned(e,r=wa.get()){return this.create({serialNumber:e.serialNumber,subject:e.name,issuer:e.name,notBefore:e.notBefore,notAfter:e.notAfter,publicKey:e.keys.publicKey,signingKey:e.keys.privateKey,signingAlgorithm:e.signingAlgorithm,extensions:e.extensions},r)}static async create(e,r=wa.get()){var n;let i=await r.subtle.exportKey("spki",e.publicKey),a=new tr.Certificate({tbsCertificate:new tr.TBSCertificate({version:tr.Version.v3,serialNumber:st.Convert.FromHex(e.serialNumber),validity:new tr.Validity({notBefore:e.notBefore,notAfter:e.notAfter}),extensions:new tr.Extensions(((n=e.extensions)===null||n===void 0?void 0:n.map(_=>xt.AsnConvert.parse(_.rawData,tr.Extension)))||[]),subjectPublicKeyInfo:xt.AsnConvert.parse(i,tr.SubjectPublicKeyInfo)})});e.subject&&(a.tbsCertificate.subject=xt.AsnConvert.parse(new tf(e.subject).toArrayBuffer(),tr.Name)),e.issuer&&(a.tbsCertificate.issuer=xt.AsnConvert.parse(new tf(e.issuer).toArrayBuffer(),tr.Name));let o={...e.signingAlgorithm,...e.signingKey.algorithm},u=ni.container.resolve(Od);a.tbsCertificate.signature=a.signatureAlgorithm=u.toAsnAlgorithm(o);let f=xt.AsnConvert.serialize(a.tbsCertificate),d=await r.subtle.sign(o,e.signingKey,f),h=ni.container.resolveAll(qd).reverse(),m=null;for(let _ of h)if(m=_.toAsnSignature(o,d),m)break;if(!m)throw Error("Cannot convert ASN.1 signature value to WebCrypto format");return a.signatureValue=m,new Nu(xt.AsnConvert.serialize(a))}};Hs.register(tr.id_ce_basicConstraints,HI);Hs.register(tr.id_ce_extKeyUsage,KI);Hs.register(tr.id_ce_keyUsage,FI);Hs.register(tr.id_ce_subjectKeyIdentifier,ex);Hs.register(tr.id_ce_authorityKeyIdentifier,bh);Hs.register(tr.id_ce_subjectAltName,is);vh.register(xh.id_pkcs9_at_challengePassword,WI);vh.register(xh.id_pkcs9_at_extensionRequest,s6);ni.container.registerSingleton(qd,UI);ni.container.registerSingleton(qd,ta);ta.namedCurveSize.set("P-256",32);ta.namedCurveSize.set("K-256",32);ta.namedCurveSize.set("P-384",48);ta.namedCurveSize.set("P-521",66);Ct.AlgorithmProvider=LI;Ct.AsnData=rf;Ct.AsnDefaultSignatureFormatter=UI;Ct.AsnEcSignatureFormatter=ta;Ct.Attribute=tx;Ct.AttributeFactory=vh;Ct.AuthorityKeyIdentifierExtension=bh;Ct.BasicConstraintsExtension=HI;Ct.ChallengePasswordAttribute=WI;Ct.CryptoProvider=Du;Ct.ExtendedKeyUsageExtension=KI;Ct.Extension=Lu;Ct.ExtensionFactory=Hs;Ct.ExtensionsAttribute=s6;Ct.KeyUsagesExtension=FI;Ct.Name=tf;Ct.NameIdentifier=a6;Ct.OtherName=zI;Ct.PemConverter=yh;Ct.Pkcs10CertificateRequest=jI;Ct.Pkcs10CertificateRequestGenerator=qj;Ct.PublicKey=X1;Ct.SubjectAlternativeNameExtension=is;Ct.SubjectKeyIdentifierExtension=ex;Ct.X509Certificate=Nu;Ct.X509CertificateGenerator=Nj;Ct.X509Certificates=$I;Ct.X509ChainBuilder=Dj;Ct.cryptoProvider=wa;Ct.diAlgorithm=Z1;Ct.diAlgorithmProvider=Od;Ct.diAsnSignatureFormatter=qd;Ct.idEd25519=OI;Ct.idEd448=qI;Ct.idX25519=RI;Ct.idX448=MI});var Hj=g((TXe,Uj)=>{"use strict";function X_e(t){return/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(t)}Uj.exports=X_e});var rx=g((IXe,Yj)=>{var Kj=require("util"),jj=Hj(),Fj=/[\{\[]/,zj=/[\}\]]/,Wj=["do","if","in","for","let","new","try","var","case","else","enum","eval","null","this","true","void","with","await","break","catch","class","const","false","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof","NaN","undefined"],$j={};for(o6=0;o6<Wj.length;o6++)$j[Wj[o6]]=!0;var o6,Q_e=function(t){return jj(t)&&!$j.hasOwnProperty(t)},Vj={s:function(t){return""+t},d:function(t){return""+Number(t)},o:function(t){return JSON.stringify(t)}},Gj=function(){var t=[],e=0,r={},n=function(o){for(var u="";u.length<e*2;)u+="  ";t.push(u+o)},i=function(o){if(zj.test(o.trim()[0])&&Fj.test(o[o.length-1])){e--,n(o),e++;return}if(Fj.test(o[o.length-1])){n(o),e++;return}if(zj.test(o.trim()[0])){e--,n(o);return}n(o)},a=function(o){if(!o)return a;if(arguments.length===1&&o.indexOf(`
`)>-1)for(var u=o.trim().split(`
`),f=0;f<u.length;f++)i(u[f].trim());else i(Kj.format.apply(Kj,arguments));return a};return a.scope={},a.formats=Vj,a.sym=function(o){return(!o||!Q_e(o))&&(o="tmp"),r[o]||(r[o]=0),o+(r[o]++||"")},a.property=function(o,u){return arguments.length===1&&(u=o,o=""),u=u+"",jj(u)?o?o+"."+u:u:o?o+"["+JSON.stringify(u)+"]":JSON.stringify(u)},a.toString=function(){return t.join(`
`)},a.toFunction=function(o){o||(o={});var u="return ("+a.toString()+")";Object.keys(a.scope).forEach(function(h){o[h]||(o[h]=a.scope[h])});var f=Object.keys(o).map(function(h){return h}),d=f.map(function(h){return o[h]});return Function.apply(null,f.concat(u)).apply(null,d)},arguments.length&&a.apply(null,arguments),a};Gj.formats=Vj;Yj.exports=Gj});var Xj=g((kXe,Jj)=>{"use strict";var VI=class{constructor(){this.next=null,this.buffer=null}};Jj.exports=class u6{constructor(){this.head=null,this.tail=null,this.length=0,this.count=0}push(e){let r=new VI;r.buffer=e,this.length>0?this.tail.next=r:this.head=r,this.tail=r,this.length+=e.length,this.count+=1}unshift(e){let r=new VI;r.buffer=e,r.next=this.head,this.isEmpty()&&(this.tail=r),this.head=r,this.length+=e.length,this.count+=1}shift(){if(this.isEmpty())return null;let e=this.head.buffer;return this.head===this.tail?(this.head=null,this.tail=null):this.head=this.head.next,this.length-=e.length,this.length=Math.max(this.length,0),this.count-=1,e}get first(){return this.isEmpty()?null:this.head.buffer}get last(){return this.isEmpty()?null:this.tail.buffer}isEmpty(){return this.length===0}clear(){this.head=null,this.tail=null,this.length=0,this.count=0}slice(e,r){if(e<0||e>=this.length)return new u6;if(r<0||r>this.length||r<e)return new u6;let n=new u6,i=this.head,a=e,o=r;for(;i;){if(i.buffer.length>a){a===0&&i.buffer.length<=o?n.push(i.buffer):i.buffer.length>=o?n.push(i.buffer.slice(a,o)):n.push(i.buffer.slice(a));break}a-=i.buffer.length,o-=i.buffer.length,i=i.next}if(i.buffer.length<o)for(;i;){if(i.buffer.length===o){n.push(i.buffer);break}else if(i.buffer.length>o){n.push(i.buffer.slice(0,o));break}else a<0&&i.buffer.length<o&&n.push(i.buffer);a-=i.buffer.length,o-=i.buffer.length,i=i.next}return n}}});var t$=g((BXe,e$)=>{"use strict";var c6=rx(),Z_e=Xj(),nf=class{constructor(){this.queue=new Z_e,this.offset=0}get length(){return this.queue.length-this.offset}append(e){if(Buffer.isBuffer(e)){if(this.offset>0){let r=this.queue.shift();this.queue.unshift(r.slice(this.offset)),this.offset=0}this.queue.push(e)}else if(Array.isArray(e))for(let r=0;r<e.length;r+=1)this.append(e[r]);else if(e instanceof nf){if(this.offset>0){let n=this.queue.shift();this.queue.unshift(n.slice(this.offset)),this.offset=0}if(e.offset>0){let n=e.queue.shift();e.queue.unshift(n.slice(e.offset)),e.offset=0}let r=e.queue.head;for(;r;)this.queue.push(r.buffer),r=r.next}}get(e){let r=e;for(;r>=this.length;)r-=this.length;for(;r<0;)r+=this.length;let n=this.queue.head,{offset:i}=this;for(;n;){if(n.buffer.length-i>r)return n.buffer[r+i];r-=n.buffer.length-i,i=0,n=n.next}}slice(e,r){for(typeof e!="number"&&(e=0),typeof r!="number"&&(r=this.length);e<0;)e+=this.length;for(;r<0;)r+=this.length;if(r=Math.min(r,this.length),e>=this.length||r===0)return Buffer.alloc(0);let n=e;e=Math.min(n,r),r=Math.max(n,r);let i=this.queue.slice(e+this.offset,r+this.offset);if(i.count===1)return i.first;let a=i.head,o=Buffer.allocUnsafe(i.length),u=0;for(let f=0;f<i.count;f+=1)o.set(a.buffer,u),u+=a.buffer.length,a=a.next;return o}toString(e,r,n){return this.slice(r,n).toString(e)}consume(e){let r=e;for(;this.length>0;){let n=this.queue.first.length-this.offset;if(r>=n)this.queue.shift(),r-=n,this.offset=0;else{this.offset+=r;break}}}indexOf(e,r=0){if(!Number.isInteger(e))throw new TypeError("Invalid argument 1");if(e<0||e>255)throw new Error("Invalid argument 1");for(Number.isInteger(r)||(r=0);r>=this.length;)r-=this.length;for(;r<0;)r+=this.length;let n=this.queue.head,i=0,a=()=>{i+=n.buffer.length,n=n.next};for(;n;){let o=0;if(n===this.queue.head&&(o+=this.offset),r>=n.buffer.length-o){r-=n.buffer.length-o,a();continue}r<n.buffer.length&&(o+=r);let u=n.buffer.indexOf(e,o);if(u>-1)return u+i-this.offset;a(),o>this.offset&&(r=0)}return-1}},Qj={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1};Object.keys(Qj).forEach(t=>{let e=c6();e(`
    function bufferlist_${t}(offset = 0) {
      const start = offset + this.offset;
      const head = this.queue.first;
      const size = ${e.formats.d(Qj[t])};
      const isFirtsChunkEnough = head.length - start >= size;

      return isFirtsChunkEnough
        ? head.${t}(start)
        : this.slice(offset, offset + size).${t}(0)
    }
  `),nf.prototype[t]=e.toFunction()});var e2e=["readIntBE","readIntLE","readUIntBE","readUIntLE"];e2e.forEach(t=>{let e=c6();e(`
    function bufferlist_${t}(size, offset = 0) {
      const start = offset + this.offset;
      const head = this.queue.first;
      const isFirtsChunkEnough = head.length - start >= size;

      return isFirtsChunkEnough
        ? head.${t}(start, size)
        : this.slice(offset, offset + size).${t}(0, size)
    }
  `),nf.prototype[t]=e.toFunction()});var Zj={writeDoubleBE:8,writeDoubleLE:8,writeFloatBE:4,writeFloatLE:4,writeInt32BE:4,writeInt32LE:4,writeUInt32BE:4,writeUInt32LE:4,writeInt16BE:2,writeInt16LE:2,writeUInt16BE:2,writeUInt16LE:2,writeInt8:1,writeUInt8:1};Object.keys(Zj).forEach(t=>{let e=c6();e(`
    function bufferlist_${t}(value) {
      const size = ${e.formats.d(Zj[t])};
      const buf = Buffer.allocUnsafe(size);
      buf.${t}(value, 0);
      this.append(buf);
    }
  `),nf.prototype[t]=e.toFunction()});var t2e=["writeIntBE","writeIntLE","writeUIntBE","writeUIntLE"];t2e.forEach(t=>{let e=c6();e(`
    function bufferlist_${t}(value, size) {
      const buf = Buffer.allocUnsafe(size);
      buf.${t}(value, 0, size);
      this.append(buf);
    }
  `),nf.prototype[t]=e.toFunction()});e$.exports=nf});var gh=g((MXe,r$)=>{"use strict";r$.exports=class extends Error{constructor(e,r){let n=`requested ${e} bytes but only ${r} available`;super(n);this.name="NotEnoughDataError"}}});var nx=g((OXe,a$)=>{"use strict";var{Transform:r2e}=require("stream"),f6=rx(),n2e=t$(),i2e=gh(),n$=Symbol("buffer"),_h=class extends r2e{constructor(e={}){super(e);this[n$]=new n2e}get buffer(){return this[n$]}get length(){return this.buffer.length}append(e){this.buffer.append(e)}get(e){return this.buffer.get(e)}slice(e,r){return this.buffer.slice(e,r)}consume(e){this.buffer.consume(e)}toString(e,r,n){return this.buffer.toString(e,r,n)}indexOf(e,r=0){return this.buffer.indexOf(e,r)}readBuffer(e){GI(e,this.length);let r=this.slice(0,e);return this.consume(e),r}writeBuffer(e){this.append(e)}},i$={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1},a2e=["readIntBE","readIntLE","readUIntBE","readUIntLE"];Object.keys(i$).forEach(t=>{let e=f6();e(`
    function binary_${t}() {
      const bytes = ${e.formats.d(i$[t])};
      assertSize(bytes, this.length);

      const res = this.buffer.${t}(0);
      this.consume(bytes);

      return res;
    }
  `),_h.prototype[t]=e.toFunction({assertSize:GI})});a2e.forEach(t=>{let e=f6();e(`
    function binary_${t}(size) {
      assertSize(size, this.length);

      const res = this.buffer.${t}(size, 0);
      this.consume(size);
      return res;
    }
  `),_h.prototype[t]=e.toFunction({assertSize:GI})});var s2e=["writeDoubleBE","writeDoubleLE","writeFloatBE","writeFloatLE","writeInt32BE","writeInt32LE","writeUInt32BE","writeUInt32LE","writeInt16BE","writeInt16LE","writeUInt16BE","writeUInt16LE","writeInt8","writeUInt8"];s2e.forEach(t=>{let e=f6();e(`
    function binary_${t}(value) {
      this.buffer.${t}(value);
    }
  `),_h.prototype[t]=e.toFunction()});var o2e=["writeIntBE","writeIntLE","writeUIntBE","writeUIntLE"];o2e.forEach(t=>{let e=f6();e(`
    function binary_${t}(value, size) {
      this.buffer.${t}(value, size);
    }
  `),_h.prototype[t]=e.toFunction()});function GI(t,e){if(t>e)throw new i2e(t,e)}a$.exports=_h});var o$=g((qXe,s$)=>{"use strict";s$.exports=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1}});var f$=g((DXe,c$)=>{"use strict";var u2e=o$();function u$(t){return u2e(t)===!0&&Object.prototype.toString.call(t)==="[object Object]"}c$.exports=function(e){var r,n;return!(u$(e)===!1||(r=e.constructor,typeof r!="function")||(n=r.prototype,u$(n)===!1)||n.hasOwnProperty("isPrototypeOf")===!1)}});var No=g((NXe,d$)=>{"use strict";var c2e=f$();d$.exports={isType:f2e,isUserType:c2e,isFunction:ix,isDecodeType:d2e,isEncodeType:l2e};function f2e(t){return YI(t)&&ix(t.encode)&&ix(t.decode)}function ix(t){return typeof t=="function"}function YI(t){return typeof t=="object"&&t!==null}function d2e(t){return YI(t)&&ix(t.decode)}function l2e(t){return YI(t)&&ix(t.encode)}});var af=g((LXe,l$)=>{"use strict";var h2e=Symbol("skip"),p2e=Symbol("bytes");l$.exports={skip:h2e,bytes:p2e}});var sf=g((UXe,p$)=>{"use strict";var h$=af();p$.exports=class d6{constructor(){this[h$.bytes]=0,this.node=void 0,this.current=void 0}get bytes(){return this[h$.bytes]}static clone(e){let r=new d6;return e instanceof d6&&(r.node=e.node,r.current=e.current),r}static clean(e){e instanceof d6&&(e.node=void 0,e.current=void 0)}}});var wh=g((HXe,v$)=>{"use strict";var{isType:m2e,isUserType:x2e,isDecodeType:y2e}=No(),b2e=nx(),JI=af(),m$=sf();v$.exports={decode:x$,decodeCommon:y$};function x$(t,e){let r=t;Buffer.isBuffer(t)&&(r=new b2e,r.append(t));let n=new m$,i=y$(r,e,n);return x$.bytes=n.bytes,m$.clean(n),i}function y$(t,e,r){if(m2e(e)){let n=e.decode.call(r,t);return r[JI.bytes]+=e.decode.bytes,n}return b$(t,e,r)}function b$(t,e,r){v2e(e);let n=Object.create(null);r.node===void 0&&(r.node=n),r.current=n;let i=Object.keys(e);for(let a=0;a<i.length;a+=1){let o=i[a],u=e[o];if(!y2e(u)){n[o]=b$(t,u,r),r.current=n;continue}let f=u.decode.call(r,t);r[JI.bytes]+=u.decode.bytes,u[JI.skip]!==!0&&(n[o]=f)}return n}function v2e(t){if(!x2e(t))throw new TypeError("Argument #2 should be a plain object.")}});var ax=g((KXe,C$)=>{"use strict";var{isUserType:g2e,isEncodeType:_2e,isType:w2e}=No(),_$=af(),g$=sf(),XI=nx();C$.exports={encode:w$,encodeCommon:S$};function w$(t,e,r){let n=new g$;if(e instanceof XI){let i=r;r=e,e=i}return r instanceof XI||(r=new XI),S$(t,r,e,n),w$.bytes=n.bytes,g$.clean(n),r}function S$(t,e,r,n){w2e(r)?(r.encode.call(n,t,e),n[_$.bytes]+=r.encode.bytes):A$(t,e,r,n)}function A$(t,e,r,n){S2e(r),n.node===void 0&&(n.node=t),n.current=t;let i=Object.keys(r);for(let a=0;a<i.length;a+=1){let o=i[a],u=r[o],f=t[o];if(!_2e(u)){A$(f,e,u,n),n.current=t;continue}u.encode.call(n,f,e),n[_$.bytes]+=u.encode.bytes}}function S2e(t){if(!g2e(t))throw new TypeError("Argument `schema` should be a plain object.")}});var sx=g((FXe,B$)=>{"use strict";var{isUserType:A2e,isType:P$}=No(),E$=sf(),T$=af();B$.exports={encodingLength:C2e,encodingLengthCommon:I$};function C2e(t,e){let r=new E$;return I$(t,e,r),E$.clean(r),r.bytes}function I$(t,e,r){P$(e)?r[T$.bytes]+=e.encodingLength.call(r,t):k$(t,e,r)}function k$(t,e,r){if(!A2e(e))throw new TypeError("Argument `schema` should be a plain object.");r.node===void 0&&(r.node=t),r.current=t;let n=Object.keys(e);for(let i=0;i<n.length;i+=1){let a=n[i],o=e[a],u=t[a];if(!P$(o)){k$(u,o,r),r.current=t;continue}r[T$.bytes]+=o.encodingLength.call(r,u)}}});var U$=g((zXe,L$)=>{"use strict";var{decodeCommon:N$}=wh(),{encodeCommon:E2e}=ax(),{encodingLengthCommon:R$}=sx(),{isType:M$,isUserType:P2e,isFunction:T2e}=No(),of=sf();L$.exports=I2e;function I2e(t,e,r="count"){if(!M$(t)&&!P2e(t))throw new TypeError("Argument #1 should be a valid type.");let n=r==="bytes",i=typeof e=="number",a=M$(e),o=T2e(e);if(!i&&!a&&!o)throw new TypeError("Unknown type of argument #1.");return{encode:u,decode:f,encodingLength:d};function u(h,m){O$(h);let _=of.clone(this);u.bytes=0;let w=0;if(a?w=h.length:i?w=e:o&&(w=e(_),q$(w)),n||D$(w,h.length),n){let P=of.clone(_);for(let M of h)R$(M,t,P);a&&(w=P.bytes),D$(P.bytes,w),of.clean(P)}a&&(e.encode.call(_,w,m),u.bytes+=e.encode.bytes),h.forEach(P=>{E2e(P,m,t,_)}),u.bytes+=_.bytes,of.clean(_)}function f(h){let m=0;f.bytes=0;let _=of.clone(this);i?m=e:a?(m=e.decode.call(_,h),f.bytes+=e.decode.bytes):o&&(m=e(_)),q$(m);let w;return n?w=k2e(t,m,h,_):w=B2e(t,m,h,_),f.bytes+=_.bytes,of.clean(_),w}function d(h){O$(h);let m=of.clone(this),_=0;if(i&&n)return e;a&&!n&&(_=e.encodingLength(h.length));for(let w of h)R$(w,t,m);return of.clean(m),_+=m.bytes,a&&n&&(_+=e.encodingLength(_)),_}}function O$(t){if(!Array.isArray(t))throw new TypeError("Argument #1 should be an Array.")}function q$(t){if(typeof t!="number")throw new TypeError("Length of an array should be a number.")}function D$(t,e){if(t!==e)throw new Error(`Argument #1 required length ${t} instead of ${e}`)}function k2e(t,e,r,n){let i=[],a=n.bytes,o=0;for(;o<e;)i.push(N$(r,t,n)),o=n.bytes-a;if(o>e)throw new Error("Incorrect length of an array.");return i}function B2e(t,e,r,n){let i=new Array(e);for(let a=0;a<e;a+=1)i[a]=N$(r,t,n);return i}});var z$=g((WXe,F$)=>{"use strict";var{isType:R2e,isFunction:M2e}=No(),O2e=gh(),q2e=nx();F$.exports=D2e;function D2e(t){let e=typeof t=="number",r=R2e(t),n=M2e(t),i=t===null;if(!e&&!r&&!n&&!i)throw new TypeError("Unknown type of argument #1.");return{encode:a,decode:o,encodingLength:u};function a(f,d){H$(f),a.bytes=0;let h=this;if(e&&K$(t,f.length),r&&(t.encode.call(h,f.length,d),a.bytes+=t.encode.bytes),n){let m=t(h);QI(m),K$(m,f.length)}d.writeBuffer(Buffer.isBuffer(f)?f:f.buffer),a.bytes+=f.length,i&&(d.writeUInt8(0),a.bytes+=1)}function o(f){let d=0;o.bytes=0;let h=this;if(e)d=t;else if(r)d=t.decode.call(h,f),o.bytes+=t.decode.bytes,QI(d);else if(n)d=t(h),QI(d);else if(i&&(d=f.indexOf(0),d===-1))throw new O2e(f.length+1,f.length);let m=f.readBuffer(d);return o.bytes+=d,i&&(o.bytes+=1,f.consume(1)),m}function u(f){H$(f);let d=0;return e?t:(i?d=1:r&&(d=t.encodingLength(f.length)),d+f.length)}}function H$(t){if(!Buffer.isBuffer(t)&&!(t instanceof q2e))throw new TypeError("Argument 1 should be a Buffer or a BinaryStream.")}function K$(t,e){if(t!==e)throw new Error(`Buffer required length ${t} instead of ${e}`)}function QI(t){if(typeof t!="number")throw new TypeError("Length of a buffer should be a number.")}});var j$=g((jXe,W$)=>{"use strict";var{isType:N2e}=No();W$.exports=L2e;function L2e(t){if(!N2e(t))throw new TypeError("Argument #1 should be valid type.");function e(n){let i=this,a=t.decode.call(i,n);return e.bytes=t.decode.bytes,Boolean(a)}function r(n,i){let a=this;t.encode.call(a,n?1:0,i),r.bytes=t.encode.bytes}return{encode:r,decode:e,encodingLength:t.encodingLength}}});var V$=g(($Xe,$$)=>{"use strict";var{decodeCommon:U2e}=wh(),{encodeCommon:H2e}=ax(),{encodingLengthCommon:K2e}=sx(),{isType:F2e,isFunction:l6}=No(),z2e=af(),uf=sf();$$.exports=W2e;function W2e(t,e=1){if(!F2e(t))throw new TypeError("Invalid data type.");if(!Number.isInteger(e)&&!l6(e))throw new TypeError("Argument #2 should be a valid integer or function.");return{[z2e.skip]:!0,encodingLength:r,decode:n,encode:i};function r(a){let o=uf.clone(this),u=l6(e)?e(o):e;return K2e(a,t,o),uf.clean(o),o.bytes*u}function n(a){let o=uf.clone(this);n.bytes=0;let u=l6(e)?e(o):e;if(u===0){uf.clean(o);return}for(let f=u;f>0;f-=1)U2e(a,t,o);n.bytes=o.bytes,uf.clean(o)}function i(a,o){i.bytes=0;let u=uf.clone(this),f=l6(e)?e(u):e;if(f===0){uf.clean(u);return}for(let d=f;d>0;d-=1)H2e(0,o,t,u);i.bytes=u.bytes,uf.clean(u)}}});var J$=g((VXe,Y$)=>{"use strict";var{isType:j2e}=No(),$2e=gh();Y$.exports=V2e;function V2e(t,e="ascii"){if(!Buffer.isEncoding(e))throw new Error("Argument #2 should be an encoding name.");if(typeof t=="number")return{encode:J2e(t,e),decode:X2e(t,e),encodingLength:()=>t};if(j2e(t))return{encode:Q2e(t,e),decode:Z2e(t,e),encodingLength:e6e(t,e)};if(t===null)return{encode:G2e(e),decode:Y2e(e),encodingLength(r){return Buffer.byteLength(r,e)+1}};if(typeof t=="function")return{encode:t6e(t,e),decode:r6e(t,e),encodingLength(r){return Buffer.byteLength(r,e)}};throw new TypeError("Unknown type of argument #1.")}function G2e(t){return function e(r,n){let i=Buffer.from(r.toString(),t);n.writeBuffer(i),n.writeInt8(0),e.bytes=i.length+1}}function Y2e(t){return function e(r){let n=r.indexOf(0);if(n===-1)throw new $2e(r.length+1,r.length);let i=n+1,a=r.readBuffer(i);return e.bytes=i,a.toString(t,0,n)}}function J2e(t,e){return function r(n,i){if(n=n.toString(),Buffer.byteLength(n,e)!==t)throw new Error(`Size of string should be ${t} in bytes.`);let a=Buffer.from(n,e);i.writeBuffer(a),r.bytes=a.length}}function X2e(t,e){return function r(n){let i=n.readBuffer(t);return r.bytes=t,i.toString(e)}}function Q2e(t,e){return function r(n,i){n=n.toString();let a=this;t.encode.call(a,Buffer.byteLength(n,e),i),r.bytes=t.encode.bytes;let o=Buffer.from(n,e);i.writeBuffer(o),r.bytes+=o.length}}function Z2e(t,e){return function r(n){let i=t.decode.call(this,n);if(typeof i!="number")throw new TypeError("Size of a string should be a number.");let a=n.readBuffer(i);return r.bytes=t.decode.bytes+a.length,a.toString(e)}}function e6e(t,e){return function(n){let i=Buffer.byteLength(n,e);return t.encodingLength(i)+i}}function t6e(t,e){return function r(n,i){r.bytes=0;let o=t(this),u=Buffer.from(n.toString(),e);G$(o),n6e(o,u.length),i.writeBuffer(u),r.bytes+=u.length}}function r6e(t,e){return function r(n){let i=t(this);G$(i);let a=n.readBuffer(i);return r.bytes=i,a.toString(e)}}function G$(t){if(typeof t!="number")throw new TypeError("Length of a buffer should be a number.")}function n6e(t,e){if(t!==e)throw new Error(`Buffer required length ${t} instead of ${e}`)}});var Q$=g((GXe,X$)=>{"use strict";var h6=rx();X$.exports={doublebe:ra(8,"writeDoubleBE","readDoubleBE"),doublele:ra(8,"writeDoubleLE","readDoubleLE"),floatbe:ra(4,"writeFloatBE","readFloatBE"),floatle:ra(4,"writeFloatLE","readFloatLE"),int8:ra(1,"writeInt8","readInt8"),uint8:ra(1,"writeUInt8","readUInt8"),int16be:ra(2,"writeInt16BE","readInt16BE"),uint16be:ra(2,"writeUInt16BE","readUInt16BE"),int16le:ra(2,"writeInt16LE","readInt16LE"),uint16le:ra(2,"writeUInt16LE","readUInt16LE"),int32be:ra(4,"writeInt32BE","readInt32BE"),uint32be:ra(4,"writeUInt32BE","readUInt32BE"),int32le:ra(4,"writeInt32LE","readInt32LE"),uint32le:ra(4,"writeUInt32LE","readUInt32LE"),int24be:ss(3,"writeIntBE","readIntBE"),uint24be:ss(3,"writeUIntBE","readUIntBE"),int24le:ss(3,"writeIntLE","readIntLE"),uint24le:ss(3,"writeUIntLE","readUIntLE"),int40be:ss(5,"writeIntBE","readIntBE"),uint40be:ss(5,"writeUIntBE","readUIntBE"),int40le:ss(5,"writeIntLE","readIntLE"),uint40le:ss(5,"writeUIntLE","readUIntLE"),int48be:ss(6,"writeIntBE","readIntBE"),uint48be:ss(6,"writeUIntBE","readUIntBE"),int48le:ss(6,"writeIntLE","readIntLE"),uint48le:ss(6,"writeUIntLE","readUIntLE")};function ra(t,e,r){let n=h6(),i=h6();return n(`
    function decode_${r}(rstream) {
      decode_${r}.bytes = ${n.formats.d(t)};
      return rstream.${r}()
    }
  `),i(`
    function encode_${e}(value, wstream) {
      wstream.${e}(value);
      encode_${e}.bytes = ${n.formats.d(t)};
    }
  `),{encodingLength:()=>t,encode:i.toFunction(),decode:n.toFunction()}}function ss(t,e,r){let n=h6(),i=h6();return n(`
    function decode_${r}(rstream) {
      decode_${r}.bytes = ${n.formats.d(t)};
      return rstream.${r}(${n.formats.d(t)})
    }
  `),i(`
    function encode_${e}(value, wstream) {
      wstream.${e}(value, ${n.formats.d(t)});
      encode_${e}.bytes = ${n.formats.d(t)};
    }
  `),{encodingLength:()=>t,encode:i.toFunction(),decode:n.toFunction()}}});var eV=g((YXe,Z$)=>{"use strict";var{isType:i6e,isFunction:ZI,isUserType:a6e}=No(),ek=af(),{decodeCommon:s6e}=wh(),{encodeCommon:o6e}=ax(),{encodingLengthCommon:u6e}=sx(),cf=sf();Z$.exports=c6e;function c6e(t,e){if(!i6e(e)&&!a6e(e))throw new TypeError("Argument #2 should be a valid type.");let r={encode:n,decode:i,encodingLength:a,[ek.skip]:!1};return r;function n(o,u){let f=cf.clone(this);n.bytes=0;let d=ZI(t)?Boolean(t(f)):Boolean(t);if(r[ek.skip]=!d,!d){cf.clean(f);return}o6e(o,u,e,f),n.bytes=f.bytes,cf.clean(f)}function i(o){let u=cf.clone(this);i.bytes=0;let f=ZI(t)?Boolean(t(u)):Boolean(t);if(r[ek.skip]=!f,!f){cf.clean(u);return}let d=s6e(o,e,u);return i.bytes=u.bytes,cf.clean(u),d}function a(o){let u=cf.clone(this);return(ZI(t)?Boolean(t(u)):Boolean(t))&&u6e(o,e,u),cf.clean(u),u.bytes}}});var nV=g((JXe,rV)=>{"use strict";var p6=af(),{decodeCommon:f6e}=wh(),tV=sf();rV.exports=d6e;function d6e(...t){if(t.length===0)throw new TypeError("You should set at least one condition type.");let e={decode:r,encode:()=>{},[p6.skip]:!0};return e;function r(n){r.bytes=0;let i=tV.clone(this);for(let a of t){let o=f6e(n,a,i);if(a[p6.skip]!==!0)return r.bytes=i.bytes,tV.clean(i),e[p6.skip]=!1,o}e[p6.skip]=!0}}});var oV=g((XXe,sV)=>{"use strict";var aV=rx(),l6e=gh(),m6=class{constructor(e){this.stream=e,this.index=0}append(e){this.stream.append(e)}commit(){this.stream.consume(this.index)}get(e=0){return this.stream.get(this.index+e)}get length(){return this.stream.length}slice(e,r){return this.stream.slice(e,r)}toString(e,r,n){return this.stream.toString(e,r,n)}readBuffer(e){tk(this.index+e,this.length);let r=this.stream.slice(this.index,this.index+e);return this.index+=e,r}indexOf(e,r=0){return this.stream.indexOf(e,this.index+r)-this.index}},iV={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1};Object.keys(iV).forEach(t=>{let e=aV(),r=iV[t];e(`
    function transaction_${t}() {
      assertSize(this.index + ${e.formats.d(r)}, this.length);
      const value = this.stream.buffer.${t}(this.index);
      this.index += ${e.formats.d(r)};
      return value;
    }
  `),m6.prototype[t]=e.toFunction({assertSize:tk})});["readIntBE","readIntLE","readUIntBE","readUIntLE"].forEach(t=>{let e=aV();e(`
    function transaction_${t}(bytes) {
      assertSize(this.index + bytes, this.length);
      const value = this.stream.buffer.${t}(bytes, this.index);
      this.index += bytes;
      return value;
    }
  `),m6.prototype[t]=e.toFunction({assertSize:tk})});sV.exports=m6;function tk(t,e){if(t>e)throw new l6e(t,e)}});var Jr=g((QXe,mV)=>{"use strict";var rk=nx(),h6e=U$(),p6e=z$(),m6e=j$(),x6e=V$(),y6e=J$(),uV=Q$(),b6e=eV(),v6e=nV(),{encode:dV}=ax(),{decode:lV}=wh(),{encodingLength:g6e}=sx(),_6e=oV(),hV=gh(),pV={array:h6e,bool:m6e,buffer:p6e,reserved:x6e,string:y6e,when:b6e,select:v6e};for(let t of Object.keys(uV))pV[t]=uV[t];var x6=Symbol("schema");function cV(t){let e=new rk({readableObjectMode:!1,writableObjectMode:!0,transform:w6e});return e[x6]=t,e}function fV(t){let e=null,r=Buffer.isBuffer(t);r||(e=t);let n=new rk({transform:S6e,readableObjectMode:!0,writableObjectMode:!1});return n[x6]=e,r&&n.append(t),n}function w6e(t,e,r){try{dV(t,this[x6],this);let n=this.slice();this.consume(n.length),r(null,n)}catch(n){r(n)}}function S6e(t,e,r){this.append(t);try{for(;this.length>0;){let n=new _6e(this),i=lV(n,this[x6]);n.commit(),this.push(i)}r()}catch(n){n instanceof hV?r():r(n)}}mV.exports={createEncodeStream:cV,createDecodeStream:fV,encode:dV,decode:lV,encodingLength:g6e,createEncode:cV,createDecode:fV,types:pV,BinaryStream:rk,NotEnoughDataError:hV}});var bt=g((y6,xV)=>{"use strict";Object.defineProperty(y6,"__esModule",{value:!0});y6.default=A6e;function A6e(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}xV.exports=y6.default});var j=g((b6,yV)=>{"use strict";Object.defineProperty(b6,"__esModule",{value:!0});b6.default=C6e;function C6e(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}yV.exports=b6.default});var me=g((v6,bV)=>{"use strict";Object.defineProperty(v6,"__esModule",{value:!0});v6.default=T6e;var E6e=P6e(j());function P6e(t){return t&&t.__esModule?t:{default:t}}function T6e(t){(0,E6e.default)(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}bV.exports=v6.default});var Lo=g((g6,vV)=>{"use strict";Object.defineProperty(g6,"__esModule",{value:!0});g6.default=R6e;var I6e=nk(bt()),k6e=nk(me()),B6e=nk(j());function nk(t){return t&&t.__esModule?t:{default:t}}function R6e(t,e){(0,B6e.default)(2,arguments);var r=(0,k6e.default)(t),n=(0,I6e.default)(e);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}vV.exports=g6.default});var Sh=g((_6,gV)=>{"use strict";Object.defineProperty(_6,"__esModule",{value:!0});_6.default=D6e;var M6e=ik(bt()),O6e=ik(me()),q6e=ik(j());function ik(t){return t&&t.__esModule?t:{default:t}}function D6e(t,e){(0,q6e.default)(2,arguments);var r=(0,O6e.default)(t),n=(0,M6e.default)(e);if(isNaN(n))return new Date(NaN);if(!n)return r;var i=r.getDate(),a=new Date(r.getTime());a.setMonth(r.getMonth()+n+1,0);var o=a.getDate();return i>=o?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}gV.exports=_6.default});var wV=g((w6,_V)=>{"use strict";Object.defineProperty(w6,"__esModule",{value:!0});w6.default=K6e;var N6e=ox(Lo()),L6e=ox(Sh()),U6e=ox(me()),H6e=ox(j()),Dd=ox(bt());function ox(t){return t&&t.__esModule?t:{default:t}}function K6e(t,e){if((0,H6e.default)(2,arguments),!e||typeof e!="object")return new Date(NaN);var r=e.years?(0,Dd.default)(e.years):0,n=e.months?(0,Dd.default)(e.months):0,i=e.weeks?(0,Dd.default)(e.weeks):0,a=e.days?(0,Dd.default)(e.days):0,o=e.hours?(0,Dd.default)(e.hours):0,u=e.minutes?(0,Dd.default)(e.minutes):0,f=e.seconds?(0,Dd.default)(e.seconds):0,d=(0,U6e.default)(t),h=n||r?(0,L6e.default)(d,n+r*12):d,m=a||i?(0,N6e.default)(h,a+i*7):h,_=u+o*60,w=f+_*60,P=w*1e3,M=new Date(m.getTime()+P);return M}_V.exports=w6.default});var ux=g((S6,AV)=>{"use strict";Object.defineProperty(S6,"__esModule",{value:!0});S6.default=W6e;var F6e=SV(me()),z6e=SV(j());function SV(t){return t&&t.__esModule?t:{default:t}}function W6e(t){(0,z6e.default)(1,arguments);var e=(0,F6e.default)(t),r=e.getDay();return r===0||r===6}AV.exports=S6.default});var C6=g((A6,EV)=>{"use strict";Object.defineProperty(A6,"__esModule",{value:!0});A6.default=V6e;var j6e=CV(me()),$6e=CV(j());function CV(t){return t&&t.__esModule?t:{default:t}}function V6e(t){return(0,$6e.default)(1,arguments),(0,j6e.default)(t).getDay()===0}EV.exports=A6.default});var ak=g((E6,TV)=>{"use strict";Object.defineProperty(E6,"__esModule",{value:!0});E6.default=J6e;var G6e=PV(me()),Y6e=PV(j());function PV(t){return t&&t.__esModule?t:{default:t}}function J6e(t){return(0,Y6e.default)(1,arguments),(0,G6e.default)(t).getDay()===6}TV.exports=E6.default});var ok=g((P6,kV)=>{"use strict";Object.defineProperty(P6,"__esModule",{value:!0});P6.default=t3e;var sk=Ah(ux()),X6e=Ah(me()),IV=Ah(bt()),Q6e=Ah(j()),Z6e=Ah(C6()),e3e=Ah(ak());function Ah(t){return t&&t.__esModule?t:{default:t}}function t3e(t,e){(0,Q6e.default)(2,arguments);var r=(0,X6e.default)(t),n=(0,sk.default)(r),i=(0,IV.default)(e);if(isNaN(i))return new Date(NaN);var a=r.getHours(),o=i<0?-1:1,u=(0,IV.default)(i/5);r.setDate(r.getDate()+u*7);for(var f=Math.abs(i%5);f>0;)r.setDate(r.getDate()+o),(0,sk.default)(r)||(f-=1);return n&&(0,sk.default)(r)&&i!==0&&((0,e3e.default)(r)&&r.setDate(r.getDate()+(o<0?2:-1)),(0,Z6e.default)(r)&&r.setDate(r.getDate()+(o<0?1:-2))),r.setHours(a),r}kV.exports=P6.default});var Ch=g((T6,BV)=>{"use strict";Object.defineProperty(T6,"__esModule",{value:!0});T6.default=a3e;var r3e=uk(bt()),n3e=uk(me()),i3e=uk(j());function uk(t){return t&&t.__esModule?t:{default:t}}function a3e(t,e){(0,i3e.default)(2,arguments);var r=(0,n3e.default)(t).getTime(),n=(0,r3e.default)(e);return new Date(r+n)}BV.exports=T6.default});var k6=g((I6,RV)=>{"use strict";Object.defineProperty(I6,"__esModule",{value:!0});I6.default=f3e;var s3e=ck(bt()),o3e=ck(Ch()),u3e=ck(j());function ck(t){return t&&t.__esModule?t:{default:t}}var c3e=36e5;function f3e(t,e){(0,u3e.default)(2,arguments);var r=(0,s3e.default)(e);return(0,o3e.default)(t,r*c3e)}RV.exports=I6.default});var Uu=g((B6,OV)=>{"use strict";Object.defineProperty(B6,"__esModule",{value:!0});B6.default=h3e;var d3e=fk(me()),MV=fk(bt()),l3e=fk(j());function fk(t){return t&&t.__esModule?t:{default:t}}function h3e(t,e){(0,l3e.default)(1,arguments);var r=e||{},n=r.locale,i=n&&n.options&&n.options.weekStartsOn,a=i==null?0:(0,MV.default)(i),o=r.weekStartsOn==null?a:(0,MV.default)(r.weekStartsOn);if(!(o>=0&&o<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=(0,d3e.default)(t),f=u.getDay(),d=(f<o?7:0)+f-o;return u.setDate(u.getDate()-d),u.setHours(0,0,0,0),u}OV.exports=B6.default});var ff=g((R6,DV)=>{"use strict";Object.defineProperty(R6,"__esModule",{value:!0});R6.default=x3e;var p3e=qV(Uu()),m3e=qV(j());function qV(t){return t&&t.__esModule?t:{default:t}}function x3e(t){return(0,m3e.default)(1,arguments),(0,p3e.default)(t,{weekStartsOn:1})}DV.exports=R6.default});var Nd=g((M6,LV)=>{"use strict";Object.defineProperty(M6,"__esModule",{value:!0});M6.default=v3e;var y3e=dk(me()),NV=dk(ff()),b3e=dk(j());function dk(t){return t&&t.__esModule?t:{default:t}}function v3e(t){(0,b3e.default)(1,arguments);var e=(0,y3e.default)(t),r=e.getFullYear(),n=new Date(0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);var i=(0,NV.default)(n),a=new Date(0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);var o=(0,NV.default)(a);return e.getTime()>=i.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}LV.exports=M6.default});var Eh=g((O6,UV)=>{"use strict";Object.defineProperty(O6,"__esModule",{value:!0});O6.default=S3e;var g3e=lk(Nd()),_3e=lk(ff()),w3e=lk(j());function lk(t){return t&&t.__esModule?t:{default:t}}function S3e(t){(0,w3e.default)(1,arguments);var e=(0,g3e.default)(t),r=new Date(0);r.setFullYear(e,0,4),r.setHours(0,0,0,0);var n=(0,_3e.default)(r);return n}UV.exports=O6.default});var Uo=g((q6,HV)=>{"use strict";Object.defineProperty(q6,"__esModule",{value:!0});q6.default=A3e;function A3e(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}HV.exports=q6.default});var cx=g((D6,FV)=>{"use strict";Object.defineProperty(D6,"__esModule",{value:!0});D6.default=P3e;var C3e=KV(me()),E3e=KV(j());function KV(t){return t&&t.__esModule?t:{default:t}}function P3e(t){(0,E3e.default)(1,arguments);var e=(0,C3e.default)(t);return e.setHours(0,0,0,0),e}FV.exports=D6.default});var df=g((N6,jV)=>{"use strict";Object.defineProperty(N6,"__esModule",{value:!0});N6.default=k3e;var zV=hk(Uo()),WV=hk(cx()),T3e=hk(j());function hk(t){return t&&t.__esModule?t:{default:t}}var I3e=864e5;function k3e(t,e){(0,T3e.default)(2,arguments);var r=(0,WV.default)(t),n=(0,WV.default)(e),i=r.getTime()-(0,zV.default)(r),a=n.getTime()-(0,zV.default)(n);return Math.round((i-a)/I3e)}jV.exports=N6.default});var pk=g((L6,VV)=>{"use strict";Object.defineProperty(L6,"__esModule",{value:!0});L6.default=q3e;var B3e=fx(bt()),R3e=fx(me()),$V=fx(Eh()),M3e=fx(df()),O3e=fx(j());function fx(t){return t&&t.__esModule?t:{default:t}}function q3e(t,e){(0,O3e.default)(2,arguments);var r=(0,R3e.default)(t),n=(0,B3e.default)(e),i=(0,M3e.default)(r,(0,$V.default)(r)),a=new Date(0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),r=(0,$V.default)(a),r.setDate(r.getDate()+i),r}VV.exports=L6.default});var mk=g((H6,GV)=>{"use strict";Object.defineProperty(H6,"__esModule",{value:!0});H6.default=H3e;var D3e=U6(bt()),N3e=U6(Nd()),L3e=U6(pk()),U3e=U6(j());function U6(t){return t&&t.__esModule?t:{default:t}}function H3e(t,e){(0,U3e.default)(2,arguments);var r=(0,D3e.default)(e);return(0,L3e.default)(t,(0,N3e.default)(t)+r)}GV.exports=H6.default});var F6=g((K6,YV)=>{"use strict";Object.defineProperty(K6,"__esModule",{value:!0});K6.default=j3e;var K3e=xk(bt()),F3e=xk(Ch()),z3e=xk(j());function xk(t){return t&&t.__esModule?t:{default:t}}var W3e=6e4;function j3e(t,e){(0,z3e.default)(2,arguments);var r=(0,K3e.default)(e);return(0,F3e.default)(t,r*W3e)}YV.exports=K6.default});var W6=g((z6,JV)=>{"use strict";Object.defineProperty(z6,"__esModule",{value:!0});z6.default=Y3e;var $3e=yk(bt()),V3e=yk(Sh()),G3e=yk(j());function yk(t){return t&&t.__esModule?t:{default:t}}function Y3e(t,e){(0,G3e.default)(2,arguments);var r=(0,$3e.default)(e),n=r*3;return(0,V3e.default)(t,n)}JV.exports=z6.default});var vk=g((j6,XV)=>{"use strict";Object.defineProperty(j6,"__esModule",{value:!0});j6.default=Z3e;var J3e=bk(bt()),X3e=bk(Ch()),Q3e=bk(j());function bk(t){return t&&t.__esModule?t:{default:t}}function Z3e(t,e){(0,Q3e.default)(2,arguments);var r=(0,J3e.default)(e);return(0,X3e.default)(t,r*1e3)}XV.exports=j6.default});var dx=g(($6,QV)=>{"use strict";Object.defineProperty($6,"__esModule",{value:!0});$6.default=n4e;var e4e=gk(bt()),t4e=gk(Lo()),r4e=gk(j());function gk(t){return t&&t.__esModule?t:{default:t}}function n4e(t,e){(0,r4e.default)(2,arguments);var r=(0,e4e.default)(e),n=r*7;return(0,t4e.default)(t,n)}QV.exports=$6.default});var wk=g((V6,ZV)=>{"use strict";Object.defineProperty(V6,"__esModule",{value:!0});V6.default=o4e;var i4e=_k(bt()),a4e=_k(Sh()),s4e=_k(j());function _k(t){return t&&t.__esModule?t:{default:t}}function o4e(t,e){(0,s4e.default)(2,arguments);var r=(0,i4e.default)(e);return(0,a4e.default)(t,r*12)}ZV.exports=V6.default});var rG=g((Y6,tG)=>{"use strict";Object.defineProperty(Y6,"__esModule",{value:!0});Y6.default=c4e;var G6=eG(me()),u4e=eG(j());function eG(t){return t&&t.__esModule?t:{default:t}}function c4e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{inclusive:!1};(0,u4e.default)(2,arguments);var n=t||{},i=e||{},a=(0,G6.default)(n.start).getTime(),o=(0,G6.default)(n.end).getTime(),u=(0,G6.default)(i.start).getTime(),f=(0,G6.default)(i.end).getTime();if(!(a<=o&&u<=f))throw new RangeError("Invalid interval");return r.inclusive?a<=f&&u<=o:a<f&&u<o}tG.exports=Y6.default});var Sk=g((J6,iG)=>{"use strict";Object.defineProperty(J6,"__esModule",{value:!0});J6.default=l4e;var f4e=nG(me()),d4e=nG(j());function nG(t){return t&&t.__esModule?t:{default:t}}function l4e(t){(0,d4e.default)(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(typeof t=="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var r;return e.forEach(function(n){var i=(0,f4e.default)(n);(r===void 0||r<i||isNaN(Number(i)))&&(r=i)}),r||new Date(NaN)}iG.exports=J6.default});var Ak=g((X6,sG)=>{"use strict";Object.defineProperty(X6,"__esModule",{value:!0});X6.default=m4e;var h4e=aG(me()),p4e=aG(j());function aG(t){return t&&t.__esModule?t:{default:t}}function m4e(t){(0,p4e.default)(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(typeof t=="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var r;return e.forEach(function(n){var i=(0,h4e.default)(n);(r===void 0||r>i||isNaN(i.getDate()))&&(r=i)}),r||new Date(NaN)}sG.exports=X6.default});var uG=g((Q6,oG)=>{"use strict";Object.defineProperty(Q6,"__esModule",{value:!0});Q6.default=v4e;var x4e=Ck(Sk()),y4e=Ck(Ak()),b4e=Ck(j());function Ck(t){return t&&t.__esModule?t:{default:t}}function v4e(t,e){var r=e.start,n=e.end;return(0,b4e.default)(2,arguments),(0,y4e.default)([(0,x4e.default)([t,r]),n])}oG.exports=Q6.default});var lG=g((Z6,dG)=>{"use strict";Object.defineProperty(Z6,"__esModule",{value:!0});Z6.default=_4e;var cG=fG(me()),g4e=fG(j());function fG(t){return t&&t.__esModule?t:{default:t}}function _4e(t,e){(0,g4e.default)(2,arguments);var r=(0,cG.default)(t);if(isNaN(r))return NaN;var n=r.getTime(),i;e==null?i=[]:typeof e.forEach=="function"?i=e:i=Array.prototype.slice.call(e);var a,o;return i.forEach(function(u,f){var d=(0,cG.default)(u);if(isNaN(d)){a=NaN,o=NaN;return}var h=Math.abs(n-d.getTime());(a==null||h<o)&&(a=f,o=h)}),a}dG.exports=Z6.default});var xG=g((e3,mG)=>{"use strict";Object.defineProperty(e3,"__esModule",{value:!0});e3.default=S4e;var hG=pG(me()),w4e=pG(j());function pG(t){return t&&t.__esModule?t:{default:t}}function S4e(t,e){(0,w4e.default)(2,arguments);var r=(0,hG.default)(t);if(isNaN(r))return new Date(NaN);var n=r.getTime(),i;e==null?i=[]:typeof e.forEach=="function"?i=e:i=Array.prototype.slice.call(e);var a,o;return i.forEach(function(u){var f=(0,hG.default)(u);if(isNaN(f)){a=new Date(NaN),o=NaN;return}var d=Math.abs(n-f.getTime());(a==null||d<o)&&(a=f,o=d)}),a}mG.exports=e3.default});var lf=g((t3,vG)=>{"use strict";Object.defineProperty(t3,"__esModule",{value:!0});t3.default=C4e;var yG=bG(me()),A4e=bG(j());function bG(t){return t&&t.__esModule?t:{default:t}}function C4e(t,e){(0,A4e.default)(2,arguments);var r=(0,yG.default)(t),n=(0,yG.default)(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}vG.exports=t3.default});var SG=g((r3,wG)=>{"use strict";Object.defineProperty(r3,"__esModule",{value:!0});r3.default=P4e;var gG=_G(me()),E4e=_G(j());function _G(t){return t&&t.__esModule?t:{default:t}}function P4e(t,e){(0,E4e.default)(2,arguments);var r=(0,gG.default)(t),n=(0,gG.default)(e),i=r.getTime()-n.getTime();return i>0?-1:i<0?1:i}wG.exports=r3.default});var xn=g(Xr=>{"use strict";Object.defineProperty(Xr,"__esModule",{value:!0});Xr.secondsInMinute=Xr.secondsInHour=Xr.quartersInYear=Xr.monthsInYear=Xr.monthsInQuarter=Xr.minutesInHour=Xr.minTime=Xr.millisecondsInSecond=Xr.millisecondsInHour=Xr.millisecondsInMinute=Xr.maxTime=Xr.daysInWeek=void 0;var T4e=7;Xr.daysInWeek=T4e;var AG=Math.pow(10,8)*24*60*60*1e3;Xr.maxTime=AG;var I4e=6e4;Xr.millisecondsInMinute=I4e;var k4e=36e5;Xr.millisecondsInHour=k4e;var B4e=1e3;Xr.millisecondsInSecond=B4e;var R4e=-AG;Xr.minTime=R4e;var M4e=60;Xr.minutesInHour=M4e;var O4e=3;Xr.monthsInQuarter=O4e;var q4e=12;Xr.monthsInYear=q4e;var D4e=4;Xr.quartersInYear=D4e;var N4e=3600;Xr.secondsInHour=N4e;var L4e=60;Xr.secondsInMinute=L4e});var EG=g((n3,CG)=>{"use strict";Object.defineProperty(n3,"__esModule",{value:!0});n3.default=F4e;var U4e=K4e(j()),H4e=xn();function K4e(t){return t&&t.__esModule?t:{default:t}}function F4e(t){(0,U4e.default)(1,arguments);var e=t/H4e.daysInWeek;return Math.floor(e)}CG.exports=n3.default});var Ek=g((i3,PG)=>{"use strict";Object.defineProperty(i3,"__esModule",{value:!0});i3.default=j4e;var z4e=W4e(j());function W4e(t){return t&&t.__esModule?t:{default:t}}function j4e(t){return(0,z4e.default)(1,arguments),t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}PG.exports=i3.default});var Ks=g((a3,TG)=>{"use strict";Object.defineProperty(a3,"__esModule",{value:!0});a3.default=Y4e;var $4e=Pk(Ek()),V4e=Pk(me()),G4e=Pk(j());function Pk(t){return t&&t.__esModule?t:{default:t}}function Y4e(t){if((0,G4e.default)(1,arguments),!(0,$4e.default)(t)&&typeof t!="number")return!1;var e=(0,V4e.default)(t);return!isNaN(Number(e))}TG.exports=a3.default});var Ph=g((s3,BG)=>{"use strict";Object.defineProperty(s3,"__esModule",{value:!0});s3.default=X4e;var IG=kG(cx()),J4e=kG(j());function kG(t){return t&&t.__esModule?t:{default:t}}function X4e(t,e){(0,J4e.default)(2,arguments);var r=(0,IG.default)(t),n=(0,IG.default)(e);return r.getTime()===n.getTime()}BG.exports=s3.default});var DG=g((o3,qG)=>{"use strict";Object.defineProperty(o3,"__esModule",{value:!0});o3.default=n8e;var RG=hf(Ks()),Q4e=hf(ux()),MG=hf(me()),Z4e=hf(df()),OG=hf(Lo()),e8e=hf(Ph()),t8e=hf(bt()),r8e=hf(j());function hf(t){return t&&t.__esModule?t:{default:t}}function n8e(t,e){(0,r8e.default)(2,arguments);var r=(0,MG.default)(t),n=(0,MG.default)(e);if(!(0,RG.default)(r)||!(0,RG.default)(n))return NaN;var i=(0,Z4e.default)(r,n),a=i<0?-1:1,o=(0,t8e.default)(i/7),u=o*5;for(n=(0,OG.default)(n,o*7);!(0,e8e.default)(r,n);)u+=(0,Q4e.default)(n)?0:a,n=(0,OG.default)(n,a);return u===0?0:u}qG.exports=o3.default});var Tk=g((u3,UG)=>{"use strict";Object.defineProperty(u3,"__esModule",{value:!0});u3.default=a8e;var NG=LG(Nd()),i8e=LG(j());function LG(t){return t&&t.__esModule?t:{default:t}}function a8e(t,e){return(0,i8e.default)(2,arguments),(0,NG.default)(t)-(0,NG.default)(e)}UG.exports=u3.default});var zG=g((c3,FG)=>{"use strict";Object.defineProperty(c3,"__esModule",{value:!0});c3.default=u8e;var HG=Ik(Uo()),KG=Ik(ff()),s8e=Ik(j());function Ik(t){return t&&t.__esModule?t:{default:t}}var o8e=6048e5;function u8e(t,e){(0,s8e.default)(2,arguments);var r=(0,KG.default)(t),n=(0,KG.default)(e),i=r.getTime()-(0,HG.default)(r),a=n.getTime()-(0,HG.default)(n);return Math.round((i-a)/o8e)}FG.exports=c3.default});var kk=g((f3,$G)=>{"use strict";Object.defineProperty(f3,"__esModule",{value:!0});f3.default=f8e;var WG=jG(me()),c8e=jG(j());function jG(t){return t&&t.__esModule?t:{default:t}}function f8e(t,e){(0,c8e.default)(2,arguments);var r=(0,WG.default)(t),n=(0,WG.default)(e),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}$G.exports=f3.default});var Bk=g((d3,GG)=>{"use strict";Object.defineProperty(d3,"__esModule",{value:!0});d3.default=h8e;var d8e=VG(me()),l8e=VG(j());function VG(t){return t&&t.__esModule?t:{default:t}}function h8e(t){(0,l8e.default)(1,arguments);var e=(0,d8e.default)(t),r=Math.floor(e.getMonth()/3)+1;return r}GG.exports=d3.default});var QG=g((l3,XG)=>{"use strict";Object.defineProperty(l3,"__esModule",{value:!0});l3.default=m8e;var YG=Rk(Bk()),JG=Rk(me()),p8e=Rk(j());function Rk(t){return t&&t.__esModule?t:{default:t}}function m8e(t,e){(0,p8e.default)(2,arguments);var r=(0,JG.default)(t),n=(0,JG.default)(e),i=r.getFullYear()-n.getFullYear(),a=(0,YG.default)(r)-(0,YG.default)(n);return i*4+a}XG.exports=l3.default});var Ok=g((h3,tY)=>{"use strict";Object.defineProperty(h3,"__esModule",{value:!0});h3.default=b8e;var ZG=Mk(Uu()),eY=Mk(Uo()),x8e=Mk(j());function Mk(t){return t&&t.__esModule?t:{default:t}}var y8e=6048e5;function b8e(t,e,r){(0,x8e.default)(2,arguments);var n=(0,ZG.default)(t,r),i=(0,ZG.default)(e,r),a=n.getTime()-(0,eY.default)(n),o=i.getTime()-(0,eY.default)(i);return Math.round((a-o)/y8e)}tY.exports=h3.default});var qk=g((p3,iY)=>{"use strict";Object.defineProperty(p3,"__esModule",{value:!0});p3.default=g8e;var rY=nY(me()),v8e=nY(j());function nY(t){return t&&t.__esModule?t:{default:t}}function g8e(t,e){(0,v8e.default)(2,arguments);var r=(0,rY.default)(t),n=(0,rY.default)(e);return r.getFullYear()-n.getFullYear()}iY.exports=p3.default});var x3=g((m3,oY)=>{"use strict";Object.defineProperty(m3,"__esModule",{value:!0});m3.default=S8e;var aY=Dk(me()),_8e=Dk(df()),w8e=Dk(j());function Dk(t){return t&&t.__esModule?t:{default:t}}function sY(t,e){var r=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return r<0?-1:r>0?1:r}function S8e(t,e){(0,w8e.default)(2,arguments);var r=(0,aY.default)(t),n=(0,aY.default)(e),i=sY(r,n),a=Math.abs((0,_8e.default)(r,n));r.setDate(r.getDate()-i*a);var o=Number(sY(r,n)===-i),u=i*(a-o);return u===0?0:u}oY.exports=m3.default});var lx=g((y3,fY)=>{"use strict";Object.defineProperty(y3,"__esModule",{value:!0});y3.default=C8e;var uY=cY(me()),A8e=cY(j());function cY(t){return t&&t.__esModule?t:{default:t}}function C8e(t,e){return(0,A8e.default)(2,arguments),(0,uY.default)(t).getTime()-(0,uY.default)(e).getTime()}fY.exports=y3.default});var Th=g(Nk=>{"use strict";Object.defineProperty(Nk,"__esModule",{value:!0});Nk.getRoundingMethod=P8e;var dY={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},E8e="trunc";function P8e(t){return t?dY[t]:dY[E8e]}});var Lk=g((b3,hY)=>{"use strict";Object.defineProperty(b3,"__esModule",{value:!0});b3.default=R8e;var T8e=xn(),I8e=lY(lx()),k8e=lY(j()),B8e=Th();function lY(t){return t&&t.__esModule?t:{default:t}}function R8e(t,e,r){(0,k8e.default)(2,arguments);var n=(0,I8e.default)(t,e)/T8e.millisecondsInHour;return(0,B8e.getRoundingMethod)(r?.roundingMethod)(n)}hY.exports=b3.default});var Hk=g((v3,pY)=>{"use strict";Object.defineProperty(v3,"__esModule",{value:!0});v3.default=D8e;var M8e=Uk(bt()),O8e=Uk(mk()),q8e=Uk(j());function Uk(t){return t&&t.__esModule?t:{default:t}}function D8e(t,e){(0,q8e.default)(2,arguments);var r=(0,M8e.default)(e);return(0,O8e.default)(t,-r)}pY.exports=v3.default});var bY=g((g3,yY)=>{"use strict";Object.defineProperty(g3,"__esModule",{value:!0});g3.default=H8e;var mY=hx(me()),N8e=hx(Tk()),xY=hx(lf()),L8e=hx(Hk()),U8e=hx(j());function hx(t){return t&&t.__esModule?t:{default:t}}function H8e(t,e){(0,U8e.default)(2,arguments);var r=(0,mY.default)(t),n=(0,mY.default)(e),i=(0,xY.default)(r,n),a=Math.abs((0,N8e.default)(r,n));r=(0,L8e.default)(r,i*a);var o=Number((0,xY.default)(r,n)===-i),u=i*(a-o);return u===0?0:u}yY.exports=g3.default});var Kk=g((_3,gY)=>{"use strict";Object.defineProperty(_3,"__esModule",{value:!0});_3.default=j8e;var K8e=xn(),F8e=vY(lx()),z8e=vY(j()),W8e=Th();function vY(t){return t&&t.__esModule?t:{default:t}}function j8e(t,e,r){(0,z8e.default)(2,arguments);var n=(0,F8e.default)(t,e)/K8e.millisecondsInMinute;return(0,W8e.getRoundingMethod)(r?.roundingMethod)(n)}gY.exports=_3.default});var S3=g((w3,wY)=>{"use strict";Object.defineProperty(w3,"__esModule",{value:!0});w3.default=G8e;var $8e=_Y(me()),V8e=_Y(j());function _Y(t){return t&&t.__esModule?t:{default:t}}function G8e(t){(0,V8e.default)(1,arguments);var e=(0,$8e.default)(t);return e.setHours(23,59,59,999),e}wY.exports=w3.default});var C3=g((A3,AY)=>{"use strict";Object.defineProperty(A3,"__esModule",{value:!0});A3.default=X8e;var Y8e=SY(me()),J8e=SY(j());function SY(t){return t&&t.__esModule?t:{default:t}}function X8e(t){(0,J8e.default)(1,arguments);var e=(0,Y8e.default)(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}AY.exports=A3.default});var Fk=g((P3,CY)=>{"use strict";Object.defineProperty(P3,"__esModule",{value:!0});P3.default=rwe;var Q8e=E3(me()),Z8e=E3(S3()),ewe=E3(C3()),twe=E3(j());function E3(t){return t&&t.__esModule?t:{default:t}}function rwe(t){(0,twe.default)(1,arguments);var e=(0,Q8e.default)(t);return(0,Z8e.default)(e).getTime()===(0,ewe.default)(e).getTime()}CY.exports=P3.default});var mx=g((T3,EY)=>{"use strict";Object.defineProperty(T3,"__esModule",{value:!0});T3.default=swe;var zk=px(me()),nwe=px(kk()),Wk=px(lf()),iwe=px(j()),awe=px(Fk());function px(t){return t&&t.__esModule?t:{default:t}}function swe(t,e){(0,iwe.default)(2,arguments);var r=(0,zk.default)(t),n=(0,zk.default)(e),i=(0,Wk.default)(r,n),a=Math.abs((0,nwe.default)(r,n)),o;if(a<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*a);var u=(0,Wk.default)(r,n)===-i;(0,awe.default)((0,zk.default)(t))&&a===1&&(0,Wk.default)(t,n)===1&&(u=!1),o=i*(a-Number(u))}return o===0?0:o}EY.exports=T3.default});var IY=g((I3,TY)=>{"use strict";Object.defineProperty(I3,"__esModule",{value:!0});I3.default=fwe;var owe=PY(mx()),uwe=PY(j()),cwe=Th();function PY(t){return t&&t.__esModule?t:{default:t}}function fwe(t,e,r){(0,uwe.default)(2,arguments);var n=(0,owe.default)(t,e)/3;return(0,cwe.getRoundingMethod)(r?.roundingMethod)(n)}TY.exports=I3.default});var B3=g((k3,BY)=>{"use strict";Object.defineProperty(k3,"__esModule",{value:!0});k3.default=pwe;var dwe=kY(lx()),lwe=kY(j()),hwe=Th();function kY(t){return t&&t.__esModule?t:{default:t}}function pwe(t,e,r){(0,lwe.default)(2,arguments);var n=(0,dwe.default)(t,e)/1e3;return(0,hwe.getRoundingMethod)(r?.roundingMethod)(n)}BY.exports=k3.default});var OY=g((R3,MY)=>{"use strict";Object.defineProperty(R3,"__esModule",{value:!0});R3.default=bwe;var mwe=RY(x3()),xwe=RY(j()),ywe=Th();function RY(t){return t&&t.__esModule?t:{default:t}}function bwe(t,e,r){(0,xwe.default)(2,arguments);var n=(0,mwe.default)(t,e)/7;return(0,ywe.getRoundingMethod)(r?.roundingMethod)(n)}MY.exports=R3.default});var jk=g((O3,NY)=>{"use strict";Object.defineProperty(O3,"__esModule",{value:!0});O3.default=_we;var qY=M3(me()),vwe=M3(qk()),DY=M3(lf()),gwe=M3(j());function M3(t){return t&&t.__esModule?t:{default:t}}function _we(t,e){(0,gwe.default)(2,arguments);var r=(0,qY.default)(t),n=(0,qY.default)(e),i=(0,DY.default)(r,n),a=Math.abs((0,vwe.default)(r,n));r.setFullYear(1584),n.setFullYear(1584);var o=(0,DY.default)(r,n)===-i,u=i*(a-Number(o));return u===0?0:u}NY.exports=O3.default});var Vk=g((q3,UY)=>{"use strict";Object.defineProperty(q3,"__esModule",{value:!0});q3.default=Swe;var $k=LY(me()),wwe=LY(j());function LY(t){return t&&t.__esModule?t:{default:t}}function Swe(t,e){(0,wwe.default)(1,arguments);var r=t||{},n=(0,$k.default)(r.start),i=(0,$k.default)(r.end),a=i.getTime();if(!(n.getTime()<=a))throw new RangeError("Invalid interval");var o=[],u=n;u.setHours(0,0,0,0);var f=e&&"step"in e?Number(e.step):1;if(f<1||isNaN(f))throw new RangeError("`options.step` must be a number greater than 1");for(;u.getTime()<=a;)o.push((0,$k.default)(u)),u.setDate(u.getDate()+f),u.setHours(0,0,0,0);return o}UY.exports=q3.default});var KY=g((D3,HY)=>{"use strict";Object.defineProperty(D3,"__esModule",{value:!0});D3.default=Ewe;var Awe=Yk(k6()),Gk=Yk(me()),Cwe=Yk(j());function Yk(t){return t&&t.__esModule?t:{default:t}}function Ewe(t,e){(0,Cwe.default)(1,arguments);var r=t||{},n=(0,Gk.default)(r.start),i=(0,Gk.default)(r.end),a=n.getTime(),o=i.getTime();if(!(a<=o))throw new RangeError("Invalid interval");var u=[],f=n;f.setMinutes(0,0,0);var d=e&&"step"in e?Number(e.step):1;if(d<1||isNaN(d))throw new RangeError("`options.step` must be a number greater than 1");for(;f.getTime()<=o;)u.push((0,Gk.default)(f)),f=(0,Awe.default)(f,d);return u}HY.exports=D3.default});var L3=g((N3,zY)=>{"use strict";Object.defineProperty(N3,"__esModule",{value:!0});N3.default=Iwe;var Pwe=FY(me()),Twe=FY(j());function FY(t){return t&&t.__esModule?t:{default:t}}function Iwe(t){(0,Twe.default)(1,arguments);var e=(0,Pwe.default)(t);return e.setSeconds(0,0),e}zY.exports=N3.default});var $Y=g((H3,jY)=>{"use strict";Object.defineProperty(H3,"__esModule",{value:!0});H3.default=Rwe;var kwe=U3(F6()),Jk=U3(me()),WY=U3(L3()),Bwe=U3(j());function U3(t){return t&&t.__esModule?t:{default:t}}function Rwe(t,e){(0,Bwe.default)(1,arguments);var r=(0,WY.default)((0,Jk.default)(t.start)),n=(0,WY.default)((0,Jk.default)(t.end)),i=r.getTime(),a=n.getTime();if(i>=a)throw new RangeError("Invalid interval");var o=[],u=r,f=e&&"step"in e?Number(e.step):1;if(f<1||isNaN(f))throw new RangeError("`options.step` must be a number equal or greater than 1");for(;u.getTime()<=a;)o.push((0,Jk.default)(u)),u=(0,kwe.default)(u,f);return o}jY.exports=H3.default});var YY=g((K3,GY)=>{"use strict";Object.defineProperty(K3,"__esModule",{value:!0});K3.default=Owe;var Xk=VY(me()),Mwe=VY(j());function VY(t){return t&&t.__esModule?t:{default:t}}function Owe(t){(0,Mwe.default)(1,arguments);var e=t||{},r=(0,Xk.default)(e.start),n=(0,Xk.default)(e.end),i=n.getTime(),a=[];if(!(r.getTime()<=i))throw new RangeError("Invalid interval");var o=r;for(o.setHours(0,0,0,0),o.setDate(1);o.getTime()<=i;)a.push((0,Xk.default)(o)),o.setMonth(o.getMonth()+1);return a}GY.exports=K3.default});var z3=g((F3,XY)=>{"use strict";Object.defineProperty(F3,"__esModule",{value:!0});F3.default=Nwe;var qwe=JY(me()),Dwe=JY(j());function JY(t){return t&&t.__esModule?t:{default:t}}function Nwe(t){(0,Dwe.default)(1,arguments);var e=(0,qwe.default)(t),r=e.getMonth(),n=r-r%3;return e.setMonth(n,1),e.setHours(0,0,0,0),e}XY.exports=F3.default});var eJ=g((j3,ZY)=>{"use strict";Object.defineProperty(j3,"__esModule",{value:!0});j3.default=Hwe;var Lwe=W3(W6()),QY=W3(z3()),Qk=W3(me()),Uwe=W3(j());function W3(t){return t&&t.__esModule?t:{default:t}}function Hwe(t){(0,Uwe.default)(1,arguments);var e=t||{},r=(0,Qk.default)(e.start),n=(0,Qk.default)(e.end),i=n.getTime();if(!(r.getTime()<=i))throw new RangeError("Invalid interval");var a=(0,QY.default)(r),o=(0,QY.default)(n);i=o.getTime();for(var u=[],f=a;f.getTime()<=i;)u.push((0,Qk.default)(f)),f=(0,Lwe.default)(f,1);return u}ZY.exports=j3.default});var nJ=g((V3,rJ)=>{"use strict";Object.defineProperty(V3,"__esModule",{value:!0});V3.default=zwe;var Kwe=$3(dx()),tJ=$3(Uu()),Zk=$3(me()),Fwe=$3(j());function $3(t){return t&&t.__esModule?t:{default:t}}function zwe(t,e){(0,Fwe.default)(1,arguments);var r=t||{},n=(0,Zk.default)(r.start),i=(0,Zk.default)(r.end),a=i.getTime();if(!(n.getTime()<=a))throw new RangeError("Invalid interval");var o=(0,tJ.default)(n,e),u=(0,tJ.default)(i,e);o.setHours(15),u.setHours(15),a=u.getTime();for(var f=[],d=o;d.getTime()<=a;)d.setHours(0),f.push((0,Zk.default)(d)),d=(0,Kwe.default)(d,1),d.setHours(15);return f}rJ.exports=V3.default});var J3=g((Y3,iJ)=>{"use strict";Object.defineProperty(Y3,"__esModule",{value:!0});Y3.default=Gwe;var Wwe=G3(Vk()),jwe=G3(C6()),$we=G3(ux()),Vwe=G3(j());function G3(t){return t&&t.__esModule?t:{default:t}}function Gwe(t){(0,Vwe.default)(1,arguments);for(var e=(0,Wwe.default)(t),r=[],n=0;n<e.length;){var i=e[n++];(0,$we.default)(i)&&(r.push(i),(0,jwe.default)(i)&&(n=n+5))}return r}iJ.exports=Y3.default});var xx=g((X3,sJ)=>{"use strict";Object.defineProperty(X3,"__esModule",{value:!0});X3.default=Xwe;var Ywe=aJ(me()),Jwe=aJ(j());function aJ(t){return t&&t.__esModule?t:{default:t}}function Xwe(t){(0,Jwe.default)(1,arguments);var e=(0,Ywe.default)(t);return e.setDate(1),e.setHours(0,0,0,0),e}sJ.exports=X3.default});var uJ=g((Z3,oJ)=>{"use strict";Object.defineProperty(Z3,"__esModule",{value:!0});Z3.default=r5e;var Qwe=Q3(J3()),Zwe=Q3(xx()),e5e=Q3(C3()),t5e=Q3(j());function Q3(t){return t&&t.__esModule?t:{default:t}}function r5e(t){(0,t5e.default)(1,arguments);var e=(0,Zwe.default)(t);if(isNaN(e.getTime()))throw new RangeError("The passed date is invalid");var r=(0,e5e.default)(t);return(0,Qwe.default)({start:e,end:r})}oJ.exports=Z3.default});var t4=g((e4,fJ)=>{"use strict";Object.defineProperty(e4,"__esModule",{value:!0});e4.default=a5e;var n5e=cJ(me()),i5e=cJ(j());function cJ(t){return t&&t.__esModule?t:{default:t}}function a5e(t){(0,i5e.default)(1,arguments);var e=(0,n5e.default)(t),r=new Date(0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}fJ.exports=e4.default});var eB=g((r4,lJ)=>{"use strict";Object.defineProperty(r4,"__esModule",{value:!0});r4.default=u5e;var s5e=dJ(me()),o5e=dJ(j());function dJ(t){return t&&t.__esModule?t:{default:t}}function u5e(t){(0,o5e.default)(1,arguments);var e=(0,s5e.default)(t),r=e.getFullYear();return e.setFullYear(r+1,0,0),e.setHours(23,59,59,999),e}lJ.exports=r4.default});var pJ=g((i4,hJ)=>{"use strict";Object.defineProperty(i4,"__esModule",{value:!0});i4.default=h5e;var c5e=n4(J3()),f5e=n4(t4()),d5e=n4(eB()),l5e=n4(j());function n4(t){return t&&t.__esModule?t:{default:t}}function h5e(t){(0,l5e.default)(1,arguments);var e=(0,f5e.default)(t);if(isNaN(e))throw new RangeError("The passed date is invalid");var r=(0,d5e.default)(t);return(0,c5e.default)({start:e,end:r})}hJ.exports=i4.default});var yJ=g((a4,xJ)=>{"use strict";Object.defineProperty(a4,"__esModule",{value:!0});a4.default=m5e;var tB=mJ(me()),p5e=mJ(j());function mJ(t){return t&&t.__esModule?t:{default:t}}function m5e(t){(0,p5e.default)(1,arguments);var e=t||{},r=(0,tB.default)(e.start),n=(0,tB.default)(e.end),i=n.getTime();if(!(r.getTime()<=i))throw new RangeError("Invalid interval");var a=[],o=r;for(o.setHours(0,0,0,0),o.setMonth(0,1);o.getTime()<=i;)a.push((0,tB.default)(o)),o.setFullYear(o.getFullYear()+1);return a}xJ.exports=a4.default});var gJ=g((s4,vJ)=>{"use strict";Object.defineProperty(s4,"__esModule",{value:!0});s4.default=b5e;var x5e=bJ(me()),y5e=bJ(j());function bJ(t){return t&&t.__esModule?t:{default:t}}function b5e(t){(0,y5e.default)(1,arguments);var e=(0,x5e.default)(t),r=e.getFullYear(),n=9+Math.floor(r/10)*10;return e.setFullYear(n,11,31),e.setHours(23,59,59,999),e}vJ.exports=s4.default});var SJ=g((o4,wJ)=>{"use strict";Object.defineProperty(o4,"__esModule",{value:!0});o4.default=_5e;var v5e=_J(me()),g5e=_J(j());function _J(t){return t&&t.__esModule?t:{default:t}}function _5e(t){(0,g5e.default)(1,arguments);var e=(0,v5e.default)(t);return e.setMinutes(59,59,999),e}wJ.exports=o4.default});var nB=g((u4,CJ)=>{"use strict";Object.defineProperty(u4,"__esModule",{value:!0});u4.default=A5e;var w5e=rB(me()),AJ=rB(bt()),S5e=rB(j());function rB(t){return t&&t.__esModule?t:{default:t}}function A5e(t,e){(0,S5e.default)(1,arguments);var r=e||{},n=r.locale,i=n&&n.options&&n.options.weekStartsOn,a=i==null?0:(0,AJ.default)(i),o=r.weekStartsOn==null?a:(0,AJ.default)(r.weekStartsOn);if(!(o>=0&&o<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=(0,w5e.default)(t),f=u.getDay(),d=(f<o?-7:0)+6-(f-o);return u.setDate(u.getDate()+d),u.setHours(23,59,59,999),u}CJ.exports=u4.default});var TJ=g((c4,PJ)=>{"use strict";Object.defineProperty(c4,"__esModule",{value:!0});c4.default=P5e;var C5e=EJ(nB()),E5e=EJ(j());function EJ(t){return t&&t.__esModule?t:{default:t}}function P5e(t){return(0,E5e.default)(1,arguments),(0,C5e.default)(t,{weekStartsOn:1})}PJ.exports=c4.default});var kJ=g((f4,IJ)=>{"use strict";Object.defineProperty(f4,"__esModule",{value:!0});f4.default=B5e;var T5e=iB(Nd()),I5e=iB(ff()),k5e=iB(j());function iB(t){return t&&t.__esModule?t:{default:t}}function B5e(t){(0,k5e.default)(1,arguments);var e=(0,T5e.default)(t),r=new Date(0);r.setFullYear(e+1,0,4),r.setHours(0,0,0,0);var n=(0,I5e.default)(r);return n.setMilliseconds(n.getMilliseconds()-1),n}IJ.exports=f4.default});var MJ=g((d4,RJ)=>{"use strict";Object.defineProperty(d4,"__esModule",{value:!0});d4.default=O5e;var R5e=BJ(me()),M5e=BJ(j());function BJ(t){return t&&t.__esModule?t:{default:t}}function O5e(t){(0,M5e.default)(1,arguments);var e=(0,R5e.default)(t);return e.setSeconds(59,999),e}RJ.exports=d4.default});var DJ=g((l4,qJ)=>{"use strict";Object.defineProperty(l4,"__esModule",{value:!0});l4.default=N5e;var q5e=OJ(me()),D5e=OJ(j());function OJ(t){return t&&t.__esModule?t:{default:t}}function N5e(t){(0,D5e.default)(1,arguments);var e=(0,q5e.default)(t),r=e.getMonth(),n=r-r%3+3;return e.setMonth(n,0),e.setHours(23,59,59,999),e}qJ.exports=l4.default});var UJ=g((h4,LJ)=>{"use strict";Object.defineProperty(h4,"__esModule",{value:!0});h4.default=H5e;var L5e=NJ(me()),U5e=NJ(j());function NJ(t){return t&&t.__esModule?t:{default:t}}function H5e(t){(0,U5e.default)(1,arguments);var e=(0,L5e.default)(t);return e.setMilliseconds(999),e}LJ.exports=h4.default});var KJ=g((p4,HJ)=>{"use strict";Object.defineProperty(p4,"__esModule",{value:!0});p4.default=z5e;var K5e=F5e(S3());function F5e(t){return t&&t.__esModule?t:{default:t}}function z5e(){return(0,K5e.default)(Date.now())}HJ.exports=p4.default});var zJ=g((m4,FJ)=>{"use strict";Object.defineProperty(m4,"__esModule",{value:!0});m4.default=W5e;function W5e(){var t=new Date,e=t.getFullYear(),r=t.getMonth(),n=t.getDate(),i=new Date(0);return i.setFullYear(e,r,n+1),i.setHours(23,59,59,999),i}FJ.exports=m4.default});var jJ=g((x4,WJ)=>{"use strict";Object.defineProperty(x4,"__esModule",{value:!0});x4.default=j5e;function j5e(){var t=new Date,e=t.getFullYear(),r=t.getMonth(),n=t.getDate(),i=new Date(0);return i.setFullYear(e,r,n-1),i.setHours(23,59,59,999),i}WJ.exports=x4.default});var VJ=g((yx,$J)=>{"use strict";Object.defineProperty(yx,"__esModule",{value:!0});yx.default=void 0;var $5e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},V5e=function(t,e,r){var n,i=$5e[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n},G5e=V5e;yx.default=G5e;$J.exports=yx.default});var YJ=g((y4,GJ)=>{"use strict";Object.defineProperty(y4,"__esModule",{value:!0});y4.default=Y5e;function Y5e(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth,n=t.formats[r]||t.formats[t.defaultWidth];return n}}GJ.exports=y4.default});var XJ=g((bx,JJ)=>{"use strict";Object.defineProperty(bx,"__esModule",{value:!0});bx.default=void 0;var aB=J5e(YJ());function J5e(t){return t&&t.__esModule?t:{default:t}}var X5e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Q5e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Z5e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},eSe={date:(0,aB.default)({formats:X5e,defaultWidth:"full"}),time:(0,aB.default)({formats:Q5e,defaultWidth:"full"}),dateTime:(0,aB.default)({formats:Z5e,defaultWidth:"full"})},tSe=eSe;bx.default=tSe;JJ.exports=bx.default});var ZJ=g((vx,QJ)=>{"use strict";Object.defineProperty(vx,"__esModule",{value:!0});vx.default=void 0;var rSe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nSe=function(t,e,r,n){return rSe[t]},iSe=nSe;vx.default=iSe;QJ.exports=vx.default});var tX=g((b4,eX)=>{"use strict";Object.defineProperty(b4,"__esModule",{value:!0});b4.default=aSe;function aSe(t){return function(e,r){var n=r||{},i=n.context?String(n.context):"standalone",a;if(i==="formatting"&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,u=n.width?String(n.width):o;a=t.formattingValues[u]||t.formattingValues[o]}else{var f=t.defaultWidth,d=n.width?String(n.width):t.defaultWidth;a=t.values[d]||t.values[f]}var h=t.argumentCallback?t.argumentCallback(e):e;return a[h]}}eX.exports=b4.default});var nX=g((_x,rX)=>{"use strict";Object.defineProperty(_x,"__esModule",{value:!0});_x.default=void 0;var gx=sSe(tX());function sSe(t){return t&&t.__esModule?t:{default:t}}var oSe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},uSe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},cSe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fSe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dSe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},lSe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},hSe=function(t,e){var r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},pSe={ordinalNumber:hSe,era:(0,gx.default)({values:oSe,defaultWidth:"wide"}),quarter:(0,gx.default)({values:uSe,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:(0,gx.default)({values:cSe,defaultWidth:"wide"}),day:(0,gx.default)({values:fSe,defaultWidth:"wide"}),dayPeriod:(0,gx.default)({values:dSe,defaultWidth:"wide",formattingValues:lSe,defaultFormattingWidth:"wide"})},mSe=pSe;_x.default=mSe;rX.exports=_x.default});var aX=g((v4,iX)=>{"use strict";Object.defineProperty(v4,"__esModule",{value:!0});v4.default=xSe;function xSe(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;var o=a[0],u=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(u)?bSe(u,function(m){return m.test(o)}):ySe(u,function(m){return m.test(o)}),d;d=t.valueCallback?t.valueCallback(f):f,d=r.valueCallback?r.valueCallback(d):d;var h=e.slice(o.length);return{value:d,rest:h}}}function ySe(t,e){for(var r in t)if(t.hasOwnProperty(r)&&e(t[r]))return r}function bSe(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r}iX.exports=v4.default});var oX=g((g4,sX)=>{"use strict";Object.defineProperty(g4,"__esModule",{value:!0});g4.default=vSe;function vSe(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(t.matchPattern);if(!n)return null;var i=n[0],a=e.match(t.parsePattern);if(!a)return null;var o=t.valueCallback?t.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;var u=e.slice(i.length);return{value:o,rest:u}}}sX.exports=g4.default});var fX=g((Sx,cX)=>{"use strict";Object.defineProperty(Sx,"__esModule",{value:!0});Sx.default=void 0;var wx=uX(aX()),gSe=uX(oX());function uX(t){return t&&t.__esModule?t:{default:t}}var _Se=/^(\d+)(th|st|nd|rd)?/i,wSe=/\d+/i,SSe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ASe={any:[/^b/i,/^(a|c)/i]},CSe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ESe={any:[/1/i,/2/i,/3/i,/4/i]},PSe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},TSe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ISe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kSe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},BSe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},RSe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},MSe={ordinalNumber:(0,gSe.default)({matchPattern:_Se,parsePattern:wSe,valueCallback:function(t){return parseInt(t,10)}}),era:(0,wx.default)({matchPatterns:SSe,defaultMatchWidth:"wide",parsePatterns:ASe,defaultParseWidth:"any"}),quarter:(0,wx.default)({matchPatterns:CSe,defaultMatchWidth:"wide",parsePatterns:ESe,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:(0,wx.default)({matchPatterns:PSe,defaultMatchWidth:"wide",parsePatterns:TSe,defaultParseWidth:"any"}),day:(0,wx.default)({matchPatterns:ISe,defaultMatchWidth:"wide",parsePatterns:kSe,defaultParseWidth:"any"}),dayPeriod:(0,wx.default)({matchPatterns:BSe,defaultMatchWidth:"any",parsePatterns:RSe,defaultParseWidth:"any"})},OSe=MSe;Sx.default=OSe;cX.exports=Sx.default});var Ld=g((Cx,dX)=>{"use strict";Object.defineProperty(Cx,"__esModule",{value:!0});Cx.default=void 0;var qSe=Ax(VJ()),DSe=Ax(XJ()),NSe=Ax(ZJ()),LSe=Ax(nX()),USe=Ax(fX());function Ax(t){return t&&t.__esModule?t:{default:t}}var HSe={code:"en-US",formatDistance:qSe.default,formatLong:DSe.default,formatRelative:NSe.default,localize:LSe.default,match:USe.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},KSe=HSe;Cx.default=KSe;dX.exports=Cx.default});var Ih=g((_4,lX)=>{"use strict";Object.defineProperty(_4,"__esModule",{value:!0});_4.default=jSe;var FSe=sB(bt()),zSe=sB(Ch()),WSe=sB(j());function sB(t){return t&&t.__esModule?t:{default:t}}function jSe(t,e){(0,WSe.default)(2,arguments);var r=(0,FSe.default)(e);return(0,zSe.default)(t,-r)}lX.exports=_4.default});var Ud=g((w4,hX)=>{"use strict";Object.defineProperty(w4,"__esModule",{value:!0});w4.default=$Se;function $Se(t,e){for(var r=t<0?"-":"",n=Math.abs(t).toString();n.length<e;)n="0"+n;return r+n}hX.exports=w4.default});var oB=g((Ex,pX)=>{"use strict";Object.defineProperty(Ex,"__esModule",{value:!0});Ex.default=void 0;var pf=VSe(Ud());function VSe(t){return t&&t.__esModule?t:{default:t}}var GSe={y:function(t,e){var r=t.getUTCFullYear(),n=r>0?r:1-r;return(0,pf.default)(e==="yy"?n%100:n,e.length)},M:function(t,e){var r=t.getUTCMonth();return e==="M"?String(r+1):(0,pf.default)(r+1,2)},d:function(t,e){return(0,pf.default)(t.getUTCDate(),e.length)},a:function(t,e){var r=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,e){return(0,pf.default)(t.getUTCHours()%12||12,e.length)},H:function(t,e){return(0,pf.default)(t.getUTCHours(),e.length)},m:function(t,e){return(0,pf.default)(t.getUTCMinutes(),e.length)},s:function(t,e){return(0,pf.default)(t.getUTCSeconds(),e.length)},S:function(t,e){var r=e.length,n=t.getUTCMilliseconds(),i=Math.floor(n*Math.pow(10,r-3));return(0,pf.default)(i,e.length)}},YSe=GSe;Ex.default=YSe;pX.exports=Ex.default});var yX=g((S4,xX)=>{"use strict";Object.defineProperty(S4,"__esModule",{value:!0});S4.default=ZSe;var JSe=mX(me()),XSe=mX(j());function mX(t){return t&&t.__esModule?t:{default:t}}var QSe=864e5;function ZSe(t){(0,XSe.default)(1,arguments);var e=(0,JSe.default)(t),r=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),i=r-n;return Math.floor(i/QSe)+1}xX.exports=S4.default});var Px=g((A4,vX)=>{"use strict";Object.defineProperty(A4,"__esModule",{value:!0});A4.default=rAe;var eAe=bX(me()),tAe=bX(j());function bX(t){return t&&t.__esModule?t:{default:t}}function rAe(t){(0,tAe.default)(1,arguments);var e=1,r=(0,eAe.default)(t),n=r.getUTCDay(),i=(n<e?7:0)+n-e;return r.setUTCDate(r.getUTCDate()-i),r.setUTCHours(0,0,0,0),r}vX.exports=A4.default});var cB=g((C4,_X)=>{"use strict";Object.defineProperty(C4,"__esModule",{value:!0});C4.default=aAe;var nAe=uB(me()),gX=uB(Px()),iAe=uB(j());function uB(t){return t&&t.__esModule?t:{default:t}}function aAe(t){(0,iAe.default)(1,arguments);var e=(0,nAe.default)(t),r=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var i=(0,gX.default)(n),a=new Date(0);a.setUTCFullYear(r,0,4),a.setUTCHours(0,0,0,0);var o=(0,gX.default)(a);return e.getTime()>=i.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}_X.exports=C4.default});var SX=g((E4,wX)=>{"use strict";Object.defineProperty(E4,"__esModule",{value:!0});E4.default=cAe;var sAe=fB(cB()),oAe=fB(Px()),uAe=fB(j());function fB(t){return t&&t.__esModule?t:{default:t}}function cAe(t){(0,uAe.default)(1,arguments);var e=(0,sAe.default)(t),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var n=(0,oAe.default)(r);return n}wX.exports=E4.default});var dB=g((T4,AX)=>{"use strict";Object.defineProperty(T4,"__esModule",{value:!0});T4.default=mAe;var fAe=P4(me()),dAe=P4(Px()),lAe=P4(SX()),hAe=P4(j());function P4(t){return t&&t.__esModule?t:{default:t}}var pAe=6048e5;function mAe(t){(0,hAe.default)(1,arguments);var e=(0,fAe.default)(t),r=(0,dAe.default)(e).getTime()-(0,lAe.default)(e).getTime();return Math.round(r/pAe)+1}AX.exports=T4.default});var Tx=g((I4,EX)=>{"use strict";Object.defineProperty(I4,"__esModule",{value:!0});I4.default=bAe;var CX=lB(bt()),xAe=lB(me()),yAe=lB(j());function lB(t){return t&&t.__esModule?t:{default:t}}function bAe(t,e){(0,yAe.default)(1,arguments);var r=e||{},n=r.locale,i=n&&n.options&&n.options.weekStartsOn,a=i==null?0:(0,CX.default)(i),o=r.weekStartsOn==null?a:(0,CX.default)(r.weekStartsOn);if(!(o>=0&&o<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=(0,xAe.default)(t),f=u.getUTCDay(),d=(f<o?7:0)+f-o;return u.setUTCDate(u.getUTCDate()-d),u.setUTCHours(0,0,0,0),u}EX.exports=I4.default});var R4=g((B4,IX)=>{"use strict";Object.defineProperty(B4,"__esModule",{value:!0});B4.default=_Ae;var PX=k4(bt()),vAe=k4(me()),TX=k4(Tx()),gAe=k4(j());function k4(t){return t&&t.__esModule?t:{default:t}}function _Ae(t,e){(0,gAe.default)(1,arguments);var r=(0,vAe.default)(t,e),n=r.getUTCFullYear(),i=e||{},a=i.locale,o=a&&a.options&&a.options.firstWeekContainsDate,u=o==null?1:(0,PX.default)(o),f=i.firstWeekContainsDate==null?u:(0,PX.default)(i.firstWeekContainsDate);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var d=new Date(0);d.setUTCFullYear(n+1,0,f),d.setUTCHours(0,0,0,0);var h=(0,TX.default)(d,e),m=new Date(0);m.setUTCFullYear(n,0,f),m.setUTCHours(0,0,0,0);var _=(0,TX.default)(m,e);return r.getTime()>=h.getTime()?n+1:r.getTime()>=_.getTime()?n:n-1}IX.exports=B4.default});var RX=g((O4,BX)=>{"use strict";Object.defineProperty(O4,"__esModule",{value:!0});O4.default=CAe;var kX=M4(bt()),wAe=M4(R4()),SAe=M4(Tx()),AAe=M4(j());function M4(t){return t&&t.__esModule?t:{default:t}}function CAe(t,e){(0,AAe.default)(1,arguments);var r=e||{},n=r.locale,i=n&&n.options&&n.options.firstWeekContainsDate,a=i==null?1:(0,kX.default)(i),o=r.firstWeekContainsDate==null?a:(0,kX.default)(r.firstWeekContainsDate),u=(0,wAe.default)(t,e),f=new Date(0);f.setUTCFullYear(u,0,o),f.setUTCHours(0,0,0,0);var d=(0,SAe.default)(f,e);return d}BX.exports=O4.default});var hB=g((D4,MX)=>{"use strict";Object.defineProperty(D4,"__esModule",{value:!0});D4.default=BAe;var EAe=q4(me()),PAe=q4(Tx()),TAe=q4(RX()),IAe=q4(j());function q4(t){return t&&t.__esModule?t:{default:t}}var kAe=6048e5;function BAe(t,e){(0,IAe.default)(1,arguments);var r=(0,EAe.default)(t),n=(0,PAe.default)(r,e).getTime()-(0,TAe.default)(r,e).getTime();return Math.round(n/kAe)+1}MX.exports=D4.default});var NX=g((Ix,DX)=>{"use strict";Object.defineProperty(Ix,"__esModule",{value:!0});Ix.default=void 0;var mf=Kd(oB()),RAe=Kd(yX()),MAe=Kd(dB()),OAe=Kd(cB()),qAe=Kd(hB()),DAe=Kd(R4()),Ln=Kd(Ud());function Kd(t){return t&&t.__esModule?t:{default:t}}var kh={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},NAe={G:function(t,e,r){var n=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){var n=t.getUTCFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return mf.default.y(t,e)},Y:function(t,e,r,n){var i=(0,DAe.default)(t,n),a=i>0?i:1-i;if(e==="YY"){var o=a%100;return(0,Ln.default)(o,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):(0,Ln.default)(a,e.length)},R:function(t,e){var r=(0,OAe.default)(t);return(0,Ln.default)(r,e.length)},u:function(t,e){var r=t.getUTCFullYear();return(0,Ln.default)(r,e.length)},Q:function(t,e,r){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return(0,Ln.default)(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return(0,Ln.default)(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){var n=t.getUTCMonth();switch(e){case"M":case"MM":return mf.default.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){var n=t.getUTCMonth();switch(e){case"L":return String(n+1);case"LL":return(0,Ln.default)(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){var i=(0,qAe.default)(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):(0,Ln.default)(i,e.length)},I:function(t,e,r){var n=(0,MAe.default)(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):(0,Ln.default)(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):mf.default.d(t,e)},D:function(t,e,r){var n=(0,RAe.default)(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):(0,Ln.default)(n,e.length)},E:function(t,e,r){var n=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){var i=t.getUTCDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return(0,Ln.default)(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){var i=t.getUTCDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return(0,Ln.default)(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){var n=t.getUTCDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return(0,Ln.default)(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){var n=t.getUTCHours(),i=n/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){var n=t.getUTCHours(),i;switch(n===12?i=kh.noon:n===0?i=kh.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){var n=t.getUTCHours(),i;switch(n>=17?i=kh.evening:n>=12?i=kh.afternoon:n>=4?i=kh.morning:i=kh.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){var n=t.getUTCHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return mf.default.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):mf.default.H(t,e)},K:function(t,e,r){var n=t.getUTCHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):(0,Ln.default)(n,e.length)},k:function(t,e,r){var n=t.getUTCHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):(0,Ln.default)(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):mf.default.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):mf.default.s(t,e)},S:function(t,e){return mf.default.S(t,e)},X:function(t,e,r,n){var i=n._originalDate||t,a=i.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return qX(a);case"XXXX":case"XX":return Hd(a);case"XXXXX":case"XXX":default:return Hd(a,":")}},x:function(t,e,r,n){var i=n._originalDate||t,a=i.getTimezoneOffset();switch(e){case"x":return qX(a);case"xxxx":case"xx":return Hd(a);case"xxxxx":case"xxx":default:return Hd(a,":")}},O:function(t,e,r,n){var i=n._originalDate||t,a=i.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+OX(a,":");case"OOOO":default:return"GMT"+Hd(a,":")}},z:function(t,e,r,n){var i=n._originalDate||t,a=i.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+OX(a,":");case"zzzz":default:return"GMT"+Hd(a,":")}},t:function(t,e,r,n){var i=n._originalDate||t,a=Math.floor(i.getTime()/1e3);return(0,Ln.default)(a,e.length)},T:function(t,e,r,n){var i=n._originalDate||t,a=i.getTime();return(0,Ln.default)(a,e.length)}};function OX(t,e){var r=t>0?"-":"+",n=Math.abs(t),i=Math.floor(n/60),a=n%60;if(a===0)return r+String(i);var o=e||"";return r+String(i)+o+(0,Ln.default)(a,2)}function qX(t,e){if(t%60===0){var r=t>0?"-":"+";return r+(0,Ln.default)(Math.abs(t)/60,2)}return Hd(t,e)}function Hd(t,e){var r=e||"",n=t>0?"-":"+",i=Math.abs(t),a=(0,Ln.default)(Math.floor(i/60),2),o=(0,Ln.default)(i%60,2);return n+a+r+o}var LAe=NAe;Ix.default=LAe;DX.exports=Ix.default});var pB=g((kx,HX)=>{"use strict";Object.defineProperty(kx,"__esModule",{value:!0});kx.default=void 0;function LX(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}}function UX(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}}function UAe(t,e){var r=t.match(/(P+)(p+)?/),n=r[1],i=r[2];if(!i)return LX(t,e);var a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",LX(n,e)).replace("{{time}}",UX(i,e))}var HAe={p:UX,P:UAe},KAe=HAe;kx.default=KAe;HX.exports=kx.default});var mB=g(Bx=>{"use strict";Object.defineProperty(Bx,"__esModule",{value:!0});Bx.isProtectedDayOfYearToken=WAe;Bx.isProtectedWeekYearToken=jAe;Bx.throwProtectedError=$Ae;var FAe=["D","DD"],zAe=["YY","YYYY"];function WAe(t){return FAe.indexOf(t)!==-1}function jAe(t){return zAe.indexOf(t)!==-1}function $Ae(t,e,r){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"))}});var xB=g((U4,KX)=>{"use strict";Object.defineProperty(U4,"__esModule",{value:!0});U4.default=s9e;var VAe=Hu(Ks()),GAe=Hu(Ld()),YAe=Hu(Ih()),JAe=Hu(me()),XAe=Hu(NX()),QAe=Hu(pB()),ZAe=Hu(Uo()),N4=mB(),L4=Hu(bt()),e9e=Hu(j());function Hu(t){return t&&t.__esModule?t:{default:t}}var t9e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,r9e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,n9e=/^'([^]*?)'?$/,i9e=/''/g,a9e=/[a-zA-Z]/;function s9e(t,e,r){(0,e9e.default)(2,arguments);var n=String(e),i=r||{},a=i.locale||GAe.default,o=a.options&&a.options.firstWeekContainsDate,u=o==null?1:(0,L4.default)(o),f=i.firstWeekContainsDate==null?u:(0,L4.default)(i.firstWeekContainsDate);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var d=a.options&&a.options.weekStartsOn,h=d==null?0:(0,L4.default)(d),m=i.weekStartsOn==null?h:(0,L4.default)(i.weekStartsOn);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!a.localize)throw new RangeError("locale must contain localize property");if(!a.formatLong)throw new RangeError("locale must contain formatLong property");var _=(0,JAe.default)(t);if(!(0,VAe.default)(_))throw new RangeError("Invalid time value");var w=(0,ZAe.default)(_),P=(0,YAe.default)(_,w),M={firstWeekContainsDate:f,weekStartsOn:m,locale:a,_originalDate:_},K=n.match(r9e).map(function(Y){var fe=Y[0];if(fe==="p"||fe==="P"){var _e=QAe.default[fe];return _e(Y,a.formatLong,M)}return Y}).join("").match(t9e).map(function(Y){if(Y==="''")return"'";var fe=Y[0];if(fe==="'")return o9e(Y);var _e=XAe.default[fe];if(_e)return!i.useAdditionalWeekYearTokens&&(0,N4.isProtectedWeekYearToken)(Y)&&(0,N4.throwProtectedError)(Y,e,t),!i.useAdditionalDayOfYearTokens&&(0,N4.isProtectedDayOfYearToken)(Y)&&(0,N4.throwProtectedError)(Y,e,t),_e(P,Y,a.localize,M);if(fe.match(a9e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+fe+"`");return Y}).join("");return K}function o9e(t){return t.match(n9e)[1].replace(i9e,"'")}KX.exports=U4.default});var yB=g((H4,FX)=>{"use strict";Object.defineProperty(H4,"__esModule",{value:!0});H4.default=u9e;function u9e(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");e=e||{};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}FX.exports=H4.default});var bB=g((K4,zX)=>{"use strict";Object.defineProperty(K4,"__esModule",{value:!0});K4.default=d9e;var c9e=f9e(yB());function f9e(t){return t&&t.__esModule?t:{default:t}}function d9e(t){return(0,c9e.default)({},t)}zX.exports=K4.default});var gB=g((z4,$X)=>{"use strict";Object.defineProperty(z4,"__esModule",{value:!0});z4.default=g9e;var l9e=xf(lf()),h9e=xf(mx()),p9e=xf(B3()),m9e=xf(Ld()),F4=xf(me()),x9e=xf(bB()),WX=xf(Uo()),y9e=xf(j());function xf(t){return t&&t.__esModule?t:{default:t}}var jX=1440,b9e=2520,vB=43200,v9e=86400;function g9e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};(0,y9e.default)(2,arguments);var n=r.locale||m9e.default;if(!n.formatDistance)throw new RangeError("locale must contain formatDistance property");var i=(0,l9e.default)(t,e);if(isNaN(i))throw new RangeError("Invalid time value");var a=(0,x9e.default)(r);a.addSuffix=Boolean(r.addSuffix),a.comparison=i;var o,u;i>0?(o=(0,F4.default)(e),u=(0,F4.default)(t)):(o=(0,F4.default)(t),u=(0,F4.default)(e));var f=(0,p9e.default)(u,o),d=((0,WX.default)(u)-(0,WX.default)(o))/1e3,h=Math.round((f-d)/60),m;if(h<2)return r.includeSeconds?f<5?n.formatDistance("lessThanXSeconds",5,a):f<10?n.formatDistance("lessThanXSeconds",10,a):f<20?n.formatDistance("lessThanXSeconds",20,a):f<40?n.formatDistance("halfAMinute",null,a):f<60?n.formatDistance("lessThanXMinutes",1,a):n.formatDistance("xMinutes",1,a):h===0?n.formatDistance("lessThanXMinutes",1,a):n.formatDistance("xMinutes",h,a);if(h<45)return n.formatDistance("xMinutes",h,a);if(h<90)return n.formatDistance("aboutXHours",1,a);if(h<jX){var _=Math.round(h/60);return n.formatDistance("aboutXHours",_,a)}else{if(h<b9e)return n.formatDistance("xDays",1,a);if(h<vB){var w=Math.round(h/jX);return n.formatDistance("xDays",w,a)}else if(h<v9e)return m=Math.round(h/vB),n.formatDistance("aboutXMonths",m,a)}if(m=(0,h9e.default)(u,o),m<12){var P=Math.round(h/vB);return n.formatDistance("xMonths",P,a)}else{var M=m%12,K=Math.floor(m/12);return M<3?n.formatDistance("aboutXYears",K,a):M<9?n.formatDistance("overXYears",K,a):n.formatDistance("almostXYears",K+1,a)}}$X.exports=z4.default});var _B=g(($4,XX)=>{"use strict";Object.defineProperty($4,"__esModule",{value:!0});$4.default=C9e;var VX=Bh(Uo()),_9e=Bh(lf()),W4=Bh(me()),w9e=Bh(bB()),S9e=Bh(Ld()),A9e=Bh(j());function Bh(t){return t&&t.__esModule?t:{default:t}}var GX=1e3*60,j4=60*24,YX=j4*30,JX=j4*365;function C9e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};(0,A9e.default)(2,arguments);var n=r.locale||S9e.default;if(!n.formatDistance)throw new RangeError("locale must contain localize.formatDistance property");var i=(0,_9e.default)(t,e);if(isNaN(i))throw new RangeError("Invalid time value");var a=(0,w9e.default)(r);a.addSuffix=Boolean(r.addSuffix),a.comparison=i;var o,u;i>0?(o=(0,W4.default)(e),u=(0,W4.default)(t)):(o=(0,W4.default)(t),u=(0,W4.default)(e));var f=r.roundingMethod==null?"round":String(r.roundingMethod),d;if(f==="floor")d=Math.floor;else if(f==="ceil")d=Math.ceil;else if(f==="round")d=Math.round;else throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'");var h=u.getTime()-o.getTime(),m=h/GX,_=(0,VX.default)(u)-(0,VX.default)(o),w=(h-_)/GX,P;if(r.unit==null?m<1?P="second":m<60?P="minute":m<j4?P="hour":w<YX?P="day":w<JX?P="month":P="year":P=String(r.unit),P==="second"){var M=d(h/1e3);return n.formatDistance("xSeconds",M,a)}else if(P==="minute"){var K=d(m);return n.formatDistance("xMinutes",K,a)}else if(P==="hour"){var Y=d(m/60);return n.formatDistance("xHours",Y,a)}else if(P==="day"){var fe=d(w/j4);return n.formatDistance("xDays",fe,a)}else if(P==="month"){var _e=d(w/YX);return _e===12&&r.unit!=="month"?n.formatDistance("xYears",1,a):n.formatDistance("xMonths",_e,a)}else if(P==="year"){var Je=d(w/JX);return n.formatDistance("xYears",Je,a)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")}XX.exports=$4.default});var eQ=g((V4,ZX)=>{"use strict";Object.defineProperty(V4,"__esModule",{value:!0});V4.default=T9e;var E9e=QX(gB()),P9e=QX(j());function QX(t){return t&&t.__esModule?t:{default:t}}function T9e(t,e){return(0,P9e.default)(1,arguments),(0,E9e.default)(t,Date.now(),e)}ZX.exports=V4.default});var nQ=g((G4,rQ)=>{"use strict";Object.defineProperty(G4,"__esModule",{value:!0});G4.default=B9e;var I9e=tQ(_B()),k9e=tQ(j());function tQ(t){return t&&t.__esModule?t:{default:t}}function B9e(t,e){return(0,k9e.default)(1,arguments),(0,I9e.default)(t,Date.now(),e)}rQ.exports=G4.default});var aQ=g((Y4,iQ)=>{"use strict";Object.defineProperty(Y4,"__esModule",{value:!0});Y4.default=q9e;var R9e=M9e(Ld());function M9e(t){return t&&t.__esModule?t:{default:t}}var O9e=["years","months","weeks","days","hours","minutes","seconds"];function q9e(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var r=e?.format||O9e,n=e?.locale||R9e.default,i=e?.zero||!1,a=e?.delimiter||" ",o=r.reduce(function(u,f){var d="x".concat(f.replace(/(^.)/,function(m){return m.toUpperCase()})),h=typeof t[f]=="number"&&(i||t[f]);return h?u.concat(n.formatDistance(d,t[f])):u},[]).join(a);return o}iQ.exports=Y4.default});var oQ=g((J4,sQ)=>{"use strict";Object.defineProperty(J4,"__esModule",{value:!0});J4.default=L9e;var D9e=wB(me()),N9e=wB(Ks()),yf=wB(Ud());function wB(t){return t&&t.__esModule?t:{default:t}}function L9e(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var r=(0,D9e.default)(t);if(!(0,N9e.default)(r))throw new RangeError("Invalid time value");var n=e||{},i=n.format==null?"extended":String(n.format),a=n.representation==null?"complete":String(n.representation);if(i!=="extended"&&i!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(a!=="date"&&a!=="time"&&a!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var o="",u="",f=i==="extended"?"-":"",d=i==="extended"?":":"";if(a!=="time"){var h=(0,yf.default)(r.getDate(),2),m=(0,yf.default)(r.getMonth()+1,2),_=(0,yf.default)(r.getFullYear(),4);o="".concat(_).concat(f).concat(m).concat(f).concat(h)}if(a!=="date"){var w=r.getTimezoneOffset();if(w!==0){var P=Math.abs(w),M=(0,yf.default)(Math.floor(P/60),2),K=(0,yf.default)(P%60,2),Y=w<0?"+":"-";u="".concat(Y).concat(M,":").concat(K)}else u="Z";var fe=(0,yf.default)(r.getHours(),2),_e=(0,yf.default)(r.getMinutes(),2),Je=(0,yf.default)(r.getSeconds(),2),Ze=o===""?"":"T",Ue=[fe,_e,Je].join(d);o="".concat(o).concat(Ze).concat(Ue).concat(u)}return o}sQ.exports=J4.default});var cQ=g((X4,uQ)=>{"use strict";Object.defineProperty(X4,"__esModule",{value:!0});X4.default=K9e;var U9e=SB(me()),H9e=SB(Ks()),Rh=SB(Ud());function SB(t){return t&&t.__esModule?t:{default:t}}function K9e(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var r=(0,U9e.default)(t);if(!(0,H9e.default)(r))throw new RangeError("Invalid time value");var n=e||{},i=n.format==null?"extended":String(n.format),a=n.representation==null?"complete":String(n.representation);if(i!=="extended"&&i!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(a!=="date"&&a!=="time"&&a!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var o="",u=i==="extended"?"-":"",f=i==="extended"?":":"";if(a!=="time"){var d=(0,Rh.default)(r.getDate(),2),h=(0,Rh.default)(r.getMonth()+1,2),m=(0,Rh.default)(r.getFullYear(),4);o="".concat(m).concat(u).concat(h).concat(u).concat(d)}if(a!=="date"){var _=(0,Rh.default)(r.getHours(),2),w=(0,Rh.default)(r.getMinutes(),2),P=(0,Rh.default)(r.getSeconds(),2),M=o===""?"":" ";o="".concat(o).concat(M).concat(_).concat(f).concat(w).concat(f).concat(P)}return o}uQ.exports=X4.default});var dQ=g((Q4,fQ)=>{"use strict";Object.defineProperty(Q4,"__esModule",{value:!0});Q4.default=W9e;var F9e=z9e(j());function z9e(t){return t&&t.__esModule?t:{default:t}}function W9e(t){if((0,F9e.default)(1,arguments),typeof t!="object")throw new Error("Duration must be an object");var e=t.years,r=e===void 0?0:e,n=t.months,i=n===void 0?0:n,a=t.days,o=a===void 0?0:a,u=t.hours,f=u===void 0?0:u,d=t.minutes,h=d===void 0?0:d,m=t.seconds,_=m===void 0?0:m;return"P".concat(r,"Y").concat(i,"M").concat(o,"DT").concat(f,"H").concat(h,"M").concat(_,"S")}fQ.exports=Q4.default});var hQ=g((e8,lQ)=>{"use strict";Object.defineProperty(e8,"__esModule",{value:!0});e8.default=G9e;var j9e=Z4(me()),$9e=Z4(Ks()),bf=Z4(Ud()),V9e=Z4(bt());function Z4(t){return t&&t.__esModule?t:{default:t}}function G9e(t,e){if(arguments.length<1)throw new TypeError("1 arguments required, but only ".concat(arguments.length," present"));var r=(0,j9e.default)(t);if(!(0,$9e.default)(r))throw new RangeError("Invalid time value");var n=e||{},i=n.fractionDigits,a=i===void 0?0:i;if(!(a>=0&&a<=3))throw new RangeError("fractionDigits must be between 0 and 3 inclusively");var o=(0,bf.default)(r.getDate(),2),u=(0,bf.default)(r.getMonth()+1,2),f=r.getFullYear(),d=(0,bf.default)(r.getHours(),2),h=(0,bf.default)(r.getMinutes(),2),m=(0,bf.default)(r.getSeconds(),2),_="";if(a>0){var w=r.getMilliseconds(),P=Math.floor(w*Math.pow(10,a-3));_="."+(0,bf.default)(P,a)}var M="",K=r.getTimezoneOffset();if(K!==0){var Y=Math.abs(K),fe=(0,bf.default)((0,V9e.default)(Y/60),2),_e=(0,bf.default)(Y%60,2),Je=K<0?"+":"-";M="".concat(Je).concat(fe,":").concat(_e)}else M="Z";return"".concat(f,"-").concat(u,"-").concat(o,"T").concat(d,":").concat(h,":").concat(m).concat(_).concat(M)}lQ.exports=e8.default});var mQ=g((r8,pQ)=>{"use strict";Object.defineProperty(r8,"__esModule",{value:!0});r8.default=Z9e;var Y9e=AB(me()),J9e=AB(Ks()),t8=AB(Ud());function AB(t){return t&&t.__esModule?t:{default:t}}var X9e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Q9e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Z9e(t){if(arguments.length<1)throw new TypeError("1 arguments required, but only ".concat(arguments.length," present"));var e=(0,Y9e.default)(t);if(!(0,J9e.default)(e))throw new RangeError("Invalid time value");var r=X9e[e.getUTCDay()],n=(0,t8.default)(e.getUTCDate(),2),i=Q9e[e.getUTCMonth()],a=e.getUTCFullYear(),o=(0,t8.default)(e.getUTCHours(),2),u=(0,t8.default)(e.getUTCMinutes(),2),f=(0,t8.default)(e.getUTCSeconds(),2);return"".concat(r,", ").concat(n," ").concat(i," ").concat(a," ").concat(o,":").concat(u,":").concat(f," GMT")}pQ.exports=r8.default});var gQ=g((n8,vQ)=>{"use strict";Object.defineProperty(n8,"__esModule",{value:!0});n8.default=i7e;var e7e=Fd(df()),t7e=Fd(xB()),r7e=Fd(Ld()),xQ=Fd(Ih()),yQ=Fd(me()),bQ=Fd(Uo()),n7e=Fd(j());function Fd(t){return t&&t.__esModule?t:{default:t}}function i7e(t,e,r){(0,n7e.default)(2,arguments);var n=(0,yQ.default)(t),i=(0,yQ.default)(e),a=r||{},o=a.locale,u=o===void 0?r7e.default:o,f=a.weekStartsOn,d=f===void 0?0:f;if(!u.localize)throw new RangeError("locale must contain localize property");if(!u.formatLong)throw new RangeError("locale must contain formatLong property");if(!u.formatRelative)throw new RangeError("locale must contain formatRelative property");var h=(0,e7e.default)(n,i);if(isNaN(h))throw new RangeError("Invalid time value");var m;h<-6?m="other":h<-1?m="lastWeek":h<0?m="yesterday":h<1?m="today":h<2?m="tomorrow":h<7?m="nextWeek":m="other";var _=(0,xQ.default)(n,(0,bQ.default)(n)),w=(0,xQ.default)(i,(0,bQ.default)(i)),P=u.formatRelative(m,_,w,{locale:u,weekStartsOn:d});return(0,t7e.default)(n,P,{locale:u,weekStartsOn:d})}vQ.exports=n8.default});var wQ=g((i8,_Q)=>{"use strict";Object.defineProperty(i8,"__esModule",{value:!0});i8.default=u7e;var a7e=CB(me()),s7e=CB(bt()),o7e=CB(j());function CB(t){return t&&t.__esModule?t:{default:t}}function u7e(t){(0,o7e.default)(1,arguments);var e=(0,s7e.default)(t);return(0,a7e.default)(e*1e3)}_Q.exports=i8.default});var EB=g((a8,AQ)=>{"use strict";Object.defineProperty(a8,"__esModule",{value:!0});a8.default=d7e;var c7e=SQ(me()),f7e=SQ(j());function SQ(t){return t&&t.__esModule?t:{default:t}}function d7e(t){(0,f7e.default)(1,arguments);var e=(0,c7e.default)(t),r=e.getDate();return r}AQ.exports=a8.default});var Rx=g((s8,EQ)=>{"use strict";Object.defineProperty(s8,"__esModule",{value:!0});s8.default=p7e;var l7e=CQ(me()),h7e=CQ(j());function CQ(t){return t&&t.__esModule?t:{default:t}}function p7e(t){(0,h7e.default)(1,arguments);var e=(0,l7e.default)(t),r=e.getDay();return r}EQ.exports=s8.default});var TQ=g((u8,PQ)=>{"use strict";Object.defineProperty(u8,"__esModule",{value:!0});u8.default=v7e;var m7e=o8(me()),x7e=o8(t4()),y7e=o8(df()),b7e=o8(j());function o8(t){return t&&t.__esModule?t:{default:t}}function v7e(t){(0,b7e.default)(1,arguments);var e=(0,m7e.default)(t),r=(0,y7e.default)(e,(0,x7e.default)(e)),n=r+1;return n}PQ.exports=u8.default});var PB=g((c8,kQ)=>{"use strict";Object.defineProperty(c8,"__esModule",{value:!0});c8.default=w7e;var g7e=IQ(me()),_7e=IQ(j());function IQ(t){return t&&t.__esModule?t:{default:t}}function w7e(t){(0,_7e.default)(1,arguments);var e=(0,g7e.default)(t),r=e.getFullYear(),n=e.getMonth(),i=new Date(0);return i.setFullYear(r,n+1,0),i.setHours(0,0,0,0),i.getDate()}kQ.exports=c8.default});var TB=g((f8,RQ)=>{"use strict";Object.defineProperty(f8,"__esModule",{value:!0});f8.default=C7e;var S7e=BQ(me()),A7e=BQ(j());function BQ(t){return t&&t.__esModule?t:{default:t}}function C7e(t){(0,A7e.default)(1,arguments);var e=(0,S7e.default)(t),r=e.getFullYear();return r%400===0||r%4===0&&r%100!==0}RQ.exports=f8.default});var OQ=g((d8,MQ)=>{"use strict";Object.defineProperty(d8,"__esModule",{value:!0});d8.default=I7e;var E7e=IB(me()),P7e=IB(TB()),T7e=IB(j());function IB(t){return t&&t.__esModule?t:{default:t}}function I7e(t){(0,T7e.default)(1,arguments);var e=(0,E7e.default)(t);return String(new Date(e))==="Invalid Date"?NaN:(0,P7e.default)(e)?366:365}MQ.exports=d8.default});var NQ=g((l8,DQ)=>{"use strict";Object.defineProperty(l8,"__esModule",{value:!0});l8.default=R7e;var k7e=qQ(me()),B7e=qQ(j());function qQ(t){return t&&t.__esModule?t:{default:t}}function R7e(t){(0,B7e.default)(1,arguments);var e=(0,k7e.default)(t),r=e.getFullYear(),n=Math.floor(r/10)*10;return n}DQ.exports=l8.default});var HQ=g((h8,UQ)=>{"use strict";Object.defineProperty(h8,"__esModule",{value:!0});h8.default=q7e;var M7e=LQ(me()),O7e=LQ(j());function LQ(t){return t&&t.__esModule?t:{default:t}}function q7e(t){(0,O7e.default)(1,arguments);var e=(0,M7e.default)(t),r=e.getHours();return r}UQ.exports=h8.default});var kB=g((p8,FQ)=>{"use strict";Object.defineProperty(p8,"__esModule",{value:!0});p8.default=L7e;var D7e=KQ(me()),N7e=KQ(j());function KQ(t){return t&&t.__esModule?t:{default:t}}function L7e(t){(0,N7e.default)(1,arguments);var e=(0,D7e.default)(t),r=e.getDay();return r===0&&(r=7),r}FQ.exports=p8.default});var BB=g((x8,zQ)=>{"use strict";Object.defineProperty(x8,"__esModule",{value:!0});x8.default=W7e;var U7e=m8(me()),H7e=m8(ff()),K7e=m8(Eh()),F7e=m8(j());function m8(t){return t&&t.__esModule?t:{default:t}}var z7e=6048e5;function W7e(t){(0,F7e.default)(1,arguments);var e=(0,U7e.default)(t),r=(0,H7e.default)(e).getTime()-(0,K7e.default)(e).getTime();return Math.round(r/z7e)+1}zQ.exports=x8.default});var $Q=g((y8,jQ)=>{"use strict";Object.defineProperty(y8,"__esModule",{value:!0});y8.default=G7e;var WQ=RB(Eh()),j7e=RB(dx()),$7e=RB(j());function RB(t){return t&&t.__esModule?t:{default:t}}var V7e=6048e5;function G7e(t){(0,$7e.default)(1,arguments);var e=(0,WQ.default)(t),r=(0,WQ.default)((0,j7e.default)(e,60)),n=r.valueOf()-e.valueOf();return Math.round(n/V7e)}jQ.exports=y8.default});var YQ=g((b8,GQ)=>{"use strict";Object.defineProperty(b8,"__esModule",{value:!0});b8.default=X7e;var Y7e=VQ(me()),J7e=VQ(j());function VQ(t){return t&&t.__esModule?t:{default:t}}function X7e(t){(0,J7e.default)(1,arguments);var e=(0,Y7e.default)(t),r=e.getMilliseconds();return r}GQ.exports=b8.default});var QQ=g((v8,XQ)=>{"use strict";Object.defineProperty(v8,"__esModule",{value:!0});v8.default=eCe;var Q7e=JQ(me()),Z7e=JQ(j());function JQ(t){return t&&t.__esModule?t:{default:t}}function eCe(t){(0,Z7e.default)(1,arguments);var e=(0,Q7e.default)(t),r=e.getMinutes();return r}XQ.exports=v8.default});var tZ=g((g8,eZ)=>{"use strict";Object.defineProperty(g8,"__esModule",{value:!0});g8.default=nCe;var tCe=ZQ(me()),rCe=ZQ(j());function ZQ(t){return t&&t.__esModule?t:{default:t}}function nCe(t){(0,rCe.default)(1,arguments);var e=(0,tCe.default)(t),r=e.getMonth();return r}eZ.exports=g8.default});var iZ=g((w8,nZ)=>{"use strict";Object.defineProperty(w8,"__esModule",{value:!0});w8.default=sCe;var _8=rZ(me()),iCe=rZ(j());function rZ(t){return t&&t.__esModule?t:{default:t}}var aCe=24*60*60*1e3;function sCe(t,e){(0,iCe.default)(2,arguments);var r=t||{},n=e||{},i=(0,_8.default)(r.start).getTime(),a=(0,_8.default)(r.end).getTime(),o=(0,_8.default)(n.start).getTime(),u=(0,_8.default)(n.end).getTime();if(!(i<=a&&o<=u))throw new RangeError("Invalid interval");var f=i<u&&o<a;if(!f)return 0;var d=o<i?i:o,h=u>a?a:u,m=h-d;return Math.ceil(m/aCe)}nZ.exports=w8.default});var oZ=g((S8,sZ)=>{"use strict";Object.defineProperty(S8,"__esModule",{value:!0});S8.default=cCe;var oCe=aZ(me()),uCe=aZ(j());function aZ(t){return t&&t.__esModule?t:{default:t}}function cCe(t){(0,uCe.default)(1,arguments);var e=(0,oCe.default)(t),r=e.getSeconds();return r}sZ.exports=S8.default});var MB=g((A8,cZ)=>{"use strict";Object.defineProperty(A8,"__esModule",{value:!0});A8.default=lCe;var fCe=uZ(me()),dCe=uZ(j());function uZ(t){return t&&t.__esModule?t:{default:t}}function lCe(t){(0,dCe.default)(1,arguments);var e=(0,fCe.default)(t),r=e.getTime();return r}cZ.exports=A8.default});var lZ=g((C8,dZ)=>{"use strict";Object.defineProperty(C8,"__esModule",{value:!0});C8.default=mCe;var hCe=fZ(MB()),pCe=fZ(j());function fZ(t){return t&&t.__esModule?t:{default:t}}function mCe(t){return(0,pCe.default)(1,arguments),Math.floor((0,hCe.default)(t)/1e3)}dZ.exports=C8.default});var OB=g((P8,mZ)=>{"use strict";Object.defineProperty(P8,"__esModule",{value:!0});P8.default=bCe;var hZ=E8(Uu()),xCe=E8(me()),pZ=E8(bt()),yCe=E8(j());function E8(t){return t&&t.__esModule?t:{default:t}}function bCe(t,e){var r,n;(0,yCe.default)(1,arguments);var i=(0,xCe.default)(t),a=i.getFullYear(),o=e==null||(r=e.locale)===null||r===void 0||(n=r.options)===null||n===void 0?void 0:n.firstWeekContainsDate,u=o==null?1:(0,pZ.default)(o),f=e?.firstWeekContainsDate==null?u:(0,pZ.default)(e.firstWeekContainsDate);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var d=new Date(0);d.setFullYear(a+1,0,f),d.setHours(0,0,0,0);var h=(0,hZ.default)(d,e),m=new Date(0);m.setFullYear(a,0,f),m.setHours(0,0,0,0);var _=(0,hZ.default)(m,e);return i.getTime()>=h.getTime()?a+1:i.getTime()>=_.getTime()?a:a-1}mZ.exports=P8.default});var k8=g((I8,yZ)=>{"use strict";Object.defineProperty(I8,"__esModule",{value:!0});I8.default=wCe;var vCe=T8(OB()),gCe=T8(Uu()),xZ=T8(bt()),_Ce=T8(j());function T8(t){return t&&t.__esModule?t:{default:t}}function wCe(t,e){(0,_Ce.default)(1,arguments);var r=e||{},n=r.locale,i=n&&n.options&&n.options.firstWeekContainsDate,a=i==null?1:(0,xZ.default)(i),o=r.firstWeekContainsDate==null?a:(0,xZ.default)(r.firstWeekContainsDate),u=(0,vCe.default)(t,e),f=new Date(0);f.setFullYear(u,0,o),f.setHours(0,0,0,0);var d=(0,gCe.default)(f,e);return d}yZ.exports=I8.default});var qB=g((R8,bZ)=>{"use strict";Object.defineProperty(R8,"__esModule",{value:!0});R8.default=TCe;var SCe=B8(Uu()),ACe=B8(k8()),CCe=B8(me()),ECe=B8(j());function B8(t){return t&&t.__esModule?t:{default:t}}var PCe=6048e5;function TCe(t,e){(0,ECe.default)(1,arguments);var r=(0,CCe.default)(t),n=(0,SCe.default)(r,e).getTime()-(0,ACe.default)(r,e).getTime();return Math.round(n/PCe)+1}bZ.exports=R8.default});var _Z=g((M8,gZ)=>{"use strict";Object.defineProperty(M8,"__esModule",{value:!0});M8.default=MCe;var ICe=Mx(EB()),kCe=Mx(Rx()),BCe=Mx(xx()),vZ=Mx(bt()),RCe=Mx(j());function Mx(t){return t&&t.__esModule?t:{default:t}}function MCe(t,e){(0,RCe.default)(1,arguments);var r=e||{},n=r.locale,i=n&&n.options&&n.options.weekStartsOn,a=i==null?0:(0,vZ.default)(i),o=r.weekStartsOn==null?a:(0,vZ.default)(r.weekStartsOn);if(!(o>=0&&o<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=(0,ICe.default)(t);if(isNaN(u))return u;var f=(0,kCe.default)((0,BCe.default)(t)),d=0;f>=o?d=o+7-f:d=o-f;var h=1;if(u>d){var m=u-d;h=h+Math.ceil(m/7)}return h}gZ.exports=M8.default});var DB=g((O8,SZ)=>{"use strict";Object.defineProperty(O8,"__esModule",{value:!0});O8.default=DCe;var OCe=wZ(me()),qCe=wZ(j());function wZ(t){return t&&t.__esModule?t:{default:t}}function DCe(t){(0,qCe.default)(1,arguments);var e=(0,OCe.default)(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(0,0,0,0),e}SZ.exports=O8.default});var CZ=g((D8,AZ)=>{"use strict";Object.defineProperty(D8,"__esModule",{value:!0});D8.default=KCe;var NCe=q8(Ok()),LCe=q8(DB()),UCe=q8(xx()),HCe=q8(j());function q8(t){return t&&t.__esModule?t:{default:t}}function KCe(t,e){return(0,HCe.default)(1,arguments),(0,NCe.default)((0,LCe.default)(t),(0,UCe.default)(t),e)+1}AZ.exports=D8.default});var TZ=g((N8,PZ)=>{"use strict";Object.defineProperty(N8,"__esModule",{value:!0});N8.default=WCe;var FCe=EZ(me()),zCe=EZ(j());function EZ(t){return t&&t.__esModule?t:{default:t}}function WCe(t){(0,zCe.default)(1,arguments);var e=(0,FCe.default)(t),r=e.getFullYear();return r}PZ.exports=N8.default});var kZ=g((L8,IZ)=>{"use strict";Object.defineProperty(L8,"__esModule",{value:!0});L8.default=GCe;var jCe=VCe(j()),$Ce=xn();function VCe(t){return t&&t.__esModule?t:{default:t}}function GCe(t){return(0,jCe.default)(1,arguments),Math.floor(t*$Ce.millisecondsInHour)}IZ.exports=L8.default});var RZ=g((U8,BZ)=>{"use strict";Object.defineProperty(U8,"__esModule",{value:!0});U8.default=QCe;var YCe=XCe(j()),JCe=xn();function XCe(t){return t&&t.__esModule?t:{default:t}}function QCe(t){return(0,YCe.default)(1,arguments),Math.floor(t*JCe.minutesInHour)}BZ.exports=U8.default});var OZ=g((H8,MZ)=>{"use strict";Object.defineProperty(H8,"__esModule",{value:!0});H8.default=rEe;var ZCe=tEe(j()),eEe=xn();function tEe(t){return t&&t.__esModule?t:{default:t}}function rEe(t){return(0,ZCe.default)(1,arguments),Math.floor(t*eEe.secondsInHour)}MZ.exports=H8.default});var Ox=g((K8,qZ)=>{"use strict";Object.defineProperty(K8,"__esModule",{value:!0});K8.default=sEe;var nEe=NB(bt()),iEe=NB(Lo()),aEe=NB(j());function NB(t){return t&&t.__esModule?t:{default:t}}function sEe(t,e){(0,aEe.default)(2,arguments);var r=(0,nEe.default)(e);return(0,iEe.default)(t,-r)}qZ.exports=K8.default});var UB=g((F8,DZ)=>{"use strict";Object.defineProperty(F8,"__esModule",{value:!0});F8.default=fEe;var oEe=LB(bt()),uEe=LB(Sh()),cEe=LB(j());function LB(t){return t&&t.__esModule?t:{default:t}}function fEe(t,e){(0,cEe.default)(2,arguments);var r=(0,oEe.default)(e);return(0,uEe.default)(t,-r)}DZ.exports=F8.default});var HB=g((W8,NZ)=>{"use strict";Object.defineProperty(W8,"__esModule",{value:!0});W8.default=pEe;var dEe=z8(Ox()),lEe=z8(UB()),hEe=z8(j()),zd=z8(bt());function z8(t){return t&&t.__esModule?t:{default:t}}function pEe(t,e){if((0,hEe.default)(2,arguments),!e||typeof e!="object")return new Date(NaN);var r=e.years?(0,zd.default)(e.years):0,n=e.months?(0,zd.default)(e.months):0,i=e.weeks?(0,zd.default)(e.weeks):0,a=e.days?(0,zd.default)(e.days):0,o=e.hours?(0,zd.default)(e.hours):0,u=e.minutes?(0,zd.default)(e.minutes):0,f=e.seconds?(0,zd.default)(e.seconds):0,d=(0,lEe.default)(t,n+r*12),h=(0,dEe.default)(d,a+i*7),m=u+o*60,_=f+m*60,w=_*1e3,P=new Date(h.getTime()-w);return P}NZ.exports=W8.default});var KZ=g((j8,HZ)=>{"use strict";Object.defineProperty(j8,"__esModule",{value:!0});j8.default=SEe;var mEe=Fs(lf()),xEe=Fs(jk()),yEe=Fs(mx()),bEe=Fs(x3()),vEe=Fs(Lk()),gEe=Fs(Kk()),_Ee=Fs(B3()),LZ=Fs(Ks()),wEe=Fs(j()),UZ=Fs(me()),qx=Fs(HB());function Fs(t){return t&&t.__esModule?t:{default:t}}function SEe(t){var e=t.start,r=t.end;(0,wEe.default)(1,arguments);var n=(0,UZ.default)(e),i=(0,UZ.default)(r);if(!(0,LZ.default)(n))throw new RangeError("Start Date is invalid");if(!(0,LZ.default)(i))throw new RangeError("End Date is invalid");var a={years:0,months:0,days:0,hours:0,minutes:0,seconds:0},o=(0,mEe.default)(n,i);a.years=Math.abs((0,xEe.default)(n,i));var u=(0,qx.default)(n,{years:o*a.years});a.months=Math.abs((0,yEe.default)(u,i));var f=(0,qx.default)(u,{months:o*a.months});a.days=Math.abs((0,bEe.default)(f,i));var d=(0,qx.default)(f,{days:o*a.days});a.hours=Math.abs((0,vEe.default)(d,i));var h=(0,qx.default)(d,{hours:o*a.hours});a.minutes=Math.abs((0,gEe.default)(h,i));var m=(0,qx.default)(h,{minutes:o*a.minutes});return a.seconds=Math.abs((0,_Ee.default)(m,i)),a}HZ.exports=j8.default});var zZ=g(($8,FZ)=>{"use strict";Object.defineProperty($8,"__esModule",{value:!0});$8.default=EEe;var AEe=CEe(j());function CEe(t){return t&&t.__esModule?t:{default:t}}function EEe(t,e,r){var n;(0,AEe.default)(1,arguments);var i;return PEe(e)?i=e:r=e,new Intl.DateTimeFormat((n=r)===null||n===void 0?void 0:n.locale,i).format(t)}function PEe(t){return t!==void 0&&!("locale"in t)}FZ.exports=$8.default});var VZ=g((V8,$Z)=>{"use strict";Object.defineProperty(V8,"__esModule",{value:!0});V8.default=IEe;var WZ=jZ(me()),TEe=jZ(j());function jZ(t){return t&&t.__esModule?t:{default:t}}function IEe(t,e){(0,TEe.default)(2,arguments);var r=(0,WZ.default)(t),n=(0,WZ.default)(e);return r.getTime()>n.getTime()}$Z.exports=V8.default});var XZ=g((G8,JZ)=>{"use strict";Object.defineProperty(G8,"__esModule",{value:!0});G8.default=BEe;var GZ=YZ(me()),kEe=YZ(j());function YZ(t){return t&&t.__esModule?t:{default:t}}function BEe(t,e){(0,kEe.default)(2,arguments);var r=(0,GZ.default)(t),n=(0,GZ.default)(e);return r.getTime()<n.getTime()}JZ.exports=G8.default});var tee=g((Y8,eee)=>{"use strict";Object.defineProperty(Y8,"__esModule",{value:!0});Y8.default=MEe;var QZ=ZZ(me()),REe=ZZ(j());function ZZ(t){return t&&t.__esModule?t:{default:t}}function MEe(t,e){(0,REe.default)(2,arguments);var r=(0,QZ.default)(t),n=(0,QZ.default)(e);return r.getTime()===n.getTime()}eee.exports=Y8.default});var nee=g((J8,ree)=>{"use strict";Object.defineProperty(J8,"__esModule",{value:!0});J8.default=OEe;function OEe(t,e,r){if(arguments.length<3)throw new TypeError("3 argument required, but only "+arguments.length+" present");var n=new Date(t,e,r);return n.getFullYear()===t&&n.getMonth()===e&&n.getDate()===r}ree.exports=J8.default});var see=g((X8,aee)=>{"use strict";Object.defineProperty(X8,"__esModule",{value:!0});X8.default=NEe;var qEe=iee(me()),DEe=iee(j());function iee(t){return t&&t.__esModule?t:{default:t}}function NEe(t){return(0,DEe.default)(1,arguments),(0,qEe.default)(t).getDate()===1}aee.exports=X8.default});var cee=g((Q8,uee)=>{"use strict";Object.defineProperty(Q8,"__esModule",{value:!0});Q8.default=HEe;var LEe=oee(me()),UEe=oee(j());function oee(t){return t&&t.__esModule?t:{default:t}}function HEe(t){return(0,UEe.default)(1,arguments),(0,LEe.default)(t).getDay()===5}uee.exports=Q8.default});var lee=g((Z8,dee)=>{"use strict";Object.defineProperty(Z8,"__esModule",{value:!0});Z8.default=zEe;var KEe=fee(me()),FEe=fee(j());function fee(t){return t&&t.__esModule?t:{default:t}}function zEe(t){return(0,FEe.default)(1,arguments),(0,KEe.default)(t).getTime()>Date.now()}dee.exports=Z8.default});var pee=g((ew,hee)=>{"use strict";Object.defineProperty(ew,"__esModule",{value:!0});ew.default=$Ee;var KB=FB(bt()),WEe=FB(me()),jEe=FB(j());function FB(t){return t&&t.__esModule?t:{default:t}}function $Ee(t,e,r){(0,jEe.default)(2,arguments);var n=r||{},i=n.locale,a=i&&i.options&&i.options.weekStartsOn,o=a==null?0:(0,KB.default)(a),u=n.weekStartsOn==null?o:(0,KB.default)(n.weekStartsOn);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=(0,WEe.default)(t),d=(0,KB.default)(e),h=f.getUTCDay(),m=d%7,_=(m+7)%7,w=(_<u?7:0)+d-h;return f.setUTCDate(f.getUTCDate()+w),f}hee.exports=ew.default});var xee=g((tw,mee)=>{"use strict";Object.defineProperty(tw,"__esModule",{value:!0});tw.default=JEe;var VEe=zB(bt()),GEe=zB(me()),YEe=zB(j());function zB(t){return t&&t.__esModule?t:{default:t}}function JEe(t,e){(0,YEe.default)(2,arguments);var r=(0,VEe.default)(e);r%7===0&&(r=r-7);var n=1,i=(0,GEe.default)(t),a=i.getUTCDay(),o=r%7,u=(o+7)%7,f=(u<n?7:0)+r-a;return i.setUTCDate(i.getUTCDate()+f),i}mee.exports=tw.default});var bee=g((nw,yee)=>{"use strict";Object.defineProperty(nw,"__esModule",{value:!0});nw.default=tPe;var XEe=rw(bt()),QEe=rw(me()),ZEe=rw(dB()),ePe=rw(j());function rw(t){return t&&t.__esModule?t:{default:t}}function tPe(t,e){(0,ePe.default)(2,arguments);var r=(0,QEe.default)(t),n=(0,XEe.default)(e),i=(0,ZEe.default)(r)-n;return r.setUTCDate(r.getUTCDate()-i*7),r}yee.exports=nw.default});var gee=g((aw,vee)=>{"use strict";Object.defineProperty(aw,"__esModule",{value:!0});aw.default=sPe;var rPe=iw(bt()),nPe=iw(me()),iPe=iw(hB()),aPe=iw(j());function iw(t){return t&&t.__esModule?t:{default:t}}function sPe(t,e,r){(0,aPe.default)(2,arguments);var n=(0,nPe.default)(t),i=(0,rPe.default)(e),a=(0,iPe.default)(n,r)-i;return n.setUTCDate(n.getUTCDate()-a*7),n}vee.exports=aw.default});var Eee=g((Dx,Cee)=>{"use strict";Object.defineProperty(Dx,"__esModule",{value:!0});Dx.default=void 0;var oPe=Wd(R4()),WB=Wd(pee()),uPe=Wd(xee()),cPe=Wd(bee()),fPe=Wd(gee()),_ee=Wd(Px()),jB=Wd(Tx());function Wd(t){return t&&t.__esModule?t:{default:t}}var dPe=36e5,lPe=6e4,hPe=1e3,Un={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ho={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function vn(t,e,r){var n=e.match(t);if(!n)return null;var i=parseInt(n[0],10);return{value:r?r(i):i,rest:e.slice(n[0].length)}}function Ko(t,e){var r=e.match(t);if(!r)return null;if(r[0]==="Z")return{value:0,rest:e.slice(1)};var n=r[1]==="+"?1:-1,i=r[2]?parseInt(r[2],10):0,a=r[3]?parseInt(r[3],10):0,o=r[5]?parseInt(r[5],10):0;return{value:n*(i*dPe+a*lPe+o*hPe),rest:e.slice(r[0].length)}}function wee(t,e){return vn(Un.anyDigitsSigned,t,e)}function Pn(t,e,r){switch(t){case 1:return vn(Un.singleDigit,e,r);case 2:return vn(Un.twoDigits,e,r);case 3:return vn(Un.threeDigits,e,r);case 4:return vn(Un.fourDigits,e,r);default:return vn(new RegExp("^\\d{1,"+t+"}"),e,r)}}function sw(t,e,r){switch(t){case 1:return vn(Un.singleDigitSigned,e,r);case 2:return vn(Un.twoDigitsSigned,e,r);case 3:return vn(Un.threeDigitsSigned,e,r);case 4:return vn(Un.fourDigitsSigned,e,r);default:return vn(new RegExp("^-?\\d{1,"+t+"}"),e,r)}}function $B(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function See(t,e){var r=e>0,n=r?e:1-e,i;if(n<=50)i=t||100;else{var a=n+50,o=Math.floor(a/100)*100,u=t>=a%100;i=t+o-(u?100:0)}return r?i:1-i}var pPe=[31,28,31,30,31,30,31,31,30,31,30,31],mPe=[31,29,31,30,31,30,31,31,30,31,30,31];function Aee(t){return t%400===0||t%4===0&&t%100!==0}var xPe={G:{priority:140,parse:function(t,e,r,n){switch(e){case"G":case"GG":case"GGG":return r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"});case"GGGGG":return r.era(t,{width:"narrow"});case"GGGG":default:return r.era(t,{width:"wide"})||r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"})}},set:function(t,e,r,n){return e.era=r,t.setUTCFullYear(r,0,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(t,e,r,n){var i=function(a){return{year:a,isTwoDigitYear:e==="yy"}};switch(e){case"y":return Pn(4,t,i);case"yo":return r.ordinalNumber(t,{unit:"year",valueCallback:i});default:return Pn(e.length,t,i)}},validate:function(t,e,r){return e.isTwoDigitYear||e.year>0},set:function(t,e,r,n){var i=t.getUTCFullYear();if(r.isTwoDigitYear){var a=See(r.year,i);return t.setUTCFullYear(a,0,1),t.setUTCHours(0,0,0,0),t}var o=!("era"in e)||e.era===1?r.year:1-r.year;return t.setUTCFullYear(o,0,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(t,e,r,n){var i=function(a){return{year:a,isTwoDigitYear:e==="YY"}};switch(e){case"Y":return Pn(4,t,i);case"Yo":return r.ordinalNumber(t,{unit:"year",valueCallback:i});default:return Pn(e.length,t,i)}},validate:function(t,e,r){return e.isTwoDigitYear||e.year>0},set:function(t,e,r,n){var i=(0,oPe.default)(t,n);if(r.isTwoDigitYear){var a=See(r.year,i);return t.setUTCFullYear(a,0,n.firstWeekContainsDate),t.setUTCHours(0,0,0,0),(0,jB.default)(t,n)}var o=!("era"in e)||e.era===1?r.year:1-r.year;return t.setUTCFullYear(o,0,n.firstWeekContainsDate),t.setUTCHours(0,0,0,0),(0,jB.default)(t,n)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(t,e,r,n){return sw(e==="R"?4:e.length,t)},set:function(t,e,r,n){var i=new Date(0);return i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0),(0,_ee.default)(i)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(t,e,r,n){return sw(e==="u"?4:e.length,t)},set:function(t,e,r,n){return t.setUTCFullYear(r,0,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(t,e,r,n){switch(e){case"Q":case"QQ":return Pn(e.length,t);case"Qo":return r.ordinalNumber(t,{unit:"quarter"});case"QQQ":return r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(t,{width:"wide",context:"formatting"})||r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,r){return e>=1&&e<=4},set:function(t,e,r,n){return t.setUTCMonth((r-1)*3,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(t,e,r,n){switch(e){case"q":case"qq":return Pn(e.length,t);case"qo":return r.ordinalNumber(t,{unit:"quarter"});case"qqq":return r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(t,{width:"wide",context:"standalone"})||r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"})}},validate:function(t,e,r){return e>=1&&e<=4},set:function(t,e,r,n){return t.setUTCMonth((r-1)*3,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(t,e,r,n){var i=function(a){return a-1};switch(e){case"M":return vn(Un.month,t,i);case"MM":return Pn(2,t,i);case"Mo":return r.ordinalNumber(t,{unit:"month",valueCallback:i});case"MMM":return r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(t,{width:"wide",context:"formatting"})||r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,r){return e>=0&&e<=11},set:function(t,e,r,n){return t.setUTCMonth(r,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(t,e,r,n){var i=function(a){return a-1};switch(e){case"L":return vn(Un.month,t,i);case"LL":return Pn(2,t,i);case"Lo":return r.ordinalNumber(t,{unit:"month",valueCallback:i});case"LLL":return r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(t,{width:"wide",context:"standalone"})||r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"})}},validate:function(t,e,r){return e>=0&&e<=11},set:function(t,e,r,n){return t.setUTCMonth(r,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(t,e,r,n){switch(e){case"w":return vn(Un.week,t);case"wo":return r.ordinalNumber(t,{unit:"week"});default:return Pn(e.length,t)}},validate:function(t,e,r){return e>=1&&e<=53},set:function(t,e,r,n){return(0,jB.default)((0,fPe.default)(t,r,n),n)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(t,e,r,n){switch(e){case"I":return vn(Un.week,t);case"Io":return r.ordinalNumber(t,{unit:"week"});default:return Pn(e.length,t)}},validate:function(t,e,r){return e>=1&&e<=53},set:function(t,e,r,n){return(0,_ee.default)((0,cPe.default)(t,r,n),n)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(t,e,r,n){switch(e){case"d":return vn(Un.date,t);case"do":return r.ordinalNumber(t,{unit:"date"});default:return Pn(e.length,t)}},validate:function(t,e,r){var n=t.getUTCFullYear(),i=Aee(n),a=t.getUTCMonth();return i?e>=1&&e<=mPe[a]:e>=1&&e<=pPe[a]},set:function(t,e,r,n){return t.setUTCDate(r),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(t,e,r,n){switch(e){case"D":case"DD":return vn(Un.dayOfYear,t);case"Do":return r.ordinalNumber(t,{unit:"date"});default:return Pn(e.length,t)}},validate:function(t,e,r){var n=t.getUTCFullYear(),i=Aee(n);return i?e>=1&&e<=366:e>=1&&e<=365},set:function(t,e,r,n){return t.setUTCMonth(0,r),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(t,e,r,n){switch(e){case"E":case"EE":case"EEE":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,r){return e>=0&&e<=6},set:function(t,e,r,n){return t=(0,WB.default)(t,r,n),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(t,e,r,n){var i=function(a){var o=Math.floor((a-1)/7)*7;return(a+n.weekStartsOn+6)%7+o};switch(e){case"e":case"ee":return Pn(e.length,t,i);case"eo":return r.ordinalNumber(t,{unit:"day",valueCallback:i});case"eee":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeeee":return r.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,r){return e>=0&&e<=6},set:function(t,e,r,n){return t=(0,WB.default)(t,r,n),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(t,e,r,n){var i=function(a){var o=Math.floor((a-1)/7)*7;return(a+n.weekStartsOn+6)%7+o};switch(e){case"c":case"cc":return Pn(e.length,t,i);case"co":return r.ordinalNumber(t,{unit:"day",valueCallback:i});case"ccc":return r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"ccccc":return r.day(t,{width:"narrow",context:"standalone"});case"cccccc":return r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(t,{width:"wide",context:"standalone"})||r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"})}},validate:function(t,e,r){return e>=0&&e<=6},set:function(t,e,r,n){return t=(0,WB.default)(t,r,n),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(t,e,r,n){var i=function(a){return a===0?7:a};switch(e){case"i":case"ii":return Pn(e.length,t);case"io":return r.ordinalNumber(t,{unit:"day"});case"iii":return r.day(t,{width:"abbreviated",context:"formatting",valueCallback:i})||r.day(t,{width:"short",context:"formatting",valueCallback:i})||r.day(t,{width:"narrow",context:"formatting",valueCallback:i});case"iiiii":return r.day(t,{width:"narrow",context:"formatting",valueCallback:i});case"iiiiii":return r.day(t,{width:"short",context:"formatting",valueCallback:i})||r.day(t,{width:"narrow",context:"formatting",valueCallback:i});case"iiii":default:return r.day(t,{width:"wide",context:"formatting",valueCallback:i})||r.day(t,{width:"abbreviated",context:"formatting",valueCallback:i})||r.day(t,{width:"short",context:"formatting",valueCallback:i})||r.day(t,{width:"narrow",context:"formatting",valueCallback:i})}},validate:function(t,e,r){return e>=1&&e<=7},set:function(t,e,r,n){return t=(0,uPe.default)(t,r,n),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(t,e,r,n){switch(e){case"a":case"aa":case"aaa":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}},set:function(t,e,r,n){return t.setUTCHours($B(r),0,0,0),t},incompatibleTokens:["b","B","H","K","k","t","T"]},b:{priority:80,parse:function(t,e,r,n){switch(e){case"b":case"bb":case"bbb":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}},set:function(t,e,r,n){return t.setUTCHours($B(r),0,0,0),t},incompatibleTokens:["a","B","H","K","k","t","T"]},B:{priority:80,parse:function(t,e,r,n){switch(e){case"B":case"BB":case"BBB":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}},set:function(t,e,r,n){return t.setUTCHours($B(r),0,0,0),t},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(t,e,r,n){switch(e){case"h":return vn(Un.hour12h,t);case"ho":return r.ordinalNumber(t,{unit:"hour"});default:return Pn(e.length,t)}},validate:function(t,e,r){return e>=1&&e<=12},set:function(t,e,r,n){var i=t.getUTCHours()>=12;return i&&r<12?t.setUTCHours(r+12,0,0,0):!i&&r===12?t.setUTCHours(0,0,0,0):t.setUTCHours(r,0,0,0),t},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(t,e,r,n){switch(e){case"H":return vn(Un.hour23h,t);case"Ho":return r.ordinalNumber(t,{unit:"hour"});default:return Pn(e.length,t)}},validate:function(t,e,r){return e>=0&&e<=23},set:function(t,e,r,n){return t.setUTCHours(r,0,0,0),t},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(t,e,r,n){switch(e){case"K":return vn(Un.hour11h,t);case"Ko":return r.ordinalNumber(t,{unit:"hour"});default:return Pn(e.length,t)}},validate:function(t,e,r){return e>=0&&e<=11},set:function(t,e,r,n){var i=t.getUTCHours()>=12;return i&&r<12?t.setUTCHours(r+12,0,0,0):t.setUTCHours(r,0,0,0),t},incompatibleTokens:["a","b","h","H","k","t","T"]},k:{priority:70,parse:function(t,e,r,n){switch(e){case"k":return vn(Un.hour24h,t);case"ko":return r.ordinalNumber(t,{unit:"hour"});default:return Pn(e.length,t)}},validate:function(t,e,r){return e>=1&&e<=24},set:function(t,e,r,n){var i=r<=24?r%24:r;return t.setUTCHours(i,0,0,0),t},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(t,e,r,n){switch(e){case"m":return vn(Un.minute,t);case"mo":return r.ordinalNumber(t,{unit:"minute"});default:return Pn(e.length,t)}},validate:function(t,e,r){return e>=0&&e<=59},set:function(t,e,r,n){return t.setUTCMinutes(r,0,0),t},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(t,e,r,n){switch(e){case"s":return vn(Un.second,t);case"so":return r.ordinalNumber(t,{unit:"second"});default:return Pn(e.length,t)}},validate:function(t,e,r){return e>=0&&e<=59},set:function(t,e,r,n){return t.setUTCSeconds(r,0),t},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(t,e,r,n){var i=function(a){return Math.floor(a*Math.pow(10,-e.length+3))};return Pn(e.length,t,i)},set:function(t,e,r,n){return t.setUTCMilliseconds(r),t},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(t,e,r,n){switch(e){case"X":return Ko(Ho.basicOptionalMinutes,t);case"XX":return Ko(Ho.basic,t);case"XXXX":return Ko(Ho.basicOptionalSeconds,t);case"XXXXX":return Ko(Ho.extendedOptionalSeconds,t);case"XXX":default:return Ko(Ho.extended,t)}},set:function(t,e,r,n){return e.timestampIsSet?t:new Date(t.getTime()-r)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(t,e,r,n){switch(e){case"x":return Ko(Ho.basicOptionalMinutes,t);case"xx":return Ko(Ho.basic,t);case"xxxx":return Ko(Ho.basicOptionalSeconds,t);case"xxxxx":return Ko(Ho.extendedOptionalSeconds,t);case"xxx":default:return Ko(Ho.extended,t)}},set:function(t,e,r,n){return e.timestampIsSet?t:new Date(t.getTime()-r)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(t,e,r,n){return wee(t)},set:function(t,e,r,n){return[new Date(r*1e3),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(t,e,r,n){return wee(t)},set:function(t,e,r,n){return[new Date(r),{timestampIsSet:!0}]},incompatibleTokens:"*"}},yPe=xPe;Dx.default=yPe;Cee.exports=Dx.default});var VB=g((cw,Tee)=>{"use strict";Object.defineProperty(cw,"__esModule",{value:!0});cw.default=RPe;var bPe=Ku(Ld()),vPe=Ku(Ih()),Pee=Ku(me()),gPe=Ku(yB()),_Pe=Ku(pB()),wPe=Ku(Uo()),ow=mB(),uw=Ku(bt()),SPe=Ku(Eee()),APe=Ku(j());function Ku(t){return t&&t.__esModule?t:{default:t}}var CPe=10,EPe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,PPe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,TPe=/^'([^]*?)'?$/,IPe=/''/g,kPe=/\S/,BPe=/[a-zA-Z]/;function RPe(t,e,r,n){(0,APe.default)(3,arguments);var i=String(t),a=String(e),o=n||{},u=o.locale||bPe.default;if(!u.match)throw new RangeError("locale must contain match property");var f=u.options&&u.options.firstWeekContainsDate,d=f==null?1:(0,uw.default)(f),h=o.firstWeekContainsDate==null?d:(0,uw.default)(o.firstWeekContainsDate);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=u.options&&u.options.weekStartsOn,_=m==null?0:(0,uw.default)(m),w=o.weekStartsOn==null?_:(0,uw.default)(o.weekStartsOn);if(!(w>=0&&w<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(a==="")return i===""?(0,Pee.default)(r):new Date(NaN);var P={firstWeekContainsDate:h,weekStartsOn:w,locale:u},M=[{priority:CPe,subPriority:-1,set:MPe,index:0}],K,Y=a.match(PPe).map(function(J){var L=J[0];if(L==="p"||L==="P"){var p=_Pe.default[L];return p(J,u.formatLong,P)}return J}).join("").match(EPe),fe=[];for(K=0;K<Y.length;K++){var _e=Y[K];!o.useAdditionalWeekYearTokens&&(0,ow.isProtectedWeekYearToken)(_e)&&(0,ow.throwProtectedError)(_e,a,t),!o.useAdditionalDayOfYearTokens&&(0,ow.isProtectedDayOfYearToken)(_e)&&(0,ow.throwProtectedError)(_e,a,t);var Je=_e[0],Ze=SPe.default[Je];if(Ze){var Ue=Ze.incompatibleTokens;if(Array.isArray(Ue)){for(var Ke=void 0,He=0;He<fe.length;He++){var we=fe[He].token;if(Ue.indexOf(we)!==-1||we===Je){Ke=fe[He];break}}if(Ke)throw new RangeError("The format string mustn't contain `".concat(Ke.fullToken,"` and `").concat(_e,"` at the same time"))}else if(Ze.incompatibleTokens==="*"&&fe.length)throw new RangeError("The format string mustn't contain `".concat(_e,"` and any other token at the same time"));fe.push({token:Je,fullToken:_e});var F=Ze.parse(i,_e,u.match,P);if(!F)return new Date(NaN);M.push({priority:Ze.priority,subPriority:Ze.subPriority||0,set:Ze.set,validate:Ze.validate,value:F.value,index:M.length}),i=F.rest}else{if(Je.match(BPe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Je+"`");if(_e==="''"?_e="'":Je==="'"&&(_e=OPe(_e)),i.indexOf(_e)===0)i=i.slice(_e.length);else return new Date(NaN)}}if(i.length>0&&kPe.test(i))return new Date(NaN);var y=M.map(function(J){return J.priority}).sort(function(J,L){return L-J}).filter(function(J,L,p){return p.indexOf(J)===L}).map(function(J){return M.filter(function(L){return L.priority===J}).sort(function(L,p){return p.subPriority-L.subPriority})}).map(function(J){return J[0]}),S=(0,Pee.default)(r);if(isNaN(S))return new Date(NaN);var B=(0,vPe.default)(S,(0,wPe.default)(S)),D={};for(K=0;K<y.length;K++){var U=y[K];if(U.validate&&!U.validate(B,U.value,P))return new Date(NaN);var G=U.set(B,D,U.value,P);G[0]?(B=G[0],(0,gPe.default)(D,G[1])):B=G}return B}function MPe(t,e){if(e.timestampIsSet)return t;var r=new Date(0);return r.setFullYear(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()),r.setHours(t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()),r}function OPe(t){return t.match(TPe)[1].replace(IPe,"'")}Tee.exports=cw.default});var kee=g((fw,Iee)=>{"use strict";Object.defineProperty(fw,"__esModule",{value:!0});fw.default=LPe;var qPe=GB(VB()),DPe=GB(Ks()),NPe=GB(j());function GB(t){return t&&t.__esModule?t:{default:t}}function LPe(t,e,r){return(0,NPe.default)(2,arguments),(0,DPe.default)((0,qPe.default)(t,e,new Date,r))}Iee.exports=fw.default});var Mee=g((dw,Ree)=>{"use strict";Object.defineProperty(dw,"__esModule",{value:!0});dw.default=KPe;var UPe=Bee(me()),HPe=Bee(j());function Bee(t){return t&&t.__esModule?t:{default:t}}function KPe(t){return(0,HPe.default)(1,arguments),(0,UPe.default)(t).getDay()===1}Ree.exports=dw.default});var Dee=g((lw,qee)=>{"use strict";Object.defineProperty(lw,"__esModule",{value:!0});lw.default=WPe;var FPe=Oee(me()),zPe=Oee(j());function Oee(t){return t&&t.__esModule?t:{default:t}}function WPe(t){return(0,zPe.default)(1,arguments),(0,FPe.default)(t).getTime()<Date.now()}qee.exports=lw.default});var YB=g((hw,Lee)=>{"use strict";Object.defineProperty(hw,"__esModule",{value:!0});hw.default=VPe;var jPe=Nee(me()),$Pe=Nee(j());function Nee(t){return t&&t.__esModule?t:{default:t}}function VPe(t){(0,$Pe.default)(1,arguments);var e=(0,jPe.default)(t);return e.setMinutes(0,0,0),e}Lee.exports=hw.default});var JB=g((pw,Kee)=>{"use strict";Object.defineProperty(pw,"__esModule",{value:!0});pw.default=YPe;var Uee=Hee(YB()),GPe=Hee(j());function Hee(t){return t&&t.__esModule?t:{default:t}}function YPe(t,e){(0,GPe.default)(2,arguments);var r=(0,Uee.default)(t),n=(0,Uee.default)(e);return r.getTime()===n.getTime()}Kee.exports=pw.default});var xw=g((mw,Wee)=>{"use strict";Object.defineProperty(mw,"__esModule",{value:!0});mw.default=XPe;var Fee=zee(Uu()),JPe=zee(j());function zee(t){return t&&t.__esModule?t:{default:t}}function XPe(t,e,r){(0,JPe.default)(2,arguments);var n=(0,Fee.default)(t,r),i=(0,Fee.default)(e,r);return n.getTime()===i.getTime()}Wee.exports=mw.default});var XB=g((yw,$ee)=>{"use strict";Object.defineProperty(yw,"__esModule",{value:!0});yw.default=eTe;var QPe=jee(xw()),ZPe=jee(j());function jee(t){return t&&t.__esModule?t:{default:t}}function eTe(t,e){return(0,ZPe.default)(2,arguments),(0,QPe.default)(t,e,{weekStartsOn:1})}$ee.exports=yw.default});var Jee=g((bw,Yee)=>{"use strict";Object.defineProperty(bw,"__esModule",{value:!0});bw.default=rTe;var Vee=Gee(Eh()),tTe=Gee(j());function Gee(t){return t&&t.__esModule?t:{default:t}}function rTe(t,e){(0,tTe.default)(2,arguments);var r=(0,Vee.default)(t),n=(0,Vee.default)(e);return r.getTime()===n.getTime()}Yee.exports=bw.default});var QB=g((vw,Zee)=>{"use strict";Object.defineProperty(vw,"__esModule",{value:!0});vw.default=iTe;var Xee=Qee(L3()),nTe=Qee(j());function Qee(t){return t&&t.__esModule?t:{default:t}}function iTe(t,e){(0,nTe.default)(2,arguments);var r=(0,Xee.default)(t),n=(0,Xee.default)(e);return r.getTime()===n.getTime()}Zee.exports=vw.default});var ZB=g((gw,rte)=>{"use strict";Object.defineProperty(gw,"__esModule",{value:!0});gw.default=sTe;var ete=tte(me()),aTe=tte(j());function tte(t){return t&&t.__esModule?t:{default:t}}function sTe(t,e){(0,aTe.default)(2,arguments);var r=(0,ete.default)(t),n=(0,ete.default)(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}rte.exports=gw.default});var eR=g((_w,ate)=>{"use strict";Object.defineProperty(_w,"__esModule",{value:!0});_w.default=uTe;var nte=ite(z3()),oTe=ite(j());function ite(t){return t&&t.__esModule?t:{default:t}}function uTe(t,e){(0,oTe.default)(2,arguments);var r=(0,nte.default)(t),n=(0,nte.default)(e);return r.getTime()===n.getTime()}ate.exports=_w.default});var tR=g((ww,ote)=>{"use strict";Object.defineProperty(ww,"__esModule",{value:!0});ww.default=dTe;var cTe=ste(me()),fTe=ste(j());function ste(t){return t&&t.__esModule?t:{default:t}}function dTe(t){(0,fTe.default)(1,arguments);var e=(0,cTe.default)(t);return e.setMilliseconds(0),e}ote.exports=ww.default});var rR=g((Sw,fte)=>{"use strict";Object.defineProperty(Sw,"__esModule",{value:!0});Sw.default=hTe;var ute=cte(tR()),lTe=cte(j());function cte(t){return t&&t.__esModule?t:{default:t}}function hTe(t,e){(0,lTe.default)(2,arguments);var r=(0,ute.default)(t),n=(0,ute.default)(e);return r.getTime()===n.getTime()}fte.exports=Sw.default});var nR=g((Aw,hte)=>{"use strict";Object.defineProperty(Aw,"__esModule",{value:!0});Aw.default=mTe;var dte=lte(me()),pTe=lte(j());function lte(t){return t&&t.__esModule?t:{default:t}}function mTe(t,e){(0,pTe.default)(2,arguments);var r=(0,dte.default)(t),n=(0,dte.default)(e);return r.getFullYear()===n.getFullYear()}hte.exports=Aw.default});var xte=g((Cw,mte)=>{"use strict";Object.defineProperty(Cw,"__esModule",{value:!0});Cw.default=bTe;var xTe=pte(JB()),yTe=pte(j());function pte(t){return t&&t.__esModule?t:{default:t}}function bTe(t){return(0,yTe.default)(1,arguments),(0,xTe.default)(Date.now(),t)}mte.exports=Cw.default});var vte=g((Ew,bte)=>{"use strict";Object.defineProperty(Ew,"__esModule",{value:!0});Ew.default=_Te;var vTe=yte(XB()),gTe=yte(j());function yte(t){return t&&t.__esModule?t:{default:t}}function _Te(t){return(0,gTe.default)(1,arguments),(0,vTe.default)(t,Date.now())}bte.exports=Ew.default});var wte=g((Pw,_te)=>{"use strict";Object.defineProperty(Pw,"__esModule",{value:!0});Pw.default=ATe;var wTe=gte(QB()),STe=gte(j());function gte(t){return t&&t.__esModule?t:{default:t}}function ATe(t){return(0,STe.default)(1,arguments),(0,wTe.default)(Date.now(),t)}_te.exports=Pw.default});var Cte=g((Tw,Ate)=>{"use strict";Object.defineProperty(Tw,"__esModule",{value:!0});Tw.default=PTe;var CTe=Ste(ZB()),ETe=Ste(j());function Ste(t){return t&&t.__esModule?t:{default:t}}function PTe(t){return(0,ETe.default)(1,arguments),(0,CTe.default)(Date.now(),t)}Ate.exports=Tw.default});var Tte=g((Iw,Pte)=>{"use strict";Object.defineProperty(Iw,"__esModule",{value:!0});Iw.default=kTe;var TTe=Ete(eR()),ITe=Ete(j());function Ete(t){return t&&t.__esModule?t:{default:t}}function kTe(t){return(0,ITe.default)(1,arguments),(0,TTe.default)(Date.now(),t)}Pte.exports=Iw.default});var Bte=g((kw,kte)=>{"use strict";Object.defineProperty(kw,"__esModule",{value:!0});kw.default=MTe;var BTe=Ite(rR()),RTe=Ite(j());function Ite(t){return t&&t.__esModule?t:{default:t}}function MTe(t){return(0,RTe.default)(1,arguments),(0,BTe.default)(Date.now(),t)}kte.exports=kw.default});var Ote=g((Bw,Mte)=>{"use strict";Object.defineProperty(Bw,"__esModule",{value:!0});Bw.default=DTe;var OTe=Rte(xw()),qTe=Rte(j());function Rte(t){return t&&t.__esModule?t:{default:t}}function DTe(t,e){return(0,qTe.default)(1,arguments),(0,OTe.default)(t,Date.now(),e)}Mte.exports=Bw.default});var Nte=g((Rw,Dte)=>{"use strict";Object.defineProperty(Rw,"__esModule",{value:!0});Rw.default=UTe;var NTe=qte(nR()),LTe=qte(j());function qte(t){return t&&t.__esModule?t:{default:t}}function UTe(t){return(0,LTe.default)(1,arguments),(0,NTe.default)(t,Date.now())}Dte.exports=Rw.default});var Hte=g((Mw,Ute)=>{"use strict";Object.defineProperty(Mw,"__esModule",{value:!0});Mw.default=FTe;var HTe=Lte(me()),KTe=Lte(j());function Lte(t){return t&&t.__esModule?t:{default:t}}function FTe(t){return(0,KTe.default)(1,arguments),(0,HTe.default)(t).getDay()===4}Ute.exports=Mw.default});var zte=g((Ow,Fte)=>{"use strict";Object.defineProperty(Ow,"__esModule",{value:!0});Ow.default=jTe;var zTe=Kte(Ph()),WTe=Kte(j());function Kte(t){return t&&t.__esModule?t:{default:t}}function jTe(t){return(0,WTe.default)(1,arguments),(0,zTe.default)(t,Date.now())}Fte.exports=Ow.default});var jte=g((qw,Wte)=>{"use strict";Object.defineProperty(qw,"__esModule",{value:!0});qw.default=YTe;var $Te=iR(Lo()),VTe=iR(Ph()),GTe=iR(j());function iR(t){return t&&t.__esModule?t:{default:t}}function YTe(t){return(0,GTe.default)(1,arguments),(0,VTe.default)(t,(0,$Te.default)(Date.now(),1))}Wte.exports=qw.default});var Gte=g((Dw,Vte)=>{"use strict";Object.defineProperty(Dw,"__esModule",{value:!0});Dw.default=QTe;var JTe=$te(me()),XTe=$te(j());function $te(t){return t&&t.__esModule?t:{default:t}}function QTe(t){return(0,XTe.default)(1,arguments),(0,JTe.default)(t).getDay()===2}Vte.exports=Dw.default});var Xte=g((Nw,Jte)=>{"use strict";Object.defineProperty(Nw,"__esModule",{value:!0});Nw.default=tIe;var ZTe=Yte(me()),eIe=Yte(j());function Yte(t){return t&&t.__esModule?t:{default:t}}function tIe(t){return(0,eIe.default)(1,arguments),(0,ZTe.default)(t).getDay()===3}Jte.exports=Nw.default});var ere=g((Lw,Zte)=>{"use strict";Object.defineProperty(Lw,"__esModule",{value:!0});Lw.default=nIe;var aR=Qte(me()),rIe=Qte(j());function Qte(t){return t&&t.__esModule?t:{default:t}}function nIe(t,e){(0,rIe.default)(2,arguments);var r=(0,aR.default)(t).getTime(),n=(0,aR.default)(e.start).getTime(),i=(0,aR.default)(e.end).getTime();if(!(n<=i))throw new RangeError("Invalid interval");return r>=n&&r<=i}Zte.exports=Lw.default});var rre=g((Uw,tre)=>{"use strict";Object.defineProperty(Uw,"__esModule",{value:!0});Uw.default=oIe;var iIe=sR(Ph()),aIe=sR(Ox()),sIe=sR(j());function sR(t){return t&&t.__esModule?t:{default:t}}function oIe(t){return(0,sIe.default)(1,arguments),(0,iIe.default)(t,(0,aIe.default)(Date.now(),1))}tre.exports=Uw.default});var are=g((Hw,ire)=>{"use strict";Object.defineProperty(Hw,"__esModule",{value:!0});Hw.default=fIe;var uIe=nre(me()),cIe=nre(j());function nre(t){return t&&t.__esModule?t:{default:t}}function fIe(t){(0,cIe.default)(1,arguments);var e=(0,uIe.default)(t),r=e.getFullYear(),n=9+Math.floor(r/10)*10;return e.setFullYear(n+1,0,0),e.setHours(0,0,0,0),e}ire.exports=Hw.default});var uR=g((Kw,ore)=>{"use strict";Object.defineProperty(Kw,"__esModule",{value:!0});Kw.default=hIe;var dIe=oR(me()),sre=oR(bt()),lIe=oR(j());function oR(t){return t&&t.__esModule?t:{default:t}}function hIe(t,e){(0,lIe.default)(1,arguments);var r=e||{},n=r.locale,i=n&&n.options&&n.options.weekStartsOn,a=i==null?0:(0,sre.default)(i),o=r.weekStartsOn==null?a:(0,sre.default)(r.weekStartsOn);if(!(o>=0&&o<=6))throw new RangeError("weekStartsOn must be between 0 and 6");var u=(0,dIe.default)(t),f=u.getDay(),d=(f<o?-7:0)+6-(f-o);return u.setHours(0,0,0,0),u.setDate(u.getDate()+d),u}ore.exports=Kw.default});var fre=g((Fw,cre)=>{"use strict";Object.defineProperty(Fw,"__esModule",{value:!0});Fw.default=xIe;var pIe=ure(uR()),mIe=ure(j());function ure(t){return t&&t.__esModule?t:{default:t}}function xIe(t){return(0,mIe.default)(1,arguments),(0,pIe.default)(t,{weekStartsOn:1})}cre.exports=Fw.default});var lre=g((zw,dre)=>{"use strict";Object.defineProperty(zw,"__esModule",{value:!0});zw.default=gIe;var yIe=cR(Nd()),bIe=cR(ff()),vIe=cR(j());function cR(t){return t&&t.__esModule?t:{default:t}}function gIe(t){(0,vIe.default)(1,arguments);var e=(0,yIe.default)(t),r=new Date(0);r.setFullYear(e+1,0,4),r.setHours(0,0,0,0);var n=(0,bIe.default)(r);return n.setDate(n.getDate()-1),n}dre.exports=zw.default});var mre=g((Ww,pre)=>{"use strict";Object.defineProperty(Ww,"__esModule",{value:!0});Ww.default=SIe;var _Ie=hre(me()),wIe=hre(j());function hre(t){return t&&t.__esModule?t:{default:t}}function SIe(t){(0,wIe.default)(1,arguments);var e=(0,_Ie.default)(t),r=e.getMonth(),n=r-r%3+3;return e.setMonth(n,0),e.setHours(0,0,0,0),e}pre.exports=Ww.default});var bre=g((jw,yre)=>{"use strict";Object.defineProperty(jw,"__esModule",{value:!0});jw.default=EIe;var AIe=xre(me()),CIe=xre(j());function xre(t){return t&&t.__esModule?t:{default:t}}function EIe(t){(0,CIe.default)(1,arguments);var e=(0,AIe.default)(t),r=e.getFullYear();return e.setFullYear(r+1,0,0),e.setHours(0,0,0,0),e}yre.exports=jw.default});var gre=g(($w,vre)=>{"use strict";Object.defineProperty($w,"__esModule",{value:!0});$w.default=NIe;var PIe=Mh(me()),TIe=Mh(oB()),IIe=Mh(Uo()),kIe=Mh(Ks()),BIe=Mh(Ih()),RIe=Mh(j());function Mh(t){return t&&t.__esModule?t:{default:t}}var MIe=/(\w)\1*|''|'(''|[^'])+('|$)|./g,OIe=/^'([^]*?)'?$/,qIe=/''/g,DIe=/[a-zA-Z]/;function NIe(t,e){(0,RIe.default)(2,arguments);var r=(0,PIe.default)(t);if(!(0,kIe.default)(r))throw new RangeError("Invalid time value");var n=(0,IIe.default)(r),i=(0,BIe.default)(r,n),a=e.match(MIe);if(!a)return"";var o=a.map(function(u){if(u==="''")return"'";var f=u[0];if(f==="'")return LIe(u);var d=TIe.default[f];if(d)return d(i,u);if(f.match(DIe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return u}).join("");return o}function LIe(t){var e=t.match(OIe);return e?e[1].replace(qIe,"'"):t}vre.exports=$w.default});var Sre=g((Vw,wre)=>{"use strict";Object.defineProperty(Vw,"__esModule",{value:!0});Vw.default=KIe;var UIe=HIe(j());function HIe(t){return t&&t.__esModule?t:{default:t}}var _re=365.2425;function KIe(t){var e=t.years,r=t.months,n=t.weeks,i=t.days,a=t.hours,o=t.minutes,u=t.seconds;(0,UIe.default)(1,arguments);var f=0;e&&(f+=e*_re),r&&(f+=r*(_re/12)),n&&(f+=n*7),i&&(f+=i);var d=f*24*60*60;return a&&(d+=a*60*60),o&&(d+=o*60),u&&(d+=u),Math.round(d*1e3)}wre.exports=Vw.default});var Cre=g((Gw,Are)=>{"use strict";Object.defineProperty(Gw,"__esModule",{value:!0});Gw.default=jIe;var FIe=WIe(j()),zIe=xn();function WIe(t){return t&&t.__esModule?t:{default:t}}function jIe(t){(0,FIe.default)(1,arguments);var e=t/zIe.millisecondsInHour;return Math.floor(e)}Are.exports=Gw.default});var Pre=g((Yw,Ere)=>{"use strict";Object.defineProperty(Yw,"__esModule",{value:!0});Yw.default=YIe;var $Ie=GIe(j()),VIe=xn();function GIe(t){return t&&t.__esModule?t:{default:t}}function YIe(t){(0,$Ie.default)(1,arguments);var e=t/VIe.millisecondsInMinute;return Math.floor(e)}Ere.exports=Yw.default});var Ire=g((Jw,Tre)=>{"use strict";Object.defineProperty(Jw,"__esModule",{value:!0});Jw.default=ZIe;var JIe=QIe(j()),XIe=xn();function QIe(t){return t&&t.__esModule?t:{default:t}}function ZIe(t){(0,JIe.default)(1,arguments);var e=t/XIe.millisecondsInSecond;return Math.floor(e)}Tre.exports=Jw.default});var Bre=g((Xw,kre)=>{"use strict";Object.defineProperty(Xw,"__esModule",{value:!0});Xw.default=nke;var eke=rke(j()),tke=xn();function rke(t){return t&&t.__esModule?t:{default:t}}function nke(t){(0,eke.default)(1,arguments);var e=t/tke.minutesInHour;return Math.floor(e)}kre.exports=Xw.default});var Mre=g((Qw,Rre)=>{"use strict";Object.defineProperty(Qw,"__esModule",{value:!0});Qw.default=oke;var ike=ske(j()),ake=xn();function ske(t){return t&&t.__esModule?t:{default:t}}function oke(t){return(0,ike.default)(1,arguments),Math.floor(t*ake.millisecondsInMinute)}Rre.exports=Qw.default});var qre=g((Zw,Ore)=>{"use strict";Object.defineProperty(Zw,"__esModule",{value:!0});Zw.default=dke;var uke=fke(j()),cke=xn();function fke(t){return t&&t.__esModule?t:{default:t}}function dke(t){return(0,uke.default)(1,arguments),Math.floor(t*cke.secondsInMinute)}Ore.exports=Zw.default});var Nre=g((e5,Dre)=>{"use strict";Object.defineProperty(e5,"__esModule",{value:!0});e5.default=mke;var lke=pke(j()),hke=xn();function pke(t){return t&&t.__esModule?t:{default:t}}function mke(t){(0,lke.default)(1,arguments);var e=t/hke.monthsInQuarter;return Math.floor(e)}Dre.exports=e5.default});var Ure=g((t5,Lre)=>{"use strict";Object.defineProperty(t5,"__esModule",{value:!0});t5.default=vke;var xke=bke(j()),yke=xn();function bke(t){return t&&t.__esModule?t:{default:t}}function vke(t){(0,xke.default)(1,arguments);var e=t/yke.monthsInYear;return Math.floor(e)}Lre.exports=t5.default});var Fu=g((r5,Hre)=>{"use strict";Object.defineProperty(r5,"__esModule",{value:!0});r5.default=Ske;var gke=fR(Lo()),_ke=fR(Rx()),wke=fR(j());function fR(t){return t&&t.__esModule?t:{default:t}}function Ske(t,e){(0,wke.default)(2,arguments);var r=e-(0,_ke.default)(t);return r<=0&&(r+=7),(0,gke.default)(t,r)}Hre.exports=r5.default});var Fre=g((n5,Kre)=>{"use strict";Object.defineProperty(n5,"__esModule",{value:!0});n5.default=Pke;var Ake=dR(j()),Cke=dR(Fu()),Eke=dR(me());function dR(t){return t&&t.__esModule?t:{default:t}}function Pke(t){return(0,Ake.default)(1,arguments),(0,Cke.default)((0,Eke.default)(t),5)}Kre.exports=n5.default});var Wre=g((i5,zre)=>{"use strict";Object.defineProperty(i5,"__esModule",{value:!0});i5.default=Bke;var Tke=lR(j()),Ike=lR(Fu()),kke=lR(me());function lR(t){return t&&t.__esModule?t:{default:t}}function Bke(t){return(0,Tke.default)(1,arguments),(0,Ike.default)((0,kke.default)(t),1)}zre.exports=i5.default});var $re=g((a5,jre)=>{"use strict";Object.defineProperty(a5,"__esModule",{value:!0});a5.default=qke;var Rke=hR(j()),Mke=hR(Fu()),Oke=hR(me());function hR(t){return t&&t.__esModule?t:{default:t}}function qke(t){return(0,Rke.default)(1,arguments),(0,Mke.default)((0,Oke.default)(t),6)}jre.exports=a5.default});var Gre=g((s5,Vre)=>{"use strict";Object.defineProperty(s5,"__esModule",{value:!0});s5.default=Uke;var Dke=pR(j()),Nke=pR(Fu()),Lke=pR(me());function pR(t){return t&&t.__esModule?t:{default:t}}function Uke(t){return(0,Dke.default)(1,arguments),(0,Nke.default)((0,Lke.default)(t),0)}Vre.exports=s5.default});var Jre=g((o5,Yre)=>{"use strict";Object.defineProperty(o5,"__esModule",{value:!0});o5.default=zke;var Hke=mR(j()),Kke=mR(Fu()),Fke=mR(me());function mR(t){return t&&t.__esModule?t:{default:t}}function zke(t){return(0,Hke.default)(1,arguments),(0,Kke.default)((0,Fke.default)(t),4)}Yre.exports=o5.default});var Qre=g((u5,Xre)=>{"use strict";Object.defineProperty(u5,"__esModule",{value:!0});u5.default=Vke;var Wke=xR(j()),jke=xR(Fu()),$ke=xR(me());function xR(t){return t&&t.__esModule?t:{default:t}}function Vke(t){return(0,Wke.default)(1,arguments),(0,jke.default)((0,$ke.default)(t),2)}Xre.exports=u5.default});var ene=g((c5,Zre)=>{"use strict";Object.defineProperty(c5,"__esModule",{value:!0});c5.default=Xke;var Gke=yR(j()),Yke=yR(Fu()),Jke=yR(me());function yR(t){return t&&t.__esModule?t:{default:t}}function Xke(t){return(0,Gke.default)(1,arguments),(0,Yke.default)((0,Jke.default)(t),3)}Zre.exports=c5.default});var sne=g((d5,ane)=>{"use strict";Object.defineProperty(d5,"__esModule",{value:!0});d5.default=iBe;var Qke=tne(bt()),Zke=tne(j());function tne(t){return t&&t.__esModule?t:{default:t}}var rne=36e5,nne=6e4,eBe=2,f5={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},tBe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,rBe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,nBe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function iBe(t,e){(0,Zke.default)(1,arguments);var r=e||{},n=r.additionalDigits==null?eBe:(0,Qke.default)(r.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=aBe(t),a;if(i.date){var o=sBe(i.date,n);a=oBe(o.restDateString,o.year)}if(isNaN(a)||!a)return new Date(NaN);var u=a.getTime(),f=0,d;if(i.time&&(f=uBe(i.time),isNaN(f)||f===null))return new Date(NaN);if(i.timezone){if(d=cBe(i.timezone),isNaN(d))return new Date(NaN)}else{var h=new Date(u+f),m=new Date(0);return m.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),m.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),m}return new Date(u+f+d)}function aBe(t){var e={},r=t.split(f5.dateTimeDelimiter),n;if(r.length>2)return e;if(/:/.test(r[0])?(e.date=null,n=r[0]):(e.date=r[0],n=r[1],f5.timeZoneDelimiter.test(e.date)&&(e.date=t.split(f5.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){var i=f5.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function sBe(t,e){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:null};var i=n[1]&&parseInt(n[1]),a=n[2]&&parseInt(n[2]);return{year:a==null?i:a*100,restDateString:t.slice((n[1]||n[2]).length)}}function oBe(t,e){if(e===null)return null;var r=t.match(tBe);if(!r)return null;var n=!!r[4],i=Nx(r[1]),a=Nx(r[2])-1,o=Nx(r[3]),u=Nx(r[4]),f=Nx(r[5])-1;if(n)return pBe(e,u,f)?fBe(e,u,f):new Date(NaN);var d=new Date(0);return!lBe(e,a,o)||!hBe(e,i)?new Date(NaN):(d.setUTCFullYear(e,a,Math.max(i,o)),d)}function Nx(t){return t?parseInt(t):1}function uBe(t){var e=t.match(rBe);if(!e)return null;var r=bR(e[1]),n=bR(e[2]),i=bR(e[3]);return mBe(r,n,i)?r*rne+n*nne+i*1e3:NaN}function bR(t){return t&&parseFloat(t.replace(",","."))||0}function cBe(t){if(t==="Z")return 0;var e=t.match(nBe);if(!e)return 0;var r=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return xBe(n,i)?r*(n*rne+i*nne):NaN}function fBe(t,e,r){var n=new Date(0);n.setUTCFullYear(t,0,4);var i=n.getUTCDay()||7,a=(e-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+a),n}var dBe=[31,null,31,30,31,30,31,31,30,31,30,31];function ine(t){return t%400===0||t%4===0&&t%100}function lBe(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(dBe[e]||(ine(t)?29:28))}function hBe(t,e){return e>=1&&e<=(ine(t)?366:365)}function pBe(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function mBe(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function xBe(t,e){return e>=0&&e<=59}ane.exports=d5.default});var cne=g((l5,une)=>{"use strict";Object.defineProperty(l5,"__esModule",{value:!0});l5.default=vBe;var yBe=one(me()),bBe=one(j());function one(t){return t&&t.__esModule?t:{default:t}}function vBe(t){if((0,bBe.default)(1,arguments),typeof t=="string"){var e=t.match(/(\d{4})-(\d{2})-(\d{2})[T ](\d{2}):(\d{2}):(\d{2})(?:\.(\d{0,7}))?(?:Z|(.)(\d{2}):?(\d{2})?)?/);return e?new Date(Date.UTC(+e[1],+e[2]-1,+e[3],+e[4]-(+e[9]||0)*(e[8]=="-"?-1:1),+e[5]-(+e[10]||0)*(e[8]=="-"?-1:1),+e[6],+((e[7]||"0")+"00").substring(0,3))):new Date(NaN)}return(0,yBe.default)(t)}une.exports=l5.default});var zu=g((h5,fne)=>{"use strict";Object.defineProperty(h5,"__esModule",{value:!0});h5.default=SBe;var gBe=vR(j()),_Be=vR(Rx()),wBe=vR(Ox());function vR(t){return t&&t.__esModule?t:{default:t}}function SBe(t,e){(0,gBe.default)(2,arguments);var r=(0,_Be.default)(t)-e;return r<=0&&(r+=7),(0,wBe.default)(t,r)}fne.exports=h5.default});var hne=g((p5,lne)=>{"use strict";Object.defineProperty(p5,"__esModule",{value:!0});p5.default=EBe;var ABe=dne(j()),CBe=dne(zu());function dne(t){return t&&t.__esModule?t:{default:t}}function EBe(t){return(0,ABe.default)(1,arguments),(0,CBe.default)(t,5)}lne.exports=p5.default});var xne=g((m5,mne)=>{"use strict";Object.defineProperty(m5,"__esModule",{value:!0});m5.default=IBe;var PBe=pne(j()),TBe=pne(zu());function pne(t){return t&&t.__esModule?t:{default:t}}function IBe(t){return(0,PBe.default)(1,arguments),(0,TBe.default)(t,1)}mne.exports=m5.default});var vne=g((x5,bne)=>{"use strict";Object.defineProperty(x5,"__esModule",{value:!0});x5.default=RBe;var kBe=yne(j()),BBe=yne(zu());function yne(t){return t&&t.__esModule?t:{default:t}}function RBe(t){return(0,kBe.default)(1,arguments),(0,BBe.default)(t,6)}bne.exports=x5.default});var wne=g((y5,_ne)=>{"use strict";Object.defineProperty(y5,"__esModule",{value:!0});y5.default=qBe;var MBe=gne(j()),OBe=gne(zu());function gne(t){return t&&t.__esModule?t:{default:t}}function qBe(t){return(0,MBe.default)(1,arguments),(0,OBe.default)(t,0)}_ne.exports=y5.default});var Cne=g((b5,Ane)=>{"use strict";Object.defineProperty(b5,"__esModule",{value:!0});b5.default=LBe;var DBe=Sne(j()),NBe=Sne(zu());function Sne(t){return t&&t.__esModule?t:{default:t}}function LBe(t){return(0,DBe.default)(1,arguments),(0,NBe.default)(t,4)}Ane.exports=b5.default});var Tne=g((v5,Pne)=>{"use strict";Object.defineProperty(v5,"__esModule",{value:!0});v5.default=KBe;var UBe=Ene(j()),HBe=Ene(zu());function Ene(t){return t&&t.__esModule?t:{default:t}}function KBe(t){return(0,UBe.default)(1,arguments),(0,HBe.default)(t,2)}Pne.exports=v5.default});var Bne=g((g5,kne)=>{"use strict";Object.defineProperty(g5,"__esModule",{value:!0});g5.default=WBe;var FBe=Ine(j()),zBe=Ine(zu());function Ine(t){return t&&t.__esModule?t:{default:t}}function WBe(t){return(0,FBe.default)(1,arguments),(0,zBe.default)(t,3)}kne.exports=g5.default});var Mne=g((_5,Rne)=>{"use strict";Object.defineProperty(_5,"__esModule",{value:!0});_5.default=GBe;var jBe=VBe(j()),$Be=xn();function VBe(t){return t&&t.__esModule?t:{default:t}}function GBe(t){return(0,jBe.default)(1,arguments),Math.floor(t*$Be.monthsInQuarter)}Rne.exports=_5.default});var qne=g((w5,One)=>{"use strict";Object.defineProperty(w5,"__esModule",{value:!0});w5.default=QBe;var YBe=XBe(j()),JBe=xn();function XBe(t){return t&&t.__esModule?t:{default:t}}function QBe(t){(0,YBe.default)(1,arguments);var e=t/JBe.quartersInYear;return Math.floor(e)}One.exports=w5.default});var Lne=g((S5,Nne)=>{"use strict";Object.defineProperty(S5,"__esModule",{value:!0});S5.default=tRe;var ZBe=Dne(me()),eRe=Dne(bt());function Dne(t){return t&&t.__esModule?t:{default:t}}function tRe(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only none provided present");var r=e&&"nearestTo"in e?(0,eRe.default)(e.nearestTo):1;if(r<1||r>30)throw new RangeError("`options.nearestTo` must be between 1 and 30");var n=(0,ZBe.default)(t),i=n.getSeconds(),a=n.getMinutes()+i/60,o=Math.floor(a/r)*r,u=a%r,f=Math.round(u/r)*r;return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),o+f)}Nne.exports=S5.default});var Hne=g((A5,Une)=>{"use strict";Object.defineProperty(A5,"__esModule",{value:!0});A5.default=aRe;var rRe=iRe(j()),nRe=xn();function iRe(t){return t&&t.__esModule?t:{default:t}}function aRe(t){(0,rRe.default)(1,arguments);var e=t/nRe.secondsInHour;return Math.floor(e)}Une.exports=A5.default});var Fne=g((C5,Kne)=>{"use strict";Object.defineProperty(C5,"__esModule",{value:!0});C5.default=cRe;var sRe=uRe(j()),oRe=xn();function uRe(t){return t&&t.__esModule?t:{default:t}}function cRe(t){return(0,sRe.default)(1,arguments),t*oRe.millisecondsInSecond}Kne.exports=C5.default});var Wne=g((E5,zne)=>{"use strict";Object.defineProperty(E5,"__esModule",{value:!0});E5.default=hRe;var fRe=lRe(j()),dRe=xn();function lRe(t){return t&&t.__esModule?t:{default:t}}function hRe(t){(0,fRe.default)(1,arguments);var e=t/dRe.secondsInMinute;return Math.floor(e)}zne.exports=E5.default});var I5=g((T5,jne)=>{"use strict";Object.defineProperty(T5,"__esModule",{value:!0});T5.default=bRe;var pRe=P5(bt()),mRe=P5(me()),xRe=P5(PB()),yRe=P5(j());function P5(t){return t&&t.__esModule?t:{default:t}}function bRe(t,e){(0,yRe.default)(2,arguments);var r=(0,mRe.default)(t),n=(0,pRe.default)(e),i=r.getFullYear(),a=r.getDate(),o=new Date(0);o.setFullYear(i,n,15),o.setHours(0,0,0,0);var u=(0,xRe.default)(o);return r.setMonth(n,Math.min(a,u)),r}jne.exports=T5.default});var Vne=g((B5,$ne)=>{"use strict";Object.defineProperty(B5,"__esModule",{value:!0});B5.default=wRe;var vRe=k5(me()),gRe=k5(I5()),Lx=k5(bt()),_Re=k5(j());function k5(t){return t&&t.__esModule?t:{default:t}}function wRe(t,e){if((0,_Re.default)(2,arguments),typeof e!="object"||e===null)throw new RangeError("values parameter must be an object");var r=(0,vRe.default)(t);return isNaN(r.getTime())?new Date(NaN):(e.year!=null&&r.setFullYear(e.year),e.month!=null&&(r=(0,gRe.default)(r,e.month)),e.date!=null&&r.setDate((0,Lx.default)(e.date)),e.hours!=null&&r.setHours((0,Lx.default)(e.hours)),e.minutes!=null&&r.setMinutes((0,Lx.default)(e.minutes)),e.seconds!=null&&r.setSeconds((0,Lx.default)(e.seconds)),e.milliseconds!=null&&r.setMilliseconds((0,Lx.default)(e.milliseconds)),r)}$ne.exports=B5.default});var Yne=g((R5,Gne)=>{"use strict";Object.defineProperty(R5,"__esModule",{value:!0});R5.default=ERe;var SRe=gR(bt()),ARe=gR(me()),CRe=gR(j());function gR(t){return t&&t.__esModule?t:{default:t}}function ERe(t,e){(0,CRe.default)(2,arguments);var r=(0,ARe.default)(t),n=(0,SRe.default)(e);return r.setDate(n),r}Gne.exports=R5.default});var Xne=g((O5,Jne)=>{"use strict";Object.defineProperty(O5,"__esModule",{value:!0});O5.default=kRe;var PRe=M5(Lo()),TRe=M5(me()),_R=M5(bt()),IRe=M5(j());function M5(t){return t&&t.__esModule?t:{default:t}}function kRe(t,e,r){(0,IRe.default)(2,arguments);var n=r||{},i=n.locale,a=i&&i.options&&i.options.weekStartsOn,o=a==null?0:(0,_R.default)(a),u=n.weekStartsOn==null?o:(0,_R.default)(n.weekStartsOn);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=(0,TRe.default)(t),d=(0,_R.default)(e),h=f.getDay(),m=d%7,_=(m+7)%7,w=7-u,P=d<0||d>6?d-(h+w)%7:(_+w)%7-(h+w)%7;return(0,PRe.default)(f,P)}Jne.exports=O5.default});var Zne=g((q5,Qne)=>{"use strict";Object.defineProperty(q5,"__esModule",{value:!0});q5.default=ORe;var BRe=wR(bt()),RRe=wR(me()),MRe=wR(j());function wR(t){return t&&t.__esModule?t:{default:t}}function ORe(t,e){(0,MRe.default)(2,arguments);var r=(0,RRe.default)(t),n=(0,BRe.default)(e);return r.setMonth(0),r.setDate(n),r}Qne.exports=q5.default});var tie=g((D5,eie)=>{"use strict";Object.defineProperty(D5,"__esModule",{value:!0});D5.default=LRe;var qRe=SR(bt()),DRe=SR(me()),NRe=SR(j());function SR(t){return t&&t.__esModule?t:{default:t}}function LRe(t,e){(0,NRe.default)(2,arguments);var r=(0,DRe.default)(t),n=(0,qRe.default)(e);return r.setHours(n),r}eie.exports=D5.default});var nie=g((N5,rie)=>{"use strict";Object.defineProperty(N5,"__esModule",{value:!0});N5.default=WRe;var URe=Ux(bt()),HRe=Ux(me()),KRe=Ux(Lo()),FRe=Ux(kB()),zRe=Ux(j());function Ux(t){return t&&t.__esModule?t:{default:t}}function WRe(t,e){(0,zRe.default)(2,arguments);var r=(0,HRe.default)(t),n=(0,URe.default)(e),i=(0,FRe.default)(r),a=n-i;return(0,KRe.default)(r,a)}rie.exports=N5.default});var aie=g((U5,iie)=>{"use strict";Object.defineProperty(U5,"__esModule",{value:!0});U5.default=YRe;var jRe=L5(bt()),$Re=L5(me()),VRe=L5(BB()),GRe=L5(j());function L5(t){return t&&t.__esModule?t:{default:t}}function YRe(t,e){(0,GRe.default)(2,arguments);var r=(0,$Re.default)(t),n=(0,jRe.default)(e),i=(0,VRe.default)(r)-n;return r.setDate(r.getDate()-i*7),r}iie.exports=U5.default});var oie=g((H5,sie)=>{"use strict";Object.defineProperty(H5,"__esModule",{value:!0});H5.default=ZRe;var JRe=AR(bt()),XRe=AR(me()),QRe=AR(j());function AR(t){return t&&t.__esModule?t:{default:t}}function ZRe(t,e){(0,QRe.default)(2,arguments);var r=(0,XRe.default)(t),n=(0,JRe.default)(e);return r.setMilliseconds(n),r}sie.exports=H5.default});var cie=g((K5,uie)=>{"use strict";Object.defineProperty(K5,"__esModule",{value:!0});K5.default=nMe;var eMe=CR(bt()),tMe=CR(me()),rMe=CR(j());function CR(t){return t&&t.__esModule?t:{default:t}}function nMe(t,e){(0,rMe.default)(2,arguments);var r=(0,tMe.default)(t),n=(0,eMe.default)(e);return r.setMinutes(n),r}uie.exports=K5.default});var die=g((z5,fie)=>{"use strict";Object.defineProperty(z5,"__esModule",{value:!0});z5.default=uMe;var iMe=F5(bt()),aMe=F5(me()),sMe=F5(I5()),oMe=F5(j());function F5(t){return t&&t.__esModule?t:{default:t}}function uMe(t,e){(0,oMe.default)(2,arguments);var r=(0,aMe.default)(t),n=(0,iMe.default)(e),i=Math.floor(r.getMonth()/3)+1,a=n-i;return(0,sMe.default)(r,r.getMonth()+a*3)}fie.exports=z5.default});var hie=g((W5,lie)=>{"use strict";Object.defineProperty(W5,"__esModule",{value:!0});W5.default=lMe;var cMe=ER(bt()),fMe=ER(me()),dMe=ER(j());function ER(t){return t&&t.__esModule?t:{default:t}}function lMe(t,e){(0,dMe.default)(2,arguments);var r=(0,fMe.default)(t),n=(0,cMe.default)(e);return r.setSeconds(n),r}lie.exports=W5.default});var mie=g(($5,pie)=>{"use strict";Object.defineProperty($5,"__esModule",{value:!0});$5.default=yMe;var hMe=j5(qB()),pMe=j5(me()),mMe=j5(bt()),xMe=j5(j());function j5(t){return t&&t.__esModule?t:{default:t}}function yMe(t,e,r){(0,xMe.default)(2,arguments);var n=(0,pMe.default)(t),i=(0,mMe.default)(e),a=(0,hMe.default)(n,r)-i;return n.setDate(n.getDate()-a*7),n}pie.exports=$5.default});var bie=g((V5,yie)=>{"use strict";Object.defineProperty(V5,"__esModule",{value:!0});V5.default=_Me;var bMe=Hx(df()),xie=Hx(k8()),vMe=Hx(me()),PR=Hx(bt()),gMe=Hx(j());function Hx(t){return t&&t.__esModule?t:{default:t}}function _Me(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};(0,gMe.default)(2,arguments);var n=r.locale,i=n&&n.options&&n.options.firstWeekContainsDate,a=i==null?1:(0,PR.default)(i),o=r.firstWeekContainsDate==null?a:(0,PR.default)(r.firstWeekContainsDate),u=(0,vMe.default)(t),f=(0,PR.default)(e),d=(0,bMe.default)(u,(0,xie.default)(u,r)),h=new Date(0);return h.setFullYear(f,0,o),h.setHours(0,0,0,0),u=(0,xie.default)(h,r),u.setDate(u.getDate()+d),u}yie.exports=V5.default});var gie=g((G5,vie)=>{"use strict";Object.defineProperty(G5,"__esModule",{value:!0});G5.default=CMe;var wMe=TR(bt()),SMe=TR(me()),AMe=TR(j());function TR(t){return t&&t.__esModule?t:{default:t}}function CMe(t,e){(0,AMe.default)(2,arguments);var r=(0,SMe.default)(t),n=(0,wMe.default)(e);return isNaN(r.getTime())?new Date(NaN):(r.setFullYear(n),r)}vie.exports=G5.default});var Sie=g((Y5,wie)=>{"use strict";Object.defineProperty(Y5,"__esModule",{value:!0});Y5.default=TMe;var EMe=_ie(me()),PMe=_ie(j());function _ie(t){return t&&t.__esModule?t:{default:t}}function TMe(t){(0,PMe.default)(1,arguments);var e=(0,EMe.default)(t),r=e.getFullYear(),n=Math.floor(r/10)*10;return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}wie.exports=Y5.default});var Cie=g((J5,Aie)=>{"use strict";Object.defineProperty(J5,"__esModule",{value:!0});J5.default=BMe;var IMe=kMe(cx());function kMe(t){return t&&t.__esModule?t:{default:t}}function BMe(){return(0,IMe.default)(Date.now())}Aie.exports=J5.default});var Pie=g((X5,Eie)=>{"use strict";Object.defineProperty(X5,"__esModule",{value:!0});X5.default=RMe;function RMe(){var t=new Date,e=t.getFullYear(),r=t.getMonth(),n=t.getDate(),i=new Date(0);return i.setFullYear(e,r,n+1),i.setHours(0,0,0,0),i}Eie.exports=X5.default});var Iie=g((Q5,Tie)=>{"use strict";Object.defineProperty(Q5,"__esModule",{value:!0});Q5.default=MMe;function MMe(){var t=new Date,e=t.getFullYear(),r=t.getMonth(),n=t.getDate(),i=new Date(0);return i.setFullYear(e,r,n-1),i.setHours(0,0,0,0),i}Tie.exports=Q5.default});var Bie=g((Z5,kie)=>{"use strict";Object.defineProperty(Z5,"__esModule",{value:!0});Z5.default=NMe;var OMe=IR(bt()),qMe=IR(ok()),DMe=IR(j());function IR(t){return t&&t.__esModule?t:{default:t}}function NMe(t,e){(0,DMe.default)(2,arguments);var r=(0,OMe.default)(e);return(0,qMe.default)(t,-r)}kie.exports=Z5.default});var Mie=g((eS,Rie)=>{"use strict";Object.defineProperty(eS,"__esModule",{value:!0});eS.default=KMe;var LMe=kR(bt()),UMe=kR(k6()),HMe=kR(j());function kR(t){return t&&t.__esModule?t:{default:t}}function KMe(t,e){(0,HMe.default)(2,arguments);var r=(0,LMe.default)(e);return(0,UMe.default)(t,-r)}Rie.exports=eS.default});var qie=g((tS,Oie)=>{"use strict";Object.defineProperty(tS,"__esModule",{value:!0});tS.default=jMe;var FMe=BR(bt()),zMe=BR(F6()),WMe=BR(j());function BR(t){return t&&t.__esModule?t:{default:t}}function jMe(t,e){(0,WMe.default)(2,arguments);var r=(0,FMe.default)(e);return(0,zMe.default)(t,-r)}Oie.exports=tS.default});var Nie=g((rS,Die)=>{"use strict";Object.defineProperty(rS,"__esModule",{value:!0});rS.default=YMe;var $Me=RR(bt()),VMe=RR(W6()),GMe=RR(j());function RR(t){return t&&t.__esModule?t:{default:t}}function YMe(t,e){(0,GMe.default)(2,arguments);var r=(0,$Me.default)(e);return(0,VMe.default)(t,-r)}Die.exports=rS.default});var Uie=g((nS,Lie)=>{"use strict";Object.defineProperty(nS,"__esModule",{value:!0});nS.default=ZMe;var JMe=MR(bt()),XMe=MR(vk()),QMe=MR(j());function MR(t){return t&&t.__esModule?t:{default:t}}function ZMe(t,e){(0,QMe.default)(2,arguments);var r=(0,JMe.default)(e);return(0,XMe.default)(t,-r)}Lie.exports=nS.default});var Kie=g((iS,Hie)=>{"use strict";Object.defineProperty(iS,"__esModule",{value:!0});iS.default=nOe;var eOe=OR(bt()),tOe=OR(dx()),rOe=OR(j());function OR(t){return t&&t.__esModule?t:{default:t}}function nOe(t,e){(0,rOe.default)(2,arguments);var r=(0,eOe.default)(e);return(0,tOe.default)(t,-r)}Hie.exports=iS.default});var zie=g((aS,Fie)=>{"use strict";Object.defineProperty(aS,"__esModule",{value:!0});aS.default=oOe;var iOe=qR(bt()),aOe=qR(wk()),sOe=qR(j());function qR(t){return t&&t.__esModule?t:{default:t}}function oOe(t,e){(0,sOe.default)(2,arguments);var r=(0,iOe.default)(e);return(0,aOe.default)(t,-r)}Fie.exports=aS.default});var jie=g((sS,Wie)=>{"use strict";Object.defineProperty(sS,"__esModule",{value:!0});sS.default=dOe;var uOe=fOe(j()),cOe=xn();function fOe(t){return t&&t.__esModule?t:{default:t}}function dOe(t){return(0,uOe.default)(1,arguments),Math.floor(t*cOe.daysInWeek)}Wie.exports=sS.default});var Vie=g((oS,$ie)=>{"use strict";Object.defineProperty(oS,"__esModule",{value:!0});oS.default=mOe;var lOe=pOe(j()),hOe=xn();function pOe(t){return t&&t.__esModule?t:{default:t}}function mOe(t){return(0,lOe.default)(1,arguments),Math.floor(t*hOe.monthsInYear)}$ie.exports=oS.default});var Yie=g((uS,Gie)=>{"use strict";Object.defineProperty(uS,"__esModule",{value:!0});uS.default=vOe;var xOe=bOe(j()),yOe=xn();function bOe(t){return t&&t.__esModule?t:{default:t}}function vOe(t){return(0,xOe.default)(1,arguments),Math.floor(t*yOe.quartersInYear)}Gie.exports=uS.default});var Xie=g(W=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});var gOe={add:!0,addBusinessDays:!0,addDays:!0,addHours:!0,addISOWeekYears:!0,addMilliseconds:!0,addMinutes:!0,addMonths:!0,addQuarters:!0,addSeconds:!0,addWeeks:!0,addYears:!0,areIntervalsOverlapping:!0,clamp:!0,closestIndexTo:!0,closestTo:!0,compareAsc:!0,compareDesc:!0,daysToWeeks:!0,differenceInBusinessDays:!0,differenceInCalendarDays:!0,differenceInCalendarISOWeekYears:!0,differenceInCalendarISOWeeks:!0,differenceInCalendarMonths:!0,differenceInCalendarQuarters:!0,differenceInCalendarWeeks:!0,differenceInCalendarYears:!0,differenceInDays:!0,differenceInHours:!0,differenceInISOWeekYears:!0,differenceInMilliseconds:!0,differenceInMinutes:!0,differenceInMonths:!0,differenceInQuarters:!0,differenceInSeconds:!0,differenceInWeeks:!0,differenceInYears:!0,eachDayOfInterval:!0,eachHourOfInterval:!0,eachMinuteOfInterval:!0,eachMonthOfInterval:!0,eachQuarterOfInterval:!0,eachWeekOfInterval:!0,eachWeekendOfInterval:!0,eachWeekendOfMonth:!0,eachWeekendOfYear:!0,eachYearOfInterval:!0,endOfDay:!0,endOfDecade:!0,endOfHour:!0,endOfISOWeek:!0,endOfISOWeekYear:!0,endOfMinute:!0,endOfMonth:!0,endOfQuarter:!0,endOfSecond:!0,endOfToday:!0,endOfTomorrow:!0,endOfWeek:!0,endOfYear:!0,endOfYesterday:!0,format:!0,formatDistance:!0,formatDistanceStrict:!0,formatDistanceToNow:!0,formatDistanceToNowStrict:!0,formatDuration:!0,formatISO:!0,formatISO9075:!0,formatISODuration:!0,formatRFC3339:!0,formatRFC7231:!0,formatRelative:!0,fromUnixTime:!0,getDate:!0,getDay:!0,getDayOfYear:!0,getDaysInMonth:!0,getDaysInYear:!0,getDecade:!0,getHours:!0,getISODay:!0,getISOWeek:!0,getISOWeekYear:!0,getISOWeeksInYear:!0,getMilliseconds:!0,getMinutes:!0,getMonth:!0,getOverlappingDaysInIntervals:!0,getQuarter:!0,getSeconds:!0,getTime:!0,getUnixTime:!0,getWeek:!0,getWeekOfMonth:!0,getWeekYear:!0,getWeeksInMonth:!0,getYear:!0,hoursToMilliseconds:!0,hoursToMinutes:!0,hoursToSeconds:!0,intervalToDuration:!0,intlFormat:!0,isAfter:!0,isBefore:!0,isDate:!0,isEqual:!0,isExists:!0,isFirstDayOfMonth:!0,isFriday:!0,isFuture:!0,isLastDayOfMonth:!0,isLeapYear:!0,isMatch:!0,isMonday:!0,isPast:!0,isSameDay:!0,isSameHour:!0,isSameISOWeek:!0,isSameISOWeekYear:!0,isSameMinute:!0,isSameMonth:!0,isSameQuarter:!0,isSameSecond:!0,isSameWeek:!0,isSameYear:!0,isSaturday:!0,isSunday:!0,isThisHour:!0,isThisISOWeek:!0,isThisMinute:!0,isThisMonth:!0,isThisQuarter:!0,isThisSecond:!0,isThisWeek:!0,isThisYear:!0,isThursday:!0,isToday:!0,isTomorrow:!0,isTuesday:!0,isValid:!0,isWednesday:!0,isWeekend:!0,isWithinInterval:!0,isYesterday:!0,lastDayOfDecade:!0,lastDayOfISOWeek:!0,lastDayOfISOWeekYear:!0,lastDayOfMonth:!0,lastDayOfQuarter:!0,lastDayOfWeek:!0,lastDayOfYear:!0,lightFormat:!0,max:!0,milliseconds:!0,millisecondsToHours:!0,millisecondsToMinutes:!0,millisecondsToSeconds:!0,min:!0,minutesToHours:!0,minutesToMilliseconds:!0,minutesToSeconds:!0,monthsToQuarters:!0,monthsToYears:!0,nextDay:!0,nextFriday:!0,nextMonday:!0,nextSaturday:!0,nextSunday:!0,nextThursday:!0,nextTuesday:!0,nextWednesday:!0,parse:!0,parseISO:!0,parseJSON:!0,previousDay:!0,previousFriday:!0,previousMonday:!0,previousSaturday:!0,previousSunday:!0,previousThursday:!0,previousTuesday:!0,previousWednesday:!0,quartersToMonths:!0,quartersToYears:!0,roundToNearestMinutes:!0,secondsToHours:!0,secondsToMilliseconds:!0,secondsToMinutes:!0,set:!0,setDate:!0,setDay:!0,setDayOfYear:!0,setHours:!0,setISODay:!0,setISOWeek:!0,setISOWeekYear:!0,setMilliseconds:!0,setMinutes:!0,setMonth:!0,setQuarter:!0,setSeconds:!0,setWeek:!0,setWeekYear:!0,setYear:!0,startOfDay:!0,startOfDecade:!0,startOfHour:!0,startOfISOWeek:!0,startOfISOWeekYear:!0,startOfMinute:!0,startOfMonth:!0,startOfQuarter:!0,startOfSecond:!0,startOfToday:!0,startOfTomorrow:!0,startOfWeek:!0,startOfWeekYear:!0,startOfYear:!0,startOfYesterday:!0,sub:!0,subBusinessDays:!0,subDays:!0,subHours:!0,subISOWeekYears:!0,subMilliseconds:!0,subMinutes:!0,subMonths:!0,subQuarters:!0,subSeconds:!0,subWeeks:!0,subYears:!0,toDate:!0,weeksToDays:!0,yearsToMonths:!0,yearsToQuarters:!0};Object.defineProperty(W,"add",{enumerable:!0,get:function(){return _Oe.default}});Object.defineProperty(W,"addBusinessDays",{enumerable:!0,get:function(){return wOe.default}});Object.defineProperty(W,"addDays",{enumerable:!0,get:function(){return SOe.default}});Object.defineProperty(W,"addHours",{enumerable:!0,get:function(){return AOe.default}});Object.defineProperty(W,"addISOWeekYears",{enumerable:!0,get:function(){return COe.default}});Object.defineProperty(W,"addMilliseconds",{enumerable:!0,get:function(){return EOe.default}});Object.defineProperty(W,"addMinutes",{enumerable:!0,get:function(){return POe.default}});Object.defineProperty(W,"addMonths",{enumerable:!0,get:function(){return TOe.default}});Object.defineProperty(W,"addQuarters",{enumerable:!0,get:function(){return IOe.default}});Object.defineProperty(W,"addSeconds",{enumerable:!0,get:function(){return kOe.default}});Object.defineProperty(W,"addWeeks",{enumerable:!0,get:function(){return BOe.default}});Object.defineProperty(W,"addYears",{enumerable:!0,get:function(){return ROe.default}});Object.defineProperty(W,"areIntervalsOverlapping",{enumerable:!0,get:function(){return MOe.default}});Object.defineProperty(W,"clamp",{enumerable:!0,get:function(){return OOe.default}});Object.defineProperty(W,"closestIndexTo",{enumerable:!0,get:function(){return qOe.default}});Object.defineProperty(W,"closestTo",{enumerable:!0,get:function(){return DOe.default}});Object.defineProperty(W,"compareAsc",{enumerable:!0,get:function(){return NOe.default}});Object.defineProperty(W,"compareDesc",{enumerable:!0,get:function(){return LOe.default}});Object.defineProperty(W,"daysToWeeks",{enumerable:!0,get:function(){return UOe.default}});Object.defineProperty(W,"differenceInBusinessDays",{enumerable:!0,get:function(){return HOe.default}});Object.defineProperty(W,"differenceInCalendarDays",{enumerable:!0,get:function(){return KOe.default}});Object.defineProperty(W,"differenceInCalendarISOWeekYears",{enumerable:!0,get:function(){return FOe.default}});Object.defineProperty(W,"differenceInCalendarISOWeeks",{enumerable:!0,get:function(){return zOe.default}});Object.defineProperty(W,"differenceInCalendarMonths",{enumerable:!0,get:function(){return WOe.default}});Object.defineProperty(W,"differenceInCalendarQuarters",{enumerable:!0,get:function(){return jOe.default}});Object.defineProperty(W,"differenceInCalendarWeeks",{enumerable:!0,get:function(){return $Oe.default}});Object.defineProperty(W,"differenceInCalendarYears",{enumerable:!0,get:function(){return VOe.default}});Object.defineProperty(W,"differenceInDays",{enumerable:!0,get:function(){return GOe.default}});Object.defineProperty(W,"differenceInHours",{enumerable:!0,get:function(){return YOe.default}});Object.defineProperty(W,"differenceInISOWeekYears",{enumerable:!0,get:function(){return JOe.default}});Object.defineProperty(W,"differenceInMilliseconds",{enumerable:!0,get:function(){return XOe.default}});Object.defineProperty(W,"differenceInMinutes",{enumerable:!0,get:function(){return QOe.default}});Object.defineProperty(W,"differenceInMonths",{enumerable:!0,get:function(){return ZOe.default}});Object.defineProperty(W,"differenceInQuarters",{enumerable:!0,get:function(){return eqe.default}});Object.defineProperty(W,"differenceInSeconds",{enumerable:!0,get:function(){return tqe.default}});Object.defineProperty(W,"differenceInWeeks",{enumerable:!0,get:function(){return rqe.default}});Object.defineProperty(W,"differenceInYears",{enumerable:!0,get:function(){return nqe.default}});Object.defineProperty(W,"eachDayOfInterval",{enumerable:!0,get:function(){return iqe.default}});Object.defineProperty(W,"eachHourOfInterval",{enumerable:!0,get:function(){return aqe.default}});Object.defineProperty(W,"eachMinuteOfInterval",{enumerable:!0,get:function(){return sqe.default}});Object.defineProperty(W,"eachMonthOfInterval",{enumerable:!0,get:function(){return oqe.default}});Object.defineProperty(W,"eachQuarterOfInterval",{enumerable:!0,get:function(){return uqe.default}});Object.defineProperty(W,"eachWeekOfInterval",{enumerable:!0,get:function(){return cqe.default}});Object.defineProperty(W,"eachWeekendOfInterval",{enumerable:!0,get:function(){return fqe.default}});Object.defineProperty(W,"eachWeekendOfMonth",{enumerable:!0,get:function(){return dqe.default}});Object.defineProperty(W,"eachWeekendOfYear",{enumerable:!0,get:function(){return lqe.default}});Object.defineProperty(W,"eachYearOfInterval",{enumerable:!0,get:function(){return hqe.default}});Object.defineProperty(W,"endOfDay",{enumerable:!0,get:function(){return pqe.default}});Object.defineProperty(W,"endOfDecade",{enumerable:!0,get:function(){return mqe.default}});Object.defineProperty(W,"endOfHour",{enumerable:!0,get:function(){return xqe.default}});Object.defineProperty(W,"endOfISOWeek",{enumerable:!0,get:function(){return yqe.default}});Object.defineProperty(W,"endOfISOWeekYear",{enumerable:!0,get:function(){return bqe.default}});Object.defineProperty(W,"endOfMinute",{enumerable:!0,get:function(){return vqe.default}});Object.defineProperty(W,"endOfMonth",{enumerable:!0,get:function(){return gqe.default}});Object.defineProperty(W,"endOfQuarter",{enumerable:!0,get:function(){return _qe.default}});Object.defineProperty(W,"endOfSecond",{enumerable:!0,get:function(){return wqe.default}});Object.defineProperty(W,"endOfToday",{enumerable:!0,get:function(){return Sqe.default}});Object.defineProperty(W,"endOfTomorrow",{enumerable:!0,get:function(){return Aqe.default}});Object.defineProperty(W,"endOfWeek",{enumerable:!0,get:function(){return Cqe.default}});Object.defineProperty(W,"endOfYear",{enumerable:!0,get:function(){return Eqe.default}});Object.defineProperty(W,"endOfYesterday",{enumerable:!0,get:function(){return Pqe.default}});Object.defineProperty(W,"format",{enumerable:!0,get:function(){return Tqe.default}});Object.defineProperty(W,"formatDistance",{enumerable:!0,get:function(){return Iqe.default}});Object.defineProperty(W,"formatDistanceStrict",{enumerable:!0,get:function(){return kqe.default}});Object.defineProperty(W,"formatDistanceToNow",{enumerable:!0,get:function(){return Bqe.default}});Object.defineProperty(W,"formatDistanceToNowStrict",{enumerable:!0,get:function(){return Rqe.default}});Object.defineProperty(W,"formatDuration",{enumerable:!0,get:function(){return Mqe.default}});Object.defineProperty(W,"formatISO",{enumerable:!0,get:function(){return Oqe.default}});Object.defineProperty(W,"formatISO9075",{enumerable:!0,get:function(){return qqe.default}});Object.defineProperty(W,"formatISODuration",{enumerable:!0,get:function(){return Dqe.default}});Object.defineProperty(W,"formatRFC3339",{enumerable:!0,get:function(){return Nqe.default}});Object.defineProperty(W,"formatRFC7231",{enumerable:!0,get:function(){return Lqe.default}});Object.defineProperty(W,"formatRelative",{enumerable:!0,get:function(){return Uqe.default}});Object.defineProperty(W,"fromUnixTime",{enumerable:!0,get:function(){return Hqe.default}});Object.defineProperty(W,"getDate",{enumerable:!0,get:function(){return Kqe.default}});Object.defineProperty(W,"getDay",{enumerable:!0,get:function(){return Fqe.default}});Object.defineProperty(W,"getDayOfYear",{enumerable:!0,get:function(){return zqe.default}});Object.defineProperty(W,"getDaysInMonth",{enumerable:!0,get:function(){return Wqe.default}});Object.defineProperty(W,"getDaysInYear",{enumerable:!0,get:function(){return jqe.default}});Object.defineProperty(W,"getDecade",{enumerable:!0,get:function(){return $qe.default}});Object.defineProperty(W,"getHours",{enumerable:!0,get:function(){return Vqe.default}});Object.defineProperty(W,"getISODay",{enumerable:!0,get:function(){return Gqe.default}});Object.defineProperty(W,"getISOWeek",{enumerable:!0,get:function(){return Yqe.default}});Object.defineProperty(W,"getISOWeekYear",{enumerable:!0,get:function(){return Jqe.default}});Object.defineProperty(W,"getISOWeeksInYear",{enumerable:!0,get:function(){return Xqe.default}});Object.defineProperty(W,"getMilliseconds",{enumerable:!0,get:function(){return Qqe.default}});Object.defineProperty(W,"getMinutes",{enumerable:!0,get:function(){return Zqe.default}});Object.defineProperty(W,"getMonth",{enumerable:!0,get:function(){return eDe.default}});Object.defineProperty(W,"getOverlappingDaysInIntervals",{enumerable:!0,get:function(){return tDe.default}});Object.defineProperty(W,"getQuarter",{enumerable:!0,get:function(){return rDe.default}});Object.defineProperty(W,"getSeconds",{enumerable:!0,get:function(){return nDe.default}});Object.defineProperty(W,"getTime",{enumerable:!0,get:function(){return iDe.default}});Object.defineProperty(W,"getUnixTime",{enumerable:!0,get:function(){return aDe.default}});Object.defineProperty(W,"getWeek",{enumerable:!0,get:function(){return sDe.default}});Object.defineProperty(W,"getWeekOfMonth",{enumerable:!0,get:function(){return oDe.default}});Object.defineProperty(W,"getWeekYear",{enumerable:!0,get:function(){return uDe.default}});Object.defineProperty(W,"getWeeksInMonth",{enumerable:!0,get:function(){return cDe.default}});Object.defineProperty(W,"getYear",{enumerable:!0,get:function(){return fDe.default}});Object.defineProperty(W,"hoursToMilliseconds",{enumerable:!0,get:function(){return dDe.default}});Object.defineProperty(W,"hoursToMinutes",{enumerable:!0,get:function(){return lDe.default}});Object.defineProperty(W,"hoursToSeconds",{enumerable:!0,get:function(){return hDe.default}});Object.defineProperty(W,"intervalToDuration",{enumerable:!0,get:function(){return pDe.default}});Object.defineProperty(W,"intlFormat",{enumerable:!0,get:function(){return mDe.default}});Object.defineProperty(W,"isAfter",{enumerable:!0,get:function(){return xDe.default}});Object.defineProperty(W,"isBefore",{enumerable:!0,get:function(){return yDe.default}});Object.defineProperty(W,"isDate",{enumerable:!0,get:function(){return bDe.default}});Object.defineProperty(W,"isEqual",{enumerable:!0,get:function(){return vDe.default}});Object.defineProperty(W,"isExists",{enumerable:!0,get:function(){return gDe.default}});Object.defineProperty(W,"isFirstDayOfMonth",{enumerable:!0,get:function(){return _De.default}});Object.defineProperty(W,"isFriday",{enumerable:!0,get:function(){return wDe.default}});Object.defineProperty(W,"isFuture",{enumerable:!0,get:function(){return SDe.default}});Object.defineProperty(W,"isLastDayOfMonth",{enumerable:!0,get:function(){return ADe.default}});Object.defineProperty(W,"isLeapYear",{enumerable:!0,get:function(){return CDe.default}});Object.defineProperty(W,"isMatch",{enumerable:!0,get:function(){return EDe.default}});Object.defineProperty(W,"isMonday",{enumerable:!0,get:function(){return PDe.default}});Object.defineProperty(W,"isPast",{enumerable:!0,get:function(){return TDe.default}});Object.defineProperty(W,"isSameDay",{enumerable:!0,get:function(){return IDe.default}});Object.defineProperty(W,"isSameHour",{enumerable:!0,get:function(){return kDe.default}});Object.defineProperty(W,"isSameISOWeek",{enumerable:!0,get:function(){return BDe.default}});Object.defineProperty(W,"isSameISOWeekYear",{enumerable:!0,get:function(){return RDe.default}});Object.defineProperty(W,"isSameMinute",{enumerable:!0,get:function(){return MDe.default}});Object.defineProperty(W,"isSameMonth",{enumerable:!0,get:function(){return ODe.default}});Object.defineProperty(W,"isSameQuarter",{enumerable:!0,get:function(){return qDe.default}});Object.defineProperty(W,"isSameSecond",{enumerable:!0,get:function(){return DDe.default}});Object.defineProperty(W,"isSameWeek",{enumerable:!0,get:function(){return NDe.default}});Object.defineProperty(W,"isSameYear",{enumerable:!0,get:function(){return LDe.default}});Object.defineProperty(W,"isSaturday",{enumerable:!0,get:function(){return UDe.default}});Object.defineProperty(W,"isSunday",{enumerable:!0,get:function(){return HDe.default}});Object.defineProperty(W,"isThisHour",{enumerable:!0,get:function(){return KDe.default}});Object.defineProperty(W,"isThisISOWeek",{enumerable:!0,get:function(){return FDe.default}});Object.defineProperty(W,"isThisMinute",{enumerable:!0,get:function(){return zDe.default}});Object.defineProperty(W,"isThisMonth",{enumerable:!0,get:function(){return WDe.default}});Object.defineProperty(W,"isThisQuarter",{enumerable:!0,get:function(){return jDe.default}});Object.defineProperty(W,"isThisSecond",{enumerable:!0,get:function(){return $De.default}});Object.defineProperty(W,"isThisWeek",{enumerable:!0,get:function(){return VDe.default}});Object.defineProperty(W,"isThisYear",{enumerable:!0,get:function(){return GDe.default}});Object.defineProperty(W,"isThursday",{enumerable:!0,get:function(){return YDe.default}});Object.defineProperty(W,"isToday",{enumerable:!0,get:function(){return JDe.default}});Object.defineProperty(W,"isTomorrow",{enumerable:!0,get:function(){return XDe.default}});Object.defineProperty(W,"isTuesday",{enumerable:!0,get:function(){return QDe.default}});Object.defineProperty(W,"isValid",{enumerable:!0,get:function(){return ZDe.default}});Object.defineProperty(W,"isWednesday",{enumerable:!0,get:function(){return eNe.default}});Object.defineProperty(W,"isWeekend",{enumerable:!0,get:function(){return tNe.default}});Object.defineProperty(W,"isWithinInterval",{enumerable:!0,get:function(){return rNe.default}});Object.defineProperty(W,"isYesterday",{enumerable:!0,get:function(){return nNe.default}});Object.defineProperty(W,"lastDayOfDecade",{enumerable:!0,get:function(){return iNe.default}});Object.defineProperty(W,"lastDayOfISOWeek",{enumerable:!0,get:function(){return aNe.default}});Object.defineProperty(W,"lastDayOfISOWeekYear",{enumerable:!0,get:function(){return sNe.default}});Object.defineProperty(W,"lastDayOfMonth",{enumerable:!0,get:function(){return oNe.default}});Object.defineProperty(W,"lastDayOfQuarter",{enumerable:!0,get:function(){return uNe.default}});Object.defineProperty(W,"lastDayOfWeek",{enumerable:!0,get:function(){return cNe.default}});Object.defineProperty(W,"lastDayOfYear",{enumerable:!0,get:function(){return fNe.default}});Object.defineProperty(W,"lightFormat",{enumerable:!0,get:function(){return dNe.default}});Object.defineProperty(W,"max",{enumerable:!0,get:function(){return lNe.default}});Object.defineProperty(W,"milliseconds",{enumerable:!0,get:function(){return hNe.default}});Object.defineProperty(W,"millisecondsToHours",{enumerable:!0,get:function(){return pNe.default}});Object.defineProperty(W,"millisecondsToMinutes",{enumerable:!0,get:function(){return mNe.default}});Object.defineProperty(W,"millisecondsToSeconds",{enumerable:!0,get:function(){return xNe.default}});Object.defineProperty(W,"min",{enumerable:!0,get:function(){return yNe.default}});Object.defineProperty(W,"minutesToHours",{enumerable:!0,get:function(){return bNe.default}});Object.defineProperty(W,"minutesToMilliseconds",{enumerable:!0,get:function(){return vNe.default}});Object.defineProperty(W,"minutesToSeconds",{enumerable:!0,get:function(){return gNe.default}});Object.defineProperty(W,"monthsToQuarters",{enumerable:!0,get:function(){return _Ne.default}});Object.defineProperty(W,"monthsToYears",{enumerable:!0,get:function(){return wNe.default}});Object.defineProperty(W,"nextDay",{enumerable:!0,get:function(){return SNe.default}});Object.defineProperty(W,"nextFriday",{enumerable:!0,get:function(){return ANe.default}});Object.defineProperty(W,"nextMonday",{enumerable:!0,get:function(){return CNe.default}});Object.defineProperty(W,"nextSaturday",{enumerable:!0,get:function(){return ENe.default}});Object.defineProperty(W,"nextSunday",{enumerable:!0,get:function(){return PNe.default}});Object.defineProperty(W,"nextThursday",{enumerable:!0,get:function(){return TNe.default}});Object.defineProperty(W,"nextTuesday",{enumerable:!0,get:function(){return INe.default}});Object.defineProperty(W,"nextWednesday",{enumerable:!0,get:function(){return kNe.default}});Object.defineProperty(W,"parse",{enumerable:!0,get:function(){return BNe.default}});Object.defineProperty(W,"parseISO",{enumerable:!0,get:function(){return RNe.default}});Object.defineProperty(W,"parseJSON",{enumerable:!0,get:function(){return MNe.default}});Object.defineProperty(W,"previousDay",{enumerable:!0,get:function(){return ONe.default}});Object.defineProperty(W,"previousFriday",{enumerable:!0,get:function(){return qNe.default}});Object.defineProperty(W,"previousMonday",{enumerable:!0,get:function(){return DNe.default}});Object.defineProperty(W,"previousSaturday",{enumerable:!0,get:function(){return NNe.default}});Object.defineProperty(W,"previousSunday",{enumerable:!0,get:function(){return LNe.default}});Object.defineProperty(W,"previousThursday",{enumerable:!0,get:function(){return UNe.default}});Object.defineProperty(W,"previousTuesday",{enumerable:!0,get:function(){return HNe.default}});Object.defineProperty(W,"previousWednesday",{enumerable:!0,get:function(){return KNe.default}});Object.defineProperty(W,"quartersToMonths",{enumerable:!0,get:function(){return FNe.default}});Object.defineProperty(W,"quartersToYears",{enumerable:!0,get:function(){return zNe.default}});Object.defineProperty(W,"roundToNearestMinutes",{enumerable:!0,get:function(){return WNe.default}});Object.defineProperty(W,"secondsToHours",{enumerable:!0,get:function(){return jNe.default}});Object.defineProperty(W,"secondsToMilliseconds",{enumerable:!0,get:function(){return $Ne.default}});Object.defineProperty(W,"secondsToMinutes",{enumerable:!0,get:function(){return VNe.default}});Object.defineProperty(W,"set",{enumerable:!0,get:function(){return GNe.default}});Object.defineProperty(W,"setDate",{enumerable:!0,get:function(){return YNe.default}});Object.defineProperty(W,"setDay",{enumerable:!0,get:function(){return JNe.default}});Object.defineProperty(W,"setDayOfYear",{enumerable:!0,get:function(){return XNe.default}});Object.defineProperty(W,"setHours",{enumerable:!0,get:function(){return QNe.default}});Object.defineProperty(W,"setISODay",{enumerable:!0,get:function(){return ZNe.default}});Object.defineProperty(W,"setISOWeek",{enumerable:!0,get:function(){return eLe.default}});Object.defineProperty(W,"setISOWeekYear",{enumerable:!0,get:function(){return tLe.default}});Object.defineProperty(W,"setMilliseconds",{enumerable:!0,get:function(){return rLe.default}});Object.defineProperty(W,"setMinutes",{enumerable:!0,get:function(){return nLe.default}});Object.defineProperty(W,"setMonth",{enumerable:!0,get:function(){return iLe.default}});Object.defineProperty(W,"setQuarter",{enumerable:!0,get:function(){return aLe.default}});Object.defineProperty(W,"setSeconds",{enumerable:!0,get:function(){return sLe.default}});Object.defineProperty(W,"setWeek",{enumerable:!0,get:function(){return oLe.default}});Object.defineProperty(W,"setWeekYear",{enumerable:!0,get:function(){return uLe.default}});Object.defineProperty(W,"setYear",{enumerable:!0,get:function(){return cLe.default}});Object.defineProperty(W,"startOfDay",{enumerable:!0,get:function(){return fLe.default}});Object.defineProperty(W,"startOfDecade",{enumerable:!0,get:function(){return dLe.default}});Object.defineProperty(W,"startOfHour",{enumerable:!0,get:function(){return lLe.default}});Object.defineProperty(W,"startOfISOWeek",{enumerable:!0,get:function(){return hLe.default}});Object.defineProperty(W,"startOfISOWeekYear",{enumerable:!0,get:function(){return pLe.default}});Object.defineProperty(W,"startOfMinute",{enumerable:!0,get:function(){return mLe.default}});Object.defineProperty(W,"startOfMonth",{enumerable:!0,get:function(){return xLe.default}});Object.defineProperty(W,"startOfQuarter",{enumerable:!0,get:function(){return yLe.default}});Object.defineProperty(W,"startOfSecond",{enumerable:!0,get:function(){return bLe.default}});Object.defineProperty(W,"startOfToday",{enumerable:!0,get:function(){return vLe.default}});Object.defineProperty(W,"startOfTomorrow",{enumerable:!0,get:function(){return gLe.default}});Object.defineProperty(W,"startOfWeek",{enumerable:!0,get:function(){return _Le.default}});Object.defineProperty(W,"startOfWeekYear",{enumerable:!0,get:function(){return wLe.default}});Object.defineProperty(W,"startOfYear",{enumerable:!0,get:function(){return SLe.default}});Object.defineProperty(W,"startOfYesterday",{enumerable:!0,get:function(){return ALe.default}});Object.defineProperty(W,"sub",{enumerable:!0,get:function(){return CLe.default}});Object.defineProperty(W,"subBusinessDays",{enumerable:!0,get:function(){return ELe.default}});Object.defineProperty(W,"subDays",{enumerable:!0,get:function(){return PLe.default}});Object.defineProperty(W,"subHours",{enumerable:!0,get:function(){return TLe.default}});Object.defineProperty(W,"subISOWeekYears",{enumerable:!0,get:function(){return ILe.default}});Object.defineProperty(W,"subMilliseconds",{enumerable:!0,get:function(){return kLe.default}});Object.defineProperty(W,"subMinutes",{enumerable:!0,get:function(){return BLe.default}});Object.defineProperty(W,"subMonths",{enumerable:!0,get:function(){return RLe.default}});Object.defineProperty(W,"subQuarters",{enumerable:!0,get:function(){return MLe.default}});Object.defineProperty(W,"subSeconds",{enumerable:!0,get:function(){return OLe.default}});Object.defineProperty(W,"subWeeks",{enumerable:!0,get:function(){return qLe.default}});Object.defineProperty(W,"subYears",{enumerable:!0,get:function(){return DLe.default}});Object.defineProperty(W,"toDate",{enumerable:!0,get:function(){return NLe.default}});Object.defineProperty(W,"weeksToDays",{enumerable:!0,get:function(){return LLe.default}});Object.defineProperty(W,"yearsToMonths",{enumerable:!0,get:function(){return ULe.default}});Object.defineProperty(W,"yearsToQuarters",{enumerable:!0,get:function(){return HLe.default}});var _Oe=V(wV()),wOe=V(ok()),SOe=V(Lo()),AOe=V(k6()),COe=V(mk()),EOe=V(Ch()),POe=V(F6()),TOe=V(Sh()),IOe=V(W6()),kOe=V(vk()),BOe=V(dx()),ROe=V(wk()),MOe=V(rG()),OOe=V(uG()),qOe=V(lG()),DOe=V(xG()),NOe=V(lf()),LOe=V(SG()),UOe=V(EG()),HOe=V(DG()),KOe=V(df()),FOe=V(Tk()),zOe=V(zG()),WOe=V(kk()),jOe=V(QG()),$Oe=V(Ok()),VOe=V(qk()),GOe=V(x3()),YOe=V(Lk()),JOe=V(bY()),XOe=V(lx()),QOe=V(Kk()),ZOe=V(mx()),eqe=V(IY()),tqe=V(B3()),rqe=V(OY()),nqe=V(jk()),iqe=V(Vk()),aqe=V(KY()),sqe=V($Y()),oqe=V(YY()),uqe=V(eJ()),cqe=V(nJ()),fqe=V(J3()),dqe=V(uJ()),lqe=V(pJ()),hqe=V(yJ()),pqe=V(S3()),mqe=V(gJ()),xqe=V(SJ()),yqe=V(TJ()),bqe=V(kJ()),vqe=V(MJ()),gqe=V(C3()),_qe=V(DJ()),wqe=V(UJ()),Sqe=V(KJ()),Aqe=V(zJ()),Cqe=V(nB()),Eqe=V(eB()),Pqe=V(jJ()),Tqe=V(xB()),Iqe=V(gB()),kqe=V(_B()),Bqe=V(eQ()),Rqe=V(nQ()),Mqe=V(aQ()),Oqe=V(oQ()),qqe=V(cQ()),Dqe=V(dQ()),Nqe=V(hQ()),Lqe=V(mQ()),Uqe=V(gQ()),Hqe=V(wQ()),Kqe=V(EB()),Fqe=V(Rx()),zqe=V(TQ()),Wqe=V(PB()),jqe=V(OQ()),$qe=V(NQ()),Vqe=V(HQ()),Gqe=V(kB()),Yqe=V(BB()),Jqe=V(Nd()),Xqe=V($Q()),Qqe=V(YQ()),Zqe=V(QQ()),eDe=V(tZ()),tDe=V(iZ()),rDe=V(Bk()),nDe=V(oZ()),iDe=V(MB()),aDe=V(lZ()),sDe=V(qB()),oDe=V(_Z()),uDe=V(OB()),cDe=V(CZ()),fDe=V(TZ()),dDe=V(kZ()),lDe=V(RZ()),hDe=V(OZ()),pDe=V(KZ()),mDe=V(zZ()),xDe=V(VZ()),yDe=V(XZ()),bDe=V(Ek()),vDe=V(tee()),gDe=V(nee()),_De=V(see()),wDe=V(cee()),SDe=V(lee()),ADe=V(Fk()),CDe=V(TB()),EDe=V(kee()),PDe=V(Mee()),TDe=V(Dee()),IDe=V(Ph()),kDe=V(JB()),BDe=V(XB()),RDe=V(Jee()),MDe=V(QB()),ODe=V(ZB()),qDe=V(eR()),DDe=V(rR()),NDe=V(xw()),LDe=V(nR()),UDe=V(ak()),HDe=V(C6()),KDe=V(xte()),FDe=V(vte()),zDe=V(wte()),WDe=V(Cte()),jDe=V(Tte()),$De=V(Bte()),VDe=V(Ote()),GDe=V(Nte()),YDe=V(Hte()),JDe=V(zte()),XDe=V(jte()),QDe=V(Gte()),ZDe=V(Ks()),eNe=V(Xte()),tNe=V(ux()),rNe=V(ere()),nNe=V(rre()),iNe=V(are()),aNe=V(fre()),sNe=V(lre()),oNe=V(DB()),uNe=V(mre()),cNe=V(uR()),fNe=V(bre()),dNe=V(gre()),lNe=V(Sk()),hNe=V(Sre()),pNe=V(Cre()),mNe=V(Pre()),xNe=V(Ire()),yNe=V(Ak()),bNe=V(Bre()),vNe=V(Mre()),gNe=V(qre()),_Ne=V(Nre()),wNe=V(Ure()),SNe=V(Fu()),ANe=V(Fre()),CNe=V(Wre()),ENe=V($re()),PNe=V(Gre()),TNe=V(Jre()),INe=V(Qre()),kNe=V(ene()),BNe=V(VB()),RNe=V(sne()),MNe=V(cne()),ONe=V(zu()),qNe=V(hne()),DNe=V(xne()),NNe=V(vne()),LNe=V(wne()),UNe=V(Cne()),HNe=V(Tne()),KNe=V(Bne()),FNe=V(Mne()),zNe=V(qne()),WNe=V(Lne()),jNe=V(Hne()),$Ne=V(Fne()),VNe=V(Wne()),GNe=V(Vne()),YNe=V(Yne()),JNe=V(Xne()),XNe=V(Zne()),QNe=V(tie()),ZNe=V(nie()),eLe=V(aie()),tLe=V(pk()),rLe=V(oie()),nLe=V(cie()),iLe=V(I5()),aLe=V(die()),sLe=V(hie()),oLe=V(mie()),uLe=V(bie()),cLe=V(gie()),fLe=V(cx()),dLe=V(Sie()),lLe=V(YB()),hLe=V(ff()),pLe=V(Eh()),mLe=V(L3()),xLe=V(xx()),yLe=V(z3()),bLe=V(tR()),vLe=V(Cie()),gLe=V(Pie()),_Le=V(Uu()),wLe=V(k8()),SLe=V(t4()),ALe=V(Iie()),CLe=V(HB()),ELe=V(Bie()),PLe=V(Ox()),TLe=V(Mie()),ILe=V(Hk()),kLe=V(Ih()),BLe=V(qie()),RLe=V(UB()),MLe=V(Nie()),OLe=V(Uie()),qLe=V(Kie()),DLe=V(zie()),NLe=V(me()),LLe=V(jie()),ULe=V(Vie()),HLe=V(Yie()),Jie=xn();Object.keys(Jie).forEach(function(t){t==="default"||t==="__esModule"||Object.prototype.hasOwnProperty.call(gOe,t)||Object.defineProperty(W,t,{enumerable:!0,get:function(){return Jie[t]}})});function V(t){return t&&t.__esModule?t:{default:t}}});var Qie=g((nQe,KLe)=>{KLe.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var Fo=g((Zie,DR)=>{(function(t,e){"use strict";function r(F,y){if(!F)throw new Error(y||"Assertion failed")}function n(F,y){F.super_=y;var S=function(){};S.prototype=y.prototype,F.prototype=new S,F.prototype.constructor=F}function i(F,y,S){if(i.isBN(F))return F;this.negative=0,this.words=null,this.length=0,this.red=null,F!==null&&((y==="le"||y==="be")&&(S=y,y=10),this._init(F||0,y||10,S||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=require("buffer").Buffer}catch{}i.isBN=function(y){return y instanceof i?!0:y!==null&&typeof y=="object"&&y.constructor.wordSize===i.wordSize&&Array.isArray(y.words)},i.max=function(y,S){return y.cmp(S)>0?y:S},i.min=function(y,S){return y.cmp(S)<0?y:S},i.prototype._init=function(y,S,B){if(typeof y=="number")return this._initNumber(y,S,B);if(typeof y=="object")return this._initArray(y,S,B);S==="hex"&&(S=16),r(S===(S|0)&&S>=2&&S<=36),y=y.toString().replace(/\s+/g,"");var D=0;y[0]==="-"&&(D++,this.negative=1),D<y.length&&(S===16?this._parseHex(y,D,B):(this._parseBase(y,S,D),B==="le"&&this._initArray(this.toArray(),S,B)))},i.prototype._initNumber=function(y,S,B){y<0&&(this.negative=1,y=-y),y<67108864?(this.words=[y&67108863],this.length=1):y<4503599627370496?(this.words=[y&67108863,y/67108864&67108863],this.length=2):(r(y<9007199254740992),this.words=[y&67108863,y/67108864&67108863,1],this.length=3),B==="le"&&this._initArray(this.toArray(),S,B)},i.prototype._initArray=function(y,S,B){if(r(typeof y.length=="number"),y.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(y.length/3),this.words=new Array(this.length);for(var D=0;D<this.length;D++)this.words[D]=0;var U,G,J=0;if(B==="be")for(D=y.length-1,U=0;D>=0;D-=3)G=y[D]|y[D-1]<<8|y[D-2]<<16,this.words[U]|=G<<J&67108863,this.words[U+1]=G>>>26-J&67108863,J+=24,J>=26&&(J-=26,U++);else if(B==="le")for(D=0,U=0;D<y.length;D+=3)G=y[D]|y[D+1]<<8|y[D+2]<<16,this.words[U]|=G<<J&67108863,this.words[U+1]=G>>>26-J&67108863,J+=24,J>=26&&(J-=26,U++);return this.strip()};function o(F,y){var S=F.charCodeAt(y);return S>=65&&S<=70?S-55:S>=97&&S<=102?S-87:S-48&15}function u(F,y,S){var B=o(F,S);return S-1>=y&&(B|=o(F,S-1)<<4),B}i.prototype._parseHex=function(y,S,B){this.length=Math.ceil((y.length-S)/6),this.words=new Array(this.length);for(var D=0;D<this.length;D++)this.words[D]=0;var U=0,G=0,J;if(B==="be")for(D=y.length-1;D>=S;D-=2)J=u(y,S,D)<<U,this.words[G]|=J&67108863,U>=18?(U-=18,G+=1,this.words[G]|=J>>>26):U+=8;else{var L=y.length-S;for(D=L%2===0?S+1:S;D<y.length;D+=2)J=u(y,S,D)<<U,this.words[G]|=J&67108863,U>=18?(U-=18,G+=1,this.words[G]|=J>>>26):U+=8}this.strip()};function f(F,y,S,B){for(var D=0,U=Math.min(F.length,S),G=y;G<U;G++){var J=F.charCodeAt(G)-48;D*=B,J>=49?D+=J-49+10:J>=17?D+=J-17+10:D+=J}return D}i.prototype._parseBase=function(y,S,B){this.words=[0],this.length=1;for(var D=0,U=1;U<=67108863;U*=S)D++;D--,U=U/S|0;for(var G=y.length-B,J=G%D,L=Math.min(G,G-J)+B,p=0,T=B;T<L;T+=D)p=f(y,T,T+D,S),this.imuln(U),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(J!==0){var oe=1;for(p=f(y,T,y.length,S),T=0;T<J;T++)oe*=S;this.imuln(oe),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this.strip()},i.prototype.copy=function(y){y.words=new Array(this.length);for(var S=0;S<this.length;S++)y.words[S]=this.words[S];y.length=this.length,y.negative=this.negative,y.red=this.red},i.prototype.clone=function(){var y=new i(null);return this.copy(y),y},i.prototype._expand=function(y){for(;this.length<y;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(y,S){y=y||10,S=S|0||1;var B;if(y===16||y==="hex"){B="";for(var D=0,U=0,G=0;G<this.length;G++){var J=this.words[G],L=((J<<D|U)&16777215).toString(16);U=J>>>24-D&16777215,U!==0||G!==this.length-1?B=d[6-L.length]+L+B:B=L+B,D+=2,D>=26&&(D-=26,G--)}for(U!==0&&(B=U.toString(16)+B);B.length%S!==0;)B="0"+B;return this.negative!==0&&(B="-"+B),B}if(y===(y|0)&&y>=2&&y<=36){var p=h[y],T=m[y];B="";var oe=this.clone();for(oe.negative=0;!oe.isZero();){var re=oe.modn(T).toString(y);oe=oe.idivn(T),oe.isZero()?B=re+B:B=d[p-re.length]+re+B}for(this.isZero()&&(B="0"+B);B.length%S!==0;)B="0"+B;return this.negative!==0&&(B="-"+B),B}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var y=this.words[0];return this.length===2?y+=this.words[1]*67108864:this.length===3&&this.words[2]===1?y+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-y:y},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(y,S){return r(typeof a<"u"),this.toArrayLike(a,y,S)},i.prototype.toArray=function(y,S){return this.toArrayLike(Array,y,S)},i.prototype.toArrayLike=function(y,S,B){var D=this.byteLength(),U=B||Math.max(1,D);r(D<=U,"byte array longer than desired length"),r(U>0,"Requested array length <= 0"),this.strip();var G=S==="le",J=new y(U),L,p,T=this.clone();if(G){for(p=0;!T.isZero();p++)L=T.andln(255),T.iushrn(8),J[p]=L;for(;p<U;p++)J[p]=0}else{for(p=0;p<U-D;p++)J[p]=0;for(p=0;!T.isZero();p++)L=T.andln(255),T.iushrn(8),J[U-p-1]=L}return J},Math.clz32?i.prototype._countBits=function(y){return 32-Math.clz32(y)}:i.prototype._countBits=function(y){var S=y,B=0;return S>=4096&&(B+=13,S>>>=13),S>=64&&(B+=7,S>>>=7),S>=8&&(B+=4,S>>>=4),S>=2&&(B+=2,S>>>=2),B+S},i.prototype._zeroBits=function(y){if(y===0)return 26;var S=y,B=0;return(S&8191)===0&&(B+=13,S>>>=13),(S&127)===0&&(B+=7,S>>>=7),(S&15)===0&&(B+=4,S>>>=4),(S&3)===0&&(B+=2,S>>>=2),(S&1)===0&&B++,B},i.prototype.bitLength=function(){var y=this.words[this.length-1],S=this._countBits(y);return(this.length-1)*26+S};function _(F){for(var y=new Array(F.bitLength()),S=0;S<y.length;S++){var B=S/26|0,D=S%26;y[S]=(F.words[B]&1<<D)>>>D}return y}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var y=0,S=0;S<this.length;S++){var B=this._zeroBits(this.words[S]);if(y+=B,B!==26)break}return y},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(y){return this.negative!==0?this.abs().inotn(y).iaddn(1):this.clone()},i.prototype.fromTwos=function(y){return this.testn(y-1)?this.notn(y).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(y){for(;this.length<y.length;)this.words[this.length++]=0;for(var S=0;S<y.length;S++)this.words[S]=this.words[S]|y.words[S];return this.strip()},i.prototype.ior=function(y){return r((this.negative|y.negative)===0),this.iuor(y)},i.prototype.or=function(y){return this.length>y.length?this.clone().ior(y):y.clone().ior(this)},i.prototype.uor=function(y){return this.length>y.length?this.clone().iuor(y):y.clone().iuor(this)},i.prototype.iuand=function(y){var S;this.length>y.length?S=y:S=this;for(var B=0;B<S.length;B++)this.words[B]=this.words[B]&y.words[B];return this.length=S.length,this.strip()},i.prototype.iand=function(y){return r((this.negative|y.negative)===0),this.iuand(y)},i.prototype.and=function(y){return this.length>y.length?this.clone().iand(y):y.clone().iand(this)},i.prototype.uand=function(y){return this.length>y.length?this.clone().iuand(y):y.clone().iuand(this)},i.prototype.iuxor=function(y){var S,B;this.length>y.length?(S=this,B=y):(S=y,B=this);for(var D=0;D<B.length;D++)this.words[D]=S.words[D]^B.words[D];if(this!==S)for(;D<S.length;D++)this.words[D]=S.words[D];return this.length=S.length,this.strip()},i.prototype.ixor=function(y){return r((this.negative|y.negative)===0),this.iuxor(y)},i.prototype.xor=function(y){return this.length>y.length?this.clone().ixor(y):y.clone().ixor(this)},i.prototype.uxor=function(y){return this.length>y.length?this.clone().iuxor(y):y.clone().iuxor(this)},i.prototype.inotn=function(y){r(typeof y=="number"&&y>=0);var S=Math.ceil(y/26)|0,B=y%26;this._expand(S),B>0&&S--;for(var D=0;D<S;D++)this.words[D]=~this.words[D]&67108863;return B>0&&(this.words[D]=~this.words[D]&67108863>>26-B),this.strip()},i.prototype.notn=function(y){return this.clone().inotn(y)},i.prototype.setn=function(y,S){r(typeof y=="number"&&y>=0);var B=y/26|0,D=y%26;return this._expand(B+1),S?this.words[B]=this.words[B]|1<<D:this.words[B]=this.words[B]&~(1<<D),this.strip()},i.prototype.iadd=function(y){var S;if(this.negative!==0&&y.negative===0)return this.negative=0,S=this.isub(y),this.negative^=1,this._normSign();if(this.negative===0&&y.negative!==0)return y.negative=0,S=this.isub(y),y.negative=1,S._normSign();var B,D;this.length>y.length?(B=this,D=y):(B=y,D=this);for(var U=0,G=0;G<D.length;G++)S=(B.words[G]|0)+(D.words[G]|0)+U,this.words[G]=S&67108863,U=S>>>26;for(;U!==0&&G<B.length;G++)S=(B.words[G]|0)+U,this.words[G]=S&67108863,U=S>>>26;if(this.length=B.length,U!==0)this.words[this.length]=U,this.length++;else if(B!==this)for(;G<B.length;G++)this.words[G]=B.words[G];return this},i.prototype.add=function(y){var S;return y.negative!==0&&this.negative===0?(y.negative=0,S=this.sub(y),y.negative^=1,S):y.negative===0&&this.negative!==0?(this.negative=0,S=y.sub(this),this.negative=1,S):this.length>y.length?this.clone().iadd(y):y.clone().iadd(this)},i.prototype.isub=function(y){if(y.negative!==0){y.negative=0;var S=this.iadd(y);return y.negative=1,S._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(y),this.negative=1,this._normSign();var B=this.cmp(y);if(B===0)return this.negative=0,this.length=1,this.words[0]=0,this;var D,U;B>0?(D=this,U=y):(D=y,U=this);for(var G=0,J=0;J<U.length;J++)S=(D.words[J]|0)-(U.words[J]|0)+G,G=S>>26,this.words[J]=S&67108863;for(;G!==0&&J<D.length;J++)S=(D.words[J]|0)+G,G=S>>26,this.words[J]=S&67108863;if(G===0&&J<D.length&&D!==this)for(;J<D.length;J++)this.words[J]=D.words[J];return this.length=Math.max(this.length,J),D!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(y){return this.clone().isub(y)};function w(F,y,S){S.negative=y.negative^F.negative;var B=F.length+y.length|0;S.length=B,B=B-1|0;var D=F.words[0]|0,U=y.words[0]|0,G=D*U,J=G&67108863,L=G/67108864|0;S.words[0]=J;for(var p=1;p<B;p++){for(var T=L>>>26,oe=L&67108863,re=Math.min(p,y.length-1),Q=Math.max(0,p-F.length+1);Q<=re;Q++){var xe=p-Q|0;D=F.words[xe]|0,U=y.words[Q]|0,G=D*U+oe,T+=G/67108864|0,oe=G&67108863}S.words[p]=oe|0,L=T|0}return L!==0?S.words[p]=L|0:S.length--,S.strip()}var P=function(y,S,B){var D=y.words,U=S.words,G=B.words,J=0,L,p,T,oe=D[0]|0,re=oe&8191,Q=oe>>>13,xe=D[1]|0,nt=xe&8191,pt=xe>>>13,Xt=D[2]|0,We=Xt&8191,De=Xt>>>13,St=D[3]|0,et=St&8191,gt=St>>>13,fn=D[4]|0,sr=fn&8191,Lt=fn>>>13,Bi=D[5]|0,Pr=Bi&8191,Qt=Bi>>>13,jr=D[6]|0,wr=jr&8191,Er=jr>>>13,_t=D[7]|0,Vt=_t&8191,v=_t>>>13,C=D[8]|0,O=C&8191,H=C>>>13,ee=D[9]|0,Z=ee&8191,se=ee>>>13,de=U[0]|0,ie=de&8191,Ie=de>>>13,Ve=U[1]|0,je=Ve&8191,yt=Ve>>>13,dn=U[2]|0,Gt=dn&8191,kr=dn>>>13,Ia=U[3]|0,ln=Ia&8191,hn=Ia>>>13,Wi=U[4]|0,Or=Wi&8191,qr=Wi>>>13,tc=U[5]|0,$r=tc&8191,en=tc>>>13,rc=U[6]|0,mr=rc&8191,Kr=rc>>>13,A=U[7]|0,k=A&8191,I=A>>>13,x=U[8]|0,q=x&8191,te=x>>>13,ce=U[9]|0,ye=ce&8191,Pe=ce>>>13;B.negative=y.negative^S.negative,B.length=19,L=Math.imul(re,ie),p=Math.imul(re,Ie),p=p+Math.imul(Q,ie)|0,T=Math.imul(Q,Ie);var ct=(J+L|0)+((p&8191)<<13)|0;J=(T+(p>>>13)|0)+(ct>>>26)|0,ct&=67108863,L=Math.imul(nt,ie),p=Math.imul(nt,Ie),p=p+Math.imul(pt,ie)|0,T=Math.imul(pt,Ie),L=L+Math.imul(re,je)|0,p=p+Math.imul(re,yt)|0,p=p+Math.imul(Q,je)|0,T=T+Math.imul(Q,yt)|0;var Ye=(J+L|0)+((p&8191)<<13)|0;J=(T+(p>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,L=Math.imul(We,ie),p=Math.imul(We,Ie),p=p+Math.imul(De,ie)|0,T=Math.imul(De,Ie),L=L+Math.imul(nt,je)|0,p=p+Math.imul(nt,yt)|0,p=p+Math.imul(pt,je)|0,T=T+Math.imul(pt,yt)|0,L=L+Math.imul(re,Gt)|0,p=p+Math.imul(re,kr)|0,p=p+Math.imul(Q,Gt)|0,T=T+Math.imul(Q,kr)|0;var or=(J+L|0)+((p&8191)<<13)|0;J=(T+(p>>>13)|0)+(or>>>26)|0,or&=67108863,L=Math.imul(et,ie),p=Math.imul(et,Ie),p=p+Math.imul(gt,ie)|0,T=Math.imul(gt,Ie),L=L+Math.imul(We,je)|0,p=p+Math.imul(We,yt)|0,p=p+Math.imul(De,je)|0,T=T+Math.imul(De,yt)|0,L=L+Math.imul(nt,Gt)|0,p=p+Math.imul(nt,kr)|0,p=p+Math.imul(pt,Gt)|0,T=T+Math.imul(pt,kr)|0,L=L+Math.imul(re,ln)|0,p=p+Math.imul(re,hn)|0,p=p+Math.imul(Q,ln)|0,T=T+Math.imul(Q,hn)|0;var tt=(J+L|0)+((p&8191)<<13)|0;J=(T+(p>>>13)|0)+(tt>>>26)|0,tt&=67108863,L=Math.imul(sr,ie),p=Math.imul(sr,Ie),p=p+Math.imul(Lt,ie)|0,T=Math.imul(Lt,Ie),L=L+Math.imul(et,je)|0,p=p+Math.imul(et,yt)|0,p=p+Math.imul(gt,je)|0,T=T+Math.imul(gt,yt)|0,L=L+Math.imul(We,Gt)|0,p=p+Math.imul(We,kr)|0,p=p+Math.imul(De,Gt)|0,T=T+Math.imul(De,kr)|0,L=L+Math.imul(nt,ln)|0,p=p+Math.imul(nt,hn)|0,p=p+Math.imul(pt,ln)|0,T=T+Math.imul(pt,hn)|0,L=L+Math.imul(re,Or)|0,p=p+Math.imul(re,qr)|0,p=p+Math.imul(Q,Or)|0,T=T+Math.imul(Q,qr)|0;var Et=(J+L|0)+((p&8191)<<13)|0;J=(T+(p>>>13)|0)+(Et>>>26)|0,Et&=67108863,L=Math.imul(Pr,ie),p=Math.imul(Pr,Ie),p=p+Math.imul(Qt,ie)|0,T=Math.imul(Qt,Ie),L=L+Math.imul(sr,je)|0,p=p+Math.imul(sr,yt)|0,p=p+Math.imul(Lt,je)|0,T=T+Math.imul(Lt,yt)|0,L=L+Math.imul(et,Gt)|0,p=p+Math.imul(et,kr)|0,p=p+Math.imul(gt,Gt)|0,T=T+Math.imul(gt,kr)|0,L=L+Math.imul(We,ln)|0,p=p+Math.imul(We,hn)|0,p=p+Math.imul(De,ln)|0,T=T+Math.imul(De,hn)|0,L=L+Math.imul(nt,Or)|0,p=p+Math.imul(nt,qr)|0,p=p+Math.imul(pt,Or)|0,T=T+Math.imul(pt,qr)|0,L=L+Math.imul(re,$r)|0,p=p+Math.imul(re,en)|0,p=p+Math.imul(Q,$r)|0,T=T+Math.imul(Q,en)|0;var Pt=(J+L|0)+((p&8191)<<13)|0;J=(T+(p>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,L=Math.imul(wr,ie),p=Math.imul(wr,Ie),p=p+Math.imul(Er,ie)|0,T=Math.imul(Er,Ie),L=L+Math.imul(Pr,je)|0,p=p+Math.imul(Pr,yt)|0,p=p+Math.imul(Qt,je)|0,T=T+Math.imul(Qt,yt)|0,L=L+Math.imul(sr,Gt)|0,p=p+Math.imul(sr,kr)|0,p=p+Math.imul(Lt,Gt)|0,T=T+Math.imul(Lt,kr)|0,L=L+Math.imul(et,ln)|0,p=p+Math.imul(et,hn)|0,p=p+Math.imul(gt,ln)|0,T=T+Math.imul(gt,hn)|0,L=L+Math.imul(We,Or)|0,p=p+Math.imul(We,qr)|0,p=p+Math.imul(De,Or)|0,T=T+Math.imul(De,qr)|0,L=L+Math.imul(nt,$r)|0,p=p+Math.imul(nt,en)|0,p=p+Math.imul(pt,$r)|0,T=T+Math.imul(pt,en)|0,L=L+Math.imul(re,mr)|0,p=p+Math.imul(re,Kr)|0,p=p+Math.imul(Q,mr)|0,T=T+Math.imul(Q,Kr)|0;var kt=(J+L|0)+((p&8191)<<13)|0;J=(T+(p>>>13)|0)+(kt>>>26)|0,kt&=67108863,L=Math.imul(Vt,ie),p=Math.imul(Vt,Ie),p=p+Math.imul(v,ie)|0,T=Math.imul(v,Ie),L=L+Math.imul(wr,je)|0,p=p+Math.imul(wr,yt)|0,p=p+Math.imul(Er,je)|0,T=T+Math.imul(Er,yt)|0,L=L+Math.imul(Pr,Gt)|0,p=p+Math.imul(Pr,kr)|0,p=p+Math.imul(Qt,Gt)|0,T=T+Math.imul(Qt,kr)|0,L=L+Math.imul(sr,ln)|0,p=p+Math.imul(sr,hn)|0,p=p+Math.imul(Lt,ln)|0,T=T+Math.imul(Lt,hn)|0,L=L+Math.imul(et,Or)|0,p=p+Math.imul(et,qr)|0,p=p+Math.imul(gt,Or)|0,T=T+Math.imul(gt,qr)|0,L=L+Math.imul(We,$r)|0,p=p+Math.imul(We,en)|0,p=p+Math.imul(De,$r)|0,T=T+Math.imul(De,en)|0,L=L+Math.imul(nt,mr)|0,p=p+Math.imul(nt,Kr)|0,p=p+Math.imul(pt,mr)|0,T=T+Math.imul(pt,Kr)|0,L=L+Math.imul(re,k)|0,p=p+Math.imul(re,I)|0,p=p+Math.imul(Q,k)|0,T=T+Math.imul(Q,I)|0;var Nt=(J+L|0)+((p&8191)<<13)|0;J=(T+(p>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,L=Math.imul(O,ie),p=Math.imul(O,Ie),p=p+Math.imul(H,ie)|0,T=Math.imul(H,Ie),L=L+Math.imul(Vt,je)|0,p=p+Math.imul(Vt,yt)|0,p=p+Math.imul(v,je)|0,T=T+Math.imul(v,yt)|0,L=L+Math.imul(wr,Gt)|0,p=p+Math.imul(wr,kr)|0,p=p+Math.imul(Er,Gt)|0,T=T+Math.imul(Er,kr)|0,L=L+Math.imul(Pr,ln)|0,p=p+Math.imul(Pr,hn)|0,p=p+Math.imul(Qt,ln)|0,T=T+Math.imul(Qt,hn)|0,L=L+Math.imul(sr,Or)|0,p=p+Math.imul(sr,qr)|0,p=p+Math.imul(Lt,Or)|0,T=T+Math.imul(Lt,qr)|0,L=L+Math.imul(et,$r)|0,p=p+Math.imul(et,en)|0,p=p+Math.imul(gt,$r)|0,T=T+Math.imul(gt,en)|0,L=L+Math.imul(We,mr)|0,p=p+Math.imul(We,Kr)|0,p=p+Math.imul(De,mr)|0,T=T+Math.imul(De,Kr)|0,L=L+Math.imul(nt,k)|0,p=p+Math.imul(nt,I)|0,p=p+Math.imul(pt,k)|0,T=T+Math.imul(pt,I)|0,L=L+Math.imul(re,q)|0,p=p+Math.imul(re,te)|0,p=p+Math.imul(Q,q)|0,T=T+Math.imul(Q,te)|0;var wt=(J+L|0)+((p&8191)<<13)|0;J=(T+(p>>>13)|0)+(wt>>>26)|0,wt&=67108863,L=Math.imul(Z,ie),p=Math.imul(Z,Ie),p=p+Math.imul(se,ie)|0,T=Math.imul(se,Ie),L=L+Math.imul(O,je)|0,p=p+Math.imul(O,yt)|0,p=p+Math.imul(H,je)|0,T=T+Math.imul(H,yt)|0,L=L+Math.imul(Vt,Gt)|0,p=p+Math.imul(Vt,kr)|0,p=p+Math.imul(v,Gt)|0,T=T+Math.imul(v,kr)|0,L=L+Math.imul(wr,ln)|0,p=p+Math.imul(wr,hn)|0,p=p+Math.imul(Er,ln)|0,T=T+Math.imul(Er,hn)|0,L=L+Math.imul(Pr,Or)|0,p=p+Math.imul(Pr,qr)|0,p=p+Math.imul(Qt,Or)|0,T=T+Math.imul(Qt,qr)|0,L=L+Math.imul(sr,$r)|0,p=p+Math.imul(sr,en)|0,p=p+Math.imul(Lt,$r)|0,T=T+Math.imul(Lt,en)|0,L=L+Math.imul(et,mr)|0,p=p+Math.imul(et,Kr)|0,p=p+Math.imul(gt,mr)|0,T=T+Math.imul(gt,Kr)|0,L=L+Math.imul(We,k)|0,p=p+Math.imul(We,I)|0,p=p+Math.imul(De,k)|0,T=T+Math.imul(De,I)|0,L=L+Math.imul(nt,q)|0,p=p+Math.imul(nt,te)|0,p=p+Math.imul(pt,q)|0,T=T+Math.imul(pt,te)|0,L=L+Math.imul(re,ye)|0,p=p+Math.imul(re,Pe)|0,p=p+Math.imul(Q,ye)|0,T=T+Math.imul(Q,Pe)|0;var Bt=(J+L|0)+((p&8191)<<13)|0;J=(T+(p>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,L=Math.imul(Z,je),p=Math.imul(Z,yt),p=p+Math.imul(se,je)|0,T=Math.imul(se,yt),L=L+Math.imul(O,Gt)|0,p=p+Math.imul(O,kr)|0,p=p+Math.imul(H,Gt)|0,T=T+Math.imul(H,kr)|0,L=L+Math.imul(Vt,ln)|0,p=p+Math.imul(Vt,hn)|0,p=p+Math.imul(v,ln)|0,T=T+Math.imul(v,hn)|0,L=L+Math.imul(wr,Or)|0,p=p+Math.imul(wr,qr)|0,p=p+Math.imul(Er,Or)|0,T=T+Math.imul(Er,qr)|0,L=L+Math.imul(Pr,$r)|0,p=p+Math.imul(Pr,en)|0,p=p+Math.imul(Qt,$r)|0,T=T+Math.imul(Qt,en)|0,L=L+Math.imul(sr,mr)|0,p=p+Math.imul(sr,Kr)|0,p=p+Math.imul(Lt,mr)|0,T=T+Math.imul(Lt,Kr)|0,L=L+Math.imul(et,k)|0,p=p+Math.imul(et,I)|0,p=p+Math.imul(gt,k)|0,T=T+Math.imul(gt,I)|0,L=L+Math.imul(We,q)|0,p=p+Math.imul(We,te)|0,p=p+Math.imul(De,q)|0,T=T+Math.imul(De,te)|0,L=L+Math.imul(nt,ye)|0,p=p+Math.imul(nt,Pe)|0,p=p+Math.imul(pt,ye)|0,T=T+Math.imul(pt,Pe)|0;var Tt=(J+L|0)+((p&8191)<<13)|0;J=(T+(p>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,L=Math.imul(Z,Gt),p=Math.imul(Z,kr),p=p+Math.imul(se,Gt)|0,T=Math.imul(se,kr),L=L+Math.imul(O,ln)|0,p=p+Math.imul(O,hn)|0,p=p+Math.imul(H,ln)|0,T=T+Math.imul(H,hn)|0,L=L+Math.imul(Vt,Or)|0,p=p+Math.imul(Vt,qr)|0,p=p+Math.imul(v,Or)|0,T=T+Math.imul(v,qr)|0,L=L+Math.imul(wr,$r)|0,p=p+Math.imul(wr,en)|0,p=p+Math.imul(Er,$r)|0,T=T+Math.imul(Er,en)|0,L=L+Math.imul(Pr,mr)|0,p=p+Math.imul(Pr,Kr)|0,p=p+Math.imul(Qt,mr)|0,T=T+Math.imul(Qt,Kr)|0,L=L+Math.imul(sr,k)|0,p=p+Math.imul(sr,I)|0,p=p+Math.imul(Lt,k)|0,T=T+Math.imul(Lt,I)|0,L=L+Math.imul(et,q)|0,p=p+Math.imul(et,te)|0,p=p+Math.imul(gt,q)|0,T=T+Math.imul(gt,te)|0,L=L+Math.imul(We,ye)|0,p=p+Math.imul(We,Pe)|0,p=p+Math.imul(De,ye)|0,T=T+Math.imul(De,Pe)|0;var it=(J+L|0)+((p&8191)<<13)|0;J=(T+(p>>>13)|0)+(it>>>26)|0,it&=67108863,L=Math.imul(Z,ln),p=Math.imul(Z,hn),p=p+Math.imul(se,ln)|0,T=Math.imul(se,hn),L=L+Math.imul(O,Or)|0,p=p+Math.imul(O,qr)|0,p=p+Math.imul(H,Or)|0,T=T+Math.imul(H,qr)|0,L=L+Math.imul(Vt,$r)|0,p=p+Math.imul(Vt,en)|0,p=p+Math.imul(v,$r)|0,T=T+Math.imul(v,en)|0,L=L+Math.imul(wr,mr)|0,p=p+Math.imul(wr,Kr)|0,p=p+Math.imul(Er,mr)|0,T=T+Math.imul(Er,Kr)|0,L=L+Math.imul(Pr,k)|0,p=p+Math.imul(Pr,I)|0,p=p+Math.imul(Qt,k)|0,T=T+Math.imul(Qt,I)|0,L=L+Math.imul(sr,q)|0,p=p+Math.imul(sr,te)|0,p=p+Math.imul(Lt,q)|0,T=T+Math.imul(Lt,te)|0,L=L+Math.imul(et,ye)|0,p=p+Math.imul(et,Pe)|0,p=p+Math.imul(gt,ye)|0,T=T+Math.imul(gt,Pe)|0;var mt=(J+L|0)+((p&8191)<<13)|0;J=(T+(p>>>13)|0)+(mt>>>26)|0,mt&=67108863,L=Math.imul(Z,Or),p=Math.imul(Z,qr),p=p+Math.imul(se,Or)|0,T=Math.imul(se,qr),L=L+Math.imul(O,$r)|0,p=p+Math.imul(O,en)|0,p=p+Math.imul(H,$r)|0,T=T+Math.imul(H,en)|0,L=L+Math.imul(Vt,mr)|0,p=p+Math.imul(Vt,Kr)|0,p=p+Math.imul(v,mr)|0,T=T+Math.imul(v,Kr)|0,L=L+Math.imul(wr,k)|0,p=p+Math.imul(wr,I)|0,p=p+Math.imul(Er,k)|0,T=T+Math.imul(Er,I)|0,L=L+Math.imul(Pr,q)|0,p=p+Math.imul(Pr,te)|0,p=p+Math.imul(Qt,q)|0,T=T+Math.imul(Qt,te)|0,L=L+Math.imul(sr,ye)|0,p=p+Math.imul(sr,Pe)|0,p=p+Math.imul(Lt,ye)|0,T=T+Math.imul(Lt,Pe)|0;var Xe=(J+L|0)+((p&8191)<<13)|0;J=(T+(p>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,L=Math.imul(Z,$r),p=Math.imul(Z,en),p=p+Math.imul(se,$r)|0,T=Math.imul(se,en),L=L+Math.imul(O,mr)|0,p=p+Math.imul(O,Kr)|0,p=p+Math.imul(H,mr)|0,T=T+Math.imul(H,Kr)|0,L=L+Math.imul(Vt,k)|0,p=p+Math.imul(Vt,I)|0,p=p+Math.imul(v,k)|0,T=T+Math.imul(v,I)|0,L=L+Math.imul(wr,q)|0,p=p+Math.imul(wr,te)|0,p=p+Math.imul(Er,q)|0,T=T+Math.imul(Er,te)|0,L=L+Math.imul(Pr,ye)|0,p=p+Math.imul(Pr,Pe)|0,p=p+Math.imul(Qt,ye)|0,T=T+Math.imul(Qt,Pe)|0;var at=(J+L|0)+((p&8191)<<13)|0;J=(T+(p>>>13)|0)+(at>>>26)|0,at&=67108863,L=Math.imul(Z,mr),p=Math.imul(Z,Kr),p=p+Math.imul(se,mr)|0,T=Math.imul(se,Kr),L=L+Math.imul(O,k)|0,p=p+Math.imul(O,I)|0,p=p+Math.imul(H,k)|0,T=T+Math.imul(H,I)|0,L=L+Math.imul(Vt,q)|0,p=p+Math.imul(Vt,te)|0,p=p+Math.imul(v,q)|0,T=T+Math.imul(v,te)|0,L=L+Math.imul(wr,ye)|0,p=p+Math.imul(wr,Pe)|0,p=p+Math.imul(Er,ye)|0,T=T+Math.imul(Er,Pe)|0;var ut=(J+L|0)+((p&8191)<<13)|0;J=(T+(p>>>13)|0)+(ut>>>26)|0,ut&=67108863,L=Math.imul(Z,k),p=Math.imul(Z,I),p=p+Math.imul(se,k)|0,T=Math.imul(se,I),L=L+Math.imul(O,q)|0,p=p+Math.imul(O,te)|0,p=p+Math.imul(H,q)|0,T=T+Math.imul(H,te)|0,L=L+Math.imul(Vt,ye)|0,p=p+Math.imul(Vt,Pe)|0,p=p+Math.imul(v,ye)|0,T=T+Math.imul(v,Pe)|0;var Ge=(J+L|0)+((p&8191)<<13)|0;J=(T+(p>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,L=Math.imul(Z,q),p=Math.imul(Z,te),p=p+Math.imul(se,q)|0,T=Math.imul(se,te),L=L+Math.imul(O,ye)|0,p=p+Math.imul(O,Pe)|0,p=p+Math.imul(H,ye)|0,T=T+Math.imul(H,Pe)|0;var le=(J+L|0)+((p&8191)<<13)|0;J=(T+(p>>>13)|0)+(le>>>26)|0,le&=67108863,L=Math.imul(Z,ye),p=Math.imul(Z,Pe),p=p+Math.imul(se,ye)|0,T=Math.imul(se,Pe);var he=(J+L|0)+((p&8191)<<13)|0;return J=(T+(p>>>13)|0)+(he>>>26)|0,he&=67108863,G[0]=ct,G[1]=Ye,G[2]=or,G[3]=tt,G[4]=Et,G[5]=Pt,G[6]=kt,G[7]=Nt,G[8]=wt,G[9]=Bt,G[10]=Tt,G[11]=it,G[12]=mt,G[13]=Xe,G[14]=at,G[15]=ut,G[16]=Ge,G[17]=le,G[18]=he,J!==0&&(G[19]=J,B.length++),B};Math.imul||(P=w);function M(F,y,S){S.negative=y.negative^F.negative,S.length=F.length+y.length;for(var B=0,D=0,U=0;U<S.length-1;U++){var G=D;D=0;for(var J=B&67108863,L=Math.min(U,y.length-1),p=Math.max(0,U-F.length+1);p<=L;p++){var T=U-p,oe=F.words[T]|0,re=y.words[p]|0,Q=oe*re,xe=Q&67108863;G=G+(Q/67108864|0)|0,xe=xe+J|0,J=xe&67108863,G=G+(xe>>>26)|0,D+=G>>>26,G&=67108863}S.words[U]=J,B=G,G=D}return B!==0?S.words[U]=B:S.length--,S.strip()}function K(F,y,S){var B=new Y;return B.mulp(F,y,S)}i.prototype.mulTo=function(y,S){var B,D=this.length+y.length;return this.length===10&&y.length===10?B=P(this,y,S):D<63?B=w(this,y,S):D<1024?B=M(this,y,S):B=K(this,y,S),B};function Y(F,y){this.x=F,this.y=y}Y.prototype.makeRBT=function(y){for(var S=new Array(y),B=i.prototype._countBits(y)-1,D=0;D<y;D++)S[D]=this.revBin(D,B,y);return S},Y.prototype.revBin=function(y,S,B){if(y===0||y===B-1)return y;for(var D=0,U=0;U<S;U++)D|=(y&1)<<S-U-1,y>>=1;return D},Y.prototype.permute=function(y,S,B,D,U,G){for(var J=0;J<G;J++)D[J]=S[y[J]],U[J]=B[y[J]]},Y.prototype.transform=function(y,S,B,D,U,G){this.permute(G,y,S,B,D,U);for(var J=1;J<U;J<<=1)for(var L=J<<1,p=Math.cos(2*Math.PI/L),T=Math.sin(2*Math.PI/L),oe=0;oe<U;oe+=L)for(var re=p,Q=T,xe=0;xe<J;xe++){var nt=B[oe+xe],pt=D[oe+xe],Xt=B[oe+xe+J],We=D[oe+xe+J],De=re*Xt-Q*We;We=re*We+Q*Xt,Xt=De,B[oe+xe]=nt+Xt,D[oe+xe]=pt+We,B[oe+xe+J]=nt-Xt,D[oe+xe+J]=pt-We,xe!==L&&(De=p*re-T*Q,Q=p*Q+T*re,re=De)}},Y.prototype.guessLen13b=function(y,S){var B=Math.max(S,y)|1,D=B&1,U=0;for(B=B/2|0;B;B=B>>>1)U++;return 1<<U+1+D},Y.prototype.conjugate=function(y,S,B){if(!(B<=1))for(var D=0;D<B/2;D++){var U=y[D];y[D]=y[B-D-1],y[B-D-1]=U,U=S[D],S[D]=-S[B-D-1],S[B-D-1]=-U}},Y.prototype.normalize13b=function(y,S){for(var B=0,D=0;D<S/2;D++){var U=Math.round(y[2*D+1]/S)*8192+Math.round(y[2*D]/S)+B;y[D]=U&67108863,U<67108864?B=0:B=U/67108864|0}return y},Y.prototype.convert13b=function(y,S,B,D){for(var U=0,G=0;G<S;G++)U=U+(y[G]|0),B[2*G]=U&8191,U=U>>>13,B[2*G+1]=U&8191,U=U>>>13;for(G=2*S;G<D;++G)B[G]=0;r(U===0),r((U&-8192)===0)},Y.prototype.stub=function(y){for(var S=new Array(y),B=0;B<y;B++)S[B]=0;return S},Y.prototype.mulp=function(y,S,B){var D=2*this.guessLen13b(y.length,S.length),U=this.makeRBT(D),G=this.stub(D),J=new Array(D),L=new Array(D),p=new Array(D),T=new Array(D),oe=new Array(D),re=new Array(D),Q=B.words;Q.length=D,this.convert13b(y.words,y.length,J,D),this.convert13b(S.words,S.length,T,D),this.transform(J,G,L,p,D,U),this.transform(T,G,oe,re,D,U);for(var xe=0;xe<D;xe++){var nt=L[xe]*oe[xe]-p[xe]*re[xe];p[xe]=L[xe]*re[xe]+p[xe]*oe[xe],L[xe]=nt}return this.conjugate(L,p,D),this.transform(L,p,Q,G,D,U),this.conjugate(Q,G,D),this.normalize13b(Q,D),B.negative=y.negative^S.negative,B.length=y.length+S.length,B.strip()},i.prototype.mul=function(y){var S=new i(null);return S.words=new Array(this.length+y.length),this.mulTo(y,S)},i.prototype.mulf=function(y){var S=new i(null);return S.words=new Array(this.length+y.length),K(this,y,S)},i.prototype.imul=function(y){return this.clone().mulTo(y,this)},i.prototype.imuln=function(y){r(typeof y=="number"),r(y<67108864);for(var S=0,B=0;B<this.length;B++){var D=(this.words[B]|0)*y,U=(D&67108863)+(S&67108863);S>>=26,S+=D/67108864|0,S+=U>>>26,this.words[B]=U&67108863}return S!==0&&(this.words[B]=S,this.length++),this},i.prototype.muln=function(y){return this.clone().imuln(y)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(y){var S=_(y);if(S.length===0)return new i(1);for(var B=this,D=0;D<S.length&&S[D]===0;D++,B=B.sqr());if(++D<S.length)for(var U=B.sqr();D<S.length;D++,U=U.sqr())S[D]!==0&&(B=B.mul(U));return B},i.prototype.iushln=function(y){r(typeof y=="number"&&y>=0);var S=y%26,B=(y-S)/26,D=67108863>>>26-S<<26-S,U;if(S!==0){var G=0;for(U=0;U<this.length;U++){var J=this.words[U]&D,L=(this.words[U]|0)-J<<S;this.words[U]=L|G,G=J>>>26-S}G&&(this.words[U]=G,this.length++)}if(B!==0){for(U=this.length-1;U>=0;U--)this.words[U+B]=this.words[U];for(U=0;U<B;U++)this.words[U]=0;this.length+=B}return this.strip()},i.prototype.ishln=function(y){return r(this.negative===0),this.iushln(y)},i.prototype.iushrn=function(y,S,B){r(typeof y=="number"&&y>=0);var D;S?D=(S-S%26)/26:D=0;var U=y%26,G=Math.min((y-U)/26,this.length),J=67108863^67108863>>>U<<U,L=B;if(D-=G,D=Math.max(0,D),L){for(var p=0;p<G;p++)L.words[p]=this.words[p];L.length=G}if(G!==0)if(this.length>G)for(this.length-=G,p=0;p<this.length;p++)this.words[p]=this.words[p+G];else this.words[0]=0,this.length=1;var T=0;for(p=this.length-1;p>=0&&(T!==0||p>=D);p--){var oe=this.words[p]|0;this.words[p]=T<<26-U|oe>>>U,T=oe&J}return L&&T!==0&&(L.words[L.length++]=T),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(y,S,B){return r(this.negative===0),this.iushrn(y,S,B)},i.prototype.shln=function(y){return this.clone().ishln(y)},i.prototype.ushln=function(y){return this.clone().iushln(y)},i.prototype.shrn=function(y){return this.clone().ishrn(y)},i.prototype.ushrn=function(y){return this.clone().iushrn(y)},i.prototype.testn=function(y){r(typeof y=="number"&&y>=0);var S=y%26,B=(y-S)/26,D=1<<S;if(this.length<=B)return!1;var U=this.words[B];return!!(U&D)},i.prototype.imaskn=function(y){r(typeof y=="number"&&y>=0);var S=y%26,B=(y-S)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=B)return this;if(S!==0&&B++,this.length=Math.min(B,this.length),S!==0){var D=67108863^67108863>>>S<<S;this.words[this.length-1]&=D}return this.strip()},i.prototype.maskn=function(y){return this.clone().imaskn(y)},i.prototype.iaddn=function(y){return r(typeof y=="number"),r(y<67108864),y<0?this.isubn(-y):this.negative!==0?this.length===1&&(this.words[0]|0)<y?(this.words[0]=y-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(y),this.negative=1,this):this._iaddn(y)},i.prototype._iaddn=function(y){this.words[0]+=y;for(var S=0;S<this.length&&this.words[S]>=67108864;S++)this.words[S]-=67108864,S===this.length-1?this.words[S+1]=1:this.words[S+1]++;return this.length=Math.max(this.length,S+1),this},i.prototype.isubn=function(y){if(r(typeof y=="number"),r(y<67108864),y<0)return this.iaddn(-y);if(this.negative!==0)return this.negative=0,this.iaddn(y),this.negative=1,this;if(this.words[0]-=y,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var S=0;S<this.length&&this.words[S]<0;S++)this.words[S]+=67108864,this.words[S+1]-=1;return this.strip()},i.prototype.addn=function(y){return this.clone().iaddn(y)},i.prototype.subn=function(y){return this.clone().isubn(y)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(y,S,B){var D=y.length+B,U;this._expand(D);var G,J=0;for(U=0;U<y.length;U++){G=(this.words[U+B]|0)+J;var L=(y.words[U]|0)*S;G-=L&67108863,J=(G>>26)-(L/67108864|0),this.words[U+B]=G&67108863}for(;U<this.length-B;U++)G=(this.words[U+B]|0)+J,J=G>>26,this.words[U+B]=G&67108863;if(J===0)return this.strip();for(r(J===-1),J=0,U=0;U<this.length;U++)G=-(this.words[U]|0)+J,J=G>>26,this.words[U]=G&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(y,S){var B=this.length-y.length,D=this.clone(),U=y,G=U.words[U.length-1]|0,J=this._countBits(G);B=26-J,B!==0&&(U=U.ushln(B),D.iushln(B),G=U.words[U.length-1]|0);var L=D.length-U.length,p;if(S!=="mod"){p=new i(null),p.length=L+1,p.words=new Array(p.length);for(var T=0;T<p.length;T++)p.words[T]=0}var oe=D.clone()._ishlnsubmul(U,1,L);oe.negative===0&&(D=oe,p&&(p.words[L]=1));for(var re=L-1;re>=0;re--){var Q=(D.words[U.length+re]|0)*67108864+(D.words[U.length+re-1]|0);for(Q=Math.min(Q/G|0,67108863),D._ishlnsubmul(U,Q,re);D.negative!==0;)Q--,D.negative=0,D._ishlnsubmul(U,1,re),D.isZero()||(D.negative^=1);p&&(p.words[re]=Q)}return p&&p.strip(),D.strip(),S!=="div"&&B!==0&&D.iushrn(B),{div:p||null,mod:D}},i.prototype.divmod=function(y,S,B){if(r(!y.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var D,U,G;return this.negative!==0&&y.negative===0?(G=this.neg().divmod(y,S),S!=="mod"&&(D=G.div.neg()),S!=="div"&&(U=G.mod.neg(),B&&U.negative!==0&&U.iadd(y)),{div:D,mod:U}):this.negative===0&&y.negative!==0?(G=this.divmod(y.neg(),S),S!=="mod"&&(D=G.div.neg()),{div:D,mod:G.mod}):(this.negative&y.negative)!==0?(G=this.neg().divmod(y.neg(),S),S!=="div"&&(U=G.mod.neg(),B&&U.negative!==0&&U.isub(y)),{div:G.div,mod:U}):y.length>this.length||this.cmp(y)<0?{div:new i(0),mod:this}:y.length===1?S==="div"?{div:this.divn(y.words[0]),mod:null}:S==="mod"?{div:null,mod:new i(this.modn(y.words[0]))}:{div:this.divn(y.words[0]),mod:new i(this.modn(y.words[0]))}:this._wordDiv(y,S)},i.prototype.div=function(y){return this.divmod(y,"div",!1).div},i.prototype.mod=function(y){return this.divmod(y,"mod",!1).mod},i.prototype.umod=function(y){return this.divmod(y,"mod",!0).mod},i.prototype.divRound=function(y){var S=this.divmod(y);if(S.mod.isZero())return S.div;var B=S.div.negative!==0?S.mod.isub(y):S.mod,D=y.ushrn(1),U=y.andln(1),G=B.cmp(D);return G<0||U===1&&G===0?S.div:S.div.negative!==0?S.div.isubn(1):S.div.iaddn(1)},i.prototype.modn=function(y){r(y<=67108863);for(var S=(1<<26)%y,B=0,D=this.length-1;D>=0;D--)B=(S*B+(this.words[D]|0))%y;return B},i.prototype.idivn=function(y){r(y<=67108863);for(var S=0,B=this.length-1;B>=0;B--){var D=(this.words[B]|0)+S*67108864;this.words[B]=D/y|0,S=D%y}return this.strip()},i.prototype.divn=function(y){return this.clone().idivn(y)},i.prototype.egcd=function(y){r(y.negative===0),r(!y.isZero());var S=this,B=y.clone();S.negative!==0?S=S.umod(y):S=S.clone();for(var D=new i(1),U=new i(0),G=new i(0),J=new i(1),L=0;S.isEven()&&B.isEven();)S.iushrn(1),B.iushrn(1),++L;for(var p=B.clone(),T=S.clone();!S.isZero();){for(var oe=0,re=1;(S.words[0]&re)===0&&oe<26;++oe,re<<=1);if(oe>0)for(S.iushrn(oe);oe-- >0;)(D.isOdd()||U.isOdd())&&(D.iadd(p),U.isub(T)),D.iushrn(1),U.iushrn(1);for(var Q=0,xe=1;(B.words[0]&xe)===0&&Q<26;++Q,xe<<=1);if(Q>0)for(B.iushrn(Q);Q-- >0;)(G.isOdd()||J.isOdd())&&(G.iadd(p),J.isub(T)),G.iushrn(1),J.iushrn(1);S.cmp(B)>=0?(S.isub(B),D.isub(G),U.isub(J)):(B.isub(S),G.isub(D),J.isub(U))}return{a:G,b:J,gcd:B.iushln(L)}},i.prototype._invmp=function(y){r(y.negative===0),r(!y.isZero());var S=this,B=y.clone();S.negative!==0?S=S.umod(y):S=S.clone();for(var D=new i(1),U=new i(0),G=B.clone();S.cmpn(1)>0&&B.cmpn(1)>0;){for(var J=0,L=1;(S.words[0]&L)===0&&J<26;++J,L<<=1);if(J>0)for(S.iushrn(J);J-- >0;)D.isOdd()&&D.iadd(G),D.iushrn(1);for(var p=0,T=1;(B.words[0]&T)===0&&p<26;++p,T<<=1);if(p>0)for(B.iushrn(p);p-- >0;)U.isOdd()&&U.iadd(G),U.iushrn(1);S.cmp(B)>=0?(S.isub(B),D.isub(U)):(B.isub(S),U.isub(D))}var oe;return S.cmpn(1)===0?oe=D:oe=U,oe.cmpn(0)<0&&oe.iadd(y),oe},i.prototype.gcd=function(y){if(this.isZero())return y.abs();if(y.isZero())return this.abs();var S=this.clone(),B=y.clone();S.negative=0,B.negative=0;for(var D=0;S.isEven()&&B.isEven();D++)S.iushrn(1),B.iushrn(1);do{for(;S.isEven();)S.iushrn(1);for(;B.isEven();)B.iushrn(1);var U=S.cmp(B);if(U<0){var G=S;S=B,B=G}else if(U===0||B.cmpn(1)===0)break;S.isub(B)}while(!0);return B.iushln(D)},i.prototype.invm=function(y){return this.egcd(y).a.umod(y)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(y){return this.words[0]&y},i.prototype.bincn=function(y){r(typeof y=="number");var S=y%26,B=(y-S)/26,D=1<<S;if(this.length<=B)return this._expand(B+1),this.words[B]|=D,this;for(var U=D,G=B;U!==0&&G<this.length;G++){var J=this.words[G]|0;J+=U,U=J>>>26,J&=67108863,this.words[G]=J}return U!==0&&(this.words[G]=U,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(y){var S=y<0;if(this.negative!==0&&!S)return-1;if(this.negative===0&&S)return 1;this.strip();var B;if(this.length>1)B=1;else{S&&(y=-y),r(y<=67108863,"Number is too big");var D=this.words[0]|0;B=D===y?0:D<y?-1:1}return this.negative!==0?-B|0:B},i.prototype.cmp=function(y){if(this.negative!==0&&y.negative===0)return-1;if(this.negative===0&&y.negative!==0)return 1;var S=this.ucmp(y);return this.negative!==0?-S|0:S},i.prototype.ucmp=function(y){if(this.length>y.length)return 1;if(this.length<y.length)return-1;for(var S=0,B=this.length-1;B>=0;B--){var D=this.words[B]|0,U=y.words[B]|0;if(D!==U){D<U?S=-1:D>U&&(S=1);break}}return S},i.prototype.gtn=function(y){return this.cmpn(y)===1},i.prototype.gt=function(y){return this.cmp(y)===1},i.prototype.gten=function(y){return this.cmpn(y)>=0},i.prototype.gte=function(y){return this.cmp(y)>=0},i.prototype.ltn=function(y){return this.cmpn(y)===-1},i.prototype.lt=function(y){return this.cmp(y)===-1},i.prototype.lten=function(y){return this.cmpn(y)<=0},i.prototype.lte=function(y){return this.cmp(y)<=0},i.prototype.eqn=function(y){return this.cmpn(y)===0},i.prototype.eq=function(y){return this.cmp(y)===0},i.red=function(y){return new He(y)},i.prototype.toRed=function(y){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),y.convertTo(this)._forceRed(y)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(y){return this.red=y,this},i.prototype.forceRed=function(y){return r(!this.red,"Already a number in reduction context"),this._forceRed(y)},i.prototype.redAdd=function(y){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,y)},i.prototype.redIAdd=function(y){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,y)},i.prototype.redSub=function(y){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,y)},i.prototype.redISub=function(y){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,y)},i.prototype.redShl=function(y){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,y)},i.prototype.redMul=function(y){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.mul(this,y)},i.prototype.redIMul=function(y){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.imul(this,y)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(y){return r(this.red&&!y.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,y)};var fe={k256:null,p224:null,p192:null,p25519:null};function _e(F,y){this.name=F,this.p=new i(y,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}_e.prototype._tmp=function(){var y=new i(null);return y.words=new Array(Math.ceil(this.n/13)),y},_e.prototype.ireduce=function(y){var S=y,B;do this.split(S,this.tmp),S=this.imulK(S),S=S.iadd(this.tmp),B=S.bitLength();while(B>this.n);var D=B<this.n?-1:S.ucmp(this.p);return D===0?(S.words[0]=0,S.length=1):D>0?S.isub(this.p):S.strip!==void 0?S.strip():S._strip(),S},_e.prototype.split=function(y,S){y.iushrn(this.n,0,S)},_e.prototype.imulK=function(y){return y.imul(this.k)};function Je(){_e.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(Je,_e),Je.prototype.split=function(y,S){for(var B=4194303,D=Math.min(y.length,9),U=0;U<D;U++)S.words[U]=y.words[U];if(S.length=D,y.length<=9){y.words[0]=0,y.length=1;return}var G=y.words[9];for(S.words[S.length++]=G&B,U=10;U<y.length;U++){var J=y.words[U]|0;y.words[U-10]=(J&B)<<4|G>>>22,G=J}G>>>=22,y.words[U-10]=G,G===0&&y.length>10?y.length-=10:y.length-=9},Je.prototype.imulK=function(y){y.words[y.length]=0,y.words[y.length+1]=0,y.length+=2;for(var S=0,B=0;B<y.length;B++){var D=y.words[B]|0;S+=D*977,y.words[B]=S&67108863,S=D*64+(S/67108864|0)}return y.words[y.length-1]===0&&(y.length--,y.words[y.length-1]===0&&y.length--),y};function Ze(){_e.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(Ze,_e);function Ue(){_e.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(Ue,_e);function Ke(){_e.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(Ke,_e),Ke.prototype.imulK=function(y){for(var S=0,B=0;B<y.length;B++){var D=(y.words[B]|0)*19+S,U=D&67108863;D>>>=26,y.words[B]=U,S=D}return S!==0&&(y.words[y.length++]=S),y},i._prime=function(y){if(fe[y])return fe[y];var S;if(y==="k256")S=new Je;else if(y==="p224")S=new Ze;else if(y==="p192")S=new Ue;else if(y==="p25519")S=new Ke;else throw new Error("Unknown prime "+y);return fe[y]=S,S};function He(F){if(typeof F=="string"){var y=i._prime(F);this.m=y.p,this.prime=y}else r(F.gtn(1),"modulus must be greater than 1"),this.m=F,this.prime=null}He.prototype._verify1=function(y){r(y.negative===0,"red works only with positives"),r(y.red,"red works only with red numbers")},He.prototype._verify2=function(y,S){r((y.negative|S.negative)===0,"red works only with positives"),r(y.red&&y.red===S.red,"red works only with red numbers")},He.prototype.imod=function(y){return this.prime?this.prime.ireduce(y)._forceRed(this):y.umod(this.m)._forceRed(this)},He.prototype.neg=function(y){return y.isZero()?y.clone():this.m.sub(y)._forceRed(this)},He.prototype.add=function(y,S){this._verify2(y,S);var B=y.add(S);return B.cmp(this.m)>=0&&B.isub(this.m),B._forceRed(this)},He.prototype.iadd=function(y,S){this._verify2(y,S);var B=y.iadd(S);return B.cmp(this.m)>=0&&B.isub(this.m),B},He.prototype.sub=function(y,S){this._verify2(y,S);var B=y.sub(S);return B.cmpn(0)<0&&B.iadd(this.m),B._forceRed(this)},He.prototype.isub=function(y,S){this._verify2(y,S);var B=y.isub(S);return B.cmpn(0)<0&&B.iadd(this.m),B},He.prototype.shl=function(y,S){return this._verify1(y),this.imod(y.ushln(S))},He.prototype.imul=function(y,S){return this._verify2(y,S),this.imod(y.imul(S))},He.prototype.mul=function(y,S){return this._verify2(y,S),this.imod(y.mul(S))},He.prototype.isqr=function(y){return this.imul(y,y.clone())},He.prototype.sqr=function(y){return this.mul(y,y)},He.prototype.sqrt=function(y){if(y.isZero())return y.clone();var S=this.m.andln(3);if(r(S%2===1),S===3){var B=this.m.add(new i(1)).iushrn(2);return this.pow(y,B)}for(var D=this.m.subn(1),U=0;!D.isZero()&&D.andln(1)===0;)U++,D.iushrn(1);r(!D.isZero());var G=new i(1).toRed(this),J=G.redNeg(),L=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new i(2*p*p).toRed(this);this.pow(p,L).cmp(J)!==0;)p.redIAdd(J);for(var T=this.pow(p,D),oe=this.pow(y,D.addn(1).iushrn(1)),re=this.pow(y,D),Q=U;re.cmp(G)!==0;){for(var xe=re,nt=0;xe.cmp(G)!==0;nt++)xe=xe.redSqr();r(nt<Q);var pt=this.pow(T,new i(1).iushln(Q-nt-1));oe=oe.redMul(pt),T=pt.redSqr(),re=re.redMul(T),Q=nt}return oe},He.prototype.invm=function(y){var S=y._invmp(this.m);return S.negative!==0?(S.negative=0,this.imod(S).redNeg()):this.imod(S)},He.prototype.pow=function(y,S){if(S.isZero())return new i(1).toRed(this);if(S.cmpn(1)===0)return y.clone();var B=4,D=new Array(1<<B);D[0]=new i(1).toRed(this),D[1]=y;for(var U=2;U<D.length;U++)D[U]=this.mul(D[U-1],y);var G=D[0],J=0,L=0,p=S.bitLength()%26;for(p===0&&(p=26),U=S.length-1;U>=0;U--){for(var T=S.words[U],oe=p-1;oe>=0;oe--){var re=T>>oe&1;if(G!==D[0]&&(G=this.sqr(G)),re===0&&J===0){L=0;continue}J<<=1,J|=re,L++,!(L!==B&&(U!==0||oe!==0))&&(G=this.mul(G,D[J]),L=0,J=0)}p=26}return G},He.prototype.convertTo=function(y){var S=y.umod(this.m);return S===y?S.clone():S},He.prototype.convertFrom=function(y){var S=y.clone();return S.red=null,S},i.mont=function(y){return new we(y)};function we(F){He.call(this,F),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(we,He),we.prototype.convertTo=function(y){return this.imod(y.ushln(this.shift))},we.prototype.convertFrom=function(y){var S=this.imod(y.mul(this.rinv));return S.red=null,S},we.prototype.imul=function(y,S){if(y.isZero()||S.isZero())return y.words[0]=0,y.length=1,y;var B=y.imul(S),D=B.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),U=B.isub(D).iushrn(this.shift),G=U;return U.cmp(this.m)>=0?G=U.isub(this.m):U.cmpn(0)<0&&(G=U.iadd(this.m)),G._forceRed(this)},we.prototype.mul=function(y,S){if(y.isZero()||S.isZero())return new i(0)._forceRed(this);var B=y.mul(S),D=B.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),U=B.isub(D).iushrn(this.shift),G=U;return U.cmp(this.m)>=0?G=U.isub(this.m):U.cmpn(0)<0&&(G=U.iadd(this.m)),G._forceRed(this)},we.prototype.invm=function(y){var S=this.imod(y._invmp(this.m).mul(this.r2));return S._forceRed(this)}})(typeof DR>"u"||DR,Zie)});var vf=g((iQe,tae)=>{tae.exports=eae;function eae(t,e){if(!t)throw new Error(e||"Assertion failed")}eae.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)}});var NR=g(iae=>{"use strict";var cS=iae;function FLe(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t!="string"){for(var n=0;n<t.length;n++)r[n]=t[n]|0;return r}if(e==="hex"){t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t);for(var n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var n=0;n<t.length;n++){var i=t.charCodeAt(n),a=i>>8,o=i&255;a?r.push(a,o):r.push(o)}return r}cS.toArray=FLe;function rae(t){return t.length===1?"0"+t:t}cS.zero2=rae;function nae(t){for(var e="",r=0;r<t.length;r++)e+=rae(t[r].toString(16));return e}cS.toHex=nae;cS.encode=function(e,r){return r==="hex"?nae(e):e}});var Aa=g(aae=>{"use strict";var zs=aae,zLe=Fo(),WLe=vf(),fS=NR();zs.assert=WLe;zs.toArray=fS.toArray;zs.zero2=fS.zero2;zs.toHex=fS.toHex;zs.encode=fS.encode;function jLe(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,a=t.clone(),o=0;o<n.length;o++){var u,f=a.andln(i-1);a.isOdd()?(f>(i>>1)-1?u=(i>>1)-f:u=f,a.isubn(u)):u=0,n[o]=u,a.iushrn(1)}return n}zs.getNAF=jLe;function $Le(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n=0,i=0,a;t.cmpn(-n)>0||e.cmpn(-i)>0;){var o=t.andln(3)+n&3,u=e.andln(3)+i&3;o===3&&(o=-1),u===3&&(u=-1);var f;(o&1)===0?f=0:(a=t.andln(7)+n&7,(a===3||a===5)&&u===2?f=-o:f=o),r[0].push(f);var d;(u&1)===0?d=0:(a=e.andln(7)+i&7,(a===3||a===5)&&o===2?d=-u:d=u),r[1].push(d),2*n===f+1&&(n=1-n),2*i===d+1&&(i=1-i),t.iushrn(1),e.iushrn(1)}return r}zs.getJSF=$Le;function VLe(t,e,r){var n="_"+e;t.prototype[e]=function(){return this[n]!==void 0?this[n]:this[n]=r.call(this)}}zs.cachedProperty=VLe;function GLe(t){return typeof t=="string"?zs.toArray(t,"hex"):t}zs.parseBytes=GLe;function YLe(t){return new zLe(t,"hex","le")}zs.intFromLE=YLe});var KR=g((oQe,HR)=>{var LR;HR.exports=function(e){return LR||(LR=new gf(null)),LR.generate(e)};function gf(t){this.rand=t}HR.exports.Rand=gf;gf.prototype.generate=function(e){return this._rand(e)};gf.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?gf.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?gf.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(gf.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(UR=require("crypto"),typeof UR.randomBytes!="function")throw new Error("Not supported");gf.prototype._rand=function(e){return UR.randomBytes(e)}}catch{}var UR});var Fx=g((uQe,sae)=>{"use strict";var jd=Fo(),Kx=Aa(),dS=Kx.getNAF,JLe=Kx.getJSF,lS=Kx.assert;function _f(t,e){this.type=t,this.p=new jd(e.p,16),this.red=e.prime?jd.red(e.prime):jd.mont(this.p),this.zero=new jd(0).toRed(this.red),this.one=new jd(1).toRed(this.red),this.two=new jd(2).toRed(this.red),this.n=e.n&&new jd(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}sae.exports=_f;_f.prototype.point=function(){throw new Error("Not implemented")};_f.prototype.validate=function(){throw new Error("Not implemented")};_f.prototype._fixedNafMul=function(e,r){lS(e.precomputed);var n=e._getDoubles(),i=dS(r,1,this._bitLength),a=(1<<n.step+1)-(n.step%2===0?2:1);a/=3;var o=[],u,f;for(u=0;u<i.length;u+=n.step){f=0;for(var d=u+n.step-1;d>=u;d--)f=(f<<1)+i[d];o.push(f)}for(var h=this.jpoint(null,null,null),m=this.jpoint(null,null,null),_=a;_>0;_--){for(u=0;u<o.length;u++)f=o[u],f===_?m=m.mixedAdd(n.points[u]):f===-_&&(m=m.mixedAdd(n.points[u].neg()));h=h.add(m)}return h.toP()};_f.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var a=i.points,o=dS(r,n,this._bitLength),u=this.jpoint(null,null,null),f=o.length-1;f>=0;f--){for(var d=0;f>=0&&o[f]===0;f--)d++;if(f>=0&&d++,u=u.dblp(d),f<0)break;var h=o[f];lS(h!==0),e.type==="affine"?h>0?u=u.mixedAdd(a[h-1>>1]):u=u.mixedAdd(a[-h-1>>1].neg()):h>0?u=u.add(a[h-1>>1]):u=u.add(a[-h-1>>1].neg())}return e.type==="affine"?u.toP():u};_f.prototype._wnafMulAdd=function(e,r,n,i,a){var o=this._wnafT1,u=this._wnafT2,f=this._wnafT3,d=0,h,m,_;for(h=0;h<i;h++){_=r[h];var w=_._getNAFPoints(e);o[h]=w.wnd,u[h]=w.points}for(h=i-1;h>=1;h-=2){var P=h-1,M=h;if(o[P]!==1||o[M]!==1){f[P]=dS(n[P],o[P],this._bitLength),f[M]=dS(n[M],o[M],this._bitLength),d=Math.max(f[P].length,d),d=Math.max(f[M].length,d);continue}var K=[r[P],null,null,r[M]];r[P].y.cmp(r[M].y)===0?(K[1]=r[P].add(r[M]),K[2]=r[P].toJ().mixedAdd(r[M].neg())):r[P].y.cmp(r[M].y.redNeg())===0?(K[1]=r[P].toJ().mixedAdd(r[M]),K[2]=r[P].add(r[M].neg())):(K[1]=r[P].toJ().mixedAdd(r[M]),K[2]=r[P].toJ().mixedAdd(r[M].neg()));var Y=[-3,-1,-5,-7,0,7,5,1,3],fe=JLe(n[P],n[M]);for(d=Math.max(fe[0].length,d),f[P]=new Array(d),f[M]=new Array(d),m=0;m<d;m++){var _e=fe[0][m]|0,Je=fe[1][m]|0;f[P][m]=Y[(_e+1)*3+(Je+1)],f[M][m]=0,u[P]=K}}var Ze=this.jpoint(null,null,null),Ue=this._wnafT4;for(h=d;h>=0;h--){for(var Ke=0;h>=0;){var He=!0;for(m=0;m<i;m++)Ue[m]=f[m][h]|0,Ue[m]!==0&&(He=!1);if(!He)break;Ke++,h--}if(h>=0&&Ke++,Ze=Ze.dblp(Ke),h<0)break;for(m=0;m<i;m++){var we=Ue[m];we!==0&&(we>0?_=u[m][we-1>>1]:we<0&&(_=u[m][-we-1>>1].neg()),_.type==="affine"?Ze=Ze.mixedAdd(_):Ze=Ze.add(_))}}for(h=0;h<i;h++)u[h]=null;return a?Ze:Ze.toP()};function os(t,e){this.curve=t,this.type=e,this.precomputed=null}_f.BasePoint=os;os.prototype.eq=function(){throw new Error("Not implemented")};os.prototype.validate=function(){return this.curve.validate(this)};_f.prototype.decodePoint=function(e,r){e=Kx.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?lS(e[e.length-1]%2===0):e[0]===7&&lS(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};os.prototype.encodeCompressed=function(e){return this.encode(e,!0)};os.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};os.prototype.encode=function(e,r){return Kx.encode(this._encode(r),e)};os.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};os.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};os.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,a=0;a<r;a+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};os.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),a=1;a<n;a++)r[a]=r[a-1].add(i);return{wnd:e,points:r}};os.prototype._getBeta=function(){return null};os.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r}});var oae=g((cQe,FR)=>{typeof Object.create=="function"?FR.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:FR.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var zx=g((fQe,WR)=>{try{if(zR=require("util"),typeof zR.inherits!="function")throw"";WR.exports=zR.inherits}catch{WR.exports=oae()}var zR});var cae=g((dQe,uae)=>{"use strict";var XLe=Aa(),Tn=Fo(),jR=zx(),Oh=Fx(),QLe=XLe.assert;function us(t){Oh.call(this,"short",t),this.a=new Tn(t.a,16).toRed(this.red),this.b=new Tn(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}jR(us,Oh);uae.exports=us;us.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Tn(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new Tn(e.lambda,16);else{var a=this._getEndoRoots(this.n);this.g.mul(a[0]).x.cmp(this.g.x.redMul(r))===0?n=a[0]:(n=a[1],QLe(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(u){return{a:new Tn(u.a,16),b:new Tn(u.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};us.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Tn.mont(e),n=new Tn(2).toRed(r).redInvm(),i=n.redNeg(),a=new Tn(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(a).fromRed(),u=i.redSub(a).fromRed();return[o,u]};us.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),a=new Tn(1),o=new Tn(0),u=new Tn(0),f=new Tn(1),d,h,m,_,w,P,M,K=0,Y,fe;n.cmpn(0)!==0;){var _e=i.div(n);Y=i.sub(_e.mul(n)),fe=u.sub(_e.mul(a));var Je=f.sub(_e.mul(o));if(!m&&Y.cmp(r)<0)d=M.neg(),h=a,m=Y.neg(),_=fe;else if(m&&++K===2)break;M=Y,i=n,n=Y,u=a,a=fe,f=o,o=Je}w=Y.neg(),P=fe;var Ze=m.sqr().add(_.sqr()),Ue=w.sqr().add(P.sqr());return Ue.cmp(Ze)>=0&&(w=d,P=h),m.negative&&(m=m.neg(),_=_.neg()),w.negative&&(w=w.neg(),P=P.neg()),[{a:m,b:_},{a:w,b:P}]};us.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],a=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),u=a.mul(n.a),f=o.mul(i.a),d=a.mul(n.b),h=o.mul(i.b),m=e.sub(u).sub(f),_=d.add(h).neg();return{k1:m,k2:_}};us.prototype.pointFromX=function(e,r){e=new Tn(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var a=i.fromRed().isOdd();return(r&&!a||!r&&a)&&(i=i.redNeg()),this.point(e,i)};us.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),a=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(a).cmpn(0)===0};us.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,a=this._endoWnafT2,o=0;o<e.length;o++){var u=this._endoSplit(r[o]),f=e[o],d=f._getBeta();u.k1.negative&&(u.k1.ineg(),f=f.neg(!0)),u.k2.negative&&(u.k2.ineg(),d=d.neg(!0)),i[o*2]=f,i[o*2+1]=d,a[o*2]=u.k1,a[o*2+1]=u.k2}for(var h=this._wnafMulAdd(1,i,a,o*2,n),m=0;m<o*2;m++)i[m]=null,a[m]=null;return h};function fi(t,e,r,n){Oh.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Tn(e,16),this.y=new Tn(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}jR(fi,Oh.BasePoint);us.prototype.point=function(e,r,n){return new fi(this,e,r,n)};us.prototype.pointFromJSON=function(e,r){return fi.fromJSON(this,e,r)};fi.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(a){return n.point(a.x.redMul(n.endo.beta),a.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};fi.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};fi.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function a(u){return e.point(u[0],u[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(a))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(a))}},i};fi.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};fi.prototype.isInfinity=function(){return this.inf};fi.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};fi.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),a=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=a.redSqr().redISub(this.x.redAdd(this.x)),u=a.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,u)};fi.prototype.getX=function(){return this.x.fromRed()};fi.prototype.getY=function(){return this.y.fromRed()};fi.prototype.mul=function(e){return e=new Tn(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};fi.prototype.mulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a):this.curve._wnafMulAdd(1,i,a,2)};fi.prototype.jmulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a,!0):this.curve._wnafMulAdd(1,i,a,2,!0)};fi.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};fi.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(a){return a.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};fi.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function yi(t,e,r,n){Oh.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Tn(0)):(this.x=new Tn(e,16),this.y=new Tn(r,16),this.z=new Tn(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}jR(yi,Oh.BasePoint);us.prototype.jpoint=function(e,r,n){return new yi(this,e,r,n)};yi.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};yi.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};yi.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),a=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),u=e.y.redMul(n.redMul(this.z)),f=i.redSub(a),d=o.redSub(u);if(f.cmpn(0)===0)return d.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var h=f.redSqr(),m=h.redMul(f),_=i.redMul(h),w=d.redSqr().redIAdd(m).redISub(_).redISub(_),P=d.redMul(_.redISub(w)).redISub(o.redMul(m)),M=this.z.redMul(e.z).redMul(f);return this.curve.jpoint(w,P,M)};yi.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),a=this.y,o=e.y.redMul(r).redMul(this.z),u=n.redSub(i),f=a.redSub(o);if(u.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var d=u.redSqr(),h=d.redMul(u),m=n.redMul(d),_=f.redSqr().redIAdd(h).redISub(m).redISub(m),w=f.redMul(m.redISub(_)).redISub(a.redMul(h)),P=this.z.redMul(u);return this.curve.jpoint(_,w,P)};yi.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,a=this.curve.tinv,o=this.x,u=this.y,f=this.z,d=f.redSqr().redSqr(),h=u.redAdd(u);for(r=0;r<e;r++){var m=o.redSqr(),_=h.redSqr(),w=_.redSqr(),P=m.redAdd(m).redIAdd(m).redIAdd(i.redMul(d)),M=o.redMul(_),K=P.redSqr().redISub(M.redAdd(M)),Y=M.redISub(K),fe=P.redMul(Y);fe=fe.redIAdd(fe).redISub(w);var _e=h.redMul(f);r+1<e&&(d=d.redMul(w)),o=K,f=_e,h=fe}return this.curve.jpoint(o,h.redMul(a),f)};yi.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};yi.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),o=a.redSqr(),u=this.x.redAdd(a).redSqr().redISub(i).redISub(o);u=u.redIAdd(u);var f=i.redAdd(i).redIAdd(i),d=f.redSqr().redISub(u).redISub(u),h=o.redIAdd(o);h=h.redIAdd(h),h=h.redIAdd(h),e=d,r=f.redMul(u.redISub(d)).redISub(h),n=this.y.redAdd(this.y)}else{var m=this.x.redSqr(),_=this.y.redSqr(),w=_.redSqr(),P=this.x.redAdd(_).redSqr().redISub(m).redISub(w);P=P.redIAdd(P);var M=m.redAdd(m).redIAdd(m),K=M.redSqr(),Y=w.redIAdd(w);Y=Y.redIAdd(Y),Y=Y.redIAdd(Y),e=K.redISub(P).redISub(P),r=M.redMul(P.redISub(e)).redISub(Y),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};yi.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),o=a.redSqr(),u=this.x.redAdd(a).redSqr().redISub(i).redISub(o);u=u.redIAdd(u);var f=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),d=f.redSqr().redISub(u).redISub(u);e=d;var h=o.redIAdd(o);h=h.redIAdd(h),h=h.redIAdd(h),r=f.redMul(u.redISub(d)).redISub(h),n=this.y.redAdd(this.y)}else{var m=this.z.redSqr(),_=this.y.redSqr(),w=this.x.redMul(_),P=this.x.redSub(m).redMul(this.x.redAdd(m));P=P.redAdd(P).redIAdd(P);var M=w.redIAdd(w);M=M.redIAdd(M);var K=M.redAdd(M);e=P.redSqr().redISub(K),n=this.y.redAdd(this.z).redSqr().redISub(_).redISub(m);var Y=_.redSqr();Y=Y.redIAdd(Y),Y=Y.redIAdd(Y),Y=Y.redIAdd(Y),r=P.redMul(M.redISub(e)).redISub(Y)}return this.curve.jpoint(e,r,n)};yi.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,a=i.redSqr().redSqr(),o=r.redSqr(),u=n.redSqr(),f=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(a)),d=r.redAdd(r);d=d.redIAdd(d);var h=d.redMul(u),m=f.redSqr().redISub(h.redAdd(h)),_=h.redISub(m),w=u.redSqr();w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w);var P=f.redMul(_).redISub(w),M=n.redAdd(n).redMul(i);return this.curve.jpoint(m,P,M)};yi.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),a=e.redAdd(e).redIAdd(e),o=a.redSqr(),u=this.x.redAdd(r).redSqr().redISub(e).redISub(i);u=u.redIAdd(u),u=u.redAdd(u).redIAdd(u),u=u.redISub(o);var f=u.redSqr(),d=i.redIAdd(i);d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d);var h=a.redIAdd(u).redSqr().redISub(o).redISub(f).redISub(d),m=r.redMul(h);m=m.redIAdd(m),m=m.redIAdd(m);var _=this.x.redMul(f).redISub(m);_=_.redIAdd(_),_=_.redIAdd(_);var w=this.y.redMul(h.redMul(d.redISub(h)).redISub(u.redMul(f)));w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w);var P=this.z.redAdd(u).redSqr().redISub(n).redISub(f);return this.curve.jpoint(_,w,P)};yi.prototype.mul=function(e,r){return e=new Tn(e,r),this.curve._wnafMul(this,e)};yi.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),a=n.redMul(e.z);return this.y.redMul(a).redISub(e.y.redMul(i)).cmpn(0)===0};yi.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),a=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(a),this.x.cmp(n)===0)return!0}};yi.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};yi.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var lae=g((lQe,dae)=>{"use strict";var qh=Fo(),fae=zx(),hS=Fx(),ZLe=Aa();function Dh(t){hS.call(this,"mont",t),this.a=new qh(t.a,16).toRed(this.red),this.b=new qh(t.b,16).toRed(this.red),this.i4=new qh(4).toRed(this.red).redInvm(),this.two=new qh(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}fae(Dh,hS);dae.exports=Dh;Dh.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),a=i.redSqrt();return a.redSqr().cmp(i)===0};function di(t,e,r){hS.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new qh(e,16),this.z=new qh(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}fae(di,hS.BasePoint);Dh.prototype.decodePoint=function(e,r){return this.point(ZLe.toArray(e,r),1)};Dh.prototype.point=function(e,r){return new di(this,e,r)};Dh.prototype.pointFromJSON=function(e){return di.fromJSON(this,e)};di.prototype.precompute=function(){};di.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};di.fromJSON=function(e,r){return new di(e,r[0],r[1]||e.one)};di.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};di.prototype.isInfinity=function(){return this.z.cmpn(0)===0};di.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),a=r.redSub(i),o=r.redMul(i),u=a.redMul(i.redAdd(this.curve.a24.redMul(a)));return this.curve.point(o,u)};di.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};di.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),a=e.x.redAdd(e.z),o=e.x.redSub(e.z),u=o.redMul(n),f=a.redMul(i),d=r.z.redMul(u.redAdd(f).redSqr()),h=r.x.redMul(u.redISub(f).redSqr());return this.curve.point(d,h)};di.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),a=this,o=[];r.cmpn(0)!==0;r.iushrn(1))o.push(r.andln(1));for(var u=o.length-1;u>=0;u--)o[u]===0?(n=n.diffAdd(i,a),i=i.dbl()):(i=n.diffAdd(i,a),n=n.dbl());return i};di.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};di.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};di.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};di.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};di.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var mae=g((hQe,pae)=>{"use strict";var eUe=Aa(),Wu=Fo(),hae=zx(),pS=Fx(),tUe=eUe.assert;function zo(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,pS.call(this,"edwards",t),this.a=new Wu(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Wu(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Wu(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),tUe(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}hae(zo,pS);pae.exports=zo;zo.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};zo.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};zo.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};zo.prototype.pointFromX=function(e,r){e=new Wu(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),a=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=i.redMul(a.redInvm()),u=o.redSqrt();if(u.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var f=u.fromRed().isOdd();return(r&&!f||!r&&f)&&(u=u.redNeg()),this.point(e,u)};zo.prototype.pointFromY=function(e,r){e=new Wu(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),a=n.redMul(this.d).redMul(this.c2).redSub(this.a),o=i.redMul(a.redInvm());if(o.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var u=o.redSqrt();if(u.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");return u.fromRed().isOdd()!==r&&(u=u.redNeg()),this.point(u,e)};zo.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),a=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(a)===0};function Qr(t,e,r,n,i){pS.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Wu(e,16),this.y=new Wu(r,16),this.z=n?new Wu(n,16):this.curve.one,this.t=i&&new Wu(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}hae(Qr,pS.BasePoint);zo.prototype.pointFromJSON=function(e){return Qr.fromJSON(this,e)};zo.prototype.point=function(e,r,n,i){return new Qr(this,e,r,n,i)};Qr.fromJSON=function(e,r){return new Qr(e,r[0],r[1],r[2])};Qr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Qr.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Qr.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),a=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),o=i.redAdd(r),u=o.redSub(n),f=i.redSub(r),d=a.redMul(u),h=o.redMul(f),m=a.redMul(f),_=u.redMul(o);return this.curve.point(d,h,_,m)};Qr.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,a,o,u,f,d;if(this.curve.twisted){u=this.curve._mulA(r);var h=u.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(h.redSub(this.curve.two)),a=h.redMul(u.redSub(n)),o=h.redSqr().redSub(h).redSub(h)):(f=this.z.redSqr(),d=h.redSub(f).redISub(f),i=e.redSub(r).redISub(n).redMul(d),a=h.redMul(u.redSub(n)),o=h.redMul(d))}else u=r.redAdd(n),f=this.curve._mulC(this.z).redSqr(),d=u.redSub(f).redSub(f),i=this.curve._mulC(e.redISub(u)).redMul(d),a=this.curve._mulC(u).redMul(r.redISub(n)),o=u.redMul(d);return this.curve.point(i,a,o)};Qr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Qr.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),a=this.z.redMul(e.z.redAdd(e.z)),o=n.redSub(r),u=a.redSub(i),f=a.redAdd(i),d=n.redAdd(r),h=o.redMul(u),m=f.redMul(d),_=o.redMul(d),w=u.redMul(f);return this.curve.point(h,m,w,_)};Qr.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),a=this.y.redMul(e.y),o=this.curve.d.redMul(i).redMul(a),u=n.redSub(o),f=n.redAdd(o),d=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(a),h=r.redMul(u).redMul(d),m,_;return this.curve.twisted?(m=r.redMul(f).redMul(a.redSub(this.curve._mulA(i))),_=u.redMul(f)):(m=r.redMul(f).redMul(a.redSub(i)),_=this.curve._mulC(u).redMul(f)),this.curve.point(h,m,_)};Qr.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Qr.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Qr.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};Qr.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};Qr.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Qr.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Qr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Qr.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Qr.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Qr.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};Qr.prototype.toP=Qr.prototype.normalize;Qr.prototype.mixedAdd=Qr.prototype.add});var $R=g(xae=>{"use strict";var mS=xae;mS.base=Fx();mS.short=cae();mS.mont=lae();mS.edwards=mae()});var Ws=g(Wr=>{"use strict";var rUe=vf(),nUe=zx();Wr.inherits=nUe;function iUe(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function aUe(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var a=t.charCodeAt(i);a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=a&63|128):iUe(t,i)?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=a&63|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=a&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}Wr.toArray=aUe;function sUe(t){for(var e="",r=0;r<t.length;r++)e+=bae(t[r].toString(16));return e}Wr.toHex=sUe;function yae(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Wr.htonl=yae;function oUe(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=yae(i)),r+=vae(i.toString(16))}return r}Wr.toHex32=oUe;function bae(t){return t.length===1?"0"+t:t}Wr.zero2=bae;function vae(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Wr.zero8=vae;function uUe(t,e,r,n){var i=r-e;rUe(i%4===0);for(var a=new Array(i/4),o=0,u=e;o<a.length;o++,u+=4){var f;n==="big"?f=t[u]<<24|t[u+1]<<16|t[u+2]<<8|t[u+3]:f=t[u+3]<<24|t[u+2]<<16|t[u+1]<<8|t[u],a[o]=f>>>0}return a}Wr.join32=uUe;function cUe(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var a=t[n];e==="big"?(r[i]=a>>>24,r[i+1]=a>>>16&255,r[i+2]=a>>>8&255,r[i+3]=a&255):(r[i+3]=a>>>24,r[i+2]=a>>>16&255,r[i+1]=a>>>8&255,r[i]=a&255)}return r}Wr.split32=cUe;function fUe(t,e){return t>>>e|t<<32-e}Wr.rotr32=fUe;function dUe(t,e){return t<<e|t>>>32-e}Wr.rotl32=dUe;function lUe(t,e){return t+e>>>0}Wr.sum32=lUe;function hUe(t,e,r){return t+e+r>>>0}Wr.sum32_3=hUe;function pUe(t,e,r,n){return t+e+r+n>>>0}Wr.sum32_4=pUe;function mUe(t,e,r,n,i){return t+e+r+n+i>>>0}Wr.sum32_5=mUe;function xUe(t,e,r,n){var i=t[e],a=t[e+1],o=n+a>>>0,u=(o<n?1:0)+r+i;t[e]=u>>>0,t[e+1]=o}Wr.sum64=xUe;function yUe(t,e,r,n){var i=e+n>>>0,a=(i<e?1:0)+t+r;return a>>>0}Wr.sum64_hi=yUe;function bUe(t,e,r,n){var i=e+n;return i>>>0}Wr.sum64_lo=bUe;function vUe(t,e,r,n,i,a,o,u){var f=0,d=e;d=d+n>>>0,f+=d<e?1:0,d=d+a>>>0,f+=d<a?1:0,d=d+u>>>0,f+=d<u?1:0;var h=t+r+i+o+f;return h>>>0}Wr.sum64_4_hi=vUe;function gUe(t,e,r,n,i,a,o,u){var f=e+n+a+u;return f>>>0}Wr.sum64_4_lo=gUe;function _Ue(t,e,r,n,i,a,o,u,f,d){var h=0,m=e;m=m+n>>>0,h+=m<e?1:0,m=m+a>>>0,h+=m<a?1:0,m=m+u>>>0,h+=m<u?1:0,m=m+d>>>0,h+=m<d?1:0;var _=t+r+i+o+f+h;return _>>>0}Wr.sum64_5_hi=_Ue;function wUe(t,e,r,n,i,a,o,u,f,d){var h=e+n+a+u+d;return h>>>0}Wr.sum64_5_lo=wUe;function SUe(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}Wr.rotr64_hi=SUe;function AUe(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Wr.rotr64_lo=AUe;function CUe(t,e,r){return t>>>r}Wr.shr64_hi=CUe;function EUe(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Wr.shr64_lo=EUe});var Nh=g(_ae=>{"use strict";var gae=Ws(),PUe=vf();function xS(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}_ae.BlockHash=xS;xS.prototype.update=function(e,r){if(e=gae.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=gae.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};xS.prototype.digest=function(e){return this.update(this._pad()),PUe(this.pending===null),this._digest(e)};xS.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var a=1;a<n;a++)i[a]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[a++]=0;i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=e>>>24&255,i[a++]=e>>>16&255,i[a++]=e>>>8&255,i[a++]=e&255}else for(i[a++]=e&255,i[a++]=e>>>8&255,i[a++]=e>>>16&255,i[a++]=e>>>24&255,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,o=8;o<this.padLength;o++)i[a++]=0;return i}});var VR=g(ju=>{"use strict";var TUe=Ws(),Wo=TUe.rotr32;function IUe(t,e,r,n){if(t===0)return wae(e,r,n);if(t===1||t===3)return Aae(e,r,n);if(t===2)return Sae(e,r,n)}ju.ft_1=IUe;function wae(t,e,r){return t&e^~t&r}ju.ch32=wae;function Sae(t,e,r){return t&e^t&r^e&r}ju.maj32=Sae;function Aae(t,e,r){return t^e^r}ju.p32=Aae;function kUe(t){return Wo(t,2)^Wo(t,13)^Wo(t,22)}ju.s0_256=kUe;function BUe(t){return Wo(t,6)^Wo(t,11)^Wo(t,25)}ju.s1_256=BUe;function RUe(t){return Wo(t,7)^Wo(t,18)^t>>>3}ju.g0_256=RUe;function MUe(t){return Wo(t,17)^Wo(t,19)^t>>>10}ju.g1_256=MUe});var Pae=g((bQe,Eae)=>{"use strict";var Lh=Ws(),OUe=Nh(),qUe=VR(),GR=Lh.rotl32,Wx=Lh.sum32,DUe=Lh.sum32_5,NUe=qUe.ft_1,Cae=OUe.BlockHash,LUe=[1518500249,1859775393,2400959708,3395469782];function jo(){if(!(this instanceof jo))return new jo;Cae.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Lh.inherits(jo,Cae);Eae.exports=jo;jo.blockSize=512;jo.outSize=160;jo.hmacStrength=80;jo.padLength=64;jo.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=GR(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var a=this.h[0],o=this.h[1],u=this.h[2],f=this.h[3],d=this.h[4];for(i=0;i<n.length;i++){var h=~~(i/20),m=DUe(GR(a,5),NUe(h,o,u,f),d,n[i],LUe[h]);d=f,f=u,u=GR(o,30),o=a,a=m}this.h[0]=Wx(this.h[0],a),this.h[1]=Wx(this.h[1],o),this.h[2]=Wx(this.h[2],u),this.h[3]=Wx(this.h[3],f),this.h[4]=Wx(this.h[4],d)};jo.prototype._digest=function(e){return e==="hex"?Lh.toHex32(this.h,"big"):Lh.split32(this.h,"big")}});var YR=g((vQe,Iae)=>{"use strict";var Uh=Ws(),UUe=Nh(),Hh=VR(),HUe=vf(),js=Uh.sum32,KUe=Uh.sum32_4,FUe=Uh.sum32_5,zUe=Hh.ch32,WUe=Hh.maj32,jUe=Hh.s0_256,$Ue=Hh.s1_256,VUe=Hh.g0_256,GUe=Hh.g1_256,Tae=UUe.BlockHash,YUe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function $o(){if(!(this instanceof $o))return new $o;Tae.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=YUe,this.W=new Array(64)}Uh.inherits($o,Tae);Iae.exports=$o;$o.blockSize=512;$o.outSize=256;$o.hmacStrength=192;$o.padLength=64;$o.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=KUe(GUe(n[i-2]),n[i-7],VUe(n[i-15]),n[i-16]);var a=this.h[0],o=this.h[1],u=this.h[2],f=this.h[3],d=this.h[4],h=this.h[5],m=this.h[6],_=this.h[7];for(HUe(this.k.length===n.length),i=0;i<n.length;i++){var w=FUe(_,$Ue(d),zUe(d,h,m),this.k[i],n[i]),P=js(jUe(a),WUe(a,o,u));_=m,m=h,h=d,d=js(f,w),f=u,u=o,o=a,a=js(w,P)}this.h[0]=js(this.h[0],a),this.h[1]=js(this.h[1],o),this.h[2]=js(this.h[2],u),this.h[3]=js(this.h[3],f),this.h[4]=js(this.h[4],d),this.h[5]=js(this.h[5],h),this.h[6]=js(this.h[6],m),this.h[7]=js(this.h[7],_)};$o.prototype._digest=function(e){return e==="hex"?Uh.toHex32(this.h,"big"):Uh.split32(this.h,"big")}});var Rae=g((gQe,Bae)=>{"use strict";var JR=Ws(),kae=YR();function $u(){if(!(this instanceof $u))return new $u;kae.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}JR.inherits($u,kae);Bae.exports=$u;$u.blockSize=512;$u.outSize=224;$u.hmacStrength=192;$u.padLength=64;$u.prototype._digest=function(e){return e==="hex"?JR.toHex32(this.h.slice(0,7),"big"):JR.split32(this.h.slice(0,7),"big")}});var ZR=g((_Qe,Dae)=>{"use strict";var na=Ws(),JUe=Nh(),XUe=vf(),Vo=na.rotr64_hi,Go=na.rotr64_lo,Mae=na.shr64_hi,Oae=na.shr64_lo,wf=na.sum64,XR=na.sum64_hi,QR=na.sum64_lo,QUe=na.sum64_4_hi,ZUe=na.sum64_4_lo,eHe=na.sum64_5_hi,tHe=na.sum64_5_lo,qae=JUe.BlockHash,rHe=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function $s(){if(!(this instanceof $s))return new $s;qae.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=rHe,this.W=new Array(160)}na.inherits($s,qae);Dae.exports=$s;$s.blockSize=1024;$s.outSize=512;$s.hmacStrength=192;$s.padLength=128;$s.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var a=hHe(n[i-4],n[i-3]),o=pHe(n[i-4],n[i-3]),u=n[i-14],f=n[i-13],d=dHe(n[i-30],n[i-29]),h=lHe(n[i-30],n[i-29]),m=n[i-32],_=n[i-31];n[i]=QUe(a,o,u,f,d,h,m,_),n[i+1]=ZUe(a,o,u,f,d,h,m,_)}};$s.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],a=this.h[1],o=this.h[2],u=this.h[3],f=this.h[4],d=this.h[5],h=this.h[6],m=this.h[7],_=this.h[8],w=this.h[9],P=this.h[10],M=this.h[11],K=this.h[12],Y=this.h[13],fe=this.h[14],_e=this.h[15];XUe(this.k.length===n.length);for(var Je=0;Je<n.length;Je+=2){var Ze=fe,Ue=_e,Ke=cHe(_,w),He=fHe(_,w),we=nHe(_,w,P,M,K,Y),F=iHe(_,w,P,M,K,Y),y=this.k[Je],S=this.k[Je+1],B=n[Je],D=n[Je+1],U=eHe(Ze,Ue,Ke,He,we,F,y,S,B,D),G=tHe(Ze,Ue,Ke,He,we,F,y,S,B,D);Ze=oHe(i,a),Ue=uHe(i,a),Ke=aHe(i,a,o,u,f,d),He=sHe(i,a,o,u,f,d);var J=XR(Ze,Ue,Ke,He),L=QR(Ze,Ue,Ke,He);fe=K,_e=Y,K=P,Y=M,P=_,M=w,_=XR(h,m,U,G),w=QR(m,m,U,G),h=f,m=d,f=o,d=u,o=i,u=a,i=XR(U,G,J,L),a=QR(U,G,J,L)}wf(this.h,0,i,a),wf(this.h,2,o,u),wf(this.h,4,f,d),wf(this.h,6,h,m),wf(this.h,8,_,w),wf(this.h,10,P,M),wf(this.h,12,K,Y),wf(this.h,14,fe,_e)};$s.prototype._digest=function(e){return e==="hex"?na.toHex32(this.h,"big"):na.split32(this.h,"big")};function nHe(t,e,r,n,i){var a=t&r^~t&i;return a<0&&(a+=4294967296),a}function iHe(t,e,r,n,i,a){var o=e&n^~e&a;return o<0&&(o+=4294967296),o}function aHe(t,e,r,n,i){var a=t&r^t&i^r&i;return a<0&&(a+=4294967296),a}function sHe(t,e,r,n,i,a){var o=e&n^e&a^n&a;return o<0&&(o+=4294967296),o}function oHe(t,e){var r=Vo(t,e,28),n=Vo(e,t,2),i=Vo(e,t,7),a=r^n^i;return a<0&&(a+=4294967296),a}function uHe(t,e){var r=Go(t,e,28),n=Go(e,t,2),i=Go(e,t,7),a=r^n^i;return a<0&&(a+=4294967296),a}function cHe(t,e){var r=Vo(t,e,14),n=Vo(t,e,18),i=Vo(e,t,9),a=r^n^i;return a<0&&(a+=4294967296),a}function fHe(t,e){var r=Go(t,e,14),n=Go(t,e,18),i=Go(e,t,9),a=r^n^i;return a<0&&(a+=4294967296),a}function dHe(t,e){var r=Vo(t,e,1),n=Vo(t,e,8),i=Mae(t,e,7),a=r^n^i;return a<0&&(a+=4294967296),a}function lHe(t,e){var r=Go(t,e,1),n=Go(t,e,8),i=Oae(t,e,7),a=r^n^i;return a<0&&(a+=4294967296),a}function hHe(t,e){var r=Vo(t,e,19),n=Vo(e,t,29),i=Mae(t,e,6),a=r^n^i;return a<0&&(a+=4294967296),a}function pHe(t,e){var r=Go(t,e,19),n=Go(e,t,29),i=Oae(t,e,6),a=r^n^i;return a<0&&(a+=4294967296),a}});var Uae=g((wQe,Lae)=>{"use strict";var eM=Ws(),Nae=ZR();function Vu(){if(!(this instanceof Vu))return new Vu;Nae.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}eM.inherits(Vu,Nae);Lae.exports=Vu;Vu.blockSize=1024;Vu.outSize=384;Vu.hmacStrength=192;Vu.padLength=128;Vu.prototype._digest=function(e){return e==="hex"?eM.toHex32(this.h.slice(0,12),"big"):eM.split32(this.h.slice(0,12),"big")}});var Hae=g(Kh=>{"use strict";Kh.sha1=Pae();Kh.sha224=Rae();Kh.sha256=YR();Kh.sha384=Uae();Kh.sha512=ZR()});var $ae=g(jae=>{"use strict";var $d=Ws(),mHe=Nh(),yS=$d.rotl32,Kae=$d.sum32,jx=$d.sum32_3,Fae=$d.sum32_4,Wae=mHe.BlockHash;function Yo(){if(!(this instanceof Yo))return new Yo;Wae.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}$d.inherits(Yo,Wae);jae.ripemd160=Yo;Yo.blockSize=512;Yo.outSize=160;Yo.hmacStrength=192;Yo.padLength=64;Yo.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],a=this.h[2],o=this.h[3],u=this.h[4],f=n,d=i,h=a,m=o,_=u,w=0;w<80;w++){var P=Kae(yS(Fae(n,zae(w,i,a,o),e[bHe[w]+r],xHe(w)),gHe[w]),u);n=u,u=o,o=yS(a,10),a=i,i=P,P=Kae(yS(Fae(f,zae(79-w,d,h,m),e[vHe[w]+r],yHe(w)),_He[w]),_),f=_,_=m,m=yS(h,10),h=d,d=P}P=jx(this.h[1],a,m),this.h[1]=jx(this.h[2],o,_),this.h[2]=jx(this.h[3],u,f),this.h[3]=jx(this.h[4],n,d),this.h[4]=jx(this.h[0],i,h),this.h[0]=P};Yo.prototype._digest=function(e){return e==="hex"?$d.toHex32(this.h,"little"):$d.split32(this.h,"little")};function zae(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function xHe(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function yHe(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var bHe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],vHe=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],gHe=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],_He=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var Gae=g((CQe,Vae)=>{"use strict";var wHe=Ws(),SHe=vf();function Fh(t,e,r){if(!(this instanceof Fh))return new Fh(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(wHe.toArray(e,r))}Vae.exports=Fh;Fh.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),SHe(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};Fh.prototype.update=function(e,r){return this.inner.update(e,r),this};Fh.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}});var bS=g(Yae=>{var bi=Yae;bi.utils=Ws();bi.common=Nh();bi.sha=Hae();bi.ripemd=$ae();bi.hmac=Gae();bi.sha1=bi.sha.sha1;bi.sha256=bi.sha.sha256;bi.sha224=bi.sha.sha224;bi.sha384=bi.sha.sha384;bi.sha512=bi.sha.sha512;bi.ripemd160=bi.ripemd.ripemd160});var Xae=g((PQe,Jae)=>{Jae.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var vS=g(ese=>{"use strict";var rM=ese,Sf=bS(),tM=$R(),AHe=Aa(),Qae=AHe.assert;function Zae(t){t.type==="short"?this.curve=new tM.short(t):t.type==="edwards"?this.curve=new tM.edwards(t):this.curve=new tM.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,Qae(this.g.validate(),"Invalid curve"),Qae(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}rM.PresetCurve=Zae;function Af(t,e){Object.defineProperty(rM,t,{configurable:!0,enumerable:!0,get:function(){var r=new Zae(e);return Object.defineProperty(rM,t,{configurable:!0,enumerable:!0,value:r}),r}})}Af("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Sf.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});Af("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Sf.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});Af("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Sf.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});Af("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Sf.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});Af("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Sf.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});Af("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Sf.sha256,gRed:!1,g:["9"]});Af("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Sf.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var nM;try{nM=Xae()}catch{nM=void 0}Af("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Sf.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",nM]})});var nse=g((IQe,rse)=>{"use strict";var CHe=bS(),Vd=NR(),tse=vf();function Cf(t){if(!(this instanceof Cf))return new Cf(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Vd.toArray(t.entropy,t.entropyEnc||"hex"),r=Vd.toArray(t.nonce,t.nonceEnc||"hex"),n=Vd.toArray(t.pers,t.persEnc||"hex");tse(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}rse.exports=Cf;Cf.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++)this.K[a]=0,this.V[a]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Cf.prototype._hmac=function(){return new CHe.hmac(this.hash,this.K)};Cf.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Cf.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Vd.toArray(e,r),n=Vd.toArray(n,i),tse(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Cf.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Vd.toArray(n,i||"hex"),this._update(n));for(var a=[];a.length<e;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var o=a.slice(0,e);return this._update(n),this._reseed++,Vd.encode(o,r)}});var ase=g((kQe,ise)=>{"use strict";var EHe=Fo(),PHe=Aa(),iM=PHe.assert;function Ii(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}ise.exports=Ii;Ii.fromPublic=function(e,r,n){return r instanceof Ii?r:new Ii(e,{pub:r,pubEnc:n})};Ii.fromPrivate=function(e,r,n){return r instanceof Ii?r:new Ii(e,{priv:r,privEnc:n})};Ii.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Ii.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Ii.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Ii.prototype._importPrivate=function(e,r){this.priv=new EHe(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Ii.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?iM(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&iM(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Ii.prototype.derive=function(e){return e.validate()||iM(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Ii.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Ii.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Ii.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var use=g((BQe,ose)=>{"use strict";var gS=Fo(),oM=Aa(),THe=oM.assert;function _S(t,e){if(t instanceof _S)return t;this._importDER(t,e)||(THe(t.r&&t.s,"Signature without r or s"),this.r=new gS(t.r,16),this.s=new gS(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}ose.exports=_S;function IHe(){this.place=0}function aM(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,a=0,o=e.place;a<n;a++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function sse(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}_S.prototype._importDER=function(e,r){e=oM.toArray(e,r);var n=new IHe;if(e[n.place++]!==48)return!1;var i=aM(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var a=aM(e,n);if(a===!1)return!1;var o=e.slice(n.place,a+n.place);if(n.place+=a,e[n.place++]!==2)return!1;var u=aM(e,n);if(u===!1||e.length!==u+n.place)return!1;var f=e.slice(n.place,u+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(f[0]===0)if(f[1]&128)f=f.slice(1);else return!1;return this.r=new gS(o),this.s=new gS(f),this.recoveryParam=null,!0};function sM(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}_S.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=sse(r),n=sse(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];sM(i,r.length),i=i.concat(r),i.push(2),sM(i,n.length);var a=i.concat(n),o=[48];return sM(o,a.length),o=o.concat(a),oM.encode(o,e)}});var lse=g((RQe,dse)=>{"use strict";var Gd=Fo(),cse=nse(),kHe=Aa(),uM=vS(),BHe=KR(),fse=kHe.assert,cM=ase(),wS=use();function cs(t){if(!(this instanceof cs))return new cs(t);typeof t=="string"&&(fse(Object.prototype.hasOwnProperty.call(uM,t),"Unknown curve "+t),t=uM[t]),t instanceof uM.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}dse.exports=cs;cs.prototype.keyPair=function(e){return new cM(this,e)};cs.prototype.keyFromPrivate=function(e,r){return cM.fromPrivate(this,e,r)};cs.prototype.keyFromPublic=function(e,r){return cM.fromPublic(this,e,r)};cs.prototype.genKeyPair=function(e){e||(e={});for(var r=new cse({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||BHe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Gd(2));;){var a=new Gd(r.generate(n));if(!(a.cmp(i)>0))return a.iaddn(1),this.keyFromPrivate(a)}};cs.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};cs.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new Gd(e,16));for(var a=this.n.byteLength(),o=r.getPrivate().toArray("be",a),u=e.toArray("be",a),f=new cse({hash:this.hash,entropy:o,nonce:u,pers:i.pers,persEnc:i.persEnc||"utf8"}),d=this.n.sub(new Gd(1)),h=0;;h++){var m=i.k?i.k(h):new Gd(f.generate(this.n.byteLength()));if(m=this._truncateToN(m,!0),!(m.cmpn(1)<=0||m.cmp(d)>=0)){var _=this.g.mul(m);if(!_.isInfinity()){var w=_.getX(),P=w.umod(this.n);if(P.cmpn(0)!==0){var M=m.invm(this.n).mul(P.mul(r.getPrivate()).iadd(e));if(M=M.umod(this.n),M.cmpn(0)!==0){var K=(_.getY().isOdd()?1:0)|(w.cmp(P)!==0?2:0);return i.canonical&&M.cmp(this.nh)>0&&(M=this.n.sub(M),K^=1),new wS({r:P,s:M,recoveryParam:K})}}}}}};cs.prototype.verify=function(e,r,n,i){e=this._truncateToN(new Gd(e,16)),n=this.keyFromPublic(n,i),r=new wS(r,"hex");var a=r.r,o=r.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var u=o.invm(this.n),f=u.mul(e).umod(this.n),d=u.mul(a).umod(this.n),h;return this.curve._maxwellTrick?(h=this.g.jmulAdd(f,n.getPublic(),d),h.isInfinity()?!1:h.eqXToP(a)):(h=this.g.mulAdd(f,n.getPublic(),d),h.isInfinity()?!1:h.getX().umod(this.n).cmp(a)===0)};cs.prototype.recoverPubKey=function(t,e,r,n){fse((3&r)===r,"The recovery param is more than two bits"),e=new wS(e,n);var i=this.n,a=new Gd(t),o=e.r,u=e.s,f=r&1,d=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");d?o=this.curve.pointFromX(o.add(this.curve.n),f):o=this.curve.pointFromX(o,f);var h=e.r.invm(i),m=i.sub(a).mul(h).umod(i),_=u.mul(h).umod(i);return this.g.mulAdd(m,o,_)};cs.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new wS(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(t,e,i)}catch{continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")}});var xse=g((MQe,mse)=>{"use strict";var $x=Aa(),pse=$x.assert,hse=$x.parseBytes,zh=$x.cachedProperty;function li(t,e){this.eddsa=t,this._secret=hse(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=hse(e.pub)}li.fromPublic=function(e,r){return r instanceof li?r:new li(e,{pub:r})};li.fromSecret=function(e,r){return r instanceof li?r:new li(e,{secret:r})};li.prototype.secret=function(){return this._secret};zh(li,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});zh(li,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});zh(li,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});zh(li,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});zh(li,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});zh(li,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});li.prototype.sign=function(e){return pse(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};li.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};li.prototype.getSecret=function(e){return pse(this._secret,"KeyPair is public only"),$x.encode(this.secret(),e)};li.prototype.getPublic=function(e){return $x.encode(this.pubBytes(),e)};mse.exports=li});var bse=g((OQe,yse)=>{"use strict";var RHe=Fo(),SS=Aa(),MHe=SS.assert,AS=SS.cachedProperty,OHe=SS.parseBytes;function Yd(t,e){this.eddsa=t,typeof e!="object"&&(e=OHe(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),MHe(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof RHe&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}AS(Yd,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});AS(Yd,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});AS(Yd,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});AS(Yd,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Yd.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Yd.prototype.toHex=function(){return SS.encode(this.toBytes(),"hex").toUpperCase()};yse.exports=Yd});var Sse=g((qQe,wse)=>{"use strict";var qHe=bS(),DHe=vS(),Wh=Aa(),NHe=Wh.assert,gse=Wh.parseBytes,_se=xse(),vse=bse();function ia(t){if(NHe(t==="ed25519","only tested with ed25519 so far"),!(this instanceof ia))return new ia(t);t=DHe[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=qHe.sha512}wse.exports=ia;ia.prototype.sign=function(e,r){e=gse(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),a=this.g.mul(i),o=this.encodePoint(a),u=this.hashInt(o,n.pubBytes(),e).mul(n.priv()),f=i.add(u).umod(this.curve.n);return this.makeSignature({R:a,S:f,Rencoded:o})};ia.prototype.verify=function(e,r,n){e=gse(e),r=this.makeSignature(r);var i=this.keyFromPublic(n),a=this.hashInt(r.Rencoded(),i.pubBytes(),e),o=this.g.mul(r.S()),u=r.R().add(i.pub().mul(a));return u.eq(o)};ia.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return Wh.intFromLE(e.digest()).umod(this.curve.n)};ia.prototype.keyFromPublic=function(e){return _se.fromPublic(this,e)};ia.prototype.keyFromSecret=function(e){return _se.fromSecret(this,e)};ia.prototype.makeSignature=function(e){return e instanceof vse?e:new vse(this,e)};ia.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};ia.prototype.decodePoint=function(e){e=Wh.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,a=Wh.intFromLE(n);return this.curve.pointFromY(a,i)};ia.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};ia.prototype.decodeInt=function(e){return Wh.intFromLE(e)};ia.prototype.isPoint=function(e){return e instanceof this.pointClass}});var fM=g(Ase=>{"use strict";var Jd=Ase;Jd.version=Qie().version;Jd.utils=Aa();Jd.rand=KR();Jd.curve=$R();Jd.curves=vS();Jd.ec=lse();Jd.eddsa=Sse()});var jse=g((XQe,RS)=>{"use strict";var lM=D7(),FHe=process.hrtime(),zHe=new Date().getTime();function Wse(){let t=process.hrtime(FHe);return lM(zHe).times(1e6).add(lM(t[0]).times(1e9).plus(t[1])).toString()}function WHe(){return lM(Wse()).divide(1e3).toString()}RS.exports=Wse;RS.exports.microseconds=RS.exports.micro=WHe});var Yoe=g((ait,Goe)=>{"use strict";Goe.exports={createTable:Voe,createSlicedTable:lKe};function Voe(t){let e=new Uint32Array(256);for(let r=0;r<e.length;r+=1){let n=r;for(let i=0;i<8;i+=1)n=n&1?n>>>1^t:n>>>1;e[r]=n}return e}function lKe(t){let e=new Array(8),r=Voe(t);e[0]=r;for(let n=1;n<e.length;n+=1){e[n]=new Uint32Array(256);for(let i=0;i<256;i+=1)e[n][i]=e[n-1][i]>>>8^e[0][e[n-1][i]&255]}return e}});var Xoe=g((sit,Joe)=>{"use strict";Joe.exports=hKe;function hKe(t,e,r,n){let i=r;for(let a=n;a<e.length;a+=1){let o=e[a];i=t[0][(i^o)&255]^i>>>8}return i}});var Zoe=g((oit,Qoe)=>{"use strict";var pKe=Xoe();Qoe.exports=mKe;function mKe(t,e,r,n){let i=n,a=r;for(let o=i;o+4<e.length;o+=4){let u=e.readUInt32LE(o)^a;a=t[0][u>>>24&255]^t[1][u>>>16&255]^t[2][u>>>8&255]^t[3][u&255],i+=4}return pKe(t,e,a,i)}});var tue=g((uit,eue)=>{"use strict";var xKe=Zoe();eue.exports=yKe;function yKe(t,e,r,n){let i=n,a=r;for(let o=i;o+8<e.length;o+=8){let u=e.readUInt32LE(o)^a,f=e.readUInt32LE(o+4);a=t[0][f>>>24&255]^t[1][f>>>16&255]^t[2][f>>>8&255]^t[3][f&255]^t[4][u>>>24&255]^t[5][u>>>16&255]^t[6][u>>>8&255]^t[7][u&255],i+=8}return xKe(t,e,a,i)}});var nue=g((cit,rue)=>{"use strict";var{createSlicedTable:bKe}=Yoe(),vKe=tue(),gKe=bKe(2197175160);rue.exports=_Ke;function _Ke(t){let e=Buffer.isBuffer(t)?t:Buffer.from(t);return(vKe(gKe,e,4294967295,0)^4294967295)>>>0}});var qKe={};Lpe(qKe,{AV1Obu:()=>dm,AV1RtpPayload:()=>Hl,BitStream:()=>Cl,BitWriter:()=>lu,BitWriter2:()=>hu,BufferChain:()=>Jp,Candidate:()=>La,CipherSuite:()=>Xp,CipherSuiteList:()=>O9,Connection:()=>Xf,ConnectionStates:()=>OKe,CurveType:()=>Zp,DePacketizerBase:()=>cL,Directions:()=>wc,DtlsStates:()=>cKe,ExtensionProfiles:()=>gc,GenericNack:()=>ao,GroupDescription:()=>Of,H264RtpPayload:()=>Kl,HEADER_SIZE:()=>Hb,HashAlgorithm:()=>vs,IceCandidate:()=>al,IceGathererStates:()=>dKe,IceTransportStates:()=>fKe,JitterBuffer:()=>Ob,LipSync:()=>lL,Max32bit:()=>hm,MediaDescription:()=>Rp,MediaRecorder:()=>PU,MediaStream:()=>wv,MediaStreamTrack:()=>xo,NalUnitType:()=>lm,NamedCurveAlgorithm:()=>ha,NamedCurveAlgorithmList:()=>Qp,OpusRtpPayload:()=>yc,Output:()=>fL,PacketChunk:()=>Vl,PacketResult:()=>O7,PacketStatus:()=>oi,PictureLossIndication:()=>fo,Pipeline:()=>bc,PromiseQueue:()=>hb,RTCCertificate:()=>ly,RTCDataChannel:()=>Jl,RTCDataChannelParameters:()=>Xl,RTCDtlsFingerprint:()=>wp,RTCDtlsParameters:()=>hy,RTCDtlsTransport:()=>eA,RTCIceCandidate:()=>YM,RTCIceGatherer:()=>nA,RTCIceParameters:()=>py,RTCIceTransport:()=>rA,RTCPeerConnection:()=>que,RTCRtcpFeedback:()=>tv,RTCRtcpParameters:()=>eU,RTCRtpCodecCapability:()=>ZL,RTCRtpCodecParameters:()=>_c,RTCRtpCodingParameters:()=>nv,RTCRtpHeaderExtensionParameters:()=>po,RTCRtpRtxParameters:()=>rv,RTCRtpSimulcastParameters:()=>Ql,RTCRtpTransceiver:()=>gv,RTCSctpCapabilities:()=>Ey,RTCSctpTransport:()=>Cy,RTCSessionDescription:()=>yO,RTP_EXTENSION_URI:()=>bn,ReceiverEstimatedMaxBitrate:()=>lo,RecvDelta:()=>so,Red:()=>vc,RedEncoder:()=>Yb,RedHeader:()=>Gl,RtcpHeader:()=>Ni,RtcpPacketConverter:()=>Ka,RtcpPayloadSpecificFeedback:()=>Fa,RtcpReceiverInfo:()=>mu,RtcpRrPacket:()=>Ha,RtcpSenderInfo:()=>rd,RtcpSourceDescriptionPacket:()=>co,RtcpSrPacket:()=>Di,RtcpTransportLayerFeedback:()=>Ji,RtpBuilder:()=>Gse,RtpHeader:()=>Rn,RtpPacket:()=>Mn,RunLengthChunk:()=>uo,SampleBuilder:()=>mm,SessionDescription:()=>Zs,SignalingStates:()=>MKe,SignatureAlgorithm:()=>Yn,SignatureScheme:()=>pb,SourceDescriptionChunk:()=>ed,SourceDescriptionItem:()=>td,SrtcpSession:()=>Zb,SrtpSession:()=>ev,SsrcDescription:()=>Mp,StatusVectorChunk:()=>gm,TransportWideCC:()=>oo,Vp8RtpPayload:()=>Fl,Vp9RtpPayload:()=>zl,WebmOutput:()=>Ub,addSDPHeader:()=>bA,addTransportDescription:()=>wA,allocateMid:()=>bO,andDirection:()=>MS,buffer2ArrayBuffer:()=>zpe,bufferReader:()=>sn,bufferWriter:()=>nr,bufferWriterLE:()=>B9,candidateFromIce:()=>GM,candidateFromSdp:()=>aA,candidateToIce:()=>$oe,candidateToSdp:()=>iA,codecParametersFromString:()=>Pf,codecParametersToString:()=>RKe,compactNtp:()=>Jx,createMediaDescriptionForSctp:()=>gA,createMediaDescriptionForTransceiver:()=>vA,createSelfSignedCertificate:()=>GHe,defaultPeerConfig:()=>Due,dumpBuffer:()=>Fpe,findCodecByMimeType:()=>vO,findPort:()=>c7,fingerprint:()=>pM,getBit:()=>$e,getGlobalIp:()=>Wme,getUserMp4:()=>Pye,int:()=>$f,isDtls:()=>mM,isMedia:()=>xM,isRtcp:()=>yM,leb128decode:()=>oL,microTime:()=>gM,milliTime:()=>$h,ntpTime:()=>OS,ntpTime2Time:()=>hL,orDirection:()=>VHe,paddingBits:()=>Kpe,paddingByte:()=>Wf,parseGroup:()=>yA,parseIceServers:()=>_M,random16:()=>Yp,random32:()=>Al,randomPort:()=>um,randomPorts:()=>zme,reverseDirection:()=>vM,reverseSimulcastDirection:()=>bM,uint16Add:()=>Gr,uint16Gt:()=>El,uint16Gte:()=>Wpe,uint24:()=>M9,uint32Add:()=>ys,uint32Gt:()=>bs,uint32Gte:()=>jf,uint8Add:()=>R9,useAbsSendTime:()=>_xe,useFIR:()=>lxe,useNACK:()=>hxe,usePLI:()=>pxe,useREMB:()=>mxe,useRepairedRtpStreamId:()=>vxe,useSdesMid:()=>yxe,useSdesRTPStreamId:()=>bxe,useTWCC:()=>xxe,useTransportWideCC:()=>gxe});module.exports=Upe(qKe);var I9=require("crypto"),k9=ve(xs());function Yp(){return k9.jspack.Unpack("!H",(0,I9.randomBytes)(2))[0]}function Al(){return k9.jspack.Unpack("!L",(0,I9.randomBytes)(4))[0]}var lu=class{constructor(e){this.bitLength=e;this.value=0}set(e,r,n){return n&=(1<<e)-1,this.value|=n<<this.bitLength-e-r,this}get buffer(){let e=Math.ceil(this.bitLength/8),r=Buffer.alloc(e);return r.writeUIntBE(this.value,0,e),r}},hu=class{constructor(e){this.bitLength=e;this._value=0n;this.offset=0n}set(e,r=1){let n=BigInt(e),i=BigInt(r);return n&=(1n<<i)-1n,this._value|=n<<BigInt(this.bitLength)-i-this.offset,this.offset+=i,this}get value(){return Number(this._value)}get buffer(){let e=Math.ceil(this.bitLength/8),r=Buffer.alloc(e);return r.writeUIntBE(this.value,0,e),r}};function $e(t,e,r=1){let n=t.toString(2).split("");n=[...Array(8-n.length).fill("0"),...n];let i=n.slice(e,e+r).join("");return parseInt(i,2)}function Wf(t){let e=t.toString(2).split("");return[...[...Array(8-e.length)].map(()=>"0"),...e].join("")}function Kpe(t,e){let r=t.toString(2);return[...[...Array(e-r.length)].map(()=>"0"),...r].join("")}function nr(t,e){let r=t.reduce((a,o)=>a+o,0),n=Buffer.alloc(r),i=0;return e.forEach((a,o)=>{let u=t[o];u===8?n.writeBigUInt64BE(a,i):n.writeUIntBE(a,i,u),i+=u}),n}function B9(t,e){let r=t.reduce((a,o)=>a+o,0),n=Buffer.alloc(r),i=0;return e.forEach((a,o)=>{let u=t[o];u===8?n.writeBigUInt64LE(a,i):n.writeUIntLE(a,i,u),i+=u}),n}function sn(t,e){let r=0;return e.map(n=>{let i;return n===8?i=t.readBigUInt64BE(r):i=t.readUIntBE(r,n),r+=n,i})}var Jp=class{constructor(e){this.size=e;this.buffer=Buffer.alloc(this.size)}writeInt16BE(e,r){return this.buffer.writeInt16BE(e,r),this}writeUInt8(e,r){return this.buffer.writeUInt8(e,r),this}},Fpe=t=>"0x"+t.toString("hex").replace(/(.)(.)/g,"$1$2 ").split(" ").filter(e=>e!=null&&e.length>0).join(",0x");function zpe(t){return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}var Cl=class{constructor(e){this.uint8Array=e;this.position=0;this.bitsPending=0}writeBits(e,r){if(e==0)return this;r&=4294967295>>>32-e;let n;return this.bitsPending>0?this.bitsPending>e?(this.uint8Array[this.position-1]|=r<<this.bitsPending-e,n=e,this.bitsPending-=e):this.bitsPending==e?(this.uint8Array[this.position-1]|=r,n=e,this.bitsPending=0):(this.uint8Array[this.position-1]|=r>>e-this.bitsPending,n=this.bitsPending,this.bitsPending=0):(n=Math.min(8,e),this.bitsPending=8-n,this.uint8Array[this.position++]=r>>e-n<<this.bitsPending),e-=n,e>0&&this.writeBits(e,r),this}readBits(e,r){if(typeof r>"u"&&(r=0),e==0)return r;let n,i;if(this.bitsPending>0){let a=this.uint8Array[this.position-1]&255>>8-this.bitsPending;i=Math.min(this.bitsPending,e),this.bitsPending-=i,n=a>>this.bitsPending}else i=Math.min(8,e),this.bitsPending=8-i,n=this.uint8Array[this.position++]>>this.bitsPending;return e-=i,r=r<<i|n,e>0?this.readBits(e,r):r}seekTo(e){this.position=e/8|0,this.bitsPending=e%8,this.bitsPending>0&&(this.bitsPending=8-this.bitsPending,this.position++)}};function R9(t,e){return t+e&255}function Gr(t,e){return t+e&65535}function ys(t,e){return Number(BigInt(t)+BigInt(e)&0xffffffffn)}function M9(t){return t&16777215}function El(t,e){return t<e&&e-t>32768||t>e&&t-e<32768}function Wpe(t,e){return t===e||El(t,e)}function bs(t,e){return t<e&&e-t>2147483648||t>e&&t-e<2147483648}function jf(t,e){return t===e||bs(t,e)}var $f=t=>parseInt(t,10);var hb=class{constructor(){this.queue=[];this.running=!1;this.push=e=>new Promise(r=>{this.queue.push({promise:e,done:r}),this.running||this.run()})}async run(){let e=this.queue.shift();e?(this.running=!0,await e.promise(),e.done(),this.run()):this.running=!1}};var Yn={rsa_1:1,ecdsa_3:3},vs={sha256_4:4},Xp={TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256_49195:49195,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256_49199:49199},O9=Object.values(Xp),ha={x25519_29:29,secp256r1_23:23},Qp=Object.values(ha),Zp={named_curve_3:3},pb={rsa_pkcs1_sha256:1025,ecdsa_secp256r1_sha256:1027};var kD=require("crypto"),BD=ve(wi()),q9=require("net"),La=class{constructor(e,r,n,i,a,o,u,f,d,h,m){this.foundation=e;this.component=r;this.transport=n;this.priority=i;this.host=a;this.port=o;this.type=u;this.relatedAddress=f;this.relatedPort=d;this.tcptype=h;this.generation=m}static fromSdp(e){let r=e.split(" ");if(r.length<8)throw new Error("SDP does not have enough properties");let n={foundation:r[0],component:Number(r[1]),transport:r[2],priority:Number(r[3]),host:r[4],port:Number(r[5]),type:r[7]};for(let m of(0,BD.range)(8,r.length-1,2))r[m]==="raddr"?n.related_address=r[m+1]:r[m]==="rport"?n.related_port=Number(r[m+1]):r[m]==="tcptype"?n.tcptype=r[m+1]:r[m]==="generation"&&(n.generation=Number(r[m+1]));let{foundation:i,component:a,transport:o,priority:u,host:f,port:d,type:h}=n;return new La(i,a,o,u,f,d,h,n.related_address,n.related_port,n.tcptype,n.generation)}canPairWith(e){let r=(0,q9.isIPv4)(this.host),n=(0,q9.isIPv4)(e.host);return this.component===e.component&&this.transport.toLowerCase()===e.transport.toLowerCase()&&r===n}toSdp(){let e=`${this.foundation} ${this.component} ${this.transport} ${this.priority} ${this.host} ${this.port} typ ${this.type}`;return this.relatedAddress&&(e+=` raddr ${this.relatedAddress}`),this.relatedPort!=null&&(e+=` rport ${this.relatedPort}`),this.tcptype&&(e+=` tcptype ${this.tcptype}`),this.generation!=null&&(e+=` generation ${this.generation}`),e}};function mb(t,e,r){let n=`${t}|${e}|${r}`;return(0,kD.createHash)("md5").update(n,"ascii").digest("hex").slice(7)}function tm(t,e,r=65535){let n=0;return e==="host"?n=126:e==="prflx"?n=110:e==="srflx"?n=100:n=0,(1<<24)*n+(1<<8)*r+(256-t)}var QN=require("crypto"),ZN=ve(Sr()),eL=ve(require("dns")),tL=ve(gb()),b7=ve(K9()),Nl=ve(wi()),v7=require("net"),g7=ve(W9()),kb=ve(Bn()),Bb=ve(require("timers/promises")),rL=ve(require("util"));var X9=require("crypto"),pN=ve(Sr()),mN=ve(Bn()),Rme=(0,pN.default)("werift-ice:packages/ice/src/helper.ts");function Pb(t){return(0,X9.randomBytes)(t).toString("hex").substring(0,t)}function Tb(){return(0,X9.randomBytes)(12)}function xN(t,e){if(t.length!==e.length)throw new TypeError("[webrtc-stun] You can not XOR buffers which length are different");let r=t.length,n=Buffer.allocUnsafe(r);for(let i=0;i<r;i++)n[i]=t[i]^e[i];return n}function yN(t,e){return new Set([...t].filter(r=>!e.has(r)))}var Q9=class{constructor(){this.queue=[];this.wait=new mN.Event}put(e){this.queue.push(e),this.queue.length===1&&this.wait.execute(e)}get(){let e=this.queue.shift();return e||new Promise(r=>{this.wait.subscribe(n=>{this.queue.shift(),r(n)})})}},Gf=t=>{let e={done:!1},r=()=>t.cancel(),n=()=>e.done;return t.then(()=>{e.done=!0}).catch(i=>{i!=="cancel"&&Rme("future",i)}),{cancel:r,promise:t,done:n}};var IN=ve(gN()),kN=require("crypto"),Ol=ve(xs());var s7=ve(gb()),Yf=ve(K9()),io=ve(xs()),CN=ve(wi());function Rl(t){let[e]=t,r=Yf.isV4Format(e)?1:2;return Buffer.concat([Buffer.from(io.jspack.Pack("!BBH",[0,r,t[1]])),Yf.toBuffer(e)])}function Ome(t){if(t.length<4)throw new Error("STUN error code is less than 4 bytes");let[,e,r]=io.jspack.Unpack("!HBB",t.slice(0,4)),n=t.slice(4).toString("utf8");return[e*100+r,n]}function Ml(t){if(t.length<4)throw new Error("STUN address length is less than 4 bytes");let[,e,r]=io.jspack.Unpack("!BBH",t.slice(0,4)),n=t.slice(4);switch(e){case 1:if(n.length!=4)throw new Error("STUN address has invalid length for IPv4");return[Yf.toString(n),r];case 2:if(n.length!=16)throw new Error("STUN address has invalid length for IPv6");return[Yf.toString(n),r];default:throw new Error("STUN address has unknown protocol")}}function EN(t,e){let r=[...io.jspack.Pack("!HI",[8466,554869826]),...e],n=t.slice(0,2);for(let i of(0,CN.range)(2,t.length)){let a=t[i]^r[i-2],o=Buffer.alloc(1);o.writeUIntBE(a,0,1),n=Buffer.concat([n,o])}return n}function sm(t,e){return Ml(EN(t,e))}function qme(t){let e=Buffer.from(io.jspack.Pack("!HBB",[0,Math.floor(t[0]/100),t[0]%100])),r=Buffer.from(t[1],"utf8");return Buffer.concat([e,r])}function om(t,e){return EN(Rl(t),e)}var im=t=>Buffer.from(io.jspack.Pack("!I",[t])),am=t=>io.jspack.Unpack("!I",t)[0],Dme=t=>Buffer.concat([Buffer.from(io.jspack.Pack("!H",[t])),Buffer.from("\0\0")]),Nme=t=>io.jspack.Unpack("!H",t.slice(0,2))[0],_N=t=>new s7.Int64BE(t.toString()).toBuffer(),wN=t=>{let e=new s7.Int64BE(t);return BigInt(e.toString())},r7=t=>Buffer.from(t,"utf8"),n7=t=>t.toString("utf8"),i7=t=>t,a7=t=>t,Lme=t=>Buffer.from([]),Ume=t=>null,PN=[[1,"MAPPED-ADDRESS",Rl,Ml],[3,"CHANGE-REQUEST",im,am],[4,"SOURCE-ADDRESS",Rl,Ml],[5,"CHANGED-ADDRESS",Rl,Ml],[6,"USERNAME",r7,n7],[8,"MESSAGE-INTEGRITY",i7,a7],[9,"ERROR-CODE",qme,Ome],[12,"CHANNEL-NUMBER",Dme,Nme],[13,"LIFETIME",im,am],[18,"XOR-PEER-ADDRESS",om,sm],[19,"DATA",i7,a7],[20,"REALM",r7,n7],[21,"NONCE",i7,a7],[22,"XOR-RELAYED-ADDRESS",om,sm],[25,"REQUESTED-TRANSPORT",im,am],[32,"XOR-MAPPED-ADDRESS",om,sm],[36,"PRIORITY",im,am],[37,"USE-CANDIDATE",Lme,Ume],[32802,"SOFTWARE",r7,n7],[32808,"FINGERPRINT",im,am],[32809,"ICE-CONTROLLED",_N,wN],[32810,"ICE-CONTROLLING",_N,wN],[32811,"RESPONSE-ORIGIN",Rl,Ml],[32812,"OTHER-ADDRESS",Rl,Ml]],o7=PN.reduce((t,e)=>(t[e[0]]=e,t),{}),TN=PN.reduce((t,e)=>(t[e[1]]=e,t),{});function Jf(t,e){if(t.length<20)return;let[r,n]=Ol.jspack.Unpack("!HHI",t.slice(0,20)),i=Buffer.from(t.slice(20-12,20));if(t.length!==20+n)return;let a={};for(let o=20;o<=t.length-4;){let[u,f]=Ol.jspack.Unpack("!HH",t.slice(o,o+4)),d=t.slice(o+4,o+4+f),h=4*Math.floor((f+3)/4)-f;if(Object.keys(o7).includes(u.toString())){let[,_,,w]=o7[u];if(w.name===sm.name?a[_]=w(d,i):a[_]=w(d),_==="FINGERPRINT"){let P=RN(t.slice(0,o));if(a[_]!==P)return}else if(_==="MESSAGE-INTEGRITY"&&e&&!MN(t.slice(0,o),e).equals(a[_]))return}o+=4+f+h}return new _s(r&16111,r&272,i,a)}var _s=class{constructor(e,r,n=Tb(),i={}){this.messageMethod=e;this.messageClass=r;this.transactionId=n;this.attributes=i}get attributesKeys(){return Object.keys(this.attributes)}get transactionIdHex(){return this.transactionId.toString("hex")}get bytes(){let e=Buffer.from([]);for(let n of this.attributesKeys){let i=this.attributes[n],[a,,o]=TN[n],u=o.name===om.name?o(i,this.transactionId):o(i),f=u.length,d=4*Math.floor((f+3)/4)-f;e=Buffer.concat([e,Buffer.from(Ol.jspack.Pack("!HH",[a,f])),u,...[...Array(d)].map(()=>Buffer.from("\0"))])}let r=Buffer.from(Ol.jspack.Pack("!HHI",[this.messageMethod|this.messageClass,e.length,554869826]));return Buffer.concat([r,this.transactionId,e])}addFingerprint(){this.attributes.FINGERPRINT=RN(this.bytes)}addMessageIntegrity(e){this.attributes["MESSAGE-INTEGRITY"]=MN(this.bytes,e)}},BN=(t,e)=>Buffer.concat([t.slice(0,2),Buffer.from(Ol.jspack.Pack("!H",[e])),t.slice(4)]);function RN(t){let e=BN(t,t.length-20+8),r=(0,IN.default)(e),n=Buffer.alloc(4);return n.writeInt32BE(1398035790,0),xN(r,n).readUInt32BE(0)}function MN(t,e){let r=BN(t,t.length-20+24);return Buffer.from((0,kN.createHmac)("sha1",e).update(r).digest("hex"),"hex")}var LN=ve(Bn());var ON=ve(Sr()),qN=require("dgram");var u7=require("dgram");async function um(t="udp4"){let e=(0,u7.createSocket)(t);setImmediate(()=>e.bind(0)),await new Promise(n=>{e.once("error",n),e.once("listening",n)});let r=e.address()?.port;return await new Promise(n=>e.close(()=>n())),r}async function zme(t,e="udp4"){return Promise.all([...Array(t)].map(()=>um(e)))}async function c7(t,e,r="udp4"){let n;for(let i=t;i<=e;i++){let a=(0,u7.createSocket)(r);if(setImmediate(()=>a.bind(i)),await new Promise(o=>{a.once("error",o),a.once("listening",o)}),n=a.address()?.port,await new Promise(o=>a.close(()=>o())),t<=n&&n<=e)break}if(!n)throw new Error("port not found");return n}async function Wme(t){let e=new Xf(!0,{stunServer:t??["stun.l.google.com",19302]});await e.gatherCandidates();let r=new cm(e);r.localCandidate=e.localCandidates[0],await r.connectionMade(!0);let n=await f7(r,["stun.l.google.com",19302]);return await e.close(),await r.close(),n?.host}var d7=(0,ON.default)("werift-ice:packages/ice/src/transport.ts"),xc=class{constructor(e,r){this.type=e;this.portRange=r;this.socket=(0,qN.createSocket)(this.type);this.onData=()=>{};this.send=(e,r)=>new Promise(n=>{try{this.socket.send(e,r[1],r[0],i=>{i&&d7("send error",r,e),n()})}catch{d7("send error",r,e),n()}});this.close=()=>new Promise(e=>{this.socket.once("close",e);try{this.socket.close()}catch{e()}});this.socket.on("message",(n,i)=>{i.family==="IPv6"&&([i.address]=i.address.split("%"));try{this.onData(n,[i.address,i.port])}catch(a){d7("onData error",a)}})}static async init(e,r){let n=new xc(e,r);return await n.init(),n}async init(){if(this.portRange){let e=await c7(this.portRange[0],this.portRange[1],this.type);this.socket.bind(e)}else this.socket.bind();await new Promise(e=>this.socket.once("listening",e))}address(){return this.socket.address()}};var DN=ve(Sr()),NN=ve(Bn());var l7=class extends Error{},h7=class extends l7{constructor(e){super();this.response=e}get str(){let e="STUN transaction failed";if(Object.keys(this.response.attributes).includes("ERROR-CODE")){let[r,n]=this.response.attributes["ERROR-CODE"];e+=` (${r} - ${n})`}return e}},p7=class extends l7{get str(){return"STUN transaction timed out"}};var Vme=(0,DN.default)("werift-ice:packages/ice/src/stun/transaction.ts"),ql=class{constructor(e,r,n,i){this.request=e;this.addr=r;this.protocol=n;this.retransmissions=i;this.timeoutDelay=50;this.tries=0;this.triesMax=1+(this.retransmissions?this.retransmissions:6);this.onResponse=new NN.Event;this.responseReceived=(e,r)=>{this.onResponse.length>0&&(e.messageClass===256?(this.onResponse.execute(e,r),this.onResponse.complete()):this.onResponse.error(new h7(e)))};this.run=async()=>{try{return this.retry(),await this.onResponse.asPromise()}finally{this.timeoutHandle&&clearTimeout(this.timeoutHandle)}};this.retry=()=>{if(this.tries>=this.triesMax){Vme(`retry failed times:${this.tries} maxLimit:${this.triesMax}`),this.onResponse.error(new p7);return}this.protocol.sendStun(this.request,this.addr),this.timeoutHandle=setTimeout(this.retry,this.timeoutDelay),this.timeoutDelay*=2,this.tries++}}cancel(){this.timeoutHandle&&clearTimeout(this.timeoutHandle)}};var cm=class{constructor(e){this.receiver=e;this.type="stun";this.transactions={};this.closed=new LN.Event;this.connectionMade=async(e,r)=>{e?this.transport=await xc.init("udp4",r):this.transport=await xc.init("udp6",r),this.transport.onData=(n,i)=>this.datagramReceived(n,i)}}get transactionsKeys(){return Object.keys(this.transactions)}connectionLost(){this.closed.execute(),this.closed.complete()}datagramReceived(e,r){if(!this.localCandidate)throw new Error("not exist");let n=Jf(e);if(!n){this.receiver.dataReceived(e,this.localCandidate.component);return}(n.messageClass===256||n.messageClass===272)&&this.transactionsKeys.includes(n.transactionIdHex)?this.transactions[n.transactionIdHex].responseReceived(n,r):n.messageClass===0&&this.receiver.requestReceived(n,r,this,e)}getExtraInfo(){let{address:e,port:r}=this.transport.address();return[e,r]}async sendStun(e,r){let n=e.bytes;await this.transport.send(n,r)}async sendData(e,r){await this.transport.send(e,r)}async request(e,r,n,i){if(this.transactionsKeys.includes(e.transactionIdHex))throw new Error("already request ed");n&&(e.addMessageIntegrity(n),e.addFingerprint());let a=new ql(e,r,this,i);a.integrityKey=n,this.transactions[e.transactionIdHex]=a;try{return await a.run()}finally{delete this.transactions[e.transactionIdHex]}}async close(){Object.values(this.transactions).forEach(e=>{e.cancel()}),await this.transport.close()}};var UN=require("crypto"),HN=ve(Sr()),x7=ve(xs()),KN=ve(W9()),FN=ve(Bn()),zN=require("timers/promises");var Dl=(0,HN.default)("werift-ice:packages/ice/src/turn/protocol.ts");var Yme=285212672,WN=class{constructor(e){this.turn=e;this.type="turn";this.datagramReceived=(e,r)=>{let n=Jf(e);if(!n){this.receiver?.dataReceived(e,this.localCandidate.component);return}(n?.messageClass===256||n?.messageClass===272)&&this.turn.transactions[n.transactionIdHex]?this.turn.transactions[n.transactionIdHex].responseReceived(n,r):n?.messageClass===0&&this.receiver?.requestReceived(n,r,this,e)};e.onDatagramReceived=this.datagramReceived}async request(e,r,n){if(this.turn.transactions[e.transactionIdHex])throw new Error("exist");n&&(e.addMessageIntegrity(n),e.addFingerprint());let i=new ql(e,r,this);i.integrityKey=n,this.turn.transactions[e.transactionIdHex]=i;try{return await i.run()}finally{delete this.turn.transactions[e.transactionIdHex]}}async connectionMade(){}async sendData(e,r){await this.turn.sendData(e,r)}async sendStun(e,r){await this.turn.sendData(e.bytes,r)}},jN=class{constructor(e,r,n,i,a){this.server=e;this.username=r;this.password=n;this.lifetime=i;this.transport=a;this.type="inner_turn";this.onData=new FN.default;this.transactions={};this.channelNumber=16384;this.channelByAddr={};this.addrByChannel={};this.onDatagramReceived=()=>{};this.refresh=()=>new KN.default(async(e,r,n)=>{let i=!0;for(n(()=>{i=!1,r("cancel")});i;){await(0,zN.setTimeout)(5/6*this.lifetime*1e3);let a=new _s(4,0);a.attributes.LIFETIME=this.lifetime,await this.request(a,this.server,this.integrityKey).catch(Dl)}})}async connectionMade(){this.transport.onData=(e,r)=>{this.datagramReceived(e,r)}}handleChannelData(e){let[r,n]=x7.jspack.Unpack("!HH",e.slice(0,4)),i=this.addrByChannel[r];if(i){let a=e.slice(4,4+n);this.onDatagramReceived(a,i)}}handleSTUNMessage(e,r){try{let n=Jf(e);if(!n)throw new Error("not stun message");if(n.messageClass===256||n.messageClass===272){let i=this.transactions[n.transactionIdHex];i&&i.responseReceived(n,r)}else n.messageClass===0&&this.onDatagramReceived(e,r);if(n.attributes.DATA){let i=n.attributes.DATA;this.onDatagramReceived(i,r)}}catch{Dl("parse error",e.toString())}}datagramReceived(e,r){if(e.length>=4&&Xme(e)){this.handleChannelData(e);return}this.handleSTUNMessage(e,r)}async connect(){let e=new _s(3,0);e.attributes.LIFETIME=this.lifetime,e.attributes["REQUESTED-TRANSPORT"]=Yme;let r;try{[r]=await this.request(e,this.server,this.integrityKey)}catch(n){if(Dl("error",n),r=n.response,!r)throw n;if(r.attributes["ERROR-CODE"][0]===401){this.nonce=r.attributes.NONCE,this.realm=r.attributes.REALM,this.integrityKey=Jme(this.username,this.realm,this.password),e.transactionId=Tb();try{[r]=await this.request(e,this.server,this.integrityKey)}catch(i){Dl(i)}}}this.relayedAddress=r.attributes["XOR-RELAYED-ADDRESS"],this.mappedAddress=r.attributes["XOR-MAPPED-ADDRESS"],this.refreshHandle=Gf(this.refresh())}async request(e,r,n){if(this.transactions[e.transactionIdHex])throw new Error("exist");n&&(e.addMessageIntegrity(n),e.attributes.USERNAME=this.username,e.attributes.REALM=this.realm,e.attributes.NONCE=this.nonce,e.addFingerprint());let i=new ql(e,r,this);i.integrityKey=n,this.transactions[e.transactionIdHex]=i;try{return await i.run()}finally{delete this.transactions[e.transactionIdHex]}}async sendData(e,r){let n=this.channelByAddr[r.join()];n||(n=this.channelNumber++,this.channelByAddr[r.join()]=n,this.addrByChannel[n]=r,await this.channelBind(n,r),Dl("bind",n));let i=x7.jspack.Pack("!HH",[n,e.length]);this.transport.send(Buffer.concat([Buffer.from(i),e]),this.server)}async channelBind(e,r){let n=new _s(9,0);n.attributes["CHANNEL-NUMBER"]=e,n.attributes["XOR-PEER-ADDRESS"]=r;try{let[i]=await this.request(n,this.server,this.integrityKey);if(i.messageMethod!==9)throw new Error}catch(i){Dl(i)}}sendStun(e,r){this.transport.send(e.bytes,r)}};async function $N(t,e,r,{lifetime:n,portRange:i}){n==null&&(n=600);let a=await xc.init("udp4",i),o=new jN(t,e,r,n,a);return await o.connectionMade(),await o.connect(),new WN(o)}function Jme(t,e,r){return(0,UN.createHash)("md5").update(Buffer.from([t,e,r].join(":"))).digest()}function Xme(t){return(t[0]&192)==64}var qi=(0,ZN.default)("werift-ice : packages/ice/src/ice.ts : log"),Xf=class{constructor(e,r){this.iceControlling=e;this.localUserName=Pb(4);this.localPassword=Pb(22);this.remotePassword="";this.remoteUsername="";this.remoteIsLite=!1;this.checkList=[];this.localCandidates=[];this.remoteCandidatesEnd=!1;this._localCandidatesEnd=!1;this._tieBreaker=BigInt(new tL.Uint64BE((0,QN.randomBytes)(64)).toString());this.state="new";this.onData=new kb.Event;this.stateChanged=new kb.Event;this._remoteCandidates=[];this.nominated={};this.nominating=new Set;this.checkListDone=!1;this.checkListState=new Q9;this.earlyChecks=[];this.localCandidatesStart=!1;this.protocols=[];this.queryConsent=()=>new g7.default(async(e,r,n)=>{let i=0,a=new AbortController;n(()=>{i+=GN,a.abort(),r("cancel")});try{for(;!this.remoteIsLite&&this.state!=="closed";){await Bb.default.setTimeout(Qme*(.8+.4*Math.random())*1e3,void 0,{signal:a.signal});for(let o of this.nominatedKeys){let u=this.nominated[Number(o)],f=this.buildRequest(u,!1);try{let[d,h]=await u.protocol.request(f,u.remoteAddr,Buffer.from(this.remotePassword,"utf8"),0);i=0,this.state==="disconnected"&&this.setState("connected")}catch{i++,this.setState("disconnected")}if(i>=GN){qi("Consent to send expired"),this.queryConsentHandle=void 0,e(await this.close());return}}}}catch{}});this.send=async e=>{await this.sendTo(e,1)};this.checkStart=e=>new g7.default(async(r,n,i)=>{i(()=>n("cancel")),qi("check start",e.remoteCandidate),this.checkState(e,Yr.IN_PROGRESS);let a=this.iceControlling&&!this.remoteIsLite,o=this.buildRequest(e,a),u={};try{let[f,d]=await e.protocol.request(o,e.remoteAddr,Buffer.from(this.remotePassword,"utf8"));qi("response",f,d),u.response=f,u.addr=d}catch(f){let d=f;if(qi("failure case",d.response),d.response?.attributes["ERROR-CODE"][0]===487){o.attributesKeys.includes("ICE-CONTROLLED")?this.switchRole(!0):o.attributesKeys.includes("ICE-CONTROLLING")&&this.switchRole(!1),await this.checkStart(e),r();return}else{qi("CandidatePairState.FAILED"),this.checkState(e,Yr.FAILED),this.checkComplete(e),r();return}}if(!(0,Nl.isEqual)(u.addr,e.remoteAddr)){this.checkState(e,Yr.FAILED),this.checkComplete(e),r();return}if(a||e.remoteNominated)e.nominated=!0;else if(this.iceControlling&&!this.nominating.has(e.component)){this.nominating.add(e.component);let f=this.buildRequest(e,!0);try{await e.protocol.request(f,e.remoteAddr,Buffer.from(this.remotePassword,"utf8"))}catch{this.checkState(e,Yr.FAILED),this.checkComplete(e);return}e.nominated=!0}this.checkState(e,Yr.SUCCEEDED),this.checkComplete(e),r()});this.pairRemoteCandidate=e=>{for(let r of this.protocols)if(r.localCandidate?.canPairWith(e)&&!this.findPair(r,e)){let n=new _7(r,e);this.checkList.push(n)}};this.options={...Zme,...r};let{components:n,stunServer:i,turnServer:a,useIpv4:o,useIpv6:u}=this.options;this.stunServer=XN(i),this.turnServer=XN(a),this.useIpv4=o,this.useIpv6=u,this._components=new Set((0,Nl.range)(1,n+1))}get nominatedKeys(){return Object.keys(this.nominated).map(e=>e.toString())}get remoteAddr(){return Object.values(this.nominated)[0].remoteAddr}async gatherCandidates(e){if(!this.localCandidatesStart){this.localCandidatesStart=!0,this.promiseGatherCandidates=new kb.Event;let r=t1e(this.useIpv4,this.useIpv6);for(let n of this._components){let i=await this.getComponentCandidates(n,r,5,e);this.localCandidates=[...this.localCandidates,...i]}this._localCandidatesEnd=!0,this.promiseGatherCandidates.execute()}this.setState("completed")}async getComponentCandidates(e,r,n=5,i){let a=[];for(let u of r){let f=new cm(this);await f.connectionMade((0,v7.isIPv4)(u),this.options.portRange),f.localAddress=u,this.protocols.push(f);let d=[u,f.getExtraInfo()[1]];f.localCandidate=new La(mb("host","udp",d[0]),e,"udp",tm(e,"host"),d[0],d[1],"host"),a.push(f.localCandidate),i&&i(f.localCandidate)}let o=this.stunServer;if(o)try{let u=(await Promise.all(this.protocols.map(f=>new Promise(async(d,h)=>{let m=setTimeout(h,n*1e3);if(f.localCandidate?.host&&(0,v7.isIPv4)(f.localCandidate?.host)){let _=await f7(f,o).catch(w=>qi("error",w));_&&i&&i(_),clearTimeout(m),d(_)}else clearTimeout(m),d()})))).filter(f=>typeof f<"u");a=[...a,...u]}catch(u){qi("query STUN server",u)}if(this.turnServer&&this.options.turnUsername&&this.options.turnPassword){let u=await $N(this.turnServer,this.options.turnUsername,this.options.turnPassword,{portRange:this.options.portRange});this.protocols.push(u);let f=u.turn.relayedAddress,d=u.turn.mappedAddress;qi("turn candidateAddress",f),u.localCandidate=new La(mb("relay","udp",f[0]),e,"udp",tm(e,"relay"),f[0],f[1],"relay",d[0],d[1]),u.receiver=this,this.options.forceTurn&&(a=[]),a.push(u.localCandidate)}return a}async connect(){if(qi("start connect ice"),!this._localCandidatesEnd){if(!this.localCandidatesStart)throw new Error("Local candidates gathering was not performed");this.promiseGatherCandidates&&await this.promiseGatherCandidates.asPromise()}if(!this.remoteUsername||!this.remotePassword)throw new Error("Remote username or password is missing");for(this.remoteCandidates.forEach(this.pairRemoteCandidate),this.sortCheckList(),this.unfreezeInitial(),this.earlyChecks.forEach(r=>this.checkIncoming(...r)),this.earlyChecks=[];this.schedulingChecks();)await Bb.default.setTimeout(20);let e=this.checkList.length>0?await this.checkListState.get():y7;if(this.checkList.forEach(r=>r.handle?.cancel()),e!==VN)throw new Error("ICE negotiation failed");this.queryConsentHandle=Gf(this.queryConsent()),this.setState("connected")}unfreezeInitial(){let e=this.checkList.find(n=>n.component===Math.min(...this._components));if(!e)return;e.state===Yr.FROZEN&&this.checkState(e,Yr.WAITING);let r=new Set(e.localCandidate.foundation);for(let n of this.checkList)n.component===e.component&&!r.has(n.localCandidate.foundation)&&n.state===Yr.FROZEN&&(this.checkState(n,Yr.WAITING),r.add(n.localCandidate.foundation))}schedulingChecks(){{let e=this.checkList.filter(r=>!(this.options.forceTurn&&r.protocol.type==="stun")).find(r=>r.state===Yr.WAITING);if(e)return e.handle=Gf(this.checkStart(e)),!0}{let e=this.checkList.find(r=>r.state===Yr.FROZEN);if(e)return e.handle=Gf(this.checkStart(e)),!0}return this.remoteCandidatesEnd?!1:!this.checkListDone}async close(){if(this.setState("closed"),this.queryConsentHandle&&!this.queryConsentHandle.done()){this.queryConsentHandle.cancel();try{await this.queryConsentHandle.promise}catch{}}this.checkList&&!this.checkListDone&&this.checkListState.put(new Promise(e=>e(y7))),this.nominated={};for(let e of this.protocols)e.close&&await e.close();this.protocols=[],this.localCandidates=[]}setState(e){this.state=e,this.stateChanged.execute(e)}async addRemoteCandidate(e){if(this.remoteCandidatesEnd)throw new Error("Cannot add remote candidate after end-of-candidates.");if(!e){this.pruneComponents(),this.remoteCandidatesEnd=!0;return}if(e.host.includes(".local")){await Bb.default.setTimeout(10);let r=await rL.default.promisify(eL.default.lookup)(e.host).catch(n=>{qi(n,e)});r?e.host=r.address:e.host="127.0.0.1"}try{YN(e)}catch{return}this.remoteCandidates.push(e),this.pairRemoteCandidate(e),this.sortCheckList()}async sendTo(e,r){let n=this.nominated[r];n?await n.protocol.sendData(e,n.remoteAddr):qi("Cannot send data, not connected")}getDefaultCandidate(e){return this.localCandidates.sort((i,a)=>i.priority-a.priority).find(i=>i.component===e)}requestReceived(e,r,n,i){if(e.messageMethod!==1){this.respondError(e,r,n,[400,"Bad Request"]);return}try{if(Jf(i,Buffer.from(this.localPassword,"utf8")),!this.remoteUsername){let u=`${this.localUserName}:${this.remoteUsername}`;if(e.attributes.USERNAME!=u)throw new Error("Wrong username")}}catch{this.respondError(e,r,n,[400,"Bad Request"]);return}let{iceControlling:a}=this;if(a&&e.attributesKeys.includes("ICE-CONTROLLING"))if(this._tieBreaker>=e.attributes["ICE-CONTROLLING"]){this.respondError(e,r,n,[487,"Role Conflict"]);return}else this.switchRole(!1);else if(!a&&e.attributesKeys.includes("ICE-CONTROLLED"))if(this._tieBreaker<e.attributes["ICE-CONTROLLED"])this.respondError(e,r,n,[487,"Role Conflict"]);else{this.switchRole(!0);return}let o=new _s(1,256,e.transactionId);o.attributes["XOR-MAPPED-ADDRESS"]=r,o.addMessageIntegrity(Buffer.from(this.localPassword,"utf8")),o.addFingerprint(),n.sendStun(o,r),this.checkIncoming(e,r,n)}dataReceived(e,r){this.onData.execute(e,r)}set remoteCandidates(e){if(this.remoteCandidatesEnd)throw new Error("Cannot set remote candidates after end-of-candidates.");this._remoteCandidates=[];for(let r of e){try{YN(r)}catch{continue}this.remoteCandidates.push(r)}this.pruneComponents(),this.remoteCandidatesEnd=!0}get remoteCandidates(){return this._remoteCandidates}pruneComponents(){let e=new Set(this.remoteCandidates.map(n=>n.component));[...yN(this._components,e)].length>0&&(this._components=e)}sortCheckList(){e1e(this.checkList,this.iceControlling)}findPair(e,r){return this.checkList.find(i=>(0,Nl.isEqual)(i.protocol,e)&&(0,Nl.isEqual)(i.remoteCandidate,r))}checkState(e,r){e.state=r}switchRole(e){qi("switch role",e),this.iceControlling=e,this.sortCheckList()}checkComplete(e){if(e.handle=void 0,e.state===Yr.SUCCEEDED){if(e.nominated){this.nominated[e.component]=e;for(let r of this.checkList)r.component===e.component&&[Yr.WAITING,Yr.FROZEN].includes(r.state)&&this.checkState(r,Yr.FAILED)}if(this.nominatedKeys.length===this._components.size){this.checkListDone||(qi("ICE completed"),this.checkListState.put(new Promise(r=>r(VN))),this.checkListDone=!0);return}for(let r of this.checkList)r.localCandidate.foundation===e.localCandidate.foundation&&r.state===Yr.FROZEN&&this.checkState(r,Yr.WAITING)}{let r=[Yr.SUCCEEDED,Yr.FAILED];if(this.checkList.find(({state:n})=>!r.includes(n)))return}if(!this.iceControlling){let r=Yr.SUCCEEDED;if(this.checkList.find(({state:n})=>n===r))return}this.checkListDone||(qi("ICE failed"),this.checkListState.put(new Promise(r=>r(y7))),this.checkListDone=!0)}checkIncoming(e,r,n){let i=n.localCandidate?.component;if(i==null)throw new Error;let a,[o,u]=r;for(let d of this.remoteCandidates)if(d.host===o&&d.port===u){if(a=d,a.component!==i)throw new Error("checkIncoming");break}a||(a=new La(Pb(10),i,"udp",e.attributes.PRIORITY,o,u,"prflx"),this.remoteCandidates.push(a));let f=this.findPair(n,a);f||(f=new _7(n,a),f.state=Yr.WAITING,this.checkList.push(f),this.sortCheckList()),[Yr.WAITING,Yr.FAILED].includes(f.state)&&(f.handle=Gf(this.checkStart(f))),e.attributesKeys.includes("USE-CANDIDATE")&&!this.iceControlling&&(f.remoteNominated=!0,f.state===Yr.SUCCEEDED&&(f.nominated=!0,this.checkComplete(f)))}buildRequest(e,r){let n=`${this.remoteUsername}:${this.localUserName}`,i=new _s(1,0);return i.attributes.USERNAME=n,i.attributes.PRIORITY=tm(e.component,"prflx"),this.iceControlling?(i.attributes["ICE-CONTROLLING"]=this._tieBreaker,r&&(i.attributes["USE-CANDIDATE"]=null)):i.attributes["ICE-CONTROLLED"]=this._tieBreaker,i}respondError(e,r,n,i){let a=new _s(e.messageMethod,272,e.transactionId);a.attributes["ERROR-CODE"]=i,a.addMessageIntegrity(Buffer.from(this.localPassword,"utf8")),a.addFingerprint(),n.sendStun(a,r)}},_7=class{constructor(e,r){this.protocol=e;this.remoteCandidate=r;this.nominated=!1;this.remoteNominated=!1;this.state=Yr.FROZEN}get localCandidate(){if(!this.protocol.localCandidate)throw new Error("localCandidate not exist");return this.protocol.localCandidate}get remoteAddr(){return[this.remoteCandidate.host,this.remoteCandidate.port]}get component(){return this.localCandidate.component}},VN=1,y7=2,Qme=5,GN=6,Yr=(a=>(a[a.FROZEN=0]="FROZEN",a[a.WAITING=1]="WAITING",a[a.IN_PROGRESS=2]="IN_PROGRESS",a[a.SUCCEEDED=3]="SUCCEEDED",a[a.FAILED=4]="FAILED",a))(Yr||{}),Zme={components:1,useIpv4:!0,useIpv6:!0};function YN(t){if(!["host","relay","srflx"].includes(t.type))throw new Error(`Unexpected candidate type "${t.type}"`);return t}function e1e(t,e){t.sort((r,n)=>JN(r.localCandidate,r.remoteCandidate,e)-JN(n.localCandidate,n.remoteCandidate,e))}function JN(t,e,r){let n=r&&t.priority||e.priority,i=r&&e.priority||t.priority;return(1<<32)*Math.min(n,i)+2*Math.max(n,i)+(n>i?1:0)}function t1e(t,e){let r=[];return t&&r.push(b7.address("","ipv4")),e&&r.push(b7.address("","ipv6")),r}async function f7(t,e){let r=new _s(1,0);try{let[n]=await t.request(r,e),i=t.localCandidate;if(!i)throw new Error("not exist");return new La(mb("srflx","udp",i.host),i.component,i.transport,tm(i.component,"srflx"),n.attributes["XOR-MAPPED-ADDRESS"][0],n.attributes["XOR-MAPPED-ADDRESS"][1],"srflx",i.host,i.port)}catch(n){qi("error serverReflexiveCandidate",n)}}function XN(t){return t&&isNaN(t[1])?[t[0],443]:t}var aL=ve(iL()),sL=ve(Sr());var r1e=(0,sL.debug)("werift-rtp : packages/rtp/src/codec/av1.ts"),w7=class{constructor(){this.obu_or_fragment=[]}static isDetectedFinalPacketInSequence(e){return e.marker}get isKeyframe(){return this.nBit_RtpStartsNewCodedVideoSequence===1}static getFrame(e){let r=[],n=e.flatMap(u=>u.obu_or_fragment).reduce((u,f,d)=>(u[d]=f,u),{}),i=Object.keys(n).length;for(let u of Object.keys(n).map(Number)){let f=n[u];if(!f)continue;let{data:d,isFragment:h}=f;if(h){let m=[];for(let _=u;_<i;_++){let w=n[_];if(w.isFragment)m.push(w.data),delete n[_];else break}m.length<=1&&(r1e("fragment lost, maybe packet lost"),m=[]),r.push(Buffer.concat(m))}else r.push(d)}let a=r.map(u=>dm.deSerialize(u)),o=a.pop();return Buffer.concat([...a.map(u=>(u.obu_has_size_field=1,u.serialize())),o.serialize()])}},Hl=w7;Hl.deSerialize=e=>{let r=new w7,n=0;if(r.zBit_RtpStartsWithFragment=$e(e[n],0),r.yBit_RtpEndsWithFragment=$e(e[n],1),r.w_RtpNumObus=$e(e[n],2,2),r.nBit_RtpStartsNewCodedVideoSequence=$e(e[n],4),n++,r.nBit_RtpStartsNewCodedVideoSequence&&r.zBit_RtpStartsWithFragment)throw new Error;[...Array(r.w_RtpNumObus-1).keys()].forEach(a=>{let[o,u]=oL(e.slice(n)),f=n+u,d=f+o,h=!1;r.zBit_RtpStartsWithFragment&&a===0&&(h=!0),r.obu_or_fragment.push({data:e.slice(f,d),isFragment:h}),n+=u+o});let i=!1;return(r.yBit_RtpEndsWithFragment||r.w_RtpNumObus===1&&r.zBit_RtpStartsWithFragment)&&(i=!0),r.obu_or_fragment.push({data:e.slice(n),isFragment:i}),r};var dm=class{static deSerialize(e){let r=new dm,n=0;return r.obu_forbidden_bit=$e(e[n],0),r.obu_type=uL[$e(e[n],1,4)],r.obu_extension_flag=$e(e[n],5),r.obu_has_size_field=$e(e[n],6),r.obu_reserved_1bit=$e(e[n],7),n++,r.payload=e.slice(n),r}serialize(){let e=new hu(8).set(this.obu_forbidden_bit).set(n1e[this.obu_type],4).set(this.obu_extension_flag).set(this.obu_has_size_field).set(this.obu_reserved_1bit).buffer,r=Buffer.alloc(0);return this.obu_has_size_field&&(r=aL.LEB128.encode(this.payload.length)),Buffer.concat([e,r,this.payload])}};function oL(t){let e=0,r=0;for(let n=0;n<8;n++){let i=t.readUInt8(n);if(e|=(i&127)<<n*7,r++,!(i&128))break}return[e,r]}var uL={0:"Reserved",1:"OBU_SEQUENCE_HEADER",2:"OBU_TEMPORAL_DELIMITER",3:"OBU_FRAME_HEADER",4:"OBU_TILE_GROUP",5:"OBU_METADATA",6:"OBU_FRAME",7:"OBU_REDUNDANT_FRAME_HEADER",8:"OBU_TILE_LIST",15:"OBU_PADDING"},n1e=Object.entries(uL).reduce((t,[e,r])=>(t[r]=Number(e),t),{});var cL=class{static deSerialize(e){return{}}static isDetectedFinalPacketInSequence(e){return!0}get isKeyframe(){return!0}};var Kl=class{static deSerialize(e){let r=new Kl,n=0;if(r.f=$e(e[n],0),r.nri=$e(e[n],1,2),r.nalUnitType=$e(e[n],3,5),n++,r.s=$e(e[n],0),r.e=$e(e[n],1),r.r=$e(e[n],2),r.nalUnitPayloadType=$e(e[n],3,5),n++,0<r.nalUnitType&&r.nalUnitType<24)r.payload=this.packaging(e);else if(r.nalUnitType===lm.stap_a){let i=a1e,a=Buffer.alloc(0);for(;i<e.length;){let o=e.readUInt16BE(i);i+=s1e,a=Buffer.concat([a,this.packaging(e.slice(i,i+o))]),i+=o}r.payload=a}return r}static packaging(e){return Buffer.concat([i1e,e])}static isDetectedFinalPacketInSequence(e){return e.marker}get isKeyframe(){return this.nalUnitType===lm.idrSlice}get isPartitionHead(){return this.nalUnitType===lm.fu_a||this.nalUnitType===lm.fu_b?this.s!==0:!0}},lm={idrSlice:5,stap_a:24,stap_b:25,mtap16:26,mtap24:27,fu_a:28,fu_b:29},i1e=Buffer.from([0,0,0,1]),a1e=1,s1e=2;var yc=class{static deSerialize(e){let r=new yc;return r.payload=e,r}static isDetectedFinalPacketInSequence(e){return!0}get isKeyframe(){return!0}static createCodecPrivate(e=48e3){return Buffer.concat([Buffer.from("OpusHead"),nr([1,1],[1,2]),B9([2,4,2,1],[312,e,0,0])])}};var Fl=class{static deSerialize(e){let r=new Fl,n=0;if(r.xBit=$e(e[n],0),r.nBit=$e(e[n],2),r.sBit=$e(e[n],3),r.pid=$e(e[n],5,3),n++,r.xBit&&(r.iBit=$e(e[n],0),r.lBit=$e(e[n],1),r.tBit=$e(e[n],2),r.kBit=$e(e[n],3),n++),r.iBit)if(r.mBit=$e(e[n],0),r.mBit){let i=Wf($e(e[n],1,7)),a=Wf(e[n+1]);r.pictureId=parseInt(i+a,2),n+=2}else r.pictureId=$e(e[n],1,7),n++;return r.lBit&&n++,(r.lBit||r.kBit)&&(r.tBit,r.kBit,n++),r.payload=e.slice(n),r.sBit===1&&r.pid===0&&(r.size0=$e(e[n],0,3),r.hBit=$e(e[n],3),r.ver=$e(e[n],4,3),r.pBit=$e(e[n],7),n++),r.size1=e[n],n++,r.size2=e[n],n++,r}static isDetectedFinalPacketInSequence(e){return e.marker}get isKeyframe(){return this.pBit===0}get isPartitionHead(){return this.sBit===1}};var zl=class{constructor(){this.pDiff=[];this.width=[];this.height=[];this.n_g=0;this.pgT=[];this.pgU=[];this.pgP_Diff=[]}static deSerialize(e){let{p:r,offset:n}=this.parseRtpPayload(e);return r.payload=e.slice(n),r}static parseRtpPayload(e){let r=new zl,n=0;if(r.iBit=$e(e[n],0),r.pBit=$e(e[n],1),r.lBit=$e(e[n],2),r.fBit=$e(e[n],3),r.bBit=$e(e[n],4),r.eBit=$e(e[n],5),r.vBit=$e(e[n],6),r.zBit=$e(e[n],7),n++,r.iBit)if(r.m=$e(e[n],0),r.m){let i=Wf($e(e[n],1,7)),a=Wf(e[n+1]);r.pictureId=parseInt(i+a,2),n+=2}else r.pictureId=$e(e[n],1,7),n++;if(r.lBit&&(r.tid=$e(e[n],0,3),r.u=$e(e[n],3),r.sid=$e(e[n],4,3),r.d=$e(e[n],7),n++,r.fBit===0&&(r.tl0PicIdx=e[n],n++)),r.fBit&&r.pBit)for(;;){r.pDiff=[...r.pDiff,$e(e[n],0,7)];let i=$e(e[n],7);if(n++,i===0)break}return r.vBit&&(r.n_s=$e(e[n],0,3),r.y=$e(e[n],3),r.g=$e(e[n],4),n++,r.y&&[...Array(r.n_s+1)].forEach(()=>{r.width.push(e.readUInt16BE(n)),n+=2,r.height.push(e.readUInt16BE(n)),n+=2}),r.g&&(r.n_g=e[n],n++),r.n_g>0&&[...Array(r.n_g).keys()].forEach(i=>{r.pgT.push($e(e[n],0,3)),r.pgU.push($e(e[n],3));let a=$e(e[n],4,2);n++,r.pgP_Diff[i]=[],a>0&&[...Array(a)].forEach(()=>{r.pgP_Diff[i].push(e[n]),n++})})),{offset:n,p:r}}static isDetectedFinalPacketInSequence(e){return e.marker}get isKeyframe(){return!!(!this.pBit&&this.bBit&&(!this.sid||!this.lBit))}get isPartitionHead(){return this.bBit&&(!this.lBit||!this.d)}};var bc=class{constructor(e){e?.rtpStream?.subscribe?.(r=>{this.pushRtpPackets([r])}),e?.rtcpStream?.subscribe?.(r=>{this.pushRtcpPackets([r])})}pipe(e){return this.children=e,this}pushRtpPackets(e){}pushRtcpPackets(e){}},fL=class{pushRtpPackets(e){}pushRtcpPackets(e){}};var dL=ve(Sr());var o1e=(0,dL.debug)("werift:packages/webrtc/src/nonstandard/jitterBuffer.ts"),Ob=class extends bc{constructor(){super(...arguments);this.retry=0;this.buffer={};this.maxRetry=100;this.onRtp=e=>{if(this.buffer[e.header.sequenceNumber]=e,this.head==null)this.head=e.header.sequenceNumber;else if(e.header.sequenceNumber!=Gr(this.head,1))if(this.retry++>=this.maxRetry)o1e("give up packet lost"),this.head=Gr(this.head,2);else return;else this.head=Gr(this.head,1);let r=[],n=this.head;for(;;n=Gr(n,1)){let i=this.buffer[n];if(i)r.push(i),delete this.buffer[n];else break}this.head=Gr(n,-1),this.children?.pushRtpPackets?.(r)}}pushRtpPackets(e){e.forEach(this.onRtp)}pushRtcpPackets(e){this.children?.pushRtcpPackets?.(e)}};var lL=class extends bc{constructor(e,r,n){super(n);this.clockRate=e;this.mismatch=r;this.rtpPackets={}}pushRtcpPackets(e){e.forEach(r=>{r instanceof Di&&this.srReceived(r)}),this.children?.pushRtcpPackets?.(e)}srReceived(e){let{ntpTimestamp:r,rtpTimestamp:n}=e.senderInfo;this.baseNtpTimestamp=r,this.baseRtpTimestamp=n}pushRtpPackets(e){if(e.forEach(r=>{this.rtpPackets[r.header.payloadType]=this.rtpPackets[r.header.payloadType]??[],this.rtpPackets[r.header.payloadType].push(r)}),Object.keys(this.rtpPackets).length===2){let[r,n]=Object.values(this.rtpPackets),i=this.calcNtpTime(r.slice(-1)[0].header.timestamp),a=this.calcNtpTime(n.slice(-1)[0].header.timestamp);(i==null||a==null)&&this.children?.pushRtpPackets?.(e)}}calcNtpTime(e){if(!this.baseRtpTimestamp||!this.baseNtpTimestamp)return;e-this.baseRtpTimestamp>hm-this.clockRate*60?this.baseRtpTimestamp+=hm:e+(hm-this.clockRate*60)-this.baseRtpTimestamp<0&&(e+=hm);let r=(e-this.baseRtpTimestamp)/this.clockRate;return hL(this.baseNtpTimestamp)+r}},hL=t=>{let[e,r]=sn(nr([8],[t]),[4,4]);return Number(`${e}.${r}`)},hm=Number((0x01n<<32n)-1n);function pL(t){return t.map((e,r)=>[r,e])}function pm(t,e){let r=Buffer.alloc(e);return t.copy(r),r}function Wl(t){return parseInt(t.toString(),10)}var mm=class extends bc{constructor(e,r){super(r);this.isFinalPacketInSequence=e;this.buffering=[]}pushRtpPackets(e){this.buffering=[...this.buffering,...e];let r;for(let[i,a]of pL(this.buffering))if(this.isFinalPacketInSequence(a.header)){r=i;break}if(r==null)return;let n=this.buffering.slice(0,r+1);this.buffering=this.buffering.slice(r+1),this.children?.pushRtpPackets?.(n)}pushRtcpPackets(e){this.children?.pushRtcpPackets?.(e)}};var Se=ve(EL());var B7=class{constructor(e){this.ebmlHeader=Se.build(Se.element(Se.ID.EBML,[Se.element(Se.ID.EBMLVersion,Se.number(1)),Se.element(Se.ID.EBMLReadVersion,Se.number(1)),Se.element(Se.ID.EBMLMaxIDLength,Se.number(4)),Se.element(Se.ID.EBMLMaxSizeLength,Se.number(8)),Se.element(Se.ID.DocType,Se.string("webm")),Se.element(Se.ID.DocTypeVersion,Se.number(2)),Se.element(Se.ID.DocTypeReadVersion,Se.number(2))]));this.trackEntries=[];this.trackEntries=e.map(({width:r,height:n,kind:i,codec:a,trackNumber:o})=>this.createTrackEntry(i,o,a,{width:r,height:n}))}createTrackEntry(e,r,n,{width:i,height:a}){let o=[];return e==="video"?o.push(Se.element(Se.ID.Video,[Se.element(Se.ID.PixelWidth,Se.number(i)),Se.element(Se.ID.PixelHeight,Se.number(a))])):(o.push(Se.element(Se.ID.Audio,[Se.element(Se.ID.SamplingFrequency,Se.float(48e3)),Se.element(Se.ID.Channels,Se.number(2))])),o.push(Se.element(Se.ID.CodecPrivate,Se.bytes(yc.createCodecPrivate())))),Se.element(Se.ID.TrackEntry,[Se.element(Se.ID.TrackNumber,Se.number(r)),Se.element(Se.ID.TrackUID,Se.number(r)),Se.element(Se.ID.CodecName,Se.string(n)),Se.element(Se.ID.TrackType,Se.number(e==="video"?1:2)),Se.element(Se.ID.CodecID,Se.string(`${e==="video"?"V":"A"}_${n}`)),...o])}createSegment(e){let r=[Se.element(Se.ID.TimecodeScale,Se.number(Z1e)),Se.element(Se.ID.MuxingApp,Se.string("webrtc")),Se.element(Se.ID.WritingApp,Se.string("webrtc"))];return e&&r.push(Se.element(Se.ID.Duration,Se.float(e))),Se.build(Se.unknownSizeElement(Se.ID.Segment,[Se.element(Se.ID.SeekHead,[]),Se.element(Se.ID.Info,r),Se.element(Se.ID.Tracks,this.trackEntries)]))}createCuePoint(e,r,n,i){return Se.element(Se.ID.CuePoint,[Se.element(Se.ID.CueTime,Se.number(e)),Se.element(Se.ID.CueTrackPositions,[Se.element(Se.ID.CueTrack,Se.number(r)),Se.element(Se.ID.CueClusterPosition,Se.number(n)),Se.element(Se.ID.CueBlockNumber,Se.number(i))])])}createCues(e){return Se.build(Se.element(Se.ID.Cues,e))}createCluster(e){return Se.build(Se.unknownSizeElement(Se.ID.Cluster,[Se.element(Se.ID.Timecode,Se.number(e))]))}createSimpleBlock(e,r,n,i){let a=Buffer.from([163]),o=Se.vintEncodedNumber(1+2+1+e.length).bytes,u=r?1:0,f=new hu(8).set(u).set(0,3).set(0).set(0,2).set(0);return Buffer.concat([a,o,Se.vintEncodedNumber(n).bytes,new Jp(2).writeInt16BE(i).buffer,new Jp(1).writeUInt8(f.value).buffer,e])}};var Z1e=1e6;var Ub=class{constructor(e,r,n,i){this.fs=e;this.path=r;this.tracks=n;this.queue=new hb;this.relativeTimestamp=0;this.timestamps={};this.cuePoints=[];this.position=0;this.stopped=!1;if(this.builder=new B7(n),n.forEach(a=>{this.timestamps[a.payloadType]=new TL(a.clockRate)}),this.queue.push(()=>this.init()),i?.rtpStream){let{unSubscribe:a}=i.rtpStream.subscribe(o=>{this.pushRtpPackets([o])});this.disposer=a}}async init(){let e=Buffer.concat([this.builder.ebmlHeader,this.builder.createSegment()]);await this.fs.writeFile(this.path,e),this.position+=e.length;let r=this.tracks.find(i=>i.kind==="video");r&&this.cuePoints.push(new R7(this.builder,r.trackNumber,0,this.position));let n=this.builder.createCluster(0);await this.fs.appendFile(this.path,n),this.position+=n.length}async stop(){this.stopped=!0,this.disposer&&this.disposer();let e=Buffer.concat([this.builder.ebmlHeader,this.builder.createSegment()]).length,r=(await this.fs.readFile(this.path)).slice(e),n=Object.values(this.timestamps).sort((d,h)=>d.relativeTimestamp-h.relativeTimestamp)[0].relativeTimestamp,i=this.relativeTimestamp+n,a=Buffer.concat([this.builder.ebmlHeader,this.builder.createSegment(i)]),o=a.length-e;this.cuePoints.forEach(d=>{d.position+=o});let u=0,f=this.builder.createCues(this.cuePoints.map(d=>d.build()));for(;u!==f.length;)u=f.length,this.cuePoints.forEach(d=>{d.cuesLength+=u}),f=this.builder.createCues(this.cuePoints.map(d=>d.build()));await this.fs.writeFile(this.path,a),await this.fs.appendFile(this.path,f),await this.fs.appendFile(this.path,r)}pushRtpPackets(e){this.stopped||this.queue.push(()=>this.onRtpPackets(e))}async onRtpPackets(e){let r=this.tracks.find(d=>d.payloadType===e[0].header.payloadType);if(!r)return;let n=this.timestamps[r.payloadType],{data:i,isKeyframe:a}=this.dePacketizeRtpPackets(r.codec,e),o=e.slice(-1)[0].header.timestamp;if(n.update(o),r.kind==="video"&&n.relativeTimestamp>0&&a||n.relativeTimestamp>exe){this.relativeTimestamp+=n.relativeTimestamp;let d=this.builder.createCluster(this.relativeTimestamp);await this.fs.appendFile(this.path,d),this.cuePoints.push(new R7(this.builder,r.trackNumber,this.relativeTimestamp,this.position)),this.position+=d.length,Object.values(this.timestamps).forEach(h=>h.reset())}let u=this.builder.createSimpleBlock(i,a,r.trackNumber,n.relativeTimestamp);await this.fs.appendFile(this.path,u),this.position+=u.length;let[f]=this.cuePoints.slice(-1);f&&f.blockNumber++}dePacketizeRtpPackets(e,r){let n=i=>{let a=r.map(f=>i.deSerialize(f.payload)),o=!!a.find(f=>f.isKeyframe),u=Buffer.concat(a.map(f=>f.payload));return{isKeyframe:o,data:u}};switch(e){case"AV1":{let i=r.map(u=>Hl.deSerialize(u.payload)),a=Hl.getFrame(i);return{isKeyframe:!!i.find(u=>u.isKeyframe),data:a}}case"MPEG4/ISO/AVC":return n(Kl);case"VP8":return n(Fl);case"VP9":return n(zl);case"OPUS":return n(yc);default:throw new Error}}},TL=class{constructor(e){this.clockRate=e;this.relativeTimestamp=0}reset(){this.baseTimestamp=void 0,this.relativeTimestamp=0}update(e){this.baseTimestamp==null&&(this.baseTimestamp=e);let n=Math.abs(e-this.baseTimestamp)>PL/4*3?e+PL-this.baseTimestamp:e-this.baseTimestamp,i=$f(n/this.clockRate*1e3);this.relativeTimestamp=i}},R7=class{constructor(e,r,n,i){this.builder=e;this.trackNumber=r;this.relativeTimestamp=n;this.position=i;this.cuesLength=0;this.blockNumber=0}build(){return this.builder.createCuePoint(this.relativeTimestamp,this.trackNumber,this.position-48+this.cuesLength,this.blockNumber)}},PL=Number(0x01n<<32n)-1,exe=(1<<16)/2-1;var Hb=4,Ni=class{constructor(e={}){this.version=2;this.padding=!1;this.count=0;this.type=0;this.length=0;Object.assign(this,e)}serialize(){let e=new lu(8);return e.set(2,0,this.version),this.padding&&e.set(1,2,1),e.set(5,3,this.count),nr([1,1,2],[e.value,this.type,this.length])}static deSerialize(e){let[r,n,i]=sn(e,[1,1,2]),a=$e(r,0,2),o=$e(r,2,1)>0,u=$e(r,3,5);return new Ni({version:a,padding:o,count:u,type:n,length:i})}};var qL=ve(Sr());var OL=ve(Sr());var IL=ve(wi());var vm=class{constructor(e={}){this.ssrc=0;this.reports=[];this.type=vm.type;Object.assign(this,e)}serialize(){let e=nr([4],[this.ssrc]);return e=Buffer.concat([e,...this.reports.map(r=>r.serialize())]),Ka.serialize(vm.type,this.reports.length,e,Math.floor(e.length/4))}static deSerialize(e,r){let[n]=sn(e,[4]),i=4,a=[];return(0,IL.range)(r).forEach(()=>{a.push(mu.deSerialize(e.slice(i,i+24))),i+=24}),new vm({ssrc:n,reports:a})}},Ha=vm;Ha.type=201;var mu=class{constructor(e={}){Object.assign(this,e)}serialize(){return nr([4,1,3,4,4,4,4],[this.ssrc,this.fractionLost,this.packetsLost,this.highestSequence,this.jitter,this.lsr,this.dlsr])}static deSerialize(e){let[r,n,i,a,o,u,f]=sn(e,[4,1,3,4,4,4,4]);return new mu({ssrc:r,fractionLost:n,packetsLost:i,highestSequence:a,jitter:o,lsr:u,dlsr:f})}};var BL=ve(Sr());var M7=ve(wi());var Kb=class{constructor(e={}){this.count=Kb.count;this.lost=[];Object.assign(this,e),this.header||(this.header=new Ni({type:205,count:this.count,version:2}))}static deSerialize(e,r){let[n,i]=sn(e,[4,4]),a=(0,M7.range)(8,e.length,4).map(o=>{let u=[],[f,d]=sn(e.slice(o),[2,2]);return u.push(f),(0,M7.range)(0,16).forEach(h=>{d>>h&1&&u.push(f+h+1)}),u}).flatMap(o=>o);return new Kb({header:r,senderSsrc:n,mediaSourceSsrc:i,lost:a})}serialize(){let e=nr([4,4],[this.senderSsrc,this.mediaSourceSsrc]),r=[];if(this.lost.length>0){let i=this.lost[0],a=0;this.lost.slice(1).forEach(o=>{let u=o-i-1;u<16?a|=1<<u:(r.push(nr([2,2],[i,a])),i=o,a=0)}),r.push(nr([2,2],[i,a]))}let n=Buffer.concat([e,Buffer.concat(r)]);return this.header.length=n.length/4,Buffer.concat([this.header.serialize(),n])}},ao=Kb;ao.count=1;var kL=ve(Sr()),$l=ve(wi());var txe=(0,kL.default)("werift/rtp/rtcp/rtpfb/twcc"),Fb=class{constructor(e={}){this.count=Fb.count;this.length=2;this.packetChunks=[];this.recvDeltas=[];Object.assign(this,e),this.header||(this.header=new Ni({type:205,count:this.count,version:2}))}static deSerialize(e,r){let[n,i,a,o,u,f]=sn(e,[4,4,2,2,3,1]),d=[],h=[],m=16;for(let w=0;w<o;){let P=$e(e.slice(m,m+1)[0],0,1),M;switch(P){case Vl.TypeTCCRunLengthChunk:{let K=uo.deSerialize(e.slice(m,m+2));M=K;let Y=Math.min(o-w,K.runLength);(K.packetStatus===oi.TypeTCCPacketReceivedSmallDelta||K.packetStatus===oi.TypeTCCPacketReceivedLargeDelta)&&(0,$l.range)(Y).forEach(()=>{h.push(new so({type:K.packetStatus}))}),w+=Y}break;case Vl.TypeTCCStatusVectorChunk:{let K=gm.deSerialize(e.slice(m,m+2));M=K,K.symbolSize===0&&K.symbolList.forEach(Y=>{Y===oi.TypeTCCPacketReceivedSmallDelta&&h.push(new so({type:oi.TypeTCCPacketReceivedSmallDelta}))}),K.symbolSize===1&&K.symbolList.forEach(Y=>{(Y===oi.TypeTCCPacketReceivedSmallDelta||Y===oi.TypeTCCPacketReceivedLargeDelta)&&h.push(new so({type:Y}))}),w+=K.symbolList.length}break}if(!M)throw new Error;m+=2,d.push(M)}let _=m;return h.forEach(w=>{w.type===oi.TypeTCCPacketReceivedSmallDelta&&(w.deSerialize(e.slice(_,_+1)),_++),w.type===oi.TypeTCCPacketReceivedLargeDelta&&(w.deSerialize(e.slice(_,_+2)),_+=2)}),new Fb({senderSsrc:n,mediaSourceSsrc:i,baseSequenceNumber:a,packetStatusCount:o,referenceTime:u,fbPktCount:f,recvDeltas:h,packetChunks:d,header:r})}serialize(){let e=nr([4,4,2,2,3,1],[this.senderSsrc,this.mediaSourceSsrc,this.baseSequenceNumber,this.packetStatusCount,this.referenceTime,this.fbPktCount]),r=Buffer.concat(this.packetChunks.map(a=>a.serialize())),n=Buffer.concat(this.recvDeltas.map(a=>{try{return a.serialize()}catch(o){txe(o?.message);return}}).filter(a=>a)),i=Buffer.concat([e,r,n]);if(this.header.padding&&i.length%4!==0){let a=4-i.length%4,o=Buffer.alloc(a);return o[o.length-1]=o.length,this.header.length=Math.floor((i.length+o.length)/4),Buffer.concat([this.header.serialize(),i,o])}return this.header.length=Math.floor(i.length/4),Buffer.concat([this.header.serialize(),i])}get packetResults(){let e=this.baseSequenceNumber-1,r=this.packetChunks.filter(o=>o instanceof uo).map(o=>o.results(e)).flatMap(o=>o),n=0,a=BigInt(this.referenceTime)*64n;for(let o of r){let u=this.recvDeltas[n];!o.received||!u||(a+=BigInt(u.delta)/1000n,o.delta=u.delta,o.receivedAtMs=Number(a),n++)}return r}},oo=Fb;oo.count=15;var uo=class{constructor(e={}){Object.assign(this,e),this.type=Vl.TypeTCCRunLengthChunk}static deSerialize(e){let r=$e(e[0],1,2),n=($e(e[0],3,5)<<8)+e[1];return new uo({type:0,packetStatus:r,runLength:n})}serialize(){return new hu(16).set(0).set(this.packetStatus,2).set(this.runLength,13).buffer}results(e){let r=this.packetStatus===oi.TypeTCCPacketReceivedSmallDelta||this.packetStatus===oi.TypeTCCPacketReceivedLargeDelta,n=[];for(let i=0;i<=this.runLength;++i)n.push(new O7({sequenceNumber:++e,received:r}));return n}},gm=class{constructor(e={}){this.symbolList=[];Object.assign(this,e)}static deSerialize(e){let r=Vl.TypeTCCStatusVectorChunk,n=$e(e[0],1,1),i=[];switch(n){case 0:(0,$l.range)(6).forEach((a,o)=>i.push($e(e[0],2+o,1))),(0,$l.range)(8).forEach((a,o)=>i.push($e(e[1],o,1)));break;case 1:(0,$l.range)(3).forEach(a=>i.push($e(e[0],2+a*2,2))),(0,$l.range)(4).forEach(a=>i.push($e(e[1],a*2,2)));break;default:n=($e(e[0],2,6)<<8)+e[1]}return new gm({type:r,symbolSize:n,symbolList:i})}serialize(){let e=Buffer.alloc(2),r=new hu(16).set(1).set(this.symbolSize),n=this.symbolSize===0?1:2;return this.symbolList.forEach(i=>{r.set(i,n)}),e.writeUInt16BE(r.value),e}},so=class{constructor(e={}){this.parsed=!1;Object.assign(this,e)}static deSerialize(e){let r,n;if(e.length===1?(r=oi.TypeTCCPacketReceivedSmallDelta,n=250*e[0]):e.length===2&&(r=oi.TypeTCCPacketReceivedLargeDelta,n=250*e.readInt16BE()),r===void 0||n===void 0)throw new Error;return new so({type:r,delta:n})}deSerialize(e){let r=so.deSerialize(e);this.delta=r.delta}parseDelta(){this.delta=Math.floor(this.delta/250),this.delta<0||this.delta>255?(this.delta>32767&&(this.delta=32767),this.delta<-32768&&(this.delta=-32768),this.type||(this.type=oi.TypeTCCPacketReceivedLargeDelta)):this.type||(this.type=oi.TypeTCCPacketReceivedSmallDelta),this.parsed=!0}serialize(){if(this.parsed||this.parseDelta(),this.type===oi.TypeTCCPacketReceivedSmallDelta){let e=Buffer.alloc(1);return e.writeUInt8(this.delta),e}else if(this.type===oi.TypeTCCPacketReceivedLargeDelta){let e=Buffer.alloc(2);return e.writeInt16BE(this.delta),e}throw new Error("errDeltaExceedLimit "+this.delta+" "+this.type)}},Vl=(n=>(n[n.TypeTCCRunLengthChunk=0]="TypeTCCRunLengthChunk",n[n.TypeTCCStatusVectorChunk=1]="TypeTCCStatusVectorChunk",n[n.packetStatusChunkLength=2]="packetStatusChunkLength",n))(Vl||{}),oi=(i=>(i[i.TypeTCCPacketNotReceived=0]="TypeTCCPacketNotReceived",i[i.TypeTCCPacketReceivedSmallDelta=1]="TypeTCCPacketReceivedSmallDelta",i[i.TypeTCCPacketReceivedLargeDelta=2]="TypeTCCPacketReceivedLargeDelta",i[i.TypeTCCPacketReceivedWithoutDelta=3]="TypeTCCPacketReceivedWithoutDelta",i))(oi||{}),O7=class{constructor(e){this.sequenceNumber=0;this.delta=0;this.received=!1;this.receivedAtMs=0;Object.assign(this,e)}};var rxe=(0,BL.default)("werift/rtp/rtcp/rtpfb/index"),zb=class{constructor(e={}){this.type=zb.type;Object.assign(this,e)}serialize(){return this.feedback.serialize()}static deSerialize(e,r){let n;switch(r.count){case ao.count:n=ao.deSerialize(e,r);break;case oo.count:n=oo.deSerialize(e,r);break;default:rxe("unknown rtpfb packet",r.count);break}return new zb({feedback:n,header:r})}},Ji=zb;Ji.type=205;var Wb=class{constructor(e){this.type=Wb.type;this.chunks=[];Object.assign(this,e)}get length(){let e=0;return this.chunks.forEach(r=>e+=r.length),e}serialize(){let e=Buffer.concat(this.chunks.map(r=>r.serialize()));for(;e.length%4;)e=Buffer.concat([e,Buffer.from([0])]);return Ka.serialize(this.type,this.chunks.length,e,e.length/4)}static deSerialize(e,r){let n=[];for(let i=0;i<e.length;){let a=ed.deSerialize(e.slice(i));n.push(a),i+=a.length}return new Wb({chunks:n})}},co=Wb;co.type=202;var ed=class{constructor(e={}){this.items=[];Object.assign(this,e)}get length(){let e=4;return this.items.forEach(r=>e+=r.length),e+=1,e+=RL(e),e}serialize(){let e=Buffer.concat([nr([4],[this.source]),Buffer.concat(this.items.map(n=>n.serialize()))]);return Buffer.concat([e,Buffer.alloc(RL(e.length))])}static deSerialize(e){let r=e.readUInt32BE(),n=[];for(let i=4;i<e.length&&e[i]!==0;){let o=td.deSerialize(e.slice(i));n.push(o),i+=o.length}return new ed({source:r,items:n})}},td=class{constructor(e){Object.assign(this,e)}get length(){return 1+1+Buffer.from(this.text).length}serialize(){let e=Buffer.from(this.text);return Buffer.concat([nr([1,1],[this.type,e.length]),e])}static deSerialize(e){let r=e[0],n=e[1],i=e.slice(2,2+n).toString();return new td({type:r,text:i})}};function RL(t){return t%4==0?0:4-t%4}var ML=ve(wi());var _m=class{constructor(e){this.ssrc=0;this.reports=[];this.type=_m.type;Object.assign(this,e)}serialize(){let e=Buffer.alloc(4);return e.writeUInt32BE(this.ssrc),e=Buffer.concat([e,this.senderInfo.serialize()]),e=Buffer.concat([e,...this.reports.map(r=>r.serialize())]),Ka.serialize(_m.type,this.reports.length,e,Math.floor(e.length/4))}static deSerialize(e,r){let n=e.readUInt32BE(),i=rd.deSerialize(e.slice(4,24)),a=24,o=[];for(let u of(0,ML.range)(r))o.push(mu.deSerialize(e.slice(a,a+24))),a+=24;return new _m({ssrc:n,senderInfo:i,reports:o})}},Di=_m;Di.type=200;var rd=class{constructor(e={}){Object.assign(this,e)}serialize(){return nr([8,4,4,4],[this.ntpTimestamp,this.rtpTimestamp,this.packetCount,this.octetCount])}static deSerialize(e){let[r,n,i,a]=sn(e,[8,4,4,4]);return new rd({ntpTimestamp:r,rtpTimestamp:n,packetCount:i,octetCount:a})}};var nxe=(0,OL.default)("werift-rtp:packages/rtp/src/rtcp/rtcp.ts"),Ka=class{static serialize(e,r,n,i){let o=new Ni({type:e,count:r,version:2,length:i}).serialize();return Buffer.concat([o,n])}static deSerialize(e){let r=0,n=[];for(;r<e.length;){let i=Ni.deSerialize(e.slice(r,r+Hb));r+=Hb;let a=e.slice(r);r+=i.length*4,i.padding&&(a=a.slice(0,a.length-a.slice(-1)[0]));try{switch(i.type){case Di.type:n.push(Di.deSerialize(a,i.count));break;case Ha.type:n.push(Ha.deSerialize(a,i.count));break;case co.type:n.push(co.deSerialize(a,i));break;case Ji.type:n.push(Ji.deSerialize(a,i));break;case Fa.type:n.push(Fa.deSerialize(a,i));break;default:break}}catch(o){nxe("deSerialize RTCP",o)}}return n}};var jb=class{constructor(e={}){this.count=jb.count;this.fir=[];Object.assign(this,e)}get length(){return Math.floor(this.serialize().length/4-1)}static deSerialize(e){let[r,n]=sn(e,[4,4]),i=[];for(let a=8;a<e.length;a+=8)i.push({ssrc:e.readUInt32BE(a),sequenceNumber:e[a+4]});return new jb({senderSsrc:r,mediaSsrc:n,fir:i})}serialize(){let e=nr([4,4],[this.senderSsrc,this.mediaSsrc]),r=Buffer.alloc(this.fir.length*8);return this.fir.forEach(({ssrc:n,sequenceNumber:i},a)=>{r.writeUInt32BE(n,a*8),r[a*8+4]=i}),Buffer.concat([e,r])}},wm=jb;wm.count=4;var $b=class{constructor(e={}){this.count=$b.count;this.length=2;Object.assign(this,e)}static deSerialize(e){let[r,n]=sn(e,[4,4]);return new $b({senderSsrc:r,mediaSsrc:n})}serialize(){return nr([4,4],[this.senderSsrc,this.mediaSsrc])}},fo=$b;fo.count=1;var Vb=class{constructor(e={}){this.count=Vb.count;this.uniqueID="REMB";this.ssrcNum=0;this.ssrcFeedbacks=[];Object.assign(this,e)}static deSerialize(e){let[r,n,i,a,o]=sn(e,[4,4,4,1,1]),u=$e(o,0,6),f=($e(o,6,2)<<16)+(e[14]<<8)+e[15],d=u>46?18446744073709551615n:BigInt(f)<<BigInt(u),h=[];for(let m=16;m<e.length;m+=4){let _=e.slice(m).readUIntBE(0,4);h.push(_)}return new Vb({senderSsrc:r,mediaSsrc:n,uniqueID:nr([4],[i]).toString(),ssrcNum:a,brExp:u,brMantissa:f,ssrcFeedbacks:h,bitrate:d})}serialize(){let e=Buffer.concat([nr([4,4],[this.senderSsrc,this.mediaSsrc]),Buffer.from(this.uniqueID),nr([1],[this.ssrcNum])]),r=new lu(24);r.set(6,0,this.brExp).set(18,6,this.brMantissa);let n=Buffer.concat(this.ssrcFeedbacks.map(a=>nr([4],[a]))),i=Buffer.concat([e,nr([3],[r.value]),n]);return this.length=i.length/4,i}},lo=Vb;lo.count=15;var ixe=(0,qL.default)("werift/rtp/rtcp/psfb/index"),Gb=class{constructor(e={}){this.type=Gb.type;Object.assign(this,e)}serialize(){let e=this.feedback.serialize();return Ka.serialize(this.type,this.feedback.count,e,this.feedback.length)}static deSerialize(e,r){let n;switch(r.count){case wm.count:n=wm.deSerialize(e);break;case fo.count:n=fo.deSerialize(e);break;case lo.count:n=lo.deSerialize(e);break;default:ixe("unknown psfb packet",r.count);break}return new Gb({feedback:n})}},Fa=Gb;Fa.type=206;var DL=ve(Sr());var axe=(0,DL.debug)("packages/rtp/src/rtp/red/packet.ts"),vc=class{constructor(){this.blocks=[]}static deSerialize(e){let r=e instanceof ArrayBuffer?Buffer.from(e):e,n=new vc,i=0;return[n.header,i]=Gl.deSerialize(r),n.header.fields.forEach(({blockLength:a,timestampOffset:o,blockPT:u})=>{if(a&&o){let f=r.slice(i,i+a);n.blocks.push({block:f,blockPT:u,timestampOffset:o}),i+=a}else{let f=r.slice(i);n.blocks.push({block:f,blockPT:u})}}),n}serialize(){this.header=new Gl;for(let{timestampOffset:r,blockPT:n,block:i}of this.blocks)r?this.header.fields.push({fBit:1,blockPT:n,blockLength:i.length,timestampOffset:r}):this.header.fields.push({fBit:0,blockPT:n});let e=this.header.serialize();for(let{block:r}of this.blocks)e=Buffer.concat([e,r]);return e}},Gl=class{constructor(){this.fields=[]}static deSerialize(e){let r=0,n=new Gl;for(;;){let i={};n.fields.push(i);let a=new Cl(e.slice(r));if(i.fBit=a.readBits(1),i.blockPT=a.readBits(7),r++,i.fBit===0)break;i.timestampOffset=a.readBits(14),i.blockLength=a.readBits(10),r+=3}return[n,r]}serialize(){let e=Buffer.alloc(0);for(let r of this.fields)try{if(r.timestampOffset&&r.blockLength){let n=new Cl(Buffer.alloc(4)).writeBits(1,r.fBit).writeBits(7,r.blockPT).writeBits(14,r.timestampOffset).writeBits(10,r.blockLength);e=Buffer.concat([e,n.uint8Array])}else{let n=new Cl(Buffer.alloc(1)).writeBits(1,0).writeBits(7,r.blockPT);e=Buffer.concat([e,n.uint8Array])}}catch(n){axe(n?.message);continue}return e}};var Yb=class{constructor(e=1){this.distance=e;this.cache=[];this.cacheSize=10}push(e){this.cache.push(e),this.cache.length>this.cacheSize&&this.cache.shift()}build(){let e=new vc,r=this.cache.slice(-(this.distance+1)),n=r.pop();return n&&(r.forEach(i=>{let a=ys(n.timestamp,-i.timestamp);a>sxe||e.blocks.push({block:i.block,blockPT:i.blockPT,timestampOffset:a})}),e.blocks.push({block:n.block,blockPT:n.blockPT})),e}},sxe=(1<<14)-1;var gc={OneByte:48862,TwoByte:4096},NL=2,LL=4,UL=8,HL=12,KL=4,Rn=class{constructor(e={}){this.version=2;this.padding=!1;this.paddingSize=0;this.extension=!1;this.marker=!1;this.payloadOffset=0;this.payloadType=0;this.sequenceNumber=0;this.timestamp=0;this.ssrc=0;this.csrc=[];this.extensionProfile=gc.OneByte;this.extensions=[];Object.assign(this,e)}static deSerialize(e){let r=new Rn,n=0,i=e[n++];r.version=$e(i,0,2),r.padding=$e(i,2)>0,r.extension=$e(i,3)>0;let a=$e(i,4,4);r.csrc=[...Array(a)].map(()=>{let u=e.readUInt32BE(n);return n+=4,u}),n+=HL-1;let o=e[1];r.marker=$e(o,0)>0,r.payloadType=$e(o,1,7),r.sequenceNumber=e.readUInt16BE(NL),r.timestamp=e.readUInt32BE(LL),r.ssrc=e.readUInt32BE(UL);for(let u=0;u<r.csrc.length;u++){let f=HL+u*KL;r.csrc[u]=e.slice(f).readUInt32BE()}if(r.extension){r.extensionProfile=e.slice(n).readUInt16BE(),n+=2;let u=e.slice(n).readUInt16BE()*4;switch(r.extensionLength=u,n+=2,r.extensionProfile){case gc.OneByte:{let f=n+u;for(;n<f;){if(e[n]===0){n++;continue}let d=e[n]>>4,h=(e[n]&(e[n]^240))+1;if(n++,d===15)break;let m={id:d,payload:e.slice(n,n+h)};r.extensions=[...r.extensions,m],n+=h}}break;case gc.TwoByte:{let f=n+u;for(;n<f;){if(e[n]===0){n++;continue}let d=e[n];n++;let h=e[n];n++;let m={id:d,payload:e.slice(n,n+h)};r.extensions=[...r.extensions,m],n+=h}}break;default:{let f={id:0,payload:e.slice(n,n+u)};r.extensions=[...r.extensions,f],n+=r.extensions[0].payload.length}break}}return r.payloadOffset=n,r.padding&&(r.paddingSize=e[e.length-1]),r}get serializeSize(){let{csrc:e,extensionProfile:r,extensions:n}=this,i=12+e.length*KL;if(n.length>0||this.extension===!0){let a=4;switch(r){case gc.OneByte:n.forEach(o=>{a+=1+o.payload.length});break;case gc.TwoByte:n.forEach(o=>{a+=2+o.payload.length});break;default:a+=n[0].payload.length}i+=Math.floor((a+3)/4)*4}return i}serialize(e){let r=Buffer.alloc(e),n=0,i=new lu(8);i.set(2,0,this.version),this.padding&&i.set(1,2,1),this.extensions.length>0&&(this.extension=!0),this.extension&&i.set(1,3,1),i.set(4,4,this.csrc.length),r.writeUInt8(i.value,n++);let a=new lu(8);if(this.marker&&a.set(1,0,1),a.set(7,1,this.payloadType),r.writeUInt8(a.value,n++),r.writeUInt16BE(this.sequenceNumber,NL),n+=2,r.writeUInt32BE(this.timestamp,LL),n+=4,r.writeUInt32BE(this.ssrc,UL),n+=4,this.csrc.forEach(o=>{r.writeUInt32BE(o,n),n+=4}),this.extension){let o=n;r.writeUInt16BE(this.extensionProfile,n),n+=4;let u=n;switch(this.extensionProfile){case gc.OneByte:this.extensions.forEach(m=>{r.writeUInt8(m.id<<4|m.payload.length-1,n++),m.payload.copy(r,n),n+=m.payload.length});break;case gc.TwoByte:this.extensions.forEach(m=>{r.writeUInt8(m.id,n++),r.writeUInt8(m.payload.length,n++),m.payload.copy(r,n),n+=m.payload.length});break;default:let h=this.extensions[0].payload.length;if(h%4!=0)throw new Error;this.extensions[0].payload.copy(r,n),n+=h}let f=n-u,d=Math.floor((f+3)/4)*4;r.writeUInt16BE(Math.floor(d/4),o+2);for(let h=0;h<d-f;h++)r.writeUInt8(0,n),n++}return this.payloadOffset=n,r}},Mn=class{constructor(e,r){this.header=e;this.payload=r}get serializeSize(){return this.header.serializeSize+this.payload.length}clone(){return new Mn(new Rn({...this.header}),this.payload)}serialize(){let e=this.header.serialize(this.header.serializeSize+this.payload.length),{payloadOffset:r}=this.header;if(this.payload.copy(e,r),this.header.padding){let n=Buffer.alloc(this.header.paddingSize);n.writeUInt8(this.header.paddingSize,this.header.paddingSize-1),e=Buffer.concat([e,n])}return e}static deSerialize(e){let r=Rn.deSerialize(e);return new Mn(r,e.slice(r.payloadOffset,e.length-r.paddingSize))}};var Xb=ve(zL()),Qb=require("crypto");var WL=ve(D7()),xu=require("crypto"),jL=ve(wi());var Sm=class{constructor(e,r,n,i){this.srtpSessionKey=e;this.srtpSessionSalt=r;this.srtcpSessionKey=n;this.srtcpSessionSalt=i}encryptRtp(e,r,n){return Buffer.from([])}decryptRtp(e,r){return[]}encryptRTCP(e,r){return Buffer.from([])}decryptRTCP(e){return[]}};var N7=class extends Sm{constructor(e,r,n,i,a,o){super(e,r,n,i);this.srtpSessionAuthTag=a;this.srtcpSessionAuthTag=o;this.authTagLength=10}encryptRtp(e,r,n){let i=Buffer.alloc(e.serializeSize+r.length+this.authTagLength);e.serialize(i.length).copy(i);let{payloadOffset:a}=e,o=this.generateCounter(e.sequenceNumber,n,e.ssrc,this.srtpSessionSalt);(0,xu.createCipheriv)("aes-128-ctr",this.srtpSessionKey,o).update(r).copy(i,a);let d=a+r.length;return this.generateSrtpAuthTag(i.slice(0,d),n).copy(i,d),i}decryptRtp(e,r){let n=Rn.deSerialize(e),i=Buffer.from([]);i=pm(i,e.length-this.authTagLength),e=e.slice(0,e.length-this.authTagLength),e.slice(0,n.payloadOffset).copy(i);let a=this.generateCounter(n.sequenceNumber,r,n.ssrc,this.srtpSessionSalt),o=(0,xu.createDecipheriv)("aes-128-ctr",this.srtpSessionKey,a),u=e.slice(n.payloadOffset);return o.update(u).copy(i,n.payloadOffset),[i,n]}encryptRTCP(e,r){let n=Buffer.from(e),i=n.readUInt32BE(4),a=this.generateCounter(r&65535,r>>16,i,this.srtcpSessionSalt);(0,xu.createCipheriv)("aes-128-ctr",this.srtcpSessionKey,a).update(n.slice(8)).copy(n,8),n=Buffer.concat([n,Buffer.alloc(4)]),n.writeUInt32BE(r,n.length-4),n[n.length-4]|=128;let f=this.generateSrtcpAuthTag(n);return n=Buffer.concat([n,f]),n}decryptRTCP(e){let r=Ni.deSerialize(e),n=e.length-(this.authTagLength+oxe),i=Buffer.from(e).slice(0,n);if(e[n]>>7===0)return[i,r];let o=e.readUInt32BE(n);o&=~(1<<31);let u=e.readUInt32BE(4),f=e.slice(e.length-10),d=this.generateCounter(o&65535,o>>16,u,this.srtcpSessionSalt);return(0,xu.createDecipheriv)("aes-128-ctr",this.srtcpSessionKey,d).update(i.slice(8)).copy(i,8),[i,r]}generateSrtcpAuthTag(e){return(0,xu.createHmac)("sha1",this.srtcpSessionAuthTag).update(e).digest().slice(0,10)}generateCounter(e,r,n,i){let a=Buffer.alloc(16);return a.writeUInt32BE(n,4),a.writeUInt32BE(r,8),a.writeUInt32BE((0,WL.default)(e).shiftLeft(16).toJSNumber(),12),(0,jL.range)(i.length).forEach(o=>{a[o]=a[o]^i[o]}),a}generateSrtpAuthTag(e,r){let n=(0,xu.createHmac)("sha1",this.srtpSessionAuthTag),i=Buffer.alloc(4);return i.writeUInt32BE(r),n.update(e).update(i).digest().slice(0,10)}},oxe=4;var Yl=require("crypto"),L7=ve(wi());var U7=class extends Sm{constructor(e,r,n,i){super(e,r,n,i);this.aeadAuthTagLen=16}encryptRtp(e,r,n){let i=Buffer.alloc(e.serializeSize+r.length+this.aeadAuthTagLen),a=e.serialize(e.serializeSize);a.copy(i);let{payloadOffset:o}=e,u=this.rtpInitializationVector(e,n),f=(0,Yl.createCipheriv)("aes-128-gcm",this.srtpSessionKey,u);f.setAAD(a);let d=f.update(r);return f.final(),d.copy(i,o),f.getAuthTag().copy(i,o+d.length),i}decryptRtp(e,r){let n=Rn.deSerialize(e),i=Buffer.from([]);i=pm(i,e.length-this.aeadAuthTagLen),e.slice(0,n.payloadOffset).copy(i);let a=this.rtpInitializationVector(n,r),o=e.slice(n.payloadOffset,e.length-this.aeadAuthTagLen);return(0,Yl.createDecipheriv)("aes-128-gcm",this.srtpSessionKey,a).update(o).copy(i,n.payloadOffset),[i,n]}encryptRTCP(e,r){let n=e.readUInt32BE(4),i=e.length+this.aeadAuthTagLen,a=Buffer.from([]);a=pm(a,i+$L),e.slice(0,8).copy(a);let o=this.rtcpInitializationVector(n,r),u=this.rtcpAdditionalAuthenticatedData(e,r),f=(0,Yl.createCipheriv)("aes-128-gcm",this.srtcpSessionKey,o);f.setAAD(u);let d=f.update(e.slice(8));return f.final(),d.copy(a,8),f.getAuthTag().copy(a,8+d.length),u.slice(8,12).copy(a,i),a}decryptRTCP(e){let r=Ni.deSerialize(e),n=e.length-$L,i=Buffer.alloc(n-this.aeadAuthTagLen);e.slice(0,8).copy(i);let a=e.readUInt32BE(4),o=e.readUInt32BE(e.length-4);o&=~(VL<<24);let u=this.rtcpInitializationVector(a,o),f=this.rtcpAdditionalAuthenticatedData(e,o),d=(0,Yl.createDecipheriv)("aes-128-gcm",this.srtcpSessionKey,u);return d.setAAD(f),d.update(e.slice(8,n)).copy(i,8),[i,r]}rtpInitializationVector(e,r){let n=nr([2,4,4,2],[0,e.ssrc,r,e.sequenceNumber]);return(0,L7.range)(0,n.length).forEach(i=>{n[i]=n[i]^this.srtpSessionSalt[i]}),n}rtcpInitializationVector(e,r){let n=nr([2,4,2,4],[0,e,0,r]);return(0,L7.range)(0,n.length).forEach(i=>{n[i]=n[i]^this.srtcpSessionSalt[i]}),n}rtcpAdditionalAuthenticatedData(e,r){let n=Buffer.concat([e.slice(0,8),nr([4],[r])]);return n[8]|=VL,n}},$L=4,VL=128;var GL=t=>{switch(t){case 1:case 7:return 16}},YL=t=>{switch(t){case 1:return 14;case 7:return 12}};var Cm=class{constructor(e,r,n){this.masterKey=e;this.masterSalt=r;this.profile=n;this.srtpSSRCStates={};this.srtcpSSRCStates={};{let i=14-r.length;i>0&&(this.masterSalt=Buffer.concat([r,Buffer.alloc(i)]))}switch(this.srtpSessionKey=this.generateSessionKey(0),this.srtpSessionSalt=this.generateSessionSalt(2),this.srtpSessionAuthTag=this.generateSessionAuthTag(1),this.srtpSessionAuth=(0,Qb.createHmac)("sha1",this.srtpSessionAuthTag),this.srtcpSessionKey=this.generateSessionKey(3),this.srtcpSessionSalt=this.generateSessionSalt(5),this.srtcpSessionAuthTag=this.generateSessionAuthTag(4),this.srtcpSessionAuth=(0,Qb.createHmac)("sha1",this.srtcpSessionAuthTag),n){case 1:this.cipher=new N7(this.srtpSessionKey,this.srtpSessionSalt,this.srtcpSessionKey,this.srtcpSessionSalt,this.srtpSessionAuthTag,this.srtcpSessionAuthTag);break;case 7:this.cipher=new U7(this.srtpSessionKey,this.srtpSessionSalt,this.srtcpSessionKey,this.srtcpSessionSalt);break}}generateSessionKey(e){let r=Buffer.from(this.masterSalt),n=Buffer.from([e,0,0,0,0,0,0]);for(let a=n.length-1,o=r.length-1;a>=0;a--,o--)r[o]=r[o]^n[a];r=Buffer.concat([r,Buffer.from([0,0])]);let i=new Xb.AES(this.masterKey);return Buffer.from(i.encrypt(r))}generateSessionSalt(e){let r=Buffer.from(this.masterSalt),n=Buffer.from([e,0,0,0,0,0,0]);for(let a=n.length-1,o=r.length-1;a>=0;a--,o--)r[o]=r[o]^n[a];r=Buffer.concat([r,Buffer.from([0,0])]);let i=new Xb.AES(this.masterKey);return r=Buffer.from(i.encrypt(r)),r.slice(0,14)}generateSessionAuthTag(e){let r=Buffer.from(this.masterSalt),n=Buffer.from([e,0,0,0,0,0,0]);for(let u=n.length-1,f=r.length-1;u>=0;u--,f--)r[f]=r[f]^n[u];let i=Buffer.concat([r,Buffer.from([0,0])]),a=Buffer.concat([r,Buffer.from([0,1])]),o=new Xb.AES(this.masterKey);return i=Buffer.from(o.encrypt(i)),a=Buffer.from(o.encrypt(a)),Buffer.concat([i,a.slice(0,4)])}getSrtpSsrcState(e){let r=this.srtpSSRCStates[e];return r||(r={ssrc:e,rolloverCounter:0,lastSequenceNumber:0},this.srtpSSRCStates[e]=r,r)}getSrtcpSsrcState(e){let r=this.srtcpSSRCStates[e];return r||(r={srtcpIndex:0,ssrc:e},this.srtcpSSRCStates[e]=r,r)}updateRolloverCount(e,r){r.rolloverHasProcessed?e===0?r.lastSequenceNumber>Am&&r.rolloverCounter++:r.lastSequenceNumber<Am&&e>JL-Am?r.rolloverCounter>0&&r.rolloverCounter--:e<Am&&r.lastSequenceNumber>JL-Am&&r.rolloverCounter++:r.rolloverHasProcessed=!0,r.lastSequenceNumber=e}generateSrtpAuthTag(e,r){this.srtpSessionAuth=(0,Qb.createHmac)("sha1",this.srtpSessionAuthTag);let n=Buffer.alloc(4);return n.writeUInt32BE(r),this.srtpSessionAuth.update(e).update(n).digest().slice(0,10)}index(e){let r=this.srtcpSSRCStates[e];return r?r.srtcpIndex:0}setIndex(e,r){let n=this.getSrtcpSsrcState(e);n.srtcpIndex=r%2147483647}},Am=100,JL=65535;var H7=class extends Cm{constructor(e,r,n){super(e,r,n)}encryptRTCP(e){let r=e.readUInt32BE(4),n=this.getSrtcpSsrcState(r);return n.srtcpIndex++,n.srtcpIndex>>fxe&&(n.srtcpIndex=0),this.cipher.encryptRTCP(e,n.srtcpIndex)}decryptRTCP(e){return this.cipher.decryptRTCP(e)}},fxe=2147483647;var Em=class{constructor(e){this.ContextCls=e}start(e,r,n,i,a){this.localContext=new this.ContextCls(e,r,a),this.remoteContext=new this.ContextCls(n,i,a)}};var Zb=class extends Em{constructor(e){super(H7);this.config=e;this.decrypt=e=>{let[r]=this.remoteContext.decryptRTCP(e);return r};this.start(e.keys.localMasterKey,e.keys.localMasterSalt,e.keys.remoteMasterKey,e.keys.remoteMasterSalt,e.profile)}encrypt(e){return this.localContext.encryptRTCP(e)}};var K7=class extends Cm{constructor(e,r,n){super(e,r,n)}encryptRtp(e,r){let n=this.getSrtpSsrcState(r.ssrc);return this.updateRolloverCount(r.sequenceNumber,n),this.cipher.encryptRtp(r,e,n.rolloverCounter)}decryptRtp(e){let r=Rn.deSerialize(e),n=this.getSrtpSsrcState(r.ssrc);return this.updateRolloverCount(r.sequenceNumber,n),this.cipher.decryptRtp(e,n.rolloverCounter)}};var ev=class extends Em{constructor(e){super(K7);this.config=e;this.decrypt=e=>{let[r]=this.remoteContext.decryptRtp(e);return r};this.start(e.keys.localMasterKey,e.keys.localMasterSalt,e.keys.remoteMasterKey,e.keys.remoteMasterSalt,e.profile)}encrypt(e,r){return this.localContext.encryptRtp(e,r)}};var QL=ve(Sr()),Pm=ve(Bn());var XL=ve(require("events"));function F7(t){return t.map((e,r)=>[r,e])}function ho(t,e){let r=t.split(e);return[r[0],r.slice(1).join(e)]}var nd=class extends XL.default{constructor(){super(...arguments);this.addEventListener=(e,r)=>{this.addListener(e,r)};this.removeEventListener=(e,r)=>{this.removeListener(e,r)}}};var dxe=(0,QL.default)("werift/webrtc/datachannel"),Jl=class extends nd{constructor(e,r,n=!0){super();this.transport=e;this.parameters=r;this.sendOpen=n;this.stateChanged=new Pm.Event;this.message=new Pm.Event;this.error=new Pm.Event;this.bufferedAmountLow=new Pm.Event;this.isCreatedByRemote=!1;this.id=this.parameters.id;this.readyState="connecting";this.bufferedAmount=0;this._bufferedAmountLowThreshold=0;if(r.negotiated){if(this.id==null||this.id<0||this.id>65534)throw new Error("ID must be in range 0-65534 if data channel is negotiated out-of-band");this.transport.dataChannelAddNegotiated(this)}else n&&(this.sendOpen=!1,this.transport.dataChannelOpen(this))}get ordered(){return this.parameters.ordered}get maxRetransmits(){return this.parameters.maxRetransmits}get maxPacketLifeTime(){return this.parameters.maxPacketLifeTime}get label(){return this.parameters.label}get protocol(){return this.parameters.protocol}get negotiated(){return this.parameters.negotiated}get bufferedAmountLowThreshold(){return this._bufferedAmountLowThreshold}set bufferedAmountLowThreshold(e){if(e<0||e>4294967295)throw new Error("bufferedAmountLowThreshold must be in range 0 - 4294967295");this.bufferedAmountLowThreshold=e}setId(e){this.id=e}setReadyState(e){if(e!==this.readyState){switch(this.readyState=e,this.stateChanged.execute(e),e){case"open":this.onopen&&this.onopen(),this.emit("open");break;case"closed":this.onclose&&this.onclose(),this.emit("close");break;case"closing":this.onclosing&&this.onclosing();break}dxe("change state",e)}}addBufferedAmount(e){let r=this.bufferedAmount>this.bufferedAmountLowThreshold&&this.bufferedAmount+e<=this.bufferedAmountLowThreshold;this.bufferedAmount+=e,r&&(this.bufferedAmountLow.execute(),this.emit("bufferedamountlow"))}send(e){this.transport.datachannelSend(this,e)}close(){this.transport.dataChannelClose(this)}},Xl=class{constructor(e={}){this.label="";this.ordered=!0;this.protocol="";this.negotiated=!1;Object.assign(this,e)}};var lxe=()=>({type:"ccm",parameter:"fir"}),hxe=()=>({type:"nack"}),pxe=()=>({type:"nack",parameter:"pli"}),mxe=()=>({type:"goog-remb"}),xxe=()=>({type:"transport-cc"});var ZL=class{constructor(e={}){this.parameters={};Object.assign(this,e)}get name(){return this.mimeType.split("/")[1]}},_c=class{constructor(e){this.rtcpFeedback=[];Object.assign(this,e)}get name(){return this.mimeType.split("/")[1]}get str(){let e=`${this.name}/${this.clockRate}`;return this.channels===2&&(e+="/2"),e}},po=class{constructor(e){Object.assign(this,e)}},eU=class{constructor(e={}){this.mux=!1;Object.assign(this,e)}},tv=class{constructor(e={}){Object.assign(this,e)}},rv=class{constructor(e={}){Object.assign(this,e)}},nv=class{constructor(e){Object.assign(this,e)}},Ql=class{constructor(e){Object.assign(this,e)}};var bn={sdesMid:"urn:ietf:params:rtp-hdrext:sdes:mid",sdesRTPStreamID:"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id",repairedRtpStreamId:"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id",transportWideCC:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01",absSendTime:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"};function yxe(){return new po({uri:bn.sdesMid})}function bxe(){return new po({uri:bn.sdesRTPStreamID})}function vxe(){return new po({uri:bn.repairedRtpStreamId})}function gxe(){return new po({uri:bn.transportWideCC})}function _xe(){return new po({uri:bn.absSendTime})}var EU=ve(Bn());var mo=ve(bU(),1),l$e=mo.default.v1,h$e=mo.default.v3,Li=mo.default.v4,p$e=mo.default.v5,m$e=mo.default.NIL,x$e=mo.default.version,y$e=mo.default.validate,b$e=mo.default.stringify,v$e=mo.default.parse;var ad=class{static findMatchingSRTPProfile(e,r){for(let n of r)if(e.includes(n))return n}},vU=1,gU=7;var J7=2,X7=3,_U=0;var km=50,Q7=51,Z7=53,wU=56,SU=57,AU="0.0.0.0",eC=9;var vv={auto:"actpass",client:"active",server:"passive"},tC=Object.keys(vv).reduce((t,e)=>{let r=vv[e];return t[r]=e,t},{}),CU=["apt","max-fr","max-fs","maxplaybackrate","minptime","stereo","useinbandfec"],rC=["cname","msid","mslabel","label"],nC={SRTP_AES128_CM_HMAC_SHA1_80:vU,SRTP_AEAD_AES_128_GCM:gU},Bm=["sendonly","sendrecv"];var gv=class{constructor(e,r,n,i,a){this.kind=e;this.receiver=r;this.sender=n;this.direction=i;this.dtlsTransport=a;this.uuid=Li();this.onTrack=new EU.default;this.usedForSender=!1;this.codecs=[];this.headerExtensions=[];this.options={};this.stopping=!1;this.stopped=!1}set currentDirection(e){this._currentDirection=e,Bm.includes(this._currentDirection||"")&&(this.usedForSender=!0)}get currentDirection(){return this._currentDirection}get msid(){return`${this.sender.streamId} ${this.sender.trackId}`}addTrack(e){this.receiver.addTrack(e)&&this.onTrack.execute(e)}stop(){this.stopping||(this.stopping=!0)}getPayloadType(e){return this.codecs.find(r=>r.mimeType.toLowerCase().includes(e.toLowerCase()))?.payloadType}},wc=["inactive","sendonly","recvonly","sendrecv"];var _v=ve(Bn());var xo=class extends nd{constructor(e){super();this.uuid=Li();this.remote=!1;this.enabled=!0;this.onReceiveRtp=new _v.default;this.onReceiveRtcp=new _v.default;this.onSourceChanged=new _v.default;this.stopped=!1;this.muted=!0;this.stop=()=>{this.stopped=!0,this.muted=!0,this.onReceiveRtp.complete()};this.writeRtp=e=>{if(this.remote)throw new Error("this is remoteTrack");if(!this.codec||this.stopped)return;let r=Buffer.isBuffer(e)?Mn.deSerialize(e):e;r.header.payloadType=this.codec.payloadType,this.onReceiveRtp.execute(r)};Object.assign(this,e),this.onReceiveRtp.subscribe(r=>{this.muted=!1,this.header=r.header}),this.label=`${this.remote?"remote":"local"} ${this.kind}`}},wv=class{constructor(e){this.tracks=[];Object.assign(this,e)}addTrack(e){e.streamId=this.id,this.tracks.push(e)}getTracks(){return this.tracks}};var Eye=ve(require("fs/promises"));var iC=class{constructor(e,r){this.path=e;this.options=r}start(e){}async stop(){}};var aC=class extends iC{start(e){this.webm=new Ub(Eye,"./test.webm",e.map((r,n)=>{let i=n+1,a=r.codec.payloadType;if(r.kind==="video"){let o=(()=>{switch(r.codec?.name.toLowerCase()){case"vp8":return"VP8";case"vp9":return"VP9";case"h264":return"MPEG4/ISO/AVC";case"av1x":return"AV1";default:throw new Error}})();return{kind:"video",clockRate:9e4,payloadType:a,trackNumber:i,codec:o,width:this.options.width,height:this.options.height}}else return{kind:"audio",clockRate:48e3,payloadType:a,trackNumber:i,codec:"OPUS"}})),e.forEach(r=>{let n=r.kind==="video"?new mm(i=>!!i.marker).pipe(this.webm):new mm(()=>!0).pipe(this.webm);new Ob({rtpStream:r.onReceiveRtp,rtcpStream:r.onReceiveRtcp}).pipe(n)})}async stop(){await this.webm.stop()}};var PU=class{constructor(e,r,n={}){this.tracks=e;this.path=r;this.options=n;this.ext=r.split(".").slice(-1)[0],this.writer=(()=>{switch(this.ext){case"webm":return new aC(r,n);default:throw new Error}})()}addTrack(e){this.tracks.push(e)}start(){this.writer.start(this.tracks)}async stop(){await this.writer.stop()}};var TU=require("child_process"),IU=require("dgram"),kU=require("timers/promises");var Pye=async(t,e)=>{let r=await um(),n=await um();return new BU(r,n,t,e)},BU=class{constructor(e,r,n,i){this.videoPort=e;this.audioPort=r;this.path=n;this.loop=i;this.streamId=Li();this.audio=new xo({kind:"audio",streamId:this.streamId});this.video=new xo({kind:"video",streamId:this.streamId});this.setupTrack=(e,r)=>{let n=0,i=(0,IU.createSocket)("udp4");i.bind(e),i.on("message",async a=>{let o=Mn.deSerialize(a);n||(n=o.header.payloadType),n!==o.header.payloadType&&(n=o.header.payloadType,r.onSourceChanged.execute(o.header)),r.writeRtp(a)})};this.setupTrack(r,this.audio),this.setupTrack(e,this.video)}async start(){let e=96,r=async()=>{e>100&&(e=96);let n=`gst-launch-1.0 filesrc location= ${this.path} ! qtdemux name=d ! queue ! h264parse ! rtph264pay config-interval=10 pt=${e++} ! udpsink host=127.0.0.1 port=${this.videoPort} d. ! queue ! aacparse ! avdec_aac ! audioresample ! audioconvert ! opusenc ! rtpopuspay pt=${e++} ! udpsink host=127.0.0.1 port=${this.audioPort}`,i=(0,TU.exec)(n);this.loop&&(await new Promise(a=>i.on("close",a)),r())};await(0,kU.setImmediate)(),r()}};var Oue=ve(Sr()),_A=ve(wi()),eo=ve(Bn());var noe=ve(Sr());var eoe=ve(Sr()),toe=ve(xs()),roe=ve(Bn()),EM=require("timers/promises");var $se=require("crypto"),Vse=ve(Sr()),hM=require("perf_hooks");var BS=ve(xC()),Kse=ve(GK()),jh=ve(Lj()),Ca=ve(Jr()),Fse=require("crypto"),zse=ve(Xie());var Ese=ve(Jr()),CS=require("crypto"),Pse=ve(fM()),Tse=ve(Cv());function ES(t,e,r){switch(r){case ha.secp256r1_23:let n=new Pse.ec("p256"),i=n.keyFromPublic(t).getPublic(),a=n.keyFromPrivate(e).getPrivate(),o=i.mul(a);return Buffer.from(o.encode("array",!1)).slice(1,33);case ha.x25519_29:return Buffer.from(Tse.scalarMult(e,t));default:throw new Error}}function Cse(t,e,r){let n=(0,CS.createHmac)(t,e);return n.update(r),n.digest()}function Vx(t,e,r,n="sha256"){let i=r,a=[],o=e;do{o=Cse(n,t,o);let u=Cse(n,t,Buffer.concat([o,e]));a.push(u),r-=u.length}while(r>0);return Buffer.concat(a,i)}function PS(t,e,r){let n=Buffer.concat([Buffer.from("master secret"),e,r]);return Vx(t,n,48)}function TS(t,e){let r=kse("sha256",e),n="extended master secret";return Vx(t,Buffer.concat([Buffer.from(n),r]),48)}function Ise(t,e,r,n,i,a){let o=a?n:i,u=a?i:n,f=Buffer.concat([Buffer.from(t),o,u]);return Vx(r,f,e)}function kse(t,e){return(0,CS.createHash)(t).update(e).digest()}function Bse(t,e,r,n=12){let i=kse("sha256",e);return Vx(t,Buffer.concat([Buffer.from(r),i]),n)}function Rse(t,e){return Bse(t,e,"client finished")}function Mse(t,e){return Bse(t,e,"server finished")}function Ose(t,e,r,n,i,a,o="sha256"){let u=n*2+i*2,f=t,d=Buffer.concat([r,e]),h=Vx(f,Buffer.concat([Buffer.from("key expansion"),d]),u,o),m=(0,Ese.createDecode)(h),_=m.readBuffer(n),w=m.readBuffer(n),P=m.readBuffer(i),M=m.readBuffer(i),K=Buffer.alloc(a,0),Y=Buffer.alloc(a,0);return P.copy(K,0),M.copy(Y,0),{clientWriteKey:_,serverWriteKey:w,clientNonce:K,serverNonce:Y}}var aa={CLIENT:1,SERVER:2},IS=class{constructor(){this.id=0;this.verifyDataLength=12}init(...e){throw new Error("not implemented")}encrypt(...e){throw new Error("not implemented")}decrypt(...e){throw new Error("not implemented")}toString(){return this.name}};var qse=ve(Jr()),{uint16be:kS,uint24be:LHe,buffer:Dse,array:UHe,uint8:Gx,string:HHe}=qse.types,KHe={type:kS,data:Dse(kS)},Yx=UHe(KHe,kS,"bytes"),Nse=Dse(LHe),Lse=Gx,Use=HHe(kS),Hse={hash:Gx,signature:Gx},Jo={major:Gx,minor:Gx};var dM=new Kse.Crypto;jh.cryptoProvider.set(dM);var Ef=class{constructor(e,r,n,i){this.sessionType=e;this.certPem=r;this.keyPem=n;r&&n&&i&&this.parseX509(r,n,i)}encryptPacket(e){let r=e.recordLayerHeader,n=this.cipher.encrypt(this.sessionType,e.fragment,{type:r.contentType,version:(0,Ca.decode)(Buffer.from((0,Ca.encode)(r.protocolVersion,Jo).slice()),{version:Ca.types.uint16be}).version,epoch:r.epoch,sequenceNumber:r.sequenceNumber});return e.fragment=n,e.recordLayerHeader.contentLen=n.length,e}decryptPacket(e){let r=e.recordLayerHeader;return this.cipher.decrypt(this.sessionType,e.fragment,{type:r.contentType,version:(0,Ca.decode)(Buffer.from((0,Ca.encode)(r.protocolVersion,Jo).slice()),{version:Ca.types.uint16be}).version,epoch:r.epoch,sequenceNumber:r.sequenceNumber})}verifyData(e){return this.sessionType===aa.CLIENT?Rse(this.masterSecret,e):Mse(this.masterSecret,e)}signatureData(e,r){let n=(0,Fse.createSign)(r).update(e),i=this.localPrivateKey.toPEM().toString();return n.sign(i)}generateKeySignature(e){let r=this.sessionType===aa.CLIENT?this.localRandom:this.remoteRandom,n=this.sessionType===aa.SERVER?this.localRandom:this.remoteRandom,i=this.valueKeySignature(r.serialize(),n.serialize(),this.localKeyPair.publicKey,this.namedCurve);return this.localPrivateKey.sign(i,e)}parseX509(e,r,n){let i=BS.Certificate.fromPEM(Buffer.from(e)),a=BS.PrivateKey.fromPEM(Buffer.from(r));this.localCert=i.raw,this.localPrivateKey=a,this.signatureHashAlgorithm=n}valueKeySignature(e,r,n,i){let a=Buffer.from((0,Ca.encode)({type:Zp.named_curve_3,curve:i,len:n.length},{type:Ca.types.uint8,curve:Ca.types.uint16be,len:Ca.types.uint8}).slice());return Buffer.concat([e,r,a,n])}};Ef.createSelfSignedCertificateWithKey=async(e,r)=>{let n=(()=>{switch(e.signature){case Yn.rsa_1:return"RSASSA-PKCS1-v1_5";case Yn.ecdsa_3:return"ECDSA"}})(),i=(()=>{switch(e.hash){case vs.sha256_4:return"SHA-256"}})(),a=(()=>{switch(r){case ha.secp256r1_23:return"P-256";case ha.x25519_29:return n==="ECDSA"?"P-256":"X25519";default:{if(n==="ECDSA")return"P-256";if(n==="RSASSA-PKCS1-v1_5")return"X25519"}}})(),o=(()=>{switch(n){case"ECDSA":return{name:n,hash:i,namedCurve:a};case"RSASSA-PKCS1-v1_5":return{name:n,hash:i,publicExponent:new Uint8Array([1,0,1]),modulusLength:2048}}})(),u=await dM.subtle.generateKey(o,!0,["sign","verify"]),d=(await jh.X509CertificateGenerator.createSelfSigned({serialNumber:"01",name:"C=AU, ST=Some-State, O=Internet Widgits Pty Ltd",notBefore:new Date,notAfter:(0,zse.addYears)(Date.now(),10),signingAlgorithm:o,keys:u})).toString("pem"),h=jh.PemConverter.encode(await dM.subtle.exportKey("pkcs8",u.privateKey),"private key");return{certPem:d,keyPem:h,signatureHash:e}};var jHe=jse(),$He=(0,Vse.default)("werift/webrtc/utils");function pM(t,e){let r=a=>a.toUpperCase(),n=a=>a.match(/(.{2})/g).join(":"),i=(0,$se.createHash)(e).update(t).digest("hex");return n(r(i))}function mM(t){let e=t[0];return e>19&&e<64}function xM(t){let e=t[0];return e>127&&e<192}function yM(t){return t.length>=2&&t[1]>=192&&t[1]<=208}function bM(t){return t==="recv"?"send":"recv"}var MS=(t,e)=>wc[wc.indexOf(t)&wc.indexOf(e)],VHe=(t,e)=>wc[wc.indexOf(t)&wc.indexOf(e)];function vM(t){return t==="sendonly"?"recvonly":t==="recvonly"?"sendonly":t}var gM=()=>jHe.micro(),$h=()=>new Date().getTime(),OS=()=>{let e=(hM.performance.timeOrigin+hM.performance.now()-Date.UTC(1900,0,1))/1e3,[r,n]=e.toString().split(".").map(Number);return nr([4,4],[r,n]).readBigUInt64BE()},Jx=t=>{let e=nr([8],[t]),[,r,n]=sn(e,[2,2,2,2]);return nr([2,2],[r,n]).readUInt32BE()};function _M(t){let e=u=>{if(!u)return;let[f,d]=u.split(":");return[f,parseInt(d)]},r=e(t.find(({urls:u})=>u.includes("stun:"))?.urls.slice(5)),n=e(t.find(({urls:u})=>u.includes("turn:"))?.urls.slice(5)),{credential:i,username:a}=t.find(({urls:u})=>u.includes("turn:"))||{},o={stunServer:r,turnServer:n,turnUsername:a,turnPassword:i};return $He("iceOptions",o),o}var Gse=class{constructor(){this.sequenceNumber=Yp();this.timestamp=Al()}create(e){this.sequenceNumber=Gr(this.sequenceNumber,1),this.timestamp=ys(this.timestamp,960);let r=new Rn({sequenceNumber:this.sequenceNumber,timestamp:Number(this.timestamp),payloadType:96,extension:!0,marker:!1,padding:!1});return new Mn(r,e)}},GHe=Ef.createSelfSignedCertificateWithKey;var Jse=ve(wi()),Xse=ve(Bn());var Yse=30*5,wM=class{constructor(e){this.receiver=e;this.newEstSeqNum=0;this._lost={};this.nackLoop=setInterval(()=>this.packetLost(),20);this.onPacketLost=new Xse.default}get lost(){return Object.keys(this._lost).map(Number)}addPacket(e){let{sequenceNumber:r,ssrc:n}=e.header;if(this.mediaSourceSsrc=n,this.newEstSeqNum===0){this.newEstSeqNum=r;return}if(this._lost[r]){delete this._lost[r];return}r===Gr(this.newEstSeqNum,1)?this.newEstSeqNum=r:r>Gr(this.newEstSeqNum,1)&&((0,Jse.range)(Gr(this.newEstSeqNum,1),r).forEach(i=>{this._lost[i]=1}),this.receiver.sendRtcpPLI(this.mediaSourceSsrc),this.newEstSeqNum=r,Object.keys(this._lost).length>Yse&&(this._lost=Object.entries(this._lost).slice(-Yse).reduce((i,[a,o])=>(i[a]=o,i),{})))}close(){clearInterval(this.nackLoop)}increment(){Object.keys(this._lost).forEach(e=>{++this._lost[e]>10&&delete this._lost[e]})}packetLost(){if(this.lost.length>0&&this.mediaSourceSsrc){let e=new ao({senderSsrc:this.receiver.rtcpSsrc,mediaSourceSsrc:this.mediaSourceSsrc,lost:this.lost}),r=new Ji({feedback:e});this.receiver.dtlsTransport.sendRtcp([r]),this.increment(),this.onPacketLost.execute(e)}}};var Qse=ve(Sr()),Zse=require("timers/promises");var YHe=(0,Qse.default)("werift/webrtc/media/receiver/receiverTwcc"),SM=class{constructor(e,r,n){this.dtlsTransport=e;this.rtcpSsrc=r;this.mediaSourceSsrc=n;this.extensionInfo={};this.twccRunning=!1;this.fbPktCount=0;this.runTWCC()}handleTWCC(e){this.extensionInfo[e]={tsn:e,timestamp:gM()},Object.keys(this.extensionInfo).length>10&&this.sendTWCC()}async runTWCC(){for(;this.twccRunning;)this.sendTWCC(),await(0,Zse.setTimeout)(100)}sendTWCC(){if(Object.keys(this.extensionInfo).length===0)return;let e=Object.values(this.extensionInfo).sort((m,_)=>m.tsn-_.tsn),r=e[0].tsn,n=e.slice(-1)[0].tsn,i=[],a=e[0].tsn,o=Gr(n-r,1),u,f,d=[];for(let m=r;m<=n;m++){let _=this.extensionInfo[m]?.timestamp;if(_){this.lastTimestamp||(this.lastTimestamp=_),u||(u=this.lastTimestamp);let w=_-this.lastTimestamp;this.lastTimestamp=_;let P=new so({delta:Number(w)});P.parseDelta(),d.push(P),f!=null&&f.status!==P.type&&(i.push(new uo({packetStatus:f.status,runLength:m-f.minTSN})),f={minTSN:m,status:P.type}),m===n&&(f!=null?i.push(new uo({packetStatus:f.status,runLength:m-f.minTSN+1})):i.push(new uo({packetStatus:P.type,runLength:1}))),f==null&&(f={minTSN:m,status:P.type})}}if(!u)return;let h=new Ji({feedback:new oo({senderSsrc:this.rtcpSsrc,mediaSourceSsrc:this.mediaSourceSsrc,baseSequenceNumber:a,packetStatusCount:o,referenceTime:M9(Math.floor(u/1e3/64)),fbPktCount:this.fbPktCount,recvDeltas:d,packetChunks:i})});this.dtlsTransport.sendRtcp([h]).catch(m=>{YHe(m)}),this.extensionInfo={},this.fbPktCount=R9(this.fbPktCount,1)}};var AM=class{constructor(){this.size=150;this.sequenceNumbers=[]}push(e,r){let n=[];return e.blocks.forEach(({blockPT:a,timestampOffset:o,block:u},f)=>{let d=Gr(r.header.sequenceNumber,-(e.blocks.length-(f+1)));o?n.push(new Mn(new Rn({timestamp:ys(r.header.timestamp,-o),payloadType:a,ssrc:r.header.ssrc,sequenceNumber:d,marker:!0}),u)):n.push(new Mn(new Rn({timestamp:r.header.timestamp,payloadType:a,ssrc:r.header.ssrc,sequenceNumber:d,marker:!0}),u))}),n.filter(a=>this.sequenceNumbers.includes(a.header.sequenceNumber)?!1:(this.sequenceNumbers.length>this.size&&this.sequenceNumbers.shift(),this.sequenceNumbers.push(a.header.sequenceNumber),!0))}};var CM=class{constructor(e){this.cycles=0;this.packets_received=0;this.jitter_q4=0;this.expected_prior=0;this.received_prior=0;this.clockRate=e}add(e,r=Date.now()/1e3){let n=this.max_seq==null||El(e.header.sequenceNumber,this.max_seq);if(this.packets_received++,this.base_seq==null&&(this.base_seq=e.header.sequenceNumber),n){let i=$f(r*this.clockRate);if(this.max_seq!=null&&e.header.sequenceNumber<this.max_seq&&(this.cycles+=1<<16),this.max_seq=e.header.sequenceNumber,e.header.timestamp!==this.last_timestamp&&this.packets_received>1){let a=Math.abs(i-(this.last_arrival??0)-(e.header.timestamp-(this.last_timestamp??0)));this.jitter_q4+=a-(this.jitter_q4+8>>4)}this.last_arrival=i,this.last_timestamp=e.header.timestamp}}get fraction_lost(){let e=this.packets_expected-this.expected_prior;this.expected_prior=this.packets_expected;let r=this.packets_received-this.received_prior;this.received_prior=this.packets_received;let n=e-r;return e==0||n<=0?0:Math.floor((n<<8)/e)}get jitter(){return this.jitter_q4>>4}get packets_expected(){return this.cycles+(this.max_seq??0)-(this.base_seq??0)+1}get packets_lost(){let e=this.packets_expected-this.packets_received;return e<0?0:e}};var qS=(0,eoe.debug)("werift:packages/webrtc/src/media/rtpReceiver.ts"),Xx=class{constructor(e,r,n){this.kind=e;this.dtlsTransport=r;this.rtcpSsrc=n;this.codecs={};this.ssrcByRtx={};this.nack=new wM(this);this.redHandler=new AM;this.type="receiver";this.uuid=Li();this.tracks=[];this.trackBySSRC={};this.trackByRID={};this.lsr={};this.lsrTime={};this.onPacketLost=this.nack.onPacketLost;this.onRtcp=new roe.default;this.supportTWCC=!1;this.stopped=!1;this.rtcpRunning=!1;this.rtcpCancel=new AbortController;this.remoteStreams={};this.handleRtpBySsrc=(e,r)=>{let n=this.trackBySSRC[e.header.ssrc];this.handleRTP(e,r,n)};this.handleRtpByRid=(e,r,n)=>{let i=this.trackByRID[r];this.trackBySSRC[e.header.ssrc]||(this.trackBySSRC[e.header.ssrc]=i),this.handleRTP(e,n,i)}}get track(){return this.tracks[0]}prepareReceive(e){e.codecs.forEach(r=>{this.codecs[r.payloadType]=r}),e.encodings.forEach(r=>{r.rtx&&(this.ssrcByRtx[r.rtx.ssrc]=r.ssrc)})}setupTWCC(e){this.supportTWCC=!!Object.values(this.codecs).find(r=>r.rtcpFeedback.find(n=>n.type==="transport-cc")),qS("twcc support",this.supportTWCC),this.supportTWCC&&e&&(this.receiverTWCC=new SM(this.dtlsTransport,this.rtcpSsrc,e))}addTrack(e){return this.tracks.find(n=>{if(n.rid)return n.rid===e.rid;if(n.ssrc)return n.ssrc===e.ssrc})?!1:(this.tracks.push(e),e.ssrc&&(this.trackBySSRC[e.ssrc]=e),e.rid&&(this.trackByRID[e.rid]=e),!0)}stop(){this.stopped=!0,this.rtcpRunning=!1,this.rtcpCancel.abort(),this.receiverTWCC&&(this.receiverTWCC.twccRunning=!1),this.nack.close()}async runRtcp(){if(!(this.rtcpRunning||this.stopped)){this.rtcpRunning=!0;try{for(;this.rtcpRunning;){await(0,EM.setTimeout)(500+Math.random()*1e3,void 0,{signal:this.rtcpCancel.signal});let e=Object.entries(this.remoteStreams).map(([n,i])=>{let a=0,o=0;if(this.lsr[n]){a=this.lsr[n];let u=Date.now()/1e3-this.lsrTime[n];u>0&&u<65536&&(o=$f(u*65536))}return new mu({ssrc:Number(n),fractionLost:i.fraction_lost,packetsLost:i.packets_lost,highestSequence:i.max_seq,jitter:i.jitter,lsr:a,dlsr:o})}),r=new Ha({ssrc:this.rtcpSsrc,reports:e});try{await this.dtlsTransport.sendRtcp([r])}catch(n){qS("sendRtcp failed",n),await(0,EM.setTimeout)(500+Math.random()*1e3)}}}catch{}}}getStats(){}async sendRtcpPLI(e){let r=new Fa({feedback:new fo({senderSsrc:this.rtcpSsrc,mediaSsrc:e})});try{await this.dtlsTransport.sendRtcp([r])}catch(n){qS(n)}}handleRtcpPacket(e){switch(e.type){case Di.type:{let r=e;this.lsr[r.ssrc]=Jx(r.senderInfo.ntpTimestamp),this.lsrTime[r.ssrc]=Date.now()/1e3;let n=this.trackBySSRC[e.ssrc];n&&n.onReceiveRtcp.execute(e)}break}this.onRtcp.execute(e)}handleRTP(e,r,n){if(this.stopped)return;let i=this.codecs[e.header.payloadType];if(!i){qS("unknown codec "+e.header.payloadType);return}if(this.remoteStreams[e.header.ssrc]=this.remoteStreams[e.header.ssrc]??new CM(i.clockRate),this.remoteStreams[e.header.ssrc].add(e),this.receiverTWCC){let o=r[bn.transportWideCC];if(!o==null)throw new Error("undefined");this.receiverTWCC.handleTWCC(o)}else this.supportTWCC&&this.setupTWCC(e.header.ssrc);if(i.name.toLowerCase()==="rtx"){let o=this.ssrcByRtx[e.header.ssrc],u=Pf(i.parameters??""),f=this.codecs[u.apt];if(e.payload.length<2)return;e=JHe(e,f.payloadType,o),n=this.trackBySSRC[o]}let a;if(i.name.toLowerCase()==="red"&&(a=vc.deSerialize(e.payload)),n?.kind==="video"&&this.nack.addPacket(e),n)if(a){let o=this.redHandler.push(a,e);for(let u of o)n.onReceiveRtp.execute(u.clone())}else n.onReceiveRtp.execute(e.clone());this.runRtcp()}};function JHe(t,e,r){return new Mn(new Rn({payloadType:e,marker:t.header.marker,sequenceNumber:toe.jspack.Unpack("!H",t.payload.slice(0,2))[0],timestamp:t.header.timestamp,ssrc:r}),t.payload.slice(2))}var DS=(0,noe.default)("werift:packages/webrtc/src/media/router.ts"),Qx=class{constructor(){this.ssrcTable={};this.ridTable={};this.extIdUriMap={};this.routeRtp=e=>{let r=Qx.rtpHeaderExtensionsParser(e.header.extensions,this.extIdUriMap),n=this.ssrcTable[e.header.ssrc],i=r[bn.sdesRTPStreamID];if(typeof i=="string"?(n=this.ridTable[i],n.latestRid=i,n.handleRtpByRid(e,i,r)):n?n.handleRtpBySsrc(e,r):(n=Object.values(this.ridTable).filter(u=>u instanceof Xx).find(u=>u.trackBySSRC[e.header.ssrc]),n&&(DS("simulcast register receiver by ssrc",e.header.ssrc),this.registerRtpReceiver(n,e.header.ssrc),n.handleRtpBySsrc(e,r))),!n){DS("ssrcReceiver not found");return}let a=r[bn.sdesMid];typeof a=="string"&&(n.sdesMid=a);let o=r[bn.repairedRtpStreamId];typeof o=="string"&&(n.latestRepairedRid=o)};this.routeRtcp=e=>{let r=[];switch(e.type){case Di.type:e=e,r.push(this.ssrcTable[e.ssrc]);break;case Ha.type:e=e,e.reports.forEach(n=>{r.push(this.ssrcTable[n.ssrc])});break;case co.type:{let n=e}break;case Ji.type:{let n=e;n.feedback&&r.push(this.ssrcTable[n.feedback.mediaSourceSsrc])}break;case Fa.type:{let n=e;switch(n.feedback.count){case lo.count:let i=n.feedback;r.push(this.ssrcTable[i.ssrcFeedbacks[0]]);break;default:r.push(this.ssrcTable[n.feedback.senderSsrc])}}break}r.filter(n=>n).forEach(n=>n.handleRtcpPacket(e))}}registerRtpSender(e){this.ssrcTable[e.ssrc]=e}registerRtpReceiver(e,r){this.ssrcTable[r]=e}registerRtpReceiverBySsrc(e,r){DS("registerRtpReceiverBySsrc",r),r.encodings.filter(n=>n.ssrc!=null).forEach((n,i)=>{this.registerRtpReceiver(e.receiver,n.ssrc),e.addTrack(new xo({ssrc:n.ssrc,kind:e.kind,id:e.sender.trackId,remote:!0,codec:r.codecs[i]})),n.rtx&&this.registerRtpReceiver(e.receiver,n.rtx.ssrc)}),r.headerExtensions.forEach(n=>{this.extIdUriMap[n.id]=n.uri})}registerRtpReceiverByRid(e,r,n){let[i]=n.codecs;DS("registerRtpReceiverByRid",r),e.addTrack(new xo({rid:r.rid,kind:e.kind,id:e.sender.trackId,remote:!0,codec:i})),this.ridTable[r.rid]=e.receiver}static rtpHeaderExtensionsParser(e,r){return e.map(n=>{let i=r[n.id];switch(i){case bn.sdesMid:case bn.sdesRTPStreamID:case bn.repairedRtpStreamId:return{uri:i,value:n.payload.toString()};case bn.transportWideCC:return{uri:i,value:n.payload.readUInt16BE()};case bn.absSendTime:return{uri:i,value:sn(n.payload,[3])[0]}}}).reduce((n,i)=>(i&&(n[i.uri]=i.value),n),{})}};var kM=require("crypto"),aoe=ve(Sr()),LS=ve(xs()),Zx=ve(Bn()),BM=require("timers/promises");var NS=ve(Bn());var PM=class{constructor(){this.numPackets=0;this.totalSize=0;this.firstPacketSentAtMs=0;this.lastPacketSentAtMs=0;this.firstPacketReceivedAtMs=0;this.lastPacketReceivedAtMs=0}addPacket(e,r,n){this.numPackets===0?(this.firstPacketSentAtMs=r,this.firstPacketReceivedAtMs=n,this.lastPacketSentAtMs=r,this.lastPacketReceivedAtMs=n):(r<this.firstPacketSentAtMs&&(this.firstPacketSentAtMs=r),n<this.firstPacketReceivedAtMs&&(this.firstPacketReceivedAtMs=n),r>this.lastPacketSentAtMs&&(this.lastPacketSentAtMs=r),n>this.lastPacketReceivedAtMs&&(this.lastPacketReceivedAtMs=n)),this.numPackets++,this.totalSize+=e}reset(){this.numPackets=0,this.totalSize=0,this.firstPacketSentAtMs=0,this.lastPacketSentAtMs=0,this.firstPacketReceivedAtMs=0,this.lastPacketReceivedAtMs=0}get receiveBitrate(){let e=this.lastPacketReceivedAtMs-this.firstPacketReceivedAtMs,r=this.totalSize/e*8*1e3;return Wl(r)}get sendBitrate(){let e=this.lastPacketSentAtMs-this.firstPacketSentAtMs,r=this.totalSize/e*8*1e3;return Wl(r)}};var Vh=20,XHe=10,TM=class{constructor(){this.congestion=!1;this.onAvailableBitrate=new NS.default;this.onCongestion=new NS.default;this.onCongestionScore=new NS.default;this.congestionCounter=0;this.cumulativeResult=new PM;this.sentInfos={};this._congestionScore=1;this._availableBitrate=0}get congestionScore(){return this._congestionScore}set congestionScore(e){this._congestionScore=e,this.onCongestionScore.execute(e)}get availableBitrate(){return this._availableBitrate}set availableBitrate(e){this._availableBitrate=e,this.onAvailableBitrate.execute(e)}receiveTWCC(e){let n=$h()-this.cumulativeResult.firstPacketSentAtMs;n>1e3&&(this.cumulativeResult.reset(),this.congestionCounter<Vh?this.congestionCounter++:this.congestionScore<XHe&&this.congestionScore++,this.congestionCounter>=Vh&&!this.congestion&&(this.congestion=!0,this.onCongestion.execute(this.congestion)));for(let i of e.packetResults){if(!i.received)continue;let a=i.sequenceNumber,o=this.sentInfos[a];!o||!i.receivedAtMs||this.cumulativeResult.addPacket(o.size,o.sendingAtMs,i.receivedAtMs)}if(n>=100&&this.cumulativeResult.numPackets>=20){if(this.availableBitrate=Math.min(this.cumulativeResult.sendBitrate,this.cumulativeResult.receiveBitrate),this.cumulativeResult.reset(),this.congestionCounter>-Vh){let i=Wl(Vh/2)+1,a=Wl(Vh/4)+1,o=i-(i-a)/10*this.congestionScore;this.congestionCounter=this.congestionCounter-o}this.congestionCounter<=-Vh&&(this.congestionScore>1&&(this.congestionScore--,this.onCongestion.execute(!1)),this.congestionCounter=0),this.congestionCounter<=0&&this.congestion&&(this.congestion=!1,this.onCongestion.execute(this.congestion))}}rtpPacketSent(e){Object.keys(e).map(r=>Number(r)).sort().filter(r=>r<e.wideSeq).forEach(r=>{delete this.sentInfos[r]}),this.sentInfos[e.wideSeq]=e}};var IM=(0,aoe.default)("werift:packages/webrtc/src/media/rtpSender.ts"),QHe=128,ioe=.85,RM=class{constructor(e,r){this.trackOrKind=e;this.dtlsTransport=r;this.type="sender";this.kind=typeof this.trackOrKind=="string"?this.trackOrKind:this.trackOrKind.kind;this.ssrc=LS.jspack.Unpack("!L",(0,kM.randomBytes)(4))[0];this.rtxSsrc=LS.jspack.Unpack("!L",(0,kM.randomBytes)(4))[0];this.streamId=Li();this.trackId=Li();this.onReady=new Zx.default;this.onRtcp=new Zx.default;this.onPictureLossIndication=new Zx.default;this.onGenericNack=new Zx.default;this.senderBWE=new TM;this.rtxSequenceNumber=Yp();this._redDistance=2;this.redEncoder=new Yb(this._redDistance);this.headerExtensions=[];this.lsrTime=Date.now()/1e3;this.ntpTimestamp=0n;this.rtpTimestamp=0;this.octetCount=0;this.packetCount=0;this.receiverEstimatedMaxBitrate=0n;this.timestampOffset=0;this.seqOffset=0;this.rtpCache=[];this.stopped=!1;this.rtcpRunning=!1;this.rtcpCancel=new AbortController;r.onStateChange.subscribe(n=>{n==="connected"&&this.onReady.execute()}),e instanceof xo&&(e.streamId&&(this.streamId=e.streamId),this.registerTrack(e))}get redDistance(){return this._redDistance}set redDistance(e){this._redDistance=e,this.redEncoder.distance=e}prepareSend(e){this.cname=e.rtcp?.cname,this.mid=e.muxId,this.headerExtensions=e.headerExtensions,this.rtpStreamId=e.rtpStreamId,this.repairedRtpStreamId=e.repairedRtpStreamId,this.codec=e.codecs[0],this.track&&(this.track.codec=this.codec),e.codecs.forEach(r=>{let n=Pf(r.parameters??"");r.name.toLowerCase()==="rtx"&&n.apt===this.codec?.payloadType&&(this.rtxPayloadType=r.payloadType),r.name.toLowerCase()==="red"&&(this.redRedundantPayloadType=Number((r.parameters??"").split("/")[0]))})}registerTrack(e){if(e.stopped)throw new Error("track is ended");this.disposeTrack&&this.disposeTrack(),e.id=this.trackId;let{unSubscribe:r}=e.onReceiveRtp.subscribe(n=>{this.sendRtp(n)});this.track=e,this.disposeTrack=r,this.codec&&(e.codec=this.codec),e.onSourceChanged.subscribe(n=>{this.replaceRTP(n)})}async replaceTrack(e){if(e!==null){if(e.stopped)throw new Error("track is ended");if(this.sequenceNumber!=null){let r=e.header||(await e.onReceiveRtp.asPromise())[0].header;this.replaceRTP(r)}this.registerTrack(e),IM("replaceTrack","ssrc",e.ssrc,"rid",e.rid)}}stop(){this.stopped=!0,this.rtcpRunning=!1,this.rtcpCancel.abort(),this.track=void 0}async runRtcp(){if(!(this.rtcpRunning||this.stopped)){this.rtcpRunning=!0;try{for(;this.rtcpRunning;){await(0,BM.setTimeout)(500+Math.random()*1e3,void 0,{signal:this.rtcpCancel.signal});let e=[new Di({ssrc:this.ssrc,senderInfo:new rd({ntpTimestamp:this.ntpTimestamp,rtpTimestamp:this.rtpTimestamp,packetCount:this.packetCount,octetCount:this.octetCount})})];this.lsr=Jx(this.ntpTimestamp),this.lsrTime=Date.now()/1e3,this.cname&&e.push(new co({chunks:[new ed({source:this.ssrc,items:[new td({type:1,text:this.cname})]})]}));try{await this.dtlsTransport.sendRtcp(e)}catch(r){IM("sendRtcp failed",r),await(0,BM.setTimeout)(500+Math.random()*1e3)}}}catch{}}}replaceRTP({sequenceNumber:e,timestamp:r}){this.sequenceNumber!=null&&(this.seqOffset=Gr(this.sequenceNumber,-e)),this.timestamp!=null&&(this.timestampOffset=ys(this.timestamp,-r)),this.rtpCache=[],IM("replaceRTP",this.sequenceNumber,e,this.seqOffset)}sendRtp(e){if(this.dtlsTransport.state!=="connected"||!this.codec)return;e=Buffer.isBuffer(e)?Mn.deSerialize(e):e;let r=e.header;r.ssrc=this.ssrc,r.payloadType=this.codec.payloadType,r.timestamp=ys(r.timestamp,this.timestampOffset),r.sequenceNumber=Gr(r.sequenceNumber,this.seqOffset),this.timestamp=r.timestamp,this.sequenceNumber=r.sequenceNumber,r.extensions=this.headerExtensions.map(o=>{let u=(()=>{switch(o.uri){case bn.sdesMid:return this.mid?Buffer.from(this.mid):void 0;case bn.sdesRTPStreamID:return this.rtpStreamId?Buffer.from(this.rtpStreamId):void 0;case bn.repairedRtpStreamId:return this.repairedRtpStreamId?Buffer.from(this.repairedRtpStreamId):void 0;case bn.transportWideCC:return this.dtlsTransport.transportSequenceNumber=Gr(this.dtlsTransport.transportSequenceNumber,1),nr([2],[this.dtlsTransport.transportSequenceNumber]);case bn.absSendTime:let f=Buffer.alloc(3),d=OS()>>14n&0x00ffffffn;return f.writeUIntBE(Number(d),0,3),f}})();if(u)return{id:o.id,payload:u}}).filter(o=>o),this.ntpTimestamp=OS(),this.rtpTimestamp=e.header.timestamp,this.octetCount+=e.payload.length,this.packetCount=ys(this.packetCount,1),e.header=r,this.rtpCache.push(e),this.rtpCache=this.rtpCache.slice(-QHe);let n=e.payload;this.redRedundantPayloadType&&(this.redEncoder.push({block:n,timestamp:r.timestamp,blockPT:this.redRedundantPayloadType}),n=this.redEncoder.build().serialize());let i=this.dtlsTransport.sendRtp(n,r);this.runRtcp();let a={wideSeq:this.dtlsTransport.transportSequenceNumber,size:i,sendingAtMs:$h(),sentAtMs:$h()};this.senderBWE.rtpPacketSent(a)}handleRtcpPacket(e){switch(e.type){case Di.type:case Ha.type:e.reports.filter(n=>n.ssrc===this.ssrc).forEach(n=>{if(this.lsr===n.lsr&&n.dlsr){let i=Date.now()/1e3-this.lsrTime-n.dlsr/65536;this.rtt===void 0?this.rtt=i:this.rtt=ioe*this.rtt+(1-ioe)*i}});break;case Ji.type:{let r=e;switch(r.feedback.count){case oo.count:{let n=r.feedback;this.senderBWE.receiveTWCC(n)}break;case ao.count:{let n=r.feedback;n.lost.forEach(i=>{let a=this.rtpCache.find(o=>o.header.sequenceNumber===i);a&&(this.rtxPayloadType!=null&&(a=ZHe(a,this.rtxPayloadType,this.rtxSequenceNumber,this.rtxSsrc),this.rtxSequenceNumber=Gr(this.rtxSequenceNumber,1)),this.dtlsTransport.sendRtp(a.payload,a.header))}),this.onGenericNack.execute(n)}break}}break;case Fa.type:{let r=e;switch(r.feedback.count){case lo.count:{let n=r.feedback;this.receiverEstimatedMaxBitrate=n.bitrate}break;case fo.count:this.onPictureLossIndication.execute();break}}break}this.onRtcp.execute(e)}};function ZHe(t,e,r,n){return new Mn(new Rn({payloadType:e,marker:t.header.marker,sequenceNumber:r,timestamp:t.header.timestamp,ssrc:n,csrc:t.header.csrc,extensions:t.header.extensions}),Buffer.concat([Buffer.from(LS.jspack.Pack("!H",[t.header.sequenceNumber])),t.payload]))}var kue=require("crypto"),Bue=ve(gb()),Rue=ve(wi()),Mue=require("net");var dy=ve(xC()),Foe=ve(Sr()),zoe=ve(Bn()),Woe=require("timers/promises");var Moe=ve(Sr());var vi=ve(Jr());var Vs=ve(Jr());var ey=t=>"0x"+t.toString("hex").replace(/(.)(.)/g,"$1$2 ").split(" ").filter(e=>e!=null&&e.length>0).join(",0x"),US=t=>Object.entries({...t}).reduce((e,[r,n])=>((typeof n=="number"||typeof n=="string")&&(e[r]=n),Buffer.isBuffer(n)&&(e[r]=ey(n)),e),{});var Gu=class{constructor(e,r,n,i,a,o){this.msg_type=e;this.length=r;this.message_seq=n;this.fragment_offset=i;this.fragment_length=a;this.fragment=o}get summary(){return US(this)}static createEmpty(){return new Gu(void 0,void 0,void 0,void 0,void 0,void 0)}static deSerialize(e){return new Gu(...Object.values((0,Vs.decode)(e,Gu.spec)))}serialize(){let e=(0,Vs.encode)(this,Gu.spec).slice();return Buffer.from(e)}chunk(e){let r=0,n=this.fragment.length;if(n===0)return[new Gu(this.msg_type,n,this.message_seq,r,0,this.fragment)];let i=[];for(e||(e=1280-(20+8)-(1+3+2+3+3));r<n;){let a=Math.min(e,n-r),o=Buffer.from(this.fragment.slice(r,r+a));if(o.length<=0)throw new Error("Zero or less bytes processed while fragmenting handshake message.");i.push(new Gu(this.msg_type,n,this.message_seq,r,o.length,o)),r+=o.length}return i}static assemble(e){if(!(e&&e.length))throw new Error("cannot reassemble handshake from empty array");e=e.sort((n,i)=>n.fragment_offset-i.fragment_offset);let r=Buffer.alloc(e[0].length);for(let n of e)n.fragment.copy(r,n.fragment_offset);return new Gu(e[0].msg_type,e[0].length,e[0].message_seq,0,r.length,r)}static findAllFragments(e,r){let n=e.find(i=>i.msg_type===r);return n?e&&e.length?e.filter(i=>i.msg_type===n.msg_type&&i.message_seq===n.message_seq&&i.length===n.length):[]:[]}},Zr=Gu;Zr.spec={msg_type:Vs.types.uint8,length:Vs.types.uint24be,message_seq:Vs.types.uint16be,fragment_offset:Vs.types.uint24be,fragment_length:Vs.types.uint24be,fragment:Vs.types.buffer(e=>e.current.fragment_length)};var Xd=ve(Jr()),soe=require("crypto"),Gh=class{constructor(e=Math.floor(Date.now()/1e3),r=(0,soe.randomBytes)(28)){this.gmt_unix_time=e;this.random_bytes=r}static deSerialize(e){return new Gh(...Object.values((0,Xd.decode)(e,Gh.spec)))}static from(e){return new Gh(...Object.values(e))}serialize(){let e=(0,Xd.encode)(this,Gh.spec).slice();return Buffer.from(e)}},sa=Gh;sa.spec={gmt_unix_time:Xd.types.uint32be,random_bytes:Xd.types.buffer(28)};var Yh=class{constructor(e,r,n,i,a,o,u){this.clientVersion=e;this.random=r;this.sessionId=n;this.cookie=i;this.cipherSuites=a;this.compressionMethods=o;this.extensions=u;this.msgType=1;this.messageSeq=0}static createEmpty(){return new Yh(void 0,void 0,void 0,void 0,void 0,void 0,void 0)}static deSerialize(e){return new Yh(...Object.values((0,vi.decode)(e,Yh.spec)))}serialize(){let e=(0,vi.encode)(this,Yh.spec).slice();return Buffer.from(e)}toFragment(){let e=this.serialize();return new Zr(this.msgType,e.length,this.messageSeq,0,e.length,e)}},Jh=Yh;Jh.spec={clientVersion:{major:vi.types.uint8,minor:vi.types.uint8},random:sa.spec,sessionId:vi.types.buffer(vi.types.uint8),cookie:vi.types.buffer(vi.types.uint8),cipherSuites:vi.types.array(vi.types.uint16be,vi.types.uint16be,"bytes"),compressionMethods:vi.types.array(vi.types.uint8,vi.types.uint8,"bytes"),extensions:Yx};var OM=ve(Sr()),ooe=require("timers/promises");var tp=ve(Jr());var Fi=ve(Jr());var Xh=class{constructor(e,r,n,i,a){this.contentType=e;this.protocolVersion=r;this.epoch=n;this.sequenceNumber=i;this.contentLen=a}static createEmpty(){return new Xh(void 0,void 0,void 0,void 0,void 0)}static deSerialize(e){return new Xh(...Object.values((0,Fi.decode)(e,Xh.spec)))}serialize(){let e=(0,Fi.encode)(this,Xh.spec).slice();return Buffer.from(e)}},HS=Xh;HS.spec={contentType:Fi.types.uint8,protocolVersion:Jo,epoch:Fi.types.uint16be,sequenceNumber:Fi.types.uint48be,contentLen:Fi.types.uint16be};var Qh=class{constructor(e,r,n,i,a){this.epoch=e;this.sequenceNumber=r;this.contentType=n;this.protocolVersion=i;this.contentLen=a}static createEmpty(){return new Qh(void 0,void 0,void 0,void 0,void 0)}static deSerialize(e){return new Qh(...Object.values((0,Fi.decode)(e,Qh.spec)))}serialize(){let e=(0,Fi.encode)(this,Qh.spec).slice();return Buffer.from(e)}},KS=Qh;KS.spec={epoch:Fi.types.uint16be,sequenceNumber:Fi.types.uint48be,contentType:Fi.types.uint8,protocolVersion:Jo,contentLen:Fi.types.uint16be};var Zh=class{constructor(e,r){this.recordLayerHeader=e;this.fragment=r}get summary(){return{header:this.recordLayerHeader,fragment:ey(this.fragment)}}static createEmpty(){return new Zh(void 0,void 0)}static deSerialize(e){return new Zh(...Object.values((0,tp.decode)(e,Zh.spec)))}serialize(){let e=(0,tp.encode)(this,Zh.spec).slice();return Buffer.from(e)}computeMACHeader(){return new KS(this.recordLayerHeader.epoch,this.recordLayerHeader.sequenceNumber,this.recordLayerHeader.contentType,this.recordLayerHeader.protocolVersion,this.recordLayerHeader.contentLen).serialize()}},ep=Zh;ep.spec={recordLayerHeader:HS.spec,fragment:tp.types.buffer(e=>e.current.recordLayerHeader.contentLen)};var FS=t=>e=>(t.lastFlight=e,e.map(r=>(r.messageSeq=t.sequenceNumber++,r.toFragment().chunk())).flatMap(r=>r)),Xo=t=>(e,r)=>e.map(n=>new ep({contentType:n.type,protocolVersion:t.version,epoch:t.epoch,sequenceNumber:r,contentLen:n.fragment.length},n.fragment));var zS=(we=>(we[we.CloseNotify=0]="CloseNotify",we[we.UnexpectedMessage=10]="UnexpectedMessage",we[we.BadRecordMac=20]="BadRecordMac",we[we.DecryptionFailed=21]="DecryptionFailed",we[we.RecordOverflow=22]="RecordOverflow",we[we.DecompressionFailure=30]="DecompressionFailure",we[we.HandshakeFailure=40]="HandshakeFailure",we[we.NoCertificate=41]="NoCertificate",we[we.BadCertificate=42]="BadCertificate",we[we.UnsupportedCertificate=43]="UnsupportedCertificate",we[we.CertificateRevoked=44]="CertificateRevoked",we[we.CertificateExpired=45]="CertificateExpired",we[we.CertificateUnknown=46]="CertificateUnknown",we[we.IllegalParameter=47]="IllegalParameter",we[we.UnknownCa=48]="UnknownCa",we[we.AccessDenied=49]="AccessDenied",we[we.DecodeError=50]="DecodeError",we[we.DecryptError=51]="DecryptError",we[we.ExportRestriction=60]="ExportRestriction",we[we.ProtocolVersion=70]="ProtocolVersion",we[we.InsufficientSecurity=71]="InsufficientSecurity",we[we.InternalError=80]="InternalError",we[we.UserCanceled=90]="UserCanceled",we[we.NoRenegotiation=100]="NoRenegotiation",we[we.UnsupportedExtension=110]="UnsupportedExtension",we))(zS||{});var eKe=(0,OM.default)("werift-dtls : packages/dtls/src/flight/flight.ts : warn"),MM=(0,OM.default)("werift-dtls : packages/dtls/src/flight/flight.ts : err");var WS=class{constructor(e,r,n,i){this.transport=e;this.dtls=r;this.flight=n;this.nextFlight=i;this.state="PREPARING";this.send=e=>Promise.all(e.map(r=>this.transport.send(r)))}createPacket(e){let r=FS(this.dtls)(e);return this.dtls.bufferHandshakeCache(r,!0,this.flight),Xo(this.dtls)(r.map(i=>({type:22,fragment:i.serialize()})),++this.dtls.recordSequenceNumber)}async transmit(e){let r=0;for(;r<=WS.RetransmitCount;r++){if(this.setState("SENDING"),this.send(e).catch(n=>{MM("fail to send",MM)}),this.setState("WAITING"),this.nextFlight===void 0){this.setState("FINISHED");break}if(await(0,ooe.setTimeout)(1e3*((r+1)/2)),this.dtls.flight>=this.nextFlight){this.setState("FINISHED");break}else eKe(this.dtls.sessionId,"retransmit",r,this.dtls.flight)}if(r>WS.RetransmitCount)throw MM(this.dtls.sessionId,"retransmit failed",r),new Error(`over retransmitCount : ${this.flight} ${this.nextFlight}`)}setState(e){this.state=e}},fs=WS;fs.RetransmitCount=10;var qM=class extends fs{constructor(e,r,n){super(e,r,1,3);this.cipher=n}async exec(e){if(this.dtls.flight===1)throw new Error;this.dtls.flight=1;let r=new Jh({major:255-1,minor:255-2},new sa,Buffer.from([]),Buffer.from([]),O9,[0],e);this.dtls.version=r.clientVersion,this.cipher.localRandom=sa.from(r.random);let n=this.createPacket([r]),i=Buffer.concat(n.map(a=>a.serialize()));await this.transmit([i])}};var DM=class extends fs{constructor(e,r){super(e,r,3,5)}async exec(e){if(this.dtls.flight===3)throw new Error;this.dtls.flight=3,this.dtls.handshakeCache=[];let[r]=this.dtls.lastFlight;r.cookie=e.cookie,this.dtls.cookie=e.cookie;let n=this.createPacket([r]),i=Buffer.concat(n.map(a=>a.serialize()));await this.transmit([i])}};var Eoe=ve(Sr());var jS={NULL:0,ECDHE:1},ry={NULL:0,RSA:1,ECDSA:2,PSK:3},ny={NULL:0,RSA:1,ECDHE_RSA:2,ECDHE_ECDSA:3,PSK:4,ECDHE_PSK:5},rp=class{constructor(){this.id=0}toString(){return this.name}};function uoe(){let t=new rp;return t.id=ny.RSA,t.name="RSA",t.keyType=ry.RSA,t}function coe(){let t=new rp;return t.id=ny.ECDHE_RSA,t.name="ECDHE_RSA",t.signType=jS.ECDHE,t.keyType=ry.RSA,t}function foe(){let t=new rp;return t.id=ny.ECDHE_ECDSA,t.name="ECDHE_ECDSA",t.signType=jS.ECDHE,t.keyType=ry.ECDSA,t}function doe(){let t=new rp;return t.id=ny.PSK,t.name="PSK",t.signType=jS.NULL,t.keyType=ry.PSK,t}function loe(){let t=new rp;return t.id=ny.ECDHE_PSK,t.name="ECDHE_PSK",t.signType=jS.ECDHE,t.keyType=ry.PSK,t}var $S=ve(require("crypto")),moe=ve(Sr());var{createDecode:tKe,encode:hoe,types:{uint8:rKe,uint16be:NM,uint48be:nKe}}=Jr(),iKe=rKe,aKe=NM,poe={epoch:NM,sequence:nKe,type:iKe,version:aKe,length:NM},sKe=(0,moe.default)("werift-dtls : packages/dtls/src/cipher/suites/aead.ts : err"),VS=class extends IS{constructor(){super();this.keyLength=0;this.nonceLength=0;this.ivLength=0;this.authTagLength=0;this.nonceImplicitLength=0;this.nonceExplicitLength=0}get summary(){return US(this)}init(e,r,n){let i=Ose(e,n,r,this.keyLength,this.ivLength,this.nonceLength,this.hashAlgorithm);this.clientWriteKey=i.clientWriteKey,this.serverWriteKey=i.serverWriteKey,this.clientNonce=i.clientNonce,this.serverNonce=i.serverNonce}encrypt(e,r,n){let i=e===aa.CLIENT,a=i?this.clientNonce:this.serverNonce,o=i?this.clientWriteKey:this.serverWriteKey;if(!a||!o)throw new Error;a.writeUInt16BE(n.epoch,this.nonceImplicitLength),a.writeUIntBE(n.sequenceNumber,this.nonceImplicitLength+2,6);let u=a.slice(this.nonceImplicitLength),f={epoch:n.epoch,sequence:n.sequenceNumber,type:n.type,version:n.version,length:r.length},d=hoe(f,poe).slice(),h=$S.createCipheriv(this.blockAlgorithm,o,a,{authTagLength:this.authTagLength});h.setAAD(d,{plaintextLength:r.length});let m=h.update(r),_=h.final(),w=h.getAuthTag();return Buffer.concat([u,m,_,w])}decrypt(e,r,n){let i=e===aa.CLIENT,a=i?this.serverNonce:this.clientNonce,o=i?this.serverWriteKey:this.clientWriteKey;if(!a||!o)throw new Error;let u=tKe(r);u.readBuffer(this.nonceExplicitLength).copy(a,this.nonceImplicitLength);let d=u.readBuffer(u.length-this.authTagLength),h=u.readBuffer(this.authTagLength),m={epoch:n.epoch,sequence:n.sequenceNumber,type:n.type,version:n.version,length:d.length},_=hoe(m,poe).slice(),w=$S.createDecipheriv(this.blockAlgorithm,o,a,{authTagLength:this.authTagLength});w.setAuthTag(h),w.setAAD(_,{plaintextLength:d.length});let P=w.update(d);try{let M=w.final();return M.length>0?Buffer.concat([P,M]):P}catch(M){throw sKe("decrypt failed",M,e,ey(r),n,this.summary),M}}};var zn={TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256:49195,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384:49196,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256:49199,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384:49200,TLS_RSA_WITH_AES_128_GCM_SHA256:156,TLS_RSA_WITH_AES_256_GCM_SHA384:157,TLS_PSK_WITH_AES_128_GCM_SHA256:168,TLS_PSK_WITH_AES_256_GCM_SHA384:169,TLS_ECDHE_PSK_WITH_AES_128_GCM_SHA256:53249,TLS_ECDHE_PSK_WITH_AES_256_GCM_SHA384:53250,TLS_ECDHE_PSK_WITH_CHACHA20_POLY1305_SHA256:52396,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256:52393,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256:52392,TLS_PSK_WITH_CHACHA20_POLY1305_SHA256:52395},iy={K_LEN:16,N_MIN:12,N_MAX:12,P_MAX:2**36-31,A_MAX:2**53-1,C_MAX:2**36-15},ay={K_LEN:32,N_MIN:12,N_MAX:12,P_MAX:2**36-31,A_MAX:2**53-1,C_MAX:2**36-15},xoe=uoe(),yoe=coe(),boe=foe(),voe=doe(),goe=loe();function GS(t){switch(t){case zn.TLS_RSA_WITH_AES_128_GCM_SHA256:return Qo(zn.TLS_RSA_WITH_AES_128_GCM_SHA256,"TLS_RSA_WITH_AES_128_GCM_SHA256","aes-128-gcm",xoe,iy);case zn.TLS_RSA_WITH_AES_256_GCM_SHA384:return Qo(zn.TLS_RSA_WITH_AES_256_GCM_SHA384,"TLS_RSA_WITH_AES_256_GCM_SHA384","aes-256-gcm",xoe,ay,"sha384");case zn.TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256:return Qo(zn.TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,"TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256","aes-128-gcm",yoe,iy);case zn.TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384:return Qo(zn.TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,"TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384","aes-256-gcm",yoe,ay,"sha384");case zn.TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256:return Qo(zn.TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256","aes-128-gcm",boe,iy);case zn.TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384:return Qo(zn.TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,"TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384","aes-256-gcm",boe,ay,"sha384");case zn.TLS_PSK_WITH_AES_128_GCM_SHA256:return Qo(zn.TLS_PSK_WITH_AES_128_GCM_SHA256,"TLS_PSK_WITH_AES_128_GCM_SHA256","aes-128-gcm",voe,iy,"sha256");case zn.TLS_PSK_WITH_AES_256_GCM_SHA384:return Qo(zn.TLS_PSK_WITH_AES_256_GCM_SHA384,"TLS_PSK_WITH_AES_256_GCM_SHA384","aes-256-gcm",voe,ay,"sha384");case zn.TLS_ECDHE_PSK_WITH_AES_128_GCM_SHA256:return Qo(zn.TLS_ECDHE_PSK_WITH_AES_128_GCM_SHA256,"TLS_ECDHE_PSK_WITH_AES_128_GCM_SHA256","aes-128-gcm",goe,iy,"sha256");case zn.TLS_ECDHE_PSK_WITH_AES_256_GCM_SHA384:return Qo(zn.TLS_ECDHE_PSK_WITH_AES_256_GCM_SHA384,"TLS_ECDHE_PSK_WITH_AES_256_GCM_SHA384","aes-256-gcm",goe,ay,"sha384");default:break}return null}function Qo(t,e,r,n,i,a="sha256"){let o=new VS;return o.id=t,o.name=e,o.blockAlgorithm=r,o.kx=n,o.hashAlgorithm=a,o.keyLength=i.K_LEN,o.nonceLength=i.N_MAX,o.nonceImplicitLength=4,o.nonceExplicitLength=8,o.ivLength=o.nonceImplicitLength,o.authTagLength=16,o}var _oe=ve(fM()),woe=ve(Cv());function YS(t){switch(t){case ha.secp256r1_23:{let r=new _oe.ec("p256").genKeyPair(),n=r.getPrivate().toBuffer("be"),i=Buffer.from(r.getPublic().encode("array",!1));return{curve:t,privateKey:n,publicKey:i}}case ha.x25519_29:{let e=woe.box.keyPair();return{curve:t,privateKey:Buffer.from(e.secretKey.buffer),publicKey:Buffer.from(e.publicKey.buffer)}}default:throw new Error}}var Zo=class{};Zo.type=23;var Zd=ve(Jr()),Qd=class{constructor(e={}){this.type=Qd.type;this.data=0;Object.assign(this,e)}static createEmpty(){return new Qd}static deSerialize(e){return new Qd((0,Zd.decode)(e,Qd.spec))}serialize(){let e=(0,Zd.encode)(this,Qd.spec).slice();return Buffer.from(e)}get extension(){return{type:this.type,data:this.serialize().slice(2)}}},Gs=Qd;Gs.type=65281,Gs.spec={type:Zd.types.uint16be,data:Zd.types.uint8};var Tf=ve(Jr()),Soe=ve(wi()),Yu=class{constructor(e={}){this.type=Yu.type;this.data=Buffer.from([]);this.profiles=[];this.mki=Buffer.from([0]);Object.assign(this,e)}static create(e,r){return new Yu({profiles:e,mki:r})}static deSerialize(e){let r=new Yu((0,Tf.decode)(e,Yu.spec)),n=r.data.readUInt16BE(),i=(0,Soe.times)(n/2).map(a=>r.data.readUInt16BE(a*2+2));return r.profiles=i,r.mki=r.data.slice(n+2),r}serialize(){let e=Buffer.alloc(2);e.writeUInt16BE(this.profiles.length*2);let r=Buffer.concat([e,...this.profiles.map(i=>{let a=Buffer.alloc(2);return a.writeUInt16BE(i),a}),this.mki]);this.data=r;let n=(0,Tf.encode)(this,Yu.spec).slice();return Buffer.from(n)}static fromData(e){let r=Buffer.alloc(4);return r.writeUInt16BE(Yu.type),r.writeUInt16BE(e.length,2),Yu.deSerialize(Buffer.concat([r,e]))}get extension(){return{type:this.type,data:this.serialize().slice(4)}}},Pa=Yu;Pa.type=14,Pa.spec={type:Tf.types.uint16be,data:Tf.types.buffer(Tf.types.uint16be)};var el=ve(Jr());var np=class{constructor(e){this.certificateList=e;this.msgType=11}static createEmpty(){return new np(void 0)}static deSerialize(e){return new np(...Object.values((0,el.decode)(e,np.spec)))}serialize(){let e=(0,el.encode)(this,np.spec).slice();return Buffer.from(e)}toFragment(){let e=this.serialize();return new Zr(this.msgType,e.length,this.messageSeq,0,e.length,e)}},Ju=np;Ju.spec={certificateList:el.types.array(Nse,el.types.uint24be,"bytes")};var sp=ve(Jr()),ip=class{constructor(e=1){this.type=e}static createEmpty(){return new ip}static deSerialize(e){return new ip(...Object.values((0,sp.decode)(e,ip.spec)))}serialize(){let e=(0,sp.encode)(this,ip.spec).slice();return Buffer.from(e)}},ap=ip;ap.spec={type:sp.types.uint8};var If=ve(Jr());var op=class{constructor(e,r){this.algorithm=e;this.signature=r;this.msgType=15}static createEmpty(){return new op(void 0,void 0)}static deSerialize(e){let r=(0,If.decode)(e,op.spec);return new op(...Object.values(r))}serialize(){let e=(0,If.encode)(this,op.spec).slice();return Buffer.from(e)}toFragment(){let e=this.serialize();return new Zr(this.msgType,e.length,this.messageSeq,0,e.length,e)}},up=op;up.spec={algorithm:If.types.uint16be,signature:If.types.buffer(If.types.uint16be)};var tl=ve(Jr());var cp=class{constructor(e){this.publicKey=e;this.msgType=16}static createEmpty(){return new cp(void 0)}static deSerialize(e){let r=(0,tl.decode)(e,cp.spec);return new cp(...Object.values(r))}serialize(){let e=(0,tl.encode)(this,cp.spec).slice();return Buffer.from(e)}toFragment(){let e=this.serialize();return new Zr(this.msgType,e.length,this.messageSeq,0,e.length,e)}},fp=cp;fp.spec={publicKey:tl.types.buffer(tl.types.uint8)};var Xu=class{constructor(e){this.verifyData=e;this.msgType=20}static createEmpty(){return new Xu(void 0)}static deSerialize(e){return new Xu(e)}serialize(){return this.verifyData}toFragment(){let e=this.serialize();return new Zr(this.msgType,e.length,this.messageSeq,0,e.length,e)}};var Ys=ve(Jr());var dp=class{constructor(e,r,n){this.certificateTypes=e;this.signatures=r;this.authorities=n;this.msgType=13}static createEmpty(){return new dp(void 0,void 0,void 0)}static deSerialize(e){return new dp(...Object.values((0,Ys.decode)(e,dp.spec)))}serialize(){let e=(0,Ys.encode)(this,dp.spec).slice();return Buffer.from(e)}toFragment(){let e=this.serialize();return new Zr(this.msgType,e.length,this.messageSeq,0,e.length,e)}},lp=dp;lp.spec={certificateTypes:Ys.types.array(Lse,Ys.types.uint8,"bytes"),signatures:Ys.types.array(Hse,Ys.types.uint16be,"bytes"),authorities:Ys.types.array(Use,Ys.types.uint16be,"bytes")};var Js=ve(Jr());var Qu=class{constructor(e,r,n,i,a,o){this.serverVersion=e;this.random=r;this.sessionId=n;this.cipherSuite=i;this.compressionMethod=a;this.extensions=o;this.msgType=2}static createEmpty(){return new Qu(void 0,void 0,void 0,void 0,void 0,void 0)}static deSerialize(e){let r=(0,Js.decode)(e,Qu.spec),n=new Qu(...Object.values(r));return n.serialize().length<e.length?new Qu(...Object.values((0,Js.decode)(e,{...Qu.spec,extensions:Yx}))):n}serialize(){let e=this.extensions===void 0?(0,Js.encode)(this,Qu.spec).slice():(0,Js.encode)(this,{...Qu.spec,extensions:Yx}).slice();return Buffer.from(e)}toFragment(){let e=this.serialize();return new Zr(this.msgType,e.length,this.messageSeq,0,e.length,e)}},hp=Qu;hp.spec={serverVersion:Jo,random:sa.spec,sessionId:Js.types.buffer(Js.types.uint8),cipherSuite:Js.types.uint16be,compressionMethod:Js.types.uint8};var JS=ve(Jr());var pp=class{constructor(){this.msgType=14}static createEmpty(){return new pp}static deSerialize(e){return new pp(...Object.values((0,JS.decode)(e,pp.spec)))}serialize(){let e=(0,JS.encode)(this,pp.spec).slice();return Buffer.from(e)}toFragment(){let e=this.serialize();return new Zr(this.msgType,e.length,this.messageSeq,0,e.length,e)}},mp=pp;mp.spec={};var Xs=ve(Jr());var Aoe=ve(Jr());function Coe(t,e){return Buffer.from((0,Aoe.encode)(t,e).slice())}var xp=class{constructor(e,r,n,i,a,o,u,f){this.ellipticCurveType=e;this.namedCurve=r;this.publicKeyLength=n;this.publicKey=i;this.hashAlgorithm=a;this.signatureAlgorithm=o;this.signatureLength=u;this.signature=f;this.msgType=12}static createEmpty(){return new xp(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}static deSerialize(e){let r=(0,Xs.decode)(e,xp.spec);return new xp(...Object.values(r))}serialize(){return Coe(this,xp.spec)}toFragment(){let e=this.serialize();return new Zr(this.msgType,e.length,this.messageSeq,0,e.length,e)}},yp=xp;yp.spec={ellipticCurveType:Xs.types.uint8,namedCurve:Xs.types.uint16be,publicKeyLength:Xs.types.uint8,publicKey:Xs.types.buffer(e=>e.current.publicKeyLength),hashAlgorithm:Xs.types.uint8,signatureAlgorithm:Xs.types.uint8,signatureLength:Xs.types.uint16be,signature:Xs.types.buffer(e=>e.current.signatureLength)};var ki=(0,Eoe.default)("werift-dtls : packages/dtls/src/flight/client/flight5.ts : log"),LM=class extends fs{constructor(e,r,n,i){super(e,r,5,7);this.cipher=n;this.srtp=i}handleHandshake(e){this.dtls.bufferHandshakeCache([e],!1,4);let r=(()=>{switch(e.msg_type){case 2:return hp.deSerialize(e.fragment);case 11:return Ju.deSerialize(e.fragment);case 12:return yp.deSerialize(e.fragment);case 13:return lp.deSerialize(e.fragment);case 14:return mp.deSerialize(e.fragment)}})();r&&bp[r.msgType]({dtls:this.dtls,cipher:this.cipher,srtp:this.srtp})(r)}async exec(){if(this.dtls.flight===5){ki(this.dtls.sessionId,"flight5 twice"),this.send(this.dtls.lastMessage);return}this.dtls.flight=5;let e=this.dtls.requestedCertificateTypes.length>0;ki(this.dtls.sessionId,"send flight5",e);let r=[e&&this.sendCertificate(),this.sendClientKeyExchange(),e&&this.sendCertificateVerify(),this.sendChangeCipherSpec(),this.sendFinished()].filter(n=>n);this.dtls.lastMessage=r,await this.transmit(r)}sendCertificate(){let e=new Ju([Buffer.from(this.cipher.localCert)]),r=this.createPacket([e]);return Buffer.concat(r.map(i=>i.serialize()))}sendClientKeyExchange(){if(!this.cipher.localKeyPair)throw new Error;let e=new fp(this.cipher.localKeyPair.publicKey),r=this.createPacket([e]),n=Buffer.concat(r.map(f=>f.serialize())),i=this.cipher.localKeyPair,a=this.cipher.remoteKeyPair;if(!a.publicKey)throw new Error("not exist");let o=ES(a.publicKey,i.privateKey,i.curve);ki(this.dtls.sessionId,"extendedMasterSecret",this.dtls.options.extendedMasterSecret,this.dtls.remoteExtendedMasterSecret);let u=Buffer.concat(this.dtls.sortedHandshakeCache.map(f=>f.serialize()));return this.cipher.masterSecret=this.dtls.options.extendedMasterSecret&&this.dtls.remoteExtendedMasterSecret?TS(o,u):PS(o,this.cipher.localRandom.serialize(),this.cipher.remoteRandom.serialize()),this.cipher.cipher=GS(this.cipher.cipherSuite),this.cipher.cipher.init(this.cipher.masterSecret,this.cipher.remoteRandom.serialize(),this.cipher.localRandom.serialize()),ki(this.dtls.sessionId,"cipher",this.cipher.cipher.summary),n}sendCertificateVerify(){let e=Buffer.concat(this.dtls.sortedHandshakeCache.map(u=>u.serialize())),r=this.cipher.signatureData(e,"sha256"),n=(()=>{switch(this.cipher.signatureHashAlgorithm?.signature){case Yn.ecdsa_3:return pb.ecdsa_secp256r1_sha256;case Yn.rsa_1:return pb.rsa_pkcs1_sha256}})();if(!n)throw new Error;ki(this.dtls.sessionId,"signatureScheme",this.cipher.signatureHashAlgorithm?.signature,n);let i=new up(n,r),a=this.createPacket([i]);return Buffer.concat(a.map(u=>u.serialize()))}sendChangeCipherSpec(){let e=ap.createEmpty().serialize(),r=Xo(this.dtls)([{type:20,fragment:e}],++this.dtls.recordSequenceNumber);return Buffer.concat(r.map(i=>i.serialize()))}sendFinished(){let e=Buffer.concat(this.dtls.sortedHandshakeCache.map(o=>o.serialize())),r=this.cipher.verifyData(e),n=new Xu(r);this.dtls.epoch=1;let[i]=this.createPacket([n]);ki(this.dtls.sessionId,"raw finish packet",i.summary,this.dtls.sortedHandshakeCache.map(o=>o.summary)),this.dtls.recordSequenceNumber=0;let a=this.cipher.encryptPacket(i).serialize();return ki(this.dtls.sessionId,"finished",this.cipher.cipher.summary),a}},bp={};bp[2]=({cipher:t,srtp:e,dtls:r})=>n=>{ki(r.sessionId,"serverHello",n.cipherSuite),t.remoteRandom=sa.from(n.random),t.cipherSuite=n.cipherSuite,ki(r.sessionId,"selected cipherSuite",t.cipherSuite),n.extensions&&n.extensions.forEach(i=>{switch(i.type){case Pa.type:let a=Pa.fromData(i.data),o=ad.findMatchingSRTPProfile(a.profiles,r.options.srtpProfiles||[]);if(ki(r.sessionId,"selected srtp profile",o),o==null)return;e.srtpProfile=o;break;case Zo.type:r.remoteExtendedMasterSecret=!0;break;case Gs.type:ki(r.sessionId,"RenegotiationIndication");break}})};bp[11]=({cipher:t,dtls:e})=>r=>{ki(e.sessionId,"handshake certificate",r),t.remoteCertificate=r.certificateList[0]};bp[12]=({cipher:t,dtls:e})=>r=>{if(!t.localRandom||!t.remoteRandom)throw new Error;ki(e.sessionId,"ServerKeyExchange",r),ki(e.sessionId,"selected curve",r.namedCurve),t.remoteKeyPair={curve:r.namedCurve,publicKey:r.publicKey},t.localKeyPair=YS(r.namedCurve)};bp[13]=({dtls:t})=>e=>{ki(t.sessionId,"certificate_request",e),t.requestedCertificateTypes=e.certificateTypes,t.requestedSignatureAlgorithms=e.signatures};bp[14]=({dtls:t})=>e=>{ki(t.sessionId,"server_hello_done",e)};var rl=ve(Jr());var vp=class{constructor(e,r){this.serverVersion=e;this.cookie=r;this.msgType=3}static createEmpty(){return new vp(void 0,void 0)}static deSerialize(e){return new vp(...Object.values((0,rl.decode)(e,vp.spec)))}serialize(){let e=(0,rl.encode)(this,vp.spec).slice();return Buffer.from(e)}get version(){return{major:255-this.serverVersion.major,minor:255-this.serverVersion.minor}}toFragment(){let e=this.serialize();return new Zr(this.msgType,e.length,this.messageSeq,0,e.length,e)}},gp=vp;gp.spec={serverVersion:Jo,cookie:rl.types.buffer(rl.types.uint8)};var il=ve(Jr()),zM=ve(Sr()),uy=ve(Bn()),Roe=require("timers/promises");var Poe=ve(Sr()),oKe=(0,Poe.debug)("werift-dtls : packages/dtls/src/context/dtls.ts : log"),UM=class{constructor(e,r){this.options=e;this.sessionType=r;this.version={major:255-1,minor:255-2};this.lastFlight=[];this.lastMessage=[];this.recordSequenceNumber=0;this.sequenceNumber=0;this.epoch=0;this.flight=0;this.handshakeCache={};this.requestedCertificateTypes=[];this.requestedSignatureAlgorithms=[];this.remoteExtendedMasterSecret=!1;this.checkHandshakesExist=e=>!e.find(r=>this.sortedHandshakeCache.find(n=>n.msg_type===r)==null)}get sessionId(){return this.cookie?this.cookie.toString("hex").slice(0,10):""}get sortedHandshakeCache(){return Object.entries(this.handshakeCache).sort(([e],[r])=>Number(e)-Number(r)).map(([,{data:e}])=>e.sort((r,n)=>r.message_seq-n.message_seq)).flatMap(e=>e)}bufferHandshakeCache(e,r,n){this.handshakeCache[n]||(this.handshakeCache[n]={data:[],isLocal:r,flight:n});let i=e.filter(a=>{let o=this.handshakeCache[n].data.find(u=>u.msg_type===a.msg_type);return o?(oKe(this.sessionId,"exist",o.summary,r,n),!1):!0});this.handshakeCache[n].data=[...this.handshakeCache[n].data,...i]}};var HM=class{constructor(e){this.socket=e;this.send=this.socket.send}};var tu=ve(Jr()),eu=class{constructor(e={}){this.type=eu.type;this.data=[];Object.assign(this,e)}static createEmpty(){return new eu}static fromData(e){return new eu({type:eu.type,data:(0,tu.decode)(e,eu.spec.data)})}static deSerialize(e){return new eu((0,tu.decode)(e,eu.spec))}serialize(){return Buffer.from((0,tu.encode)(this,eu.spec).slice())}get extension(){return{type:this.type,data:this.serialize().slice(2)}}},kf=eu;kf.type=10,kf.spec={type:tu.types.uint16be,data:tu.types.array(tu.types.uint16be,tu.types.uint16be,"bytes")};var ru=ve(Jr()),Zu=class{constructor(e={}){this.type=Zu.type;this.data=[];Object.assign(this,e)}static createEmpty(){return new Zu}static deSerialize(e){return new Zu((0,ru.decode)(e,Zu.spec))}serialize(){let e=(0,ru.encode)(this,Zu.spec).slice();return Buffer.from(e)}static fromData(e){let r=Buffer.alloc(2);return r.writeUInt16BE(Zu.type),Zu.deSerialize(Buffer.concat([r,e]))}get extension(){return{type:this.type,data:this.serialize().slice(2)}}},Bf=Zu;Bf.type=13,Bf.spec={type:ru.types.uint16be,data:ru.types.array({hash:ru.types.uint8,signature:ru.types.uint8},ru.types.uint16be,"bytes")};var FM=ve(Sr());var nl=ve(Jr()),sy=class{constructor(e,r){this.level=e;this.description=r}static deSerialize(e){return new sy(...Object.values((0,nl.decode)(e,sy.spec)))}serialize(){let e=(0,nl.encode)(this,sy.spec).slice();return Buffer.from(e)}},oy=sy;oy.spec={level:nl.types.uint8,description:nl.types.uint8};var Toe=(0,FM.default)("werift-dtls : packages/dtls/record/receive.ts : log"),KM=(0,FM.default)("werift-dtls : packages/dtls/record/receive.ts : err"),Ioe=t=>{let e=0,r=[];for(;t.length>e;){let n=t.readUInt16BE(e+11);if(t.length<e+(12+n))break;let i=ep.deSerialize(t.slice(e));r.push(i),e+=13+n}return r},koe=(t,e)=>r=>{switch(r.recordLayerHeader.contentType){case 20:return Toe(t.sessionId,"change cipher spec"),{type:20,data:void 0};case 22:{let i=r.fragment;try{r.recordLayerHeader.epoch>0&&(Toe(t.sessionId,"decrypt handshake"),i=e.decryptPacket(r))}catch(a){throw KM(t.sessionId,"decrypt failed",a),a}try{return{type:22,data:Zr.deSerialize(i)}}catch(a){throw KM(t.sessionId,"decSerialize failed",a,i),a}}case 23:return{type:23,data:e.decryptPacket(r)};case 21:{let i=oy.deSerialize(r.fragment);if(zS[i.description]==null){let a=e.decryptPacket(r);i=oy.deSerialize(a)}if(KM(t.sessionId,"ContentType.alert",i,zS[i.description],"flight",t.flight,"lastFlight",t.lastFlight),i.level>1)throw new Error("alert fatal error")}default:return{type:21,data:void 0}}};var uKe=(0,zM.default)("werift-dtls : packages/dtls/src/socket.ts : log"),Boe=(0,zM.default)("werift-dtls : packages/dtls/src/socket.ts : err"),_p=class{constructor(e,r){this.options=e;this.sessionType=r;this.onConnect=new uy.Event;this.onData=new uy.Event;this.onError=new uy.Event;this.onClose=new uy.Event;this.transport=new HM(this.options.transport);this.cipher=new Ef(this.sessionType,this.options.cert,this.options.key,this.options.signatureHash);this.dtls=new UM(this.options,this.sessionType);this.srtp=new ad;this.connected=!1;this.extensions=[];this.bufferFragmentedHandshakes=[];this.udpOnMessage=e=>{let r=Ioe(e);for(let n of r)try{let i=koe(this.dtls,this.cipher)(n);switch(i.type){case 22:{let a=i.data,o=this.handleFragmentHandshake([a]),u=Object.values(o.reduce((f,d)=>(f[d.msg_type]||(f[d.msg_type]=[]),f[d.msg_type].push(d),f),{})).map(f=>Zr.assemble(f)).sort((f,d)=>f.msg_type-d.msg_type);this.onHandleHandshakes(u).catch(f=>{Boe(this.dtls.sessionId,"onHandleHandshakes error",f),this.onError.execute(f)})}break;case 23:this.onData.execute(i.data);break;case 21:this.onClose.execute();break}}catch(i){Boe(this.dtls.sessionId,"catch udpOnMessage error",i)}};this.waitForReady=e=>new Promise(async(r,n)=>{{for(let i=0;i<10;i++)if(e()){r();break}else await(0,Roe.setTimeout)(100*i);n("waitForReady timeout")}});this.send=async e=>{let r=Xo(this.dtls)([{type:23,fragment:e}],++this.dtls.recordSequenceNumber)[0];await this.transport.send(this.cipher.encryptPacket(r).serialize())};this.setupExtensions(),this.transport.socket.onData=this.udpOnMessage}setupExtensions(){if(uKe(this.dtls.sessionId,"support srtpProfiles",this.options.srtpProfiles),this.options.srtpProfiles&&this.options.srtpProfiles.length>0){let e=Pa.create(this.options.srtpProfiles,Buffer.from([0]));this.extensions.push(e.extension)}{let e=kf.createEmpty();e.data=Qp,this.extensions.push(e.extension)}{let e=Bf.createEmpty();e.data=[{hash:vs.sha256_4,signature:Yn.rsa_1},{hash:vs.sha256_4,signature:Yn.ecdsa_3}],this.extensions.push(e.extension)}this.options.extendedMasterSecret&&this.extensions.push({type:Zo.type,data:Buffer.alloc(0)});{let e=Gs.createEmpty();this.extensions.push(e.extension)}}handleFragmentHandshake(e){let r=e.filter(n=>n.fragment_length!==n.length?(this.bufferFragmentedHandshakes.push(n),!1):!0);if(this.bufferFragmentedHandshakes.length>1){let[n]=this.bufferFragmentedHandshakes.slice(-1);n.fragment_offset+n.fragment_length===n.length&&(r=[...this.bufferFragmentedHandshakes,...r],this.bufferFragmentedHandshakes=[])}return r}close(){this.transport.socket.close()}extractSessionKeys(e,r){let n=this.exportKeyingMaterial("EXTRACTOR-dtls_srtp",e*2+r*2),{clientKey:i,serverKey:a,clientSalt:o,serverSalt:u}=(0,il.decode)(n,{clientKey:il.types.buffer(e),serverKey:il.types.buffer(e),clientSalt:il.types.buffer(r),serverSalt:il.types.buffer(r)});return this.sessionType===aa.CLIENT?{localKey:i,localSalt:o,remoteKey:a,remoteSalt:u}:{localKey:a,localSalt:u,remoteKey:i,remoteSalt:o}}exportKeyingMaterial(e,r){return Ise(e,r,this.cipher.masterSecret,this.cipher.localRandom.serialize(),this.cipher.remoteRandom.serialize(),this.sessionType===aa.CLIENT)}};var WM=(0,Moe.default)("werift-dtls : packages/dtls/src/client.ts : log"),cy=class extends _p{constructor(e){super(e,aa.CLIENT);this.handleHandshakes=async e=>{WM(this.dtls.sessionId,"handleHandshakes",e.map(r=>r.msg_type));for(let r of e)switch(r.msg_type){case 3:{let n=gp.deSerialize(r.fragment);await new DM(this.transport,this.dtls).exec(n)}break;case 2:{if(this.connected)return;this.flight5=new LM(this.transport,this.dtls,this.cipher,this.srtp),this.flight5.handleHandshake(r)}break;case 11:case 12:case 13:await this.waitForReady(()=>!!this.flight5),this.flight5?.handleHandshake(r);break;case 14:{await this.waitForReady(()=>!!this.flight5),this.flight5?.handleHandshake(r);let n=[11,12,this.options.certificateRequest&&13].filter(i=>typeof i=="number");await this.waitForReady(()=>this.dtls.checkHandshakesExist(n)),await this.flight5?.exec()}break;case 20:this.dtls.flight=7,this.connected=!0,this.onConnect.execute(),WM(this.dtls.sessionId,"dtls connected");break}};this.onHandleHandshakes=this.handleHandshakes,WM(this.dtls.sessionId,"start client")}async connect(){await new qM(this.transport,this.dtls,this.cipher).exec(this.extensions)}};var Hoe=ve(Sr());var Ooe=require("crypto"),qoe=ve(Sr());var Rf=(0,qoe.default)("werift-dtls : packages/dtls/flight/server/flight2.ts : log"),Doe=(t,e,r,n)=>i=>{e.flight=2,i.extensions.forEach(m=>{switch(m.type){case kf.type:{let _=kf.fromData(m.data).data;Rf(e.sessionId,"curves",_);let w=_.find(P=>Qp.includes(P));r.namedCurve=w,Rf(e.sessionId,"curve selected",r.namedCurve)}break;case Bf.type:{if(!r.signatureHashAlgorithm)throw new Error("need to set certificate");let _=Bf.fromData(m.data).data;Rf(e.sessionId,"hash,signature",_);let w=_.find(M=>M.signature===r.signatureHashAlgorithm?.signature)?.signature,P=_.find(M=>M.hash===r.signatureHashAlgorithm?.hash)?.hash;if(w==null||P==null)throw new Error("invalid signatureHash")}break;case Pa.type:{if(!e.options?.srtpProfiles||e.options.srtpProfiles.length===0)return;let _=Pa.fromData(m.data);Rf(e.sessionId,"srtp profiles",_.profiles);let w=ad.findMatchingSRTPProfile(_.profiles,e.options?.srtpProfiles);if(!w)throw new Error;n.srtpProfile=w,Rf(e.sessionId,"srtp profile selected",n.srtpProfile)}break;case Zo.type:e.remoteExtendedMasterSecret=!0;break;case Gs.type:Rf(e.sessionId,"RenegotiationIndication",m.data);break}}),r.localRandom=new sa,r.remoteRandom=sa.from(i.random);let a=i.cipherSuites;Rf(e.sessionId,"cipher suites",a);let o=(()=>{switch(r.signatureHashAlgorithm?.signature){case Yn.ecdsa_3:return Xp.TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256_49195;case Yn.rsa_1:return Xp.TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256_49199}})();if(o===void 0||!a.includes(o))throw new Error("dtls cipher suite negotiation failed");r.cipherSuite=o,Rf(e.sessionId,"selected cipherSuite",r.cipherSuite),r.localKeyPair=YS(r.namedCurve),e.cookie=(0,Ooe.randomBytes)(20);let u=new gp({major:255-1,minor:255-2},e.cookie),f=FS(e)([u]);Xo(e)(f.map(m=>({type:22,fragment:m.serialize()})),++e.recordSequenceNumber).map(m=>m.serialize()).forEach(m=>t.send(m))};var Loe=ve(Sr());var Noe=(0,Loe.default)("werift-dtls : packages/dtls/flight/server/flight4.ts : log"),jM=class extends fs{constructor(e,r,n,i){super(e,r,4,6);this.cipher=n;this.srtp=i}async exec(e,r=!1){if(this.dtls.flight===4){Noe(this.dtls.sessionId,"flight4 twice"),this.send(this.dtls.lastMessage);return}this.dtls.flight=4,this.dtls.sequenceNumber=1,this.dtls.bufferHandshakeCache([e],!1,4);let n=[this.sendServerHello(),this.sendCertificate(),this.sendServerKeyExchange(),r&&this.sendCertificateRequest(),this.sendServerHelloDone()].filter(i=>i);this.dtls.lastMessage=n,await this.transmit(n)}sendServerHello(){let e=[];this.srtp.srtpProfile&&e.push(Pa.create([this.srtp.srtpProfile],Buffer.from([0])).extension),this.dtls.options.extendedMasterSecret&&e.push({type:Zo.type,data:Buffer.alloc(0)});let r=Gs.createEmpty();e.push(r.extension);let n=new hp(this.dtls.version,this.cipher.localRandom,Buffer.from([0]),this.cipher.cipherSuite,0,e),i=this.createPacket([n]);return Buffer.concat(i.map(a=>a.serialize()))}sendCertificate(){let e=new Ju([Buffer.from(this.cipher.localCert)]),r=this.createPacket([e]);return Buffer.concat(r.map(n=>n.serialize()))}sendServerKeyExchange(){let e=this.cipher.generateKeySignature("sha256");if(!this.cipher.signatureHashAlgorithm)throw new Error("not exist");let r=new yp(Zp.named_curve_3,this.cipher.namedCurve,this.cipher.localKeyPair.publicKey.length,this.cipher.localKeyPair.publicKey,this.cipher.signatureHashAlgorithm.hash,this.cipher.signatureHashAlgorithm.signature,e.length,e),n=this.createPacket([r]);return Buffer.concat(n.map(i=>i.serialize()))}sendCertificateRequest(){let e=new lp([1,64],[{hash:vs.sha256_4,signature:Yn.rsa_1},{hash:vs.sha256_4,signature:Yn.ecdsa_3}],[]);Noe(this.dtls.sessionId,"sendCertificateRequest",e);let r=this.createPacket([e]);return Buffer.concat(r.map(n=>n.serialize()))}sendServerHelloDone(){let e=new mp,r=this.createPacket([e]);return Buffer.concat(r.map(n=>n.serialize()))}};var Uoe=ve(Sr());var XS=(0,Uoe.default)("werift-dtls : packages/dtls/flight/server/flight6.ts"),$M=class extends fs{constructor(e,r,n){super(e,r,6);this.cipher=n}handleHandshake(e){this.dtls.bufferHandshakeCache([e],!1,5);let r=(()=>{switch(e.msg_type){case 11:return Ju.deSerialize(e.fragment);case 15:return up.deSerialize(e.fragment);case 16:return fp.deSerialize(e.fragment);case 20:return Xu.deSerialize(e.fragment)}})();if(r){let n=VM[r.msgType];if(!n)return;n({dtls:this.dtls,cipher:this.cipher})(r)}}async exec(){if(this.dtls.flight===6){XS(this.dtls.sessionId,"flight6 twice"),this.send(this.dtls.lastMessage);return}this.dtls.flight=6;let e=[this.sendChangeCipherSpec(),this.sendFinished()];this.dtls.lastMessage=e,await this.transmit(e)}sendChangeCipherSpec(){let e=ap.createEmpty().serialize(),r=Xo(this.dtls)([{type:20,fragment:e}],++this.dtls.recordSequenceNumber);return Buffer.concat(r.map(i=>i.serialize()))}sendFinished(){let e=Buffer.concat(this.dtls.sortedHandshakeCache.map(o=>o.serialize())),r=this.cipher.verifyData(e),n=new Xu(r);this.dtls.epoch=1;let[i]=this.createPacket([n]);return this.dtls.recordSequenceNumber=0,this.cipher.encryptPacket(i).serialize()}},VM={};VM[16]=({cipher:t,dtls:e})=>r=>{if(t.remoteKeyPair={curve:t.namedCurve,publicKey:r.publicKey},!t.remoteKeyPair.publicKey||!t.localKeyPair||!t.remoteRandom||!t.localRandom)throw new Error("not exist");let n=ES(t.remoteKeyPair.publicKey,t.localKeyPair.privateKey,t.localKeyPair.curve);XS(e.sessionId,"extendedMasterSecret",e.options.extendedMasterSecret,e.remoteExtendedMasterSecret);let i=Buffer.concat(e.sortedHandshakeCache.map(a=>a.serialize()));t.masterSecret=e.options.extendedMasterSecret&&e.remoteExtendedMasterSecret?TS(n,i):PS(n,t.remoteRandom.serialize(),t.localRandom.serialize()),t.cipher=GS(t.cipherSuite),t.cipher.init(t.masterSecret,t.localRandom.serialize(),t.remoteRandom.serialize()),XS(e.sessionId,"setup cipher",t.cipher.summary)};VM[20]=({dtls:t})=>e=>{XS(t.sessionId,"finished",e)};var fy=(0,Hoe.default)("werift-dtls : packages/dtls/src/server.ts : log"),QS=class extends _p{constructor(e){super(e,aa.SERVER);this.handleHandshakes=async e=>{fy(this.dtls.sessionId,"handleHandshakes",e.map(r=>r.msg_type));for(let r of e)switch(r.msg_type){case 1:{let n=Jh.deSerialize(r.fragment);n.cookie.length===0?(fy(this.dtls.sessionId,"send flight2"),Doe(this.transport,this.dtls,this.cipher,this.srtp)(n)):this.dtls.cookie&&n.cookie.equals(this.dtls.cookie)&&(fy(this.dtls.sessionId,"send flight4"),await new jM(this.transport,this.dtls,this.cipher,this.srtp).exec(r,this.options.certificateRequest))}break;case 11:case 15:case 16:{if(this.connected)return;this.flight6=new $M(this.transport,this.dtls,this.cipher),this.flight6.handleHandshake(r)}break;case 20:await this.waitForReady(()=>!!this.flight6),this.flight6?.handleHandshake(r),await this.waitForReady(()=>this.dtls.checkHandshakesExist([16])),await this.flight6?.exec(),this.connected=!0,this.onConnect.execute(),fy(this.dtls.sessionId,"dtls connected");break}};this.onHandleHandshakes=this.handleHandshakes,fy(this.dtls.sessionId,"start server")}};var ZS=(0,Foe.default)("werift:packages/webrtc/src/transport/dtls.ts"),eA=class{constructor(e,r,n,i=[]){this.iceTransport=e;this.router=r;this.certificates=n;this.srtpProfiles=i;this.state="new";this.role="auto";this.srtpStarted=!1;this.transportSequenceNumber=0;this.dataReceiver=()=>{};this.onStateChange=new zoe.default;this.localCertificate=this.certificates[0];this.sendData=async e=>{if(!this.dtls)throw new Error("dtls not established");await this.dtls.send(e)}}get localParameters(){return new hy(this.localCertificate?this.localCertificate.getFingerprints():[],this.role)}async setupCertificate(){if(!this.localCertificate){let{certPem:e,keyPem:r,signatureHash:n}=await Ef.createSelfSignedCertificateWithKey({signature:Yn.ecdsa_3,hash:vs.sha256_4},ha.secp256r1_23);this.localCertificate=new ly(r,e,n)}}setRemoteParams(e){this.remoteParameters=e}async start(){if(this.state!=="new")throw new Error;if(this.remoteParameters?.fingerprints.length===0)throw new Error;this.role==="auto"&&(this.iceTransport.role==="controlling"?this.role="server":this.role="client"),this.setState("connecting"),await new Promise(async e=>{this.role==="server"?this.dtls=new QS({cert:this.localCertificate?.certPem,key:this.localCertificate?.privateKey,signatureHash:this.localCertificate?.signatureHash,transport:Koe(this.iceTransport.connection),srtpProfiles:this.srtpProfiles,extendedMasterSecret:!0}):this.dtls=new cy({cert:this.localCertificate?.certPem,key:this.localCertificate?.privateKey,signatureHash:this.localCertificate?.signatureHash,transport:Koe(this.iceTransport.connection),srtpProfiles:this.srtpProfiles,extendedMasterSecret:!0}),this.dtls.onData.subscribe(r=>{this.dataReceiver(r)}),this.dtls.onClose.once(()=>{this.setState("closed")}),this.dtls.onConnect.once(e),this.dtls.onError.once(r=>{this.setState("failed"),ZS("dtls failed",r)}),this.dtls instanceof cy&&(await(0,Woe.setTimeout)(100),this.dtls.connect().catch(r=>{this.setState("failed"),ZS("dtls connect failed",r)}))}),this.srtpProfiles.length>0&&this.startSrtp(),this.setState("connected"),ZS("dtls connected")}startSrtp(){if(!this.dtls)throw new Error;if(this.srtpStarted)return;this.srtpStarted=!0;let e=this.dtls.srtp.srtpProfile;if(!e)throw new Error("need srtpProfile");ZS("selected SRTP Profile",e);let{localKey:r,localSalt:n,remoteKey:i,remoteSalt:a}=this.dtls.extractSessionKeys(GL(e),YL(e)),o={keys:{localMasterKey:r,localMasterSalt:n,remoteMasterKey:i,remoteMasterSalt:a},profile:e};this.srtp=new ev(o),this.srtcp=new Zb(o),this.iceTransport.connection.onData.subscribe(u=>{if(!!xM(u))if(yM(u)){let f=this.srtcp.decrypt(u);Ka.deSerialize(f).forEach(h=>this.router.routeRtcp(h))}else{let f=this.srtp.decrypt(u),d=Mn.deSerialize(f);this.router.routeRtp(d)}})}sendRtp(e,r){let n=this.srtp.encrypt(e,r);return this.iceTransport.connection.send(n),n.length}async sendRtcp(e){let r=Buffer.concat(e.map(i=>i.serialize())),n=this.srtcp.encrypt(r);try{await this.iceTransport.connection.send(n)}catch{throw new Error("ice")}}setState(e){e!=this.state&&(this.state=e,this.onStateChange.execute(e))}async stop(){this.setState("closed")}},cKe=["new","connecting","connected","closed","failed"],ly=class{constructor(e,r,n){this.certPem=r;this.signatureHash=n;let i=dy.Certificate.fromPEM(Buffer.from(r));this.publicKey=i.publicKey.toPEM(),this.privateKey=dy.PrivateKey.fromPEM(Buffer.from(e)).toPEM()}getFingerprints(){return[new wp("sha-256",pM(dy.Certificate.fromPEM(Buffer.from(this.certPem)).raw,"sha256"))]}},wp=class{constructor(e,r){this.algorithm=e;this.value=r}},hy=class{constructor(e=[],r){this.fingerprints=e;this.role=r}},joe=class{constructor(e){this.ice=e;this.send=this.ice.send;e.onData.subscribe(r=>{mM(r)&&this.onData&&this.onData(r)})}close(){this.ice.close()}},Koe=t=>new joe(t);var tA=ve(Bn());var rA=class{constructor(e){this.gather=e;this.connection=this.gather.connection;this.state="new";this.onStateChange=new tA.default;this.addRemoteCandidate=async e=>{this.connection.remoteCandidatesEnd||(e?await this.connection.addRemoteCandidate($oe(e)):await this.connection.addRemoteCandidate(void 0))};this.connection.stateChanged.subscribe(r=>{this.setState(r)})}get iceGather(){return this.gather}get role(){return this.connection.iceControlling?"controlling":"controlled"}setState(e){if(e!==this.state){if(this.state=e,this.onStateChange.ended)return;e==="closed"?(this.onStateChange.execute(e),this.onStateChange.complete()):this.onStateChange.execute(e)}}setRemoteParams(e){this.connection.remoteIsLite=e.iceLite,this.connection.remoteUsername=e.usernameFragment,this.connection.remotePassword=e.password}async start(){if(this.state==="closed")throw new Error("RTCIceTransport is closed");if(!this.connection.remotePassword||!this.connection.remoteUsername)throw new Error("remoteParams missing");this.waitStart&&await this.waitStart.asPromise(),this.waitStart=new tA.default,this.setState("checking");try{await this.connection.connect()}catch(e){throw this.setState("failed"),e}this.waitStart.complete()}async stop(){this.state!=="closed"&&(this.setState("closed"),await this.connection.close())}},fKe=["new","checking","connected","completed","disconnected","failed","closed"],dKe=["new","gathering","complete"],nA=class{constructor(e={}){this.options=e;this.onIceCandidate=()=>{};this.gatheringState="new";this.onGatheringStateChange=new tA.default;this.connection=new Xf(!1,this.options)}async gather(){this.gatheringState==="new"&&(this.setState("gathering"),await this.connection.gatherCandidates(e=>this.onIceCandidate(GM(e))),this.setState("complete"))}get localCandidates(){return this.connection.localCandidates.map(GM)}get localParameters(){return new py({usernameFragment:this.connection.localUserName,password:this.connection.localPassword})}setState(e){e!==this.gatheringState&&(this.gatheringState=e,this.onGatheringStateChange.execute(e))}};function GM(t){let e=new al(t.component,t.foundation,t.host,t.port,t.priority,t.transport,t.type);return e.relatedAddress=t.relatedAddress,e.relatedPort=t.relatedPort,e.tcpType=t.tcptype,e}function $oe(t){return new La(t.foundation,t.component,t.protocol,t.priority,t.ip,t.port,t.type,t.relatedAddress,t.relatedPort,t.tcpType)}var YM=class{constructor(e){Object.assign(this,e)}static isThis(e){if(typeof e?.candidate=="string")return!0}},al=class{constructor(e,r,n,i,a,o,u){this.component=e;this.foundation=r;this.ip=n;this.port=i;this.priority=a;this.protocol=o;this.type=u}toJSON(){return new YM({candidate:iA(this),sdpMLineIndex:this.sdpMLineIndex,sdpMid:this.sdpMid})}static fromJSON(e){try{let r=aA(e.candidate);return r.sdpMLineIndex=e.sdpMLineIndex,r.sdpMid=e.sdpMid,r}catch{}}},py=class{constructor(e={}){this.iceLite=!1;Object.assign(this,e)}};var Eue=ve(Sr()),mA=ve(xs()),Pue=ve(Bn());var Ay=require("crypto"),wue=ve(Sr()),hO=ve(xs()),Sy=ve(wi()),pO=ve(Bn());var gn=ve(xs()),iue=nue(),JM=class{constructor(e=0,r=Buffer.from("")){this.flags=e;this._body=r}get body(){return this._body}set body(e){this._body=e}get type(){return JM.type}get bytes(){if(!this.body)throw new Error;return Buffer.concat([Buffer.from(gn.jspack.Pack("!BBH",[this.type,this.flags,this.body.length+4])),this.body,...[...Array(gy(this.body.length))].map(()=>Buffer.from("\0"))])}},ds=JM;ds.type=-1;var uA=class extends ds{constructor(e=0,r){super(e,r);this.flags=e;r?([this.initiateTag,this.advertisedRwnd,this.outboundStreams,this.inboundStreams,this.initialTsn]=gn.jspack.Unpack("!LLHHL",r),this.params=sue(r.slice(16))):(this.initiateTag=0,this.advertisedRwnd=0,this.outboundStreams=0,this.inboundStreams=0,this.initialTsn=0,this.params=[])}get body(){let e=Buffer.from(gn.jspack.Pack("!LLHHL",[this.initiateTag,this.advertisedRwnd,this.outboundStreams,this.inboundStreams,this.initialTsn]));return e=Buffer.concat([e,aue(this.params)]),e}},XM=class extends uA{get type(){return XM.type}},sl=XM;sl.type=1;var QM=class extends uA{get type(){return QM.type}},Sp=QM;Sp.type=2;var ZM=class extends uA{get type(){return ZM.type}},sA=ZM;sA.type=130;var eO=class extends ds{constructor(e=0,r){super(e,r);this.flags=e;this.streams=[];if(r){this.cumulativeTsn=gn.jspack.Unpack("!L",r)[0];let n=4;for(;n<r.length;)this.streams.push(gn.jspack.Unpack("!HH",r.slice(n))),n+=4}else this.cumulativeTsn=0}get type(){return eO.type}set body(e){}get body(){let e=Buffer.from(gn.jspack.Pack("!L",[this.cumulativeTsn]));return Buffer.concat([e,...this.streams.map(([r,n])=>Buffer.from(gn.jspack.Pack("!HH",[r,n])))])}},ol=eO;ol.type=192;var tO=class extends ds{constructor(e=0,r){super(e,r);this.flags=e;this.tsn=0;this.streamId=0;this.streamSeqNum=0;this.protocol=0;this.userData=Buffer.from("");this.abandoned=!1;this.acked=!1;this.misses=0;this.retransmit=!1;this.sentCount=0;this.bookSize=0;r&&([this.tsn,this.streamId,this.streamSeqNum,this.protocol]=gn.jspack.Unpack("!LHHL",r),this.userData=r.slice(12))}get type(){return tO.type}get bytes(){let e=16+this.userData.length,r=Buffer.concat([Buffer.from(gn.jspack.Pack("!BBHLHHL",[this.type,this.flags,e,this.tsn,this.streamId,this.streamSeqNum,this.protocol])),this.userData]);return e%4&&(r=Buffer.concat([r,...[...Array(gy(e))].map(()=>Buffer.from("\0"))])),r}},ul=tO;ul.type=0;var rO=class extends ds{get type(){return rO.type}},Ap=rO;Ap.type=10;var nO=class extends ds{get type(){return nO.type}},Cp=nO;Cp.type=11;var Ip=class extends ds{constructor(e=0,r=void 0){super(e,r);this.flags=e;this.params=[];r&&(this.params=sue(r))}get body(){return aue(this.params)}},iO=class extends Ip{get type(){return iO.type}},Ep=iO;Ep.type=6;var oA=class extends Ip{get type(){return oA.type}get descriptions(){return this.params.map(([e,r])=>({name:(Object.entries(oA.CODE).find(([,i])=>i===e)||[])[0],body:r}))}},Mf=oA;Mf.type=9,Mf.CODE={InvalidStreamIdentifier:1,MissingMandatoryParameter:2,StaleCookieError:3,OutofResource:4,UnresolvableAddress:5,UnrecognizedChunkType:6,InvalidMandatoryParameter:7,UnrecognizedParameters:8,NoUserData:9,CookieReceivedWhileShuttingDown:10,RestartofanAssociationwithNewAddresses:11,UserInitiatedAbort:12,ProtocolViolation:13};var aO=class extends Ip{get type(){return aO.type}},my=aO;my.type=4;var sO=class extends Ip{get type(){return sO.type}},xy=sO;xy.type=5;var oO=class extends Ip{get type(){return oO.type}},Pp=oO;Pp.type=130;var uO=class extends ds{constructor(e=0,r){super(e,r);this.flags=e;this.gaps=[];this.duplicates=[];this.cumulativeTsn=0;this.advertisedRwnd=0;if(r){let[n,i,a,o]=gn.jspack.Unpack("!LLHH",r);this.cumulativeTsn=n,this.advertisedRwnd=i;let u=12;[...Array(a)].forEach(()=>{this.gaps.push(gn.jspack.Unpack("!HH",r.slice(u))),u+=4}),[...Array(o)].forEach(()=>{this.duplicates.push(gn.jspack.Unpack("!L",r.slice(u))[0]),u+=4})}}get type(){return uO.type}get bytes(){let e=16+4*(this.gaps.length+this.duplicates.length),r=Buffer.from(gn.jspack.Pack("!BBHLLHH",[this.type,this.flags,e,this.cumulativeTsn,this.advertisedRwnd,this.gaps.length,this.duplicates.length]));return r=Buffer.concat([r,...this.gaps.map(n=>Buffer.from(gn.jspack.Pack("!HH",n)))]),r=Buffer.concat([r,...this.duplicates.map(n=>Buffer.from(gn.jspack.Pack("!L",[n])))]),r}},Tp=uO;Tp.type=3;var cO=class extends ds{constructor(e=0,r){super(e,r);this.flags=e;this.cumulativeTsn=0;r&&(this.cumulativeTsn=gn.jspack.Unpack("!L",r)[0])}get type(){return cO.type}get body(){return Buffer.from(gn.jspack.Pack("!L",[this.cumulativeTsn]))}},yy=cO;yy.type=7;var fO=class extends ds{get type(){return fO.type}},by=fO;by.type=8;var dO=class extends ds{get type(){return dO.type}},vy=dO;vy.type=14;var wKe=[ul,sl,Sp,Tp,my,xy,Ep,yy,by,Mf,Ap,Cp,vy,Pp,ol],SKe=wKe.reduce((t,e)=>(t[e.type]=e,t),{});function gy(t){let e=t%4;return e?4-e:0}function aue(t){let e=Buffer.from(""),r=Buffer.from("");return t.forEach(([n,i])=>{let a=i.length+4;e=Buffer.concat([e,r,Buffer.from(gn.jspack.Pack("!HH",[n,a])),i]),r=Buffer.concat([...Array(gy(a))].map(()=>Buffer.from("\0")))}),e}function sue(t){let e=[],r=0;for(;r<=t.length-4;){let[n,i]=gn.jspack.Unpack("!HH",t.slice(r));e.push([n,t.slice(r+4,r+i)]),r+=i+gy(i)}return e}function oue(t){if(t.length<12)throw new Error("SCTP packet length is less than 12 bytes");let[e,r,n]=gn.jspack.Unpack("!HHL",t),i=t.readUInt32LE(8),a=iue(Buffer.concat([t.slice(0,8),Buffer.from("\0\0\0\0"),t.slice(12)]));if(i!==a)throw new Error("SCTP packet has invalid checksum");let o=[],u=12;for(;u+4<=t.length;){let[f,d,h]=gn.jspack.Unpack("!BBH",t.slice(u)),m=t.slice(u+4,u+h),_=SKe[f.toString()];if(_)o.push(new _(d,m));else throw new Error("unknown");u+=h+gy(h)}return[e,r,n,o]}function uue(t,e,r,n){let i=Buffer.from(gn.jspack.Pack("!HHL",[t,e,r])),a=n.bytes,o=iue(Buffer.concat([i,Buffer.from("\0\0\0\0"),a])),u=Buffer.alloc(4);return u.writeUInt32LE(o,0),Buffer.concat([i,u,a])}var cue=ve(Bn());function fue(t){return t.map((e,r)=>[r,e])}function due(t){return t.reduce((e,r)=>(e[r]=new cue.default,e),{})}var ec=ve(xs()),lue=ve(wi()),cA=class{constructor(e,r,n,i){this.requestSequence=e;this.responseSequence=r;this.lastTsn=n;this.streams=i}get type(){return cA.type}get bytes(){let e=Buffer.from(ec.jspack.Pack("!LLL",[this.requestSequence,this.responseSequence,this.lastTsn]));return Buffer.concat([e,...this.streams.map(r=>Buffer.from(ec.jspack.Pack("!H",[r])))])}static parse(e){let[r,n,i]=ec.jspack.Unpack("!LLL",e),a=(0,lue.range)(12,e.length,2).map(o=>ec.jspack.Unpack("!H",e.slice(o))[0]);return new cA(r,n,i,a)}},kp=cA;kp.type=13;var fA=class{constructor(e,r){this.requestSequence=e;this.newStreams=r}get type(){return fA.type}get bytes(){return Buffer.from(ec.jspack.Pack("!LHH",[this.requestSequence,this.newStreams,0]))}static parse(e){let[r,n]=ec.jspack.Unpack("!LHH",e);return new fA(r,n)}},_y=fA;_y.type=17;var wy={ReconfigResultSuccessPerformed:1,BadSequenceNumber:5},dA=class{constructor(e,r){this.responseSequence=e;this.result=r}get type(){return dA.type}get bytes(){return Buffer.from(ec.jspack.Pack("!LL",[this.responseSequence,this.result]))}static parse(e){let[r,n]=ec.jspack.Unpack("!LL",e);return new dA(r,n)}},cl=dA;cl.type=16;var lO={13:kp,16:cl,17:_y};var Ta=(0,wue.default)("werift/sctp/sctp"),AKe=24,CKe=60,hue=65535,Qs=1200,lA=1,Sue=2,mO=4,pue=10,EKe=8,mue=1/8,xue=1/4,PKe=3,TKe=1,IKe=60,hA=2**32,yue=135,bue=7,vue=32776,gue=49152,kKe=["new","closed","connected","connecting"],dl=class{constructor(e,r=5e3){this.transport=e;this.port=r;this.stateChanged=due(kKe);this.onReconfigStreams=new pO.Event;this.onReceive=new pO.Event;this.onSackReceived=async()=>{};this.associationState=1;this.started=!1;this.state="new";this.isServer=!0;this.hmacKey=(0,Ay.randomBytes)(16);this.localPartialReliability=!0;this.localPort=this.port;this.localVerificationTag=Al();this.remoteExtensions=[];this.remotePartialReliability=!0;this.remoteVerificationTag=0;this.advertisedRwnd=1024*1024;this.inboundStreams={};this._inboundStreamsCount=0;this._inboundStreamsMax=hue;this.sackDuplicates=[];this.sackMisOrdered=new Set;this.sackNeeded=!1;this.cwnd=3*Qs;this.fastRecoveryTransmit=!1;this.flightSize=0;this.outboundQueue=[];this.outboundStreamSeq={};this._outboundStreamsCount=hue;this.localTsn=Number(Al());this.lastSackedTsn=fl(this.localTsn);this.advancedPeerAckTsn=fl(this.localTsn);this.partialBytesAcked=0;this.sentQueue=[];this.reconfigRequestSeq=this.localTsn;this.reconfigResponseSeq=0;this.reconfigQueue=[];this.rto=PKe;this.timer1Failures=0;this.timer2Failures=0;this.timerReconfigFailures=0;this.send=async(e,r,n,i=void 0,a=void 0,o=!0)=>{let u=o&&this.outboundStreamSeq[e]||0,f=Math.ceil(n.length/Qs),d=0,h=[];for(let m of(0,Sy.range)(0,f)){let _=new ul(0,void 0);_.flags=0,o||(_.flags=mO),m===0&&(_.flags|=Sue),m===f-1&&(_.flags|=lA),_.tsn=this.localTsn,_.streamId=e,_.streamSeqNum=u,_.protocol=r,_.userData=n.slice(d,d+Qs),_.bookSize=_.userData.length,_.expiry=i,_.maxRetransmits=a,d+=Qs,this.localTsn=Bp(this.localTsn),h.push(_)}h.forEach(m=>{this.outboundQueue.push(m)}),o&&(this.outboundStreamSeq[e]=Gr(u,1)),this.timer3Handle?await new Promise(m=>setImmediate(m)):await this.transmit()};this.timer1Expired=()=>{this.timer1Failures++,this.timer1Handle=void 0,this.timer1Failures>EKe?this.setState(1):(setImmediate(()=>this.sendChunk(this.timer1Chunk)),this.timer1Handle=setTimeout(this.timer1Expired,this.rto*1e3))};this.timer2Expired=()=>{this.timer2Failures++,this.timer2Handle=void 0,this.timer2Failures>pue?this.setState(1):(setImmediate(()=>this.sendChunk(this.timer2Chunk)),this.timer2Handle=setTimeout(this.timer2Expired,this.rto*1e3))};this.timer3Expired=()=>{this.timer3Handle=void 0,this.sentQueue.forEach(e=>{this.maybeAbandon(e)||(e.retransmit=!0)}),this.updateAdvancedPeerAckPoint(),this.fastRecoveryExit=void 0,this.flightSize=0,this.partialBytesAcked=0,this.ssthresh=Math.max(Math.floor(this.cwnd/2),4*Qs),this.cwnd=Qs,this.transmit()};this.timerReconfigHandleExpired=async()=>{this.timerReconfigFailures++,this.rto=Math.ceil(this.rto*1.5),this.timerReconfigFailures>pue?(Ta("timerReconfigFailures",this.timerReconfigFailures),this.setState(1),this.timerReconfigHandle=void 0):this.reconfigRequest&&(Ta("timerReconfigHandleExpired",this.timerReconfigFailures,this.rto),await this.sendReconfigParam(this.reconfigRequest),this.timerReconfigHandle=setTimeout(this.timerReconfigHandleExpired,this.rto*1e3))};this.transport.onData=n=>{this.handleData(n)}}get maxChannels(){if(this._inboundStreamsCount>0)return Math.min(this._inboundStreamsCount,this._outboundStreamsCount)}static client(e,r=5e3){let n=new dl(e,r);return n.isServer=!1,n}static server(e,r=5e3){let n=new dl(e,r);return n.isServer=!0,n}async handleData(e){let r,[,,n,i]=oue(e);if(i.filter(o=>o.type===sl.type).length>0){if(i.length!=1)throw new Error;r=0}else r=this.localVerificationTag;if(n===r){for(let o of i)await this.receiveChunk(o);this.sackNeeded&&await this.sendSack()}}async sendSack(){let e=[],r;[...this.sackMisOrdered].sort().forEach(i=>{let a=(i-this.lastReceivedTsn)%hA;i===r?e[e.length-1][1]=a:e.push([a,a]),r=Bp(i)});let n=new Tp(0,void 0);n.cumulativeTsn=this.lastReceivedTsn,n.advertisedRwnd=Math.max(0,this.advertisedRwnd),n.duplicates=[...this.sackDuplicates],n.gaps=e,await this.sendChunk(n),this.sackDuplicates=[],this.sackNeeded=!1}async receiveChunk(e){switch(e.type){case ul.type:this.receiveDataChunk(e);break;case sl.type:let r=e;if(this.isServer){Ta("receive init",r),this.lastReceivedTsn=fl(r.initialTsn),this.reconfigResponseSeq=fl(r.initialTsn),this.remoteVerificationTag=r.initiateTag,this.ssthresh=r.advertisedRwnd,this.getExtensions(r.params),this._inboundStreamsCount=Math.min(r.outboundStreams,this._inboundStreamsMax),this._outboundStreamsCount=Math.min(this._outboundStreamsCount,r.inboundStreams);let a=new Sp;a.initiateTag=this.localVerificationTag,a.advertisedRwnd=this.advertisedRwnd,a.outboundStreams=this._outboundStreamsCount,a.inboundStreams=this._inboundStreamsCount,a.initialTsn=this.localTsn,this.setExtensions(a.params);let o=Date.now()/1e3,u=Buffer.from(hO.jspack.Pack("!L",[o]));u=Buffer.concat([u,(0,Ay.createHmac)("sha1",this.hmacKey).update(u).digest()]),a.params.push([bue,u]),Ta("send initAck",a),await this.sendChunk(a)}break;case Sp.type:if(this.associationState===2){let a=e;this.timer1Cancel(),this.lastReceivedTsn=fl(a.initialTsn),this.reconfigResponseSeq=fl(a.initialTsn),this.remoteVerificationTag=a.initiateTag,this.ssthresh=a.advertisedRwnd,this.getExtensions(a.params),this._inboundStreamsCount=Math.min(a.outboundStreams,this._inboundStreamsMax),this._outboundStreamsCount=Math.min(this._outboundStreamsCount,a.inboundStreams);let o=new Ap;for(let[u,f]of a.params)if(u===bue){o.body=f;break}await this.sendChunk(o),this.timer1Start(o),this.setState(3)}break;case Tp.type:await this.receiveSackChunk(e);break;case my.type:let n=new xy;n.params=e.params,await this.sendChunk(n);break;case Ep.type:this.setState(1);break;case yy.type:{this.timer2Cancel(),this.setState(7);let a=new by;await this.sendChunk(a),this.t2Start(a),this.setState(6)}break;case Mf.type:Ta("ErrorChunk",e.descriptions);break;case Ap.type:let i=e;if(this.isServer){let a=i.body,o=(0,Ay.createHmac)("sha1",this.hmacKey).update(a.slice(0,4)).digest();if(a?.length!=AKe||!a.slice(4).equals(o)){Ta("x State cookie is invalid");return}let u=Date.now()/1e3,f=hO.jspack.Unpack("!L",a)[0];if(f<u-CKe||f>u){let h=new Mf(0,void 0);h.params.push([Mf.CODE.StaleCookieError,Buffer.concat([...Array(8)].map(()=>Buffer.from("\0")))]),await this.sendChunk(h);return}let d=new Cp;await this.sendChunk(d),this.setState(4)}break;case Cp.type:this.associationState===3&&(this.timer1Cancel(),this.setState(4));break;case vy.type:this.associationState===8&&(this.timer2Cancel(),this.setState(1));break;case Pp.type:if(this.associationState===4){let a=e;for(let[o,u]of a.params){let f=lO[o];f&&await this.receiveReconfigParam(f.parse(u))}}break;case ol.type:this.receiveForwardTsnChunk(e);break}}getExtensions(e){for(let[r,n]of e)r===gue?this.remotePartialReliability=!0:r===vue&&(this.remoteExtensions=[...n])}async receiveReconfigParam(e){switch(Ta("receiveReconfigParam",lO[e.type]),e.type){case kp.type:{let r=e,n=new cl(r.requestSequence,wy.ReconfigResultSuccessPerformed);this.reconfigResponseSeq=r.requestSequence,await this.sendReconfigParam(n),await Promise.all(r.streams.map(async i=>{delete this.inboundStreams[i],this.outboundStreamSeq[i]&&this.reconfigQueue.push(i)})),await this.transmitReconfigRequest(),this.onReconfigStreams.execute(r.streams)}break;case cl.type:{let r=e;if(r.result!==wy.ReconfigResultSuccessPerformed)Ta("OutgoingSSNResetRequestParam failed",Object.keys(wy).find(n=>wy[n]===r.result));else if(r.responseSequence===this.reconfigRequest?.requestSequence){let n=this.reconfigRequest.streams.map(i=>(delete this.outboundStreamSeq[i],i));this.onReconfigStreams.execute(n),this.reconfigRequest=void 0,this.timerReconfigCancel(),this.reconfigQueue.length>0&&await this.transmitReconfigRequest()}}break;case _y.type:{let r=e;this._inboundStreamsCount+=r.newStreams;let n=new cl(r.requestSequence,1);this.reconfigResponseSeq=r.requestSequence,await this.sendReconfigParam(n)}break}}receiveDataChunk(e){if(this.sackNeeded=!0,this.markReceived(e.tsn))return;let r=this.getInboundStream(e.streamId);r.addChunk(e),this.advertisedRwnd-=e.userData.length;for(let n of r.popMessages())this.advertisedRwnd+=n[2].length,this.receive(...n)}async receiveSackChunk(e){if(bs(this.lastSackedTsn,e.cumulativeTsn))return;let r=Date.now()/1e3;this.lastSackedTsn=e.cumulativeTsn;let n=this.flightSize>=this.cwnd,i=0,a=0;for(;this.sentQueue.length>0&&jf(this.lastSackedTsn,this.sentQueue[0].tsn);){let u=this.sentQueue.shift();i++,u?.acked||(a+=u.bookSize,this.flightSizeDecrease(u)),i===1&&u.sentCount===1&&this.updateRto(r-u.sentTime)}let o=!1;if(e.gaps.length>0){let u=new Set,f;e.gaps.forEach(h=>(0,Sy.range)(h[0],h[1]+1).forEach(m=>{f=(e.cumulativeTsn+m)%hA,u.add(f)}));let d=e.cumulativeTsn;for(let h of this.sentQueue){if(bs(h.tsn,f))break;u.has(h.tsn)&&!h.acked&&(a+=h.bookSize,h.acked=!0,this.flightSizeDecrease(h),d=h.tsn)}for(let h of this.sentQueue){if(bs(h.tsn,d))break;u.has(h.tsn)||(h.misses++,h.misses===3&&(h.misses=0,this.maybeAbandon(h)||(h.retransmit=!0),h.acked=!1,this.flightSizeDecrease(h),o=!0))}}this.fastRecoveryExit===void 0?(i&&n&&(this.cwnd<=this.ssthresh?this.cwnd+=Math.min(a,Qs):(this.partialBytesAcked+=a,this.partialBytesAcked>=this.cwnd&&(this.partialBytesAcked-=this.cwnd,this.cwnd+=Qs))),o&&(this.ssthresh=Math.max(Math.floor(this.cwnd/2),4*Qs),this.cwnd=this.ssthresh,this.partialBytesAcked=0,this.fastRecoveryExit=this.sentQueue[this.sentQueue.length-1].tsn,this.fastRecoveryTransmit=!0)):jf(e.cumulativeTsn,this.fastRecoveryExit)&&(this.fastRecoveryExit=void 0),this.sentQueue.length===0?this.timer3Cancel():i>0&&this.timer3Restart(),this.updateAdvancedPeerAckPoint(),await this.onSackReceived(),await this.transmit()}receiveForwardTsnChunk(e){if(this.sackNeeded=!0,jf(this.lastReceivedTsn,e.cumulativeTsn))return;let r=n=>bs(n,this.lastReceivedTsn);this.lastReceivedTsn=e.cumulativeTsn,this.sackMisOrdered=new Set([...this.sackMisOrdered].filter(r));for(let n of[...this.sackMisOrdered].sort())if(n===Bp(this.lastReceivedTsn))this.lastReceivedTsn=n;else break;this.sackDuplicates=this.sackDuplicates.filter(r),this.sackMisOrdered=new Set([...this.sackMisOrdered].filter(r));for(let[n,i]of e.streams){let a=this.getInboundStream(n);a.streamSequenceNumber=Gr(i,1);for(let o of a.popMessages())this.advertisedRwnd+=o[2].length,this.receive(...o)}Object.values(this.inboundStreams).forEach(n=>{this.advertisedRwnd+=n.pruneChunks(this.lastReceivedTsn)})}updateRto(e){this.srtt?(this.rttvar=(1-xue)*this.rttvar+xue*Math.abs(this.srtt-e),this.srtt=(1-mue)*this.srtt+mue*e):(this.rttvar=e/2,this.srtt=e),this.rto=Math.max(TKe,Math.min(this.srtt+4*this.rttvar,IKe))}receive(e,r,n){this.onReceive.execute(e,r,n)}getInboundStream(e){return this.inboundStreams[e]||(this.inboundStreams[e]=new Aue),this.inboundStreams[e]}markReceived(e){if(jf(this.lastReceivedTsn,e)||this.sackMisOrdered.has(e))return this.sackDuplicates.push(e),!0;this.sackMisOrdered.add(e);for(let n of[...this.sackMisOrdered].sort())if(n===Bp(this.lastReceivedTsn))this.lastReceivedTsn=n;else break;let r=n=>bs(n,this.lastReceivedTsn);return this.sackDuplicates=this.sackDuplicates.filter(r),this.sackMisOrdered=new Set([...this.sackMisOrdered].filter(r)),!1}async transmit(){this.forwardTsnChunk&&(await this.sendChunk(this.forwardTsnChunk),this.forwardTsnChunk=void 0,this.timer3Handle||this.timer3Start());let e=this.fastRecoveryExit!=null?2*Qs:4*Qs,r=Math.min(this.flightSize+e,this.cwnd),n=!0;for(let i of this.sentQueue){if(i.retransmit){if(this.fastRecoveryTransmit)this.fastRecoveryTransmit=!1;else if(this.flightSize>=r)return;this.flightSizeIncrease(i),i.misses=0,i.retransmit=!1,i.sentCount++,await this.sendChunk(i),n&&this.timer3Restart()}n=!1}for(;this.outboundQueue.length>0;){let i=this.outboundQueue.shift();if(!i)return;this.sentQueue.push(i),this.flightSizeIncrease(i),i.sentCount++,i.sentTime=Date.now()/1e3,await this.sendChunk(i),this.timer3Handle||this.timer3Start()}}async transmitReconfigRequest(){if(this.reconfigQueue.length>0&&this.associationState===4&&!this.reconfigRequest){let e=this.reconfigQueue.slice(0,yue);this.reconfigQueue=this.reconfigQueue.slice(yue);let r=new kp(this.reconfigRequestSeq,this.reconfigResponseSeq,fl(this.localTsn),e);this.reconfigRequestSeq=Bp(this.reconfigRequestSeq),this.reconfigRequest=r,await this.sendReconfigParam(r),this.timerReconfigHandleStart()}}async sendReconfigParam(e){Ta("sendReconfigParam",e);let r=new Pp;r.params.push([e.type,e.bytes]),await this.sendChunk(r)}async sendResetRequest(e){Ta("sendResetRequest",e);let r=new ul(0,void 0);r.streamId=e,this.outboundQueue.push(r),this.timer3Handle||await this.transmit()}flightSizeIncrease(e){this.flightSize+=e.bookSize}flightSizeDecrease(e){this.flightSize=Math.max(0,this.flightSize-e.bookSize)}timer1Start(e){if(this.timer1Handle)throw new Error;this.timer1Chunk=e,this.timer1Failures=0,this.timer1Handle=setTimeout(this.timer1Expired,this.rto*1e3)}timer1Cancel(){this.timer1Handle&&(clearTimeout(this.timer1Handle),this.timer1Handle=void 0,this.timer1Chunk=void 0)}t2Start(e){if(this.timer2Handle)throw new Error;this.timer2Chunk=e,this.timer2Failures=0,this.timer2Handle=setTimeout(this.timer2Expired,this.rto*1e3)}timer2Cancel(){this.timer2Handle&&(clearTimeout(this.timer2Handle),this.timer2Handle=void 0,this.timer2Chunk=void 0)}timer3Start(){if(this.timer3Handle)throw new Error;this.timer3Handle=setTimeout(this.timer3Expired,this.rto*1e3)}timer3Restart(){this.timer3Cancel(),this.timer3Handle=setTimeout(this.timer3Expired,this.rto)}timer3Cancel(){this.timer3Handle&&(clearTimeout(this.timer3Handle),this.timer3Handle=void 0)}timerReconfigHandleStart(){this.timerReconfigHandle||(Ta("timerReconfigHandleStart",{rto:this.rto}),this.timerReconfigFailures=0,this.timerReconfigHandle=setTimeout(this.timerReconfigHandleExpired,this.rto*1e3))}timerReconfigCancel(){this.timerReconfigHandle&&(Ta("timerReconfigCancel"),clearTimeout(this.timerReconfigHandle),this.timerReconfigHandle=void 0)}updateAdvancedPeerAckPoint(){bs(this.lastSackedTsn,this.advancedPeerAckTsn)&&(this.advancedPeerAckTsn=this.lastSackedTsn);let e=0,r={};for(;this.sentQueue.length>0&&this.sentQueue[0].abandoned;){let n=this.sentQueue.shift();this.advancedPeerAckTsn=n.tsn,e++,n.flags&mO||(r[n.streamId]=n.streamSeqNum)}e&&(this.forwardTsnChunk=new ol(0,void 0),this.forwardTsnChunk.cumulativeTsn=this.advancedPeerAckTsn,this.forwardTsnChunk.streams=Object.entries(r).map(([n,i])=>[Number(n),i]))}maybeAbandon(e){if(e.abandoned)return!0;if(!(!!e.maxRetransmits&&e.maxRetransmits<e.sentCount||!!e.expiry&&e.expiry<Date.now()/1e3))return!1;let n=this.sentQueue.findIndex(i=>i.type===e.type);for(let i of(0,Sy.range)(n,-1,-1)){let a=this.sentQueue[i];if(a.abandoned=!0,a.retransmit=!1,a.flags&lA)break}for(let i of(0,Sy.range)(n,this.sentQueue.length)){let a=this.sentQueue[i];if(a.abandoned=!0,a.retransmit=!1,a.flags&lA)break}return!0}static getCapabilities(){return new Cue(65536)}async start(e){this.started||(this.started=!0,this.setConnectionState("connecting"),this.remotePort=e,this.isServer||await this.init())}async init(){let e=new sl;e.initiateTag=this.localVerificationTag,e.advertisedRwnd=this.advertisedRwnd,e.outboundStreams=this._outboundStreamsCount,e.inboundStreams=this._inboundStreamsMax,e.initialTsn=this.localTsn,this.setExtensions(e.params),Ta("send init",e),await this.sendChunk(e),this.timer1Start(e),this.setState(2)}setExtensions(e){let r=[];this.localPartialReliability&&(e.push([gue,Buffer.from("")]),r.push(ol.type)),r.push(sA.type),e.push([vue,Buffer.from(r)])}async sendChunk(e){if(this.remotePort===void 0)throw new Error("invalid remote port");if(this.state==="closed")return;let r=uue(this.localPort,this.remotePort,this.remoteVerificationTag,e);await this.transport.send(r)}setState(e){e!=this.associationState&&(this.associationState=e),e===4?this.setConnectionState("connected"):e===1&&(this.timer1Cancel(),this.timer2Cancel(),this.timer3Cancel(),this.setConnectionState("closed"),this.removeAllListeners())}setConnectionState(e){this.state=e,this.stateChanged[e].execute()}async stop(){this.associationState!==1&&await this.abort(),this.setState(1),clearTimeout(this.timer1Handle),clearTimeout(this.timer2Handle),clearTimeout(this.timer3Handle)}async abort(){let e=new Ep;await this.sendChunk(e)}removeAllListeners(){Object.values(this.stateChanged).forEach(e=>e.allUnsubscribe())}},Aue=class{constructor(){this.reassembly=[];this.streamSequenceNumber=0}addChunk(e){if(this.reassembly.length===0||bs(e.tsn,this.reassembly[this.reassembly.length-1].tsn)){this.reassembly.push(e);return}for(let[r,n]of fue(this.reassembly)){if(n.tsn===e.tsn)throw new Error("duplicate chunk in reassembly");if(bs(n.tsn,e.tsn)){this.reassembly.splice(r,0,e);break}}}*popMessages(){let e=0,r,n,i;for(;e<this.reassembly.length;){let a=this.reassembly[e];if(r===void 0){if(i=!(a.flags&mO),!(a.flags&Sue)){if(i)break;e++;continue}if(i&&El(a.streamSeqNum,this.streamSequenceNumber))break;n=a.tsn,r=e}else if(a.tsn!==n){if(i)break;r=void 0,e++;continue}if(a.flags&lA){let o=this.reassembly.slice(r,e+1).map(f=>f.userData).reduce((f,d)=>(f.push(d),f.push(Buffer.from("")),f),[]);o.pop();let u=Buffer.concat(o);this.reassembly=[...this.reassembly.slice(0,r),...this.reassembly.slice(e+1)],i&&a.streamSeqNum===this.streamSequenceNumber&&(this.streamSequenceNumber=Gr(this.streamSequenceNumber,1)),e=r,yield[a.streamId,a.protocol,u]}else e++;n=Bp(n)}}pruneChunks(e){let r=-1,n=0;for(let[i,a]of this.reassembly.entries())if(jf(e,a.tsn))r=i,n+=a.userData.length;else break;return this.reassembly=this.reassembly.slice(r+1),n}},Cue=class{constructor(e){this.maxMessageSize=e}};function fl(t){return(t-1)%hA}function Bp(t){return(t+1)%hA}var pA=(0,Eue.default)("werift/webrtc/transport/sctp"),Cy=class{constructor(e,r=5e3){this.dtlsTransport=e;this.port=r;this.onDataChannel=new Pue.Event;this.uuid=Li();this.sctp=new dl(new Tue(this.dtlsTransport),this.port);this.bundled=!1;this.dataChannels={};this.dataChannelQueue=[];this.datachannelReceive=async(e,r,n)=>{if(r===km&&n.length>0)switch(pA("DCEP",e,r,n),n[0]){case X7:if(n.length>=12){if(Object.keys(this.dataChannels).includes(e.toString()))throw new Error;let[,a,,o,u,f]=mA.jspack.Unpack("!BBHLHH",n),d=12,h=n.slice(d,d+u).toString("utf8");d+=u;let m=n.slice(d,d+f).toString("utf8");pA("DATA_CHANNEL_OPEN",{channelType:a,reliability:o,streamId:e,label:h,protocol:m});let _=(a&3)===1?o:void 0,w=(a&3)===2?o:void 0,P=new Xl({label:h,ordered:(a&128)===0,maxPacketLifeTime:w,maxRetransmits:_,protocol:m,id:e}),M=new Jl(this,P,!1);M.isCreatedByRemote=!0,this.dataChannels[e]=M,this.dataChannelQueue.push([M,km,Buffer.from(mA.jspack.Pack("!B",[J7]))]),this.onDataChannel.execute(M),M.setReadyState("open"),await this.dataChannelFlush()}break;case J7:pA("DATA_CHANNEL_ACK");let i=this.dataChannels[e];if(!i)throw new Error;i.setReadyState("open");break}else{let i=this.dataChannels[e];if(i){let a=(()=>{switch(r){case Q7:return n.toString("utf8");case wU:return"";case Z7:return n;case SU:return Buffer.from([]);default:throw new Error}})();i.message.execute(a),i.emit("message",{data:a}),i.onmessage&&i.onmessage({data:a})}}};this.datachannelSend=(e,r)=>{e.addBufferedAmount(r.length),this.dataChannelQueue.push(typeof r=="string"?[e,Q7,Buffer.from(r)]:[e,Z7,r]),this.sctp.associationState!==4&&pA("sctp not established",this.sctp.associationState),this.dataChannelFlush()};this.sctp.onReceive.subscribe(this.datachannelReceive),this.sctp.onReconfigStreams.subscribe(n=>{n.forEach(i=>{let a=this.dataChannels[i];!a||(a.setReadyState("closing"),a.setReadyState("closed"),delete this.dataChannels[i])})}),this.sctp.stateChanged.connected.subscribe(()=>{Object.values(this.dataChannels).forEach(n=>{n.negotiated&&n.readyState!=="open"&&n.setReadyState("open")}),this.dataChannelFlush()}),this.sctp.stateChanged.closed.subscribe(()=>{Object.values(this.dataChannels).forEach(n=>{n.setReadyState("closed")}),this.dataChannels={}}),this.sctp.onSackReceived=async()=>{await this.dataChannelFlush()},this.dtlsTransport.onStateChange.subscribe(n=>{n==="closed"&&this.sctp.setState(1)})}get isServer(){return this.dtlsTransport.iceTransport.role!=="controlling"}channelByLabel(e){return Object.values(this.dataChannels).find(r=>r.label===e)}dataChannelAddNegotiated(e){if(e.id==null)throw new Error;if(this.dataChannels[e.id])throw new Error;this.dataChannels[e.id]=e,this.sctp.associationState===4&&e.setReadyState("open")}dataChannelOpen(e){if(e.id){if(this.dataChannels[e.id])throw new Error(`Data channel with ID ${e.id} already registered`);this.dataChannels[e.id]=e}let r=_U,n=0,i=0;e.ordered||(r=128),e.maxRetransmits?(r=1,i=e.maxRetransmits):e.maxPacketLifeTime&&(r=2,i=e.maxPacketLifeTime);let a=mA.jspack.Pack("!BBHLHH",[X7,r,n,i,e.label.length,e.protocol.length]),o=Buffer.concat([Buffer.from(a),Buffer.from(e.label,"utf8"),Buffer.from(e.protocol,"utf8")]);this.dataChannelQueue.push([e,km,o]),this.dataChannelFlush()}async dataChannelFlush(){if(this.sctp.associationState==4&&!(this.sctp.outboundQueue.length>0))for(;this.dataChannelQueue.length>0;){let[e,r,n]=this.dataChannelQueue.shift(),i=e.id;if(i===void 0){for(i=this.dataChannelId;Object.keys(this.dataChannels).includes(i.toString());)i+=2;this.dataChannels[i]=e,e.setId(i)}if(r===km)await this.sctp.send(i,r,n);else{let a=e.maxPacketLifeTime?Date.now()+e.maxPacketLifeTime/1e3:void 0;await this.sctp.send(i,r,n,a,e.maxRetransmits,e.ordered),e.addBufferedAmount(-n.length)}}}static getCapabilities(){return new Ey(65536)}async start(e){this.isServer?this.dataChannelId=0:this.dataChannelId=1,this.sctp.isServer=this.isServer,await this.sctp.start(e)}async stop(){this.dtlsTransport.dataReceiver=()=>{},await this.sctp.stop()}dataChannelClose(e){["closing","closed"].includes(e.readyState)||(e.setReadyState("closing"),this.sctp.associationState===4?(this.sctp.reconfigQueue.push(e.id),this.sctp.reconfigQueue.length===1&&this.sctp.transmitReconfigRequest()):(this.dataChannelQueue=this.dataChannelQueue.filter(r=>r[0].id!==e.id),e.id&&delete this.dataChannels[e.id],e.setReadyState("closed")))}},Ey=class{constructor(e){this.maxMessageSize=e}},Tue=class{constructor(e){this.dtls=e;this.send=this.dtls.sendData}set onData(e){this.dtls.dataReceiver=e}close(){}};var Zs=class{constructor(){this.version=0;this.name="-";this.time="0 0";this.group=[];this.extMapAllowMixed=!0;this.msidSemantic=[];this.media=[];this.dtlsFingerprints=[]}static parse(e){let[r,n]=BKe(e),i=new Zs;return r.forEach(a=>{if(a.startsWith("v="))i.version=parseInt(a.slice(2),10);else if(a.startsWith("o="))i.origin=a.slice(2);else if(a.startsWith("s="))i.name=a.slice(2);else if(a.startsWith("c="))i.host=xA(a.slice(2));else if(a.startsWith("t="))i.time=a.slice(2);else if(a.startsWith("a=")){let[o,u]=xO(a);switch(o){case"fingerprint":let[f,d]=u?.split(" ")||[];i.dtlsFingerprints.push(new wp(f,d));break;case"ice-lite":i.iceLite=!0;break;case"ice-options":i.iceOptions=u;break;case"ice-pwd":i.icePassword=u;break;case"ice-ufrag":i.iceUsernameFragment=u;break;case"group":yA(i.group,u);break;case"msid-semantic":yA(i.msidSemantic,u);break;case"setup":i.dtlsRole=tC[u];break;case"extmap-allow-mixed":i.extMapAllowMixed=!0;break}}}),n.forEach(a=>{let u=a[0].match(/^m=([^ ]+) ([0-9]+) ([A-Z/]+) (.+)/);if(!u)throw new Error("m line not found");let f=u[1],d=u[4].split(" "),h=["audio","video"].includes(f)?d.map(w=>Number(w)):void 0,m=new Rp(f,parseInt(u[2]),u[3],h||d);m.dtlsParams=new hy([...i.dtlsFingerprints],i.dtlsRole),m.iceParams=new py({iceLite:i.iceLite,usernameFragment:i.iceUsernameFragment,password:i.icePassword}),m.iceOptions=i.iceOptions,i.media.push(m),a.slice(1).forEach(w=>{if(w.startsWith("c="))m.host=xA(w.slice(2));else if(w.startsWith("a=")){let[P,M]=xO(w);switch(P){case"candidate":if(!M)throw new Error;m.iceCandidates.push(aA(M));break;case"end-of-candidates":m.iceCandidatesComplete=!0;break;case"extmap":let[K,Y]=M.split(" ");K.includes("/")&&([K]=K.split("/")),m.rtp.headerExtensions.push(new po({id:parseInt(K),uri:Y}));break;case"fingerprint":if(!M)throw new Error;let[fe,_e]=M.split(" ");m.dtlsParams?.fingerprints.push(new wp(fe,_e));break;case"ice-options":m.iceOptions=M;break;case"ice-pwd":m.iceParams.password=M;break;case"ice-ufrag":m.iceParams.usernameFragment=M;break;case"ice-lite":m.iceParams.iceLite=!0;break;case"max-message-size":m.sctpCapabilities=new Ey(parseInt(M,10));break;case"mid":m.rtp.muxId=M;break;case"msid":m.msid=M;break;case"rtcp":let[Je,Ze]=ho(M," ");m.rtcpPort=parseInt(Je),m.rtcpHost=xA(Ze);break;case"rtcp-mux":m.rtcpMux=!0;break;case"setup":m.dtlsParams.role=tC[M];break;case"recvonly":case"sendonly":case"sendrecv":case"inactive":m.direction=P;break;case"rtpmap":{let[D,U]=ho(M," "),[G,J,L]=U.split("/"),p;m.kind==="audio"&&(p=L?parseInt(L):1);let T=new _c({mimeType:m.kind+"/"+G,channels:p,clockRate:parseInt(J),payloadType:parseInt(D)});m.rtp.codecs.push(T)}break;case"sctpmap":if(!M)throw new Error;let[Ue,Ke]=ho(M," ");m.sctpMap[parseInt(Ue)]=Ke,m.sctpPort=parseInt(Ue);break;case"sctp-port":if(!M)throw new Error;m.sctpPort=parseInt(M);break;case"ssrc":let[He,we]=ho(M," "),F=parseInt(He),[y,S]=ho(we,":"),B=m.ssrc.find(D=>D.ssrc===F);B||(B=new Mp({ssrc:F}),m.ssrc.push(B)),rC.includes(y)&&(B[y]=S);break;case"ssrc-group":yA(m.ssrcGroup,M);break;case"rid":{let[D,U]=ho(M," ");m.simulcastParameters.push(new Ql({rid:D,direction:U}))}break}}}),m.dtlsParams.role||(m.dtlsParams=void 0);let _=w=>m.rtp.codecs.find(P=>P.payloadType===w);a.slice(1).forEach(w=>{if(w.startsWith("a=")){let[P,M]=xO(w);if(P==="fmtp"){let[K,Y]=ho(M," "),fe=_(Number(K));fe.parameters=Y}else if(P==="rtcp-fb"){let[K,Y,fe]=M.split(" ");m.rtp.codecs.forEach(_e=>{["*",_e.payloadType.toString()].includes(K)&&_e.rtcpFeedback.push(new tv({type:Y,parameter:fe}))})}}})}),i}webrtcTrackId(e){if(e.msid&&e.msid.includes(" ")){let r=e.msid.split(" ");for(let n of this.msidSemantic)if(n.semantic==="WMS"&&(n.items.includes(r[0])||n.items.includes("*")))return r[1]}}get string(){let e=[`v=${this.version}`,`o=${this.origin}`,`s=${this.name}`];this.host&&e.push(`c=${xA(this.host)}`),e.push(`t=${this.time}`),this.group.forEach(i=>e.push(`a=group:${i.str}`)),this.extMapAllowMixed&&e.push("a=extmap-allow-mixed"),this.msidSemantic.forEach(i=>e.push(`a=msid-semantic:${i.str}`));let r=this.media.map(i=>i.toString()).join("");return e.join(`\r
`)+`\r
`+r}toJSON(){return new yO(this.string,this.type)}},Rp=class{constructor(e,r,n,i){this.kind=e;this.port=r;this.profile=n;this.fmt=i;this.rtcpMux=!1;this.ssrc=[];this.ssrcGroup=[];this.rtp={codecs:[],headerExtensions:[]};this.sctpMap={};this.iceCandidates=[];this.iceCandidatesComplete=!1;this.simulcastParameters=[]}toString(){let e=[];if(e.push(`m=${this.kind} ${this.port} ${this.profile} ${this.fmt.map(r=>r.toString()).join(" ")}`),this.host&&e.push(`c=${Iue(this.host)}`),this.iceCandidates.forEach(r=>{e.push(`a=candidate:${iA(r)}`)}),this.iceCandidatesComplete&&e.push("a=end-of-candidates"),this.iceParams?.usernameFragment&&e.push(`a=ice-ufrag:${this.iceParams.usernameFragment}`),this.iceParams?.password&&e.push(`a=ice-pwd:${this.iceParams.password}`),this.iceParams?.iceLite&&e.push("a=ice-lite"),this.iceOptions&&e.push(`a=ice-options:${this.iceOptions}`),this.dtlsParams&&(this.dtlsParams.fingerprints.forEach(r=>{e.push(`a=fingerprint:${r.algorithm} ${r.value}`)}),e.push(`a=setup:${vv[this.dtlsParams.role]}`)),this.direction&&e.push(`a=${this.direction}`),this.rtp.muxId&&e.push(`a=mid:${this.rtp.muxId}`),this.msid&&e.push(`a=msid:${this.msid}`),this.rtcpPort&&this.rtcpHost&&(e.push(`a=rtcp:${this.rtcpPort} ${Iue(this.rtcpHost)}`),this.rtcpMux&&e.push("a=rtcp-mux")),this.ssrcGroup.forEach(r=>{e.push(`a=ssrc-group:${r.str}`)}),this.ssrc.forEach(r=>{rC.forEach(n=>{let i=r[n];i!==void 0&&e.push(`a=ssrc:${r.ssrc} ${n}:${i}`)})}),this.rtp.codecs.forEach(r=>{e.push(`a=rtpmap:${r.payloadType} ${r.str}`),r.rtcpFeedback.forEach(n=>{let i=n.type;n.parameter&&(i+=` ${n.parameter}`),e.push(`a=rtcp-fb:${r.payloadType} ${i}`)}),r.parameters&&e.push(`a=fmtp:${r.payloadType} ${r.parameters}`)}),Object.keys(this.sctpMap).forEach(r=>{let n=this.sctpMap[Number(r)];e.push(`a=sctpmap:${r} ${n}`)}),this.sctpPort&&e.push(`a=sctp-port:${this.sctpPort}`),this.sctpCapabilities&&e.push(`a=max-message-size:${this.sctpCapabilities.maxMessageSize}`),this.rtp.headerExtensions.forEach(r=>e.push(`a=extmap:${r.id} ${r.uri}`)),this.simulcastParameters.length){this.simulcastParameters.forEach(a=>{e.push(`a=rid:${a.rid} ${a.direction}`)});let r="a=simulcast:",n=this.simulcastParameters.filter(a=>a.direction==="recv");n.length&&(r+=`recv ${n.map(a=>a.rid).join(";")} `);let i=this.simulcastParameters.filter(a=>a.direction==="send");i.length&&(r+=`send ${i.map(a=>a.rid).join(";")}`),e.push(r)}return e.join(`\r
`)+`\r
`}},Of=class{constructor(e,r){this.semantic=e;this.items=r}get str(){return`${this.semantic} ${this.items.join(" ")}`}};function xA(t){let e=t.match(/^IN (IP4|IP6) ([^ ]+)$/);if(!e)throw new Error("exception");return e[2]}function Iue(t){return`IN IP${(0,Mue.isIPv4)(t)?4:6} ${t}`}function iA(t){let e=`${t.foundation} ${t.component} ${t.protocol} ${t.priority} ${t.ip} ${t.port} typ ${t.type}`;return t.relatedAddress&&(e+=` raddr ${t.relatedAddress}`),t.relatedPort&&(e+=` rport ${t.relatedPort}`),t.tcpType&&(e+=` tcptype ${t.tcpType}`),e}function BKe(t){let e=[],r=[],n=t.split(`\r
`);return n.length===1&&(n=t.split(`
`)),n.forEach(i=>{i.startsWith("m=")?r.push([i]):r.length>0?r[r.length-1].push(i):e.push(i)}),[e,r]}function xO(t){if(t.includes(":")){let e=ho(t.slice(2),":");return[e[0],e[1]]}else return[t.slice(2),void 0]}function yA(t,e,r=n=>n.toString()){let n=e.split(" ");n.length>0&&t.push(new Of(n[0],n.slice(1).map(r)))}function aA(t){let e=t.split(" ");if(e.length<8)throw new Error;let r=new al(parseInt(e[1],10),e[0],e[4],parseInt(e[5],10),parseInt(e[3],10),e[2],e[7]);return(0,Rue.range)(8,e.length-1,2).forEach(n=>{switch(e[n]){case"raddr":r.relatedAddress=e[n+1];break;case"rport":r.relatedPort=parseInt(e[n+1]);break;case"tcptype":r.tcpType=e[n+1];break}}),r}var yO=class{constructor(e,r){this.sdp=e;this.type=r}get object(){return Zs.parse(this.sdp)}static isThis(e){if(typeof e?.sdp=="string")return!0}};function bA(t,e){let r="-",n=new Bue.Uint64BE((0,kue.randomBytes)(64)).toString().slice(0,8),i=0;e.origin=`${r} ${n} ${i} IN IP4 0.0.0.0`,e.msidSemantic.push(new Of("WMS",["*"])),e.type=t}function Pf(t){let e={};return t.split(";").forEach(r=>{if(r.includes("=")){let[n,i]=ho(r,"=");CU.includes(n)?e[n]=Number(i):e[n]=i}else e[r]=void 0}),e}function RKe(t){let e=Object.entries(t).map(([r,n])=>n?`${r}=${n}`:r);if(e.length>0)return e.join(";")}var Mp=class{constructor(e){Object.assign(this,e)}};var zi=(0,Oue.default)("werift:packages/webrtc/src/peerConnection.ts"),que=class extends nd{constructor({codecs:e,headerExtensions:r,iceServers:n,iceTransportPolicy:i,icePortRange:a,dtls:o}={}){super();this.cname=Li();this.masterTransportEstablished=!1;this.configuration=(0,_A.cloneDeep)(Due);this.connectionState="new";this.iceConnectionState="new";this.iceGatheringState="new";this.signalingState="stable";this.negotiationneeded=!1;this.transceivers=[];this.iceGatheringStateChange=new eo.default;this.iceConnectionStateChange=new eo.default;this.signalingStateChange=new eo.default;this.connectionStateChange=new eo.default;this.onDataChannel=new eo.default;this.onRemoteTransceiverAdded=new eo.default;this.onTransceiver=new eo.default;this.onTransceiverAdded=new eo.default;this.onIceCandidate=new eo.default;this.onNegotiationneeded=new eo.default;this.router=new Qx;this.certificates=[];this.seenMid=new Set;this.isClosed=!1;this.shouldNegotiationneeded=!1;this.needNegotiation=async()=>{this.shouldNegotiationneeded=!0,!(this.negotiationneeded||this.signalingState!=="stable")&&(this.shouldNegotiationneeded=!1,setImmediate(()=>{this.negotiationneeded=!0,this.onNegotiationneeded.execute(),this.onnegotiationneeded&&this.onnegotiationneeded({})}))};if(n&&(this.configuration.iceServers=n),i&&(this.configuration.iceTransportPolicy=i),a){let[d,h]=a;if(d===h)throw new Error("should not be same value");if(d>=h)throw new Error("The min must be less than max");this.configuration.icePortRange=a}e?.audio&&(this.configuration.codecs.audio=e.audio),e?.video&&(this.configuration.codecs.video=e.video);for(let[d,h]of F7([...this.configuration.codecs.audio||[],...this.configuration.codecs.video||[]]))switch(h.payloadType=96+d,h.name.toLowerCase()){case"rtx":h.parameters=`apt=${h.payloadType-1}`;break;case"red":{let m=h.payloadType+1;h.parameters=`${m}/${m}`,h.payloadType=63}break}if(r?.audio&&(this.configuration.headerExtensions.audio=r.audio),r?.video&&(this.configuration.headerExtensions.video=r.video),[...this.configuration.headerExtensions.audio||[],...this.configuration.headerExtensions.video||[]].forEach((d,h)=>{d.id=1+h}),o){let{keys:d}=o;d&&this.certificates.push(new ly(d.keyPem,d.certPem,d.signatureHash))}this.iceConnectionStateChange.subscribe(d=>{switch(d){case"disconnected":this.setConnectionState("disconnected");break;case"closed":this.close();break}});let{iceTransport:u,dtlsTransport:f}=this.createTransport([nC.SRTP_AEAD_AES_128_GCM,nC.SRTP_AES128_CM_HMAC_SHA1_80]);this.iceTransport=u,this.dtlsTransport=f}get localDescription(){if(!!this._localDescription)return this._localDescription.toJSON()}get remoteDescription(){if(!!this._remoteDescription)return this._remoteDescription.toJSON()}get _localDescription(){return this.pendingLocalDescription||this.currentLocalDescription}get _remoteDescription(){return this.pendingRemoteDescription||this.currentRemoteDescription}getTransceiverByMid(e){return this.transceivers.find(r=>r.mid===e)}getTransceiverByMLineIndex(e){return this.transceivers.find(r=>r.mLineIndex===e)}async createOffer(){this.certificates.length===0&&await this.dtlsTransport.setupCertificate(),this.transceivers.forEach(a=>{a.codecs=this.configuration.codecs[a.kind],a.headerExtensions=this.configuration.headerExtensions[a.kind]});let e=new Zs;bA("offer",e),(this._localDescription?this._localDescription.media:[]).forEach((a,o)=>{let u=a.rtp.muxId;if(!u){zi("mid missing",a);return}if(a.kind==="application")e.media.push(gA(this.sctpTransport,u));else{let f=this.getTransceiverByMid(u);if(!f){zi("transceiver by mid not found",u);return}f.mLineIndex=o,e.media.push(vA(f,this.cname,f.direction,u))}}),this.transceivers.filter(a=>!e.media.find(o=>o.rtp.muxId===a.mid)).forEach(a=>{a.mLineIndex=e.media.length,e.media.push(vA(a,this.cname,a.direction,bO(this.seenMid)))}),this.sctpTransport&&!e.media.find(a=>this.sctpTransport.mid===a.rtp.muxId)&&e.media.push(gA(this.sctpTransport,bO(this.seenMid)));let n=e.media.map(a=>a.rtp.muxId).filter(a=>a),i=new Of("BUNDLE",n);return e.group.push(i),e.toJSON()}createDataChannel(e,r={}){let i={...{protocol:"",ordered:!0,negotiated:!1},...r};if(i.maxPacketLifeTime&&i.maxRetransmits)throw new Error("can not select both");this.sctpTransport||(this.sctpTransport=this.createSctpTransport(),this.needNegotiation());let a=new Xl({id:i.id,label:e,maxPacketLifeTime:i.maxPacketLifeTime,maxRetransmits:i.maxRetransmits,negotiated:i.negotiated,ordered:i.ordered,protocol:i.protocol});return new Jl(this.sctpTransport,a)}removeTrack(e){if(this.isClosed)throw new Error("peer closed");if(!this.getSenders().find(({ssrc:n})=>e.ssrc===n))throw new Error("unExist");let r=this.transceivers.find(({sender:{ssrc:n}})=>e.ssrc===n);if(!r)throw new Error("unExist");if(e.stop(),r.currentDirection==="recvonly"){this.needNegotiation();return}r.direction==="sendrecv"?r.direction="recvonly":(r.direction==="sendonly"||r.direction==="recvonly")&&(r.direction="inactive"),this.needNegotiation()}createTransport(e=[]){let r=new nA({..._M(this.configuration.iceServers),forceTurn:this.configuration.iceTransportPolicy==="relay",portRange:this.configuration.icePortRange});r.onGatheringStateChange.subscribe(a=>{this.updateIceGatheringState(a)}),this.updateIceGatheringState(r.gatheringState);let n=new rA(r);return n.onStateChange.subscribe(a=>{this.updateIceConnectionState(a)}),this.updateIceConnectionState(n.state),n.iceGather.onIceCandidate=a=>{if(!this.localDescription)return;let u=Zs.parse(this.localDescription.sdp).media[0];if(!u){zi("media not exist");return}a.sdpMLineIndex=0,a.sdpMid=u.rtp.muxId,a.foundation="candidate:"+a.foundation,this.onIceCandidate.execute(a.toJSON()),this.onicecandidate&&this.onicecandidate({candidate:a.toJSON()}),this.emit("icecandidate",{candidate:a})},{dtlsTransport:new eA(n,this.router,this.certificates,e),iceTransport:n}}createSctpTransport(){let e=new Cy(this.dtlsTransport);return e.mid=void 0,e.onDataChannel.subscribe(r=>{this.onDataChannel.execute(r);let n={channel:r};this.ondatachannel&&this.ondatachannel(n),this.emit("datachannel",n)}),e}async setLocalDescription(e){let r=Zs.parse(e.sdp);if(r.type=e.type,this.validateDescription(r,!0),r.type==="offer"?this.setSignalingState("have-local-offer"):r.type==="answer"&&this.setSignalingState("stable"),r.media.forEach((n,i)=>{let a=n.rtp.muxId;if(!a)throw new Error("mid not exist");if(this.seenMid.add(a),["audio","video"].includes(n.kind)){let o=this.getTransceiverByMLineIndex(i);o&&(o.mid=a)}n.kind==="application"&&this.sctpTransport&&(this.sctpTransport.mid=a)}),r.type==="offer"?this.iceTransport.connection.iceControlling=!0:this.iceTransport.connection.iceControlling=!1,this.iceTransport.connection.remoteIsLite&&(this.iceTransport.connection.iceControlling=!0),r.type==="answer"){let n=r.media.find(i=>i.dtlsParams)?.dtlsParams?.role;n&&(this.dtlsTransport.role=n)}return this.transceivers.forEach(n=>{if(["answer","pranswer"].includes(r.type)){let i=MS(n.direction,n.offerDirection);n.currentDirection=i}}),this.setLocal(r),await this.iceTransport.iceGather.gather(),r.media.map(n=>{wA(n,this.dtlsTransport)}),this.setLocal(r),r.type==="answer"&&this.connect().catch(n=>{zi("connect failed",n),this.setConnectionState("failed")}),this.shouldNegotiationneeded&&this.needNegotiation(),r}setLocal(e){e.type==="answer"?(this.currentLocalDescription=e,this.pendingLocalDescription=void 0):this.pendingLocalDescription=e}async addIceCandidate(e){let r=al.fromJSON(e);await this.iceTransport.addRemoteCandidate(r)}async connect(){if(this.masterTransportEstablished)return;let e=this.dtlsTransport,r=e.iceTransport;this.setConnectionState("connecting"),await r.start().catch(n=>{throw zi("iceTransport.start failed",n),n}),zi("ice connected"),await e.start().catch(n=>{throw zi("dtlsTransport.start failed",n),n}),zi("dtls connected"),this.sctpTransport&&this.sctpRemotePort&&(await this.sctpTransport.start(this.sctpRemotePort),await this.sctpTransport.sctp.stateChanged.connected.asPromise()),this.masterTransportEstablished=!0,this.setConnectionState("connected")}localRtp(e){if(e.mid==null)throw new Error("mid not assigned");return{codecs:e.codecs,muxId:e.mid,headerExtensions:e.headerExtensions,rtcp:{cname:this.cname,ssrc:e.sender.ssrc,mux:!0}}}remoteRtp(e,r){if(r.mLineIndex==null)throw new Error("mLineIndex not assigned");let n=e.media[r.mLineIndex];if(!n)throw new Error("media line not exist");return{muxId:n.rtp.muxId,rtcp:n.rtp.rtcp,codecs:r.codecs,headerExtensions:r.headerExtensions,encodings:Object.values(r.codecs.reduce((a,o)=>{if(o.name.toLowerCase()==="rtx"){let u=Pf(o.parameters??""),f=a[u.apt];return f&&n.ssrc.length===2&&(f.rtx=new rv({ssrc:n.ssrc[1].ssrc})),a}return a[o.payloadType]=new nv({ssrc:n.ssrc[0]?.ssrc,payloadType:o.payloadType}),a},{}))}}async setRemoteDescription(e){let r=Zs.parse(e.sdp);r.type=e.type,this.validateDescription(r,!1);for(let[n,i]of F7(r.media)){if(["audio","video"].includes(i.kind)){let a=this.transceivers.find(d=>d.kind===i.kind&&[void 0,i.rtp.muxId].includes(d.mid))||(()=>{let d=this.addTransceiver(i.kind,{direction:"recvonly"});return this.onRemoteTransceiverAdded.execute(d),this.onTransceiver.execute(d),d})();if(a.mid||(a.mid=i.rtp.muxId,a.mLineIndex=n),a.codecs=i.rtp.codecs.filter(d=>{let h=this.configuration.codecs[i.kind]||[],m=vO(h,d);if(!m)return!1;if(m?.name.toLowerCase()==="rtx"){let w=Pf(m.parameters??"").apt,P=i.rtp.codecs.find(M=>M.payloadType===w);return P?!!vO(h,P):!1}return!0}),zi("negotiated codecs",a.codecs),a.codecs.length===0)throw new Error("negotiate codecs failed.");a.headerExtensions=i.rtp.headerExtensions.filter(d=>(this.configuration.headerExtensions[i.kind]||[]).find(h=>h.uri===d.uri));let o=i.direction||"inactive",u=vM(o);["answer","pranswer"].includes(r.type)?a.currentDirection=u:a.offerDirection=u;let f=this.localRtp(a);if(a.sender.prepareSend(f),["recvonly","sendrecv"].includes(a.direction)){let d=this.remoteRtp(r,a);i.simulcastParameters.forEach(h=>{this.router.registerRtpReceiverByRid(a,h,d)}),a.receiver.prepareReceive(d),this.router.registerRtpReceiverBySsrc(a,d)}if(["sendonly","sendrecv"].includes(o)&&i.msid!=null){let[d,h]=i.msid.split(" ");a.receiver.remoteStreamId=d,a.receiver.remoteTrackId=h,this.fireOnTrack(a.receiver.track,a,new wv({id:d,tracks:[a.receiver.track]}))}a.receiver.setupTWCC(i.ssrc[0]?.ssrc)}else i.kind==="application"&&(this.sctpTransport||(this.sctpTransport=this.createSctpTransport()),this.sctpTransport.mid||(this.sctpTransport.mid=i.rtp.muxId),this.sctpRemotePort=i.sctpPort);i.iceParams&&i.dtlsParams&&(this.iceTransport.setRemoteParams(i.iceParams),this.dtlsTransport.setRemoteParams(i.dtlsParams),i.iceParams?.iceLite&&(this.iceTransport.connection.iceControlling=!0)),i.iceCandidates.forEach(this.iceTransport.addRemoteCandidate),await this.iceTransport.iceGather.gather(),i.iceCandidatesComplete&&await this.iceTransport.addRemoteCandidate(void 0),r.type==="answer"&&i.dtlsParams?.role&&(this.dtlsTransport.role=i.dtlsParams.role==="client"?"server":"client")}r.type==="answer"&&this.connect().catch(n=>{zi("connect failed",n),this.setConnectionState("failed")}),r.type==="offer"?this.setSignalingState("have-remote-offer"):r.type==="answer"&&this.setSignalingState("stable"),r.type==="answer"?(this.currentRemoteDescription=r,this.pendingRemoteDescription=void 0):this.pendingRemoteDescription=r,this.negotiationneeded=!1,this.shouldNegotiationneeded&&this.needNegotiation()}validateDescription(e,r){if(r){if(e.type==="offer"){if(!["stable","have-local-offer"].includes(this.signalingState))throw new Error("Cannot handle offer in signaling state")}else if(e.type==="answer"&&!["have-remote-offer","have-local-pranswer"].includes(this.signalingState))throw new Error("Cannot handle answer in signaling state")}else if(e.type==="offer"){if(!["stable","have-remote-offer"].includes(this.signalingState))throw new Error("Cannot handle offer in signaling state")}else if(e.type==="answer"&&!["have-local-offer","have-remote-pranswer"].includes(this.signalingState))throw new Error("Cannot handle answer in signaling state");if(e.media.forEach(n=>{if(n.direction!=="inactive"&&(!n.iceParams||!n.iceParams.usernameFragment||!n.iceParams.password))throw new Error("ICE username fragment or password is missing")}),["answer","pranswer"].includes(e.type||"")){let n=r?this._remoteDescription:this._localDescription;if(!n)throw new Error;let i=n.media.map(o=>[o.kind,o.rtp.muxId]),a=e.media.map(o=>[o.kind,o.rtp.muxId]);if(!(0,_A.isEqual)(i,a))throw new Error("Media sections in answer do not match offer")}}fireOnTrack(e,r,n){let i={track:e,streams:[n],transceiver:r,receiver:r.receiver};this.emit("track",i),this.ontrack&&this.ontrack(i)}addTransceiver(e,r={}){let n=typeof e=="string"?e:e.kind,i=r.direction||"sendrecv",a=new RM(e,this.dtlsTransport),o=new Xx(n,this.dtlsTransport,a.ssrc),u=new gv(n,o,a,i,this.dtlsTransport);return u.options=r,this.router.registerRtpSender(u.sender),this.transceivers.push(u),this.onTransceiverAdded.execute(u),this.needNegotiation(),u}getTransceivers(){return this.transceivers}getSenders(){return this.getTransceivers().map(e=>e.sender)}getReceivers(){return this.getTransceivers().map(e=>e.receiver)}addTrack(e,r){if(this.isClosed)throw new Error("is closed");if(this.getSenders().find(a=>a.track?.uuid===e.uuid))throw new Error("track exist");let n=this.transceivers.find(a=>a.sender.track==null&&a.kind===e.kind&&Bm.includes(a.direction)===!0);if(n){let a=n.sender;return a.registerTrack(e),this.needNegotiation(),a}let i=this.transceivers.find(a=>a.sender.track==null&&a.kind===e.kind&&Bm.includes(a.direction)===!1&&!a.usedForSender);if(i){let a=i.sender;switch(a.registerTrack(e),i.direction){case"recvonly":i.direction="sendrecv";break;case"inactive":i.direction="sendonly";break}return this.needNegotiation(),a}else{let a=this.addTransceiver(e,{direction:"sendrecv"});return this.needNegotiation(),a.sender}}async createAnswer(){if(this.assertNotClosed(),!["have-remote-offer","have-local-pranswer"].includes(this.signalingState)||!this.dtlsTransport)throw new Error("createAnswer failed");this.certificates.length===0&&await this.dtlsTransport.setupCertificate();let e=new Zs;bA("answer",e),this._remoteDescription?.media.forEach(n=>{let i,a;if(["audio","video"].includes(n.kind)){let o=this.getTransceiverByMid(n.rtp.muxId);if(a=vA(o,this.cname,MS(o.direction,o.offerDirection),o.mid),!o.dtlsTransport)throw new Error;i=o.dtlsTransport}else if(n.kind==="application"){if(!this.sctpTransport||!this.sctpTransport.mid)throw new Error;a=gA(this.sctpTransport,this.sctpTransport.mid),i=this.sctpTransport.dtlsTransport}else throw new Error;if(!a.dtlsParams)throw new Error;i.role==="auto"?a.dtlsParams.role="client":a.dtlsParams.role=i.role,a.simulcastParameters=n.simulcastParameters.map(o=>({...o,direction:bM(o.direction)})),e.media.push(a)});let r=new Of("BUNDLE",[]);return e.media.forEach(n=>{r.items.push(n.rtp.muxId)}),e.group.push(r),e.toJSON()}async close(){this.isClosed||(this.isClosed=!0,this.setSignalingState("closed"),this.setConnectionState("closed"),this.transceivers.forEach(e=>{e.receiver.stop(),e.sender.stop()}),this.sctpTransport&&await this.sctpTransport.stop(),await this.dtlsTransport.stop(),await this.iceTransport.stop(),this.dispose(),zi("peerConnection closed"))}assertNotClosed(){if(this.isClosed)throw new Error("RTCPeerConnection is closed")}updateIceGatheringState(e){zi("iceGatheringStateChange",e),this.iceGatheringState=e,this.iceGatheringStateChange.execute(e),this.emit("icegatheringstatechange",e)}updateIceConnectionState(e){zi("iceConnectionStateChange",e),this.iceConnectionState=e,this.iceConnectionStateChange.execute(e),this.emit("iceconnectionstatechange",e)}setSignalingState(e){zi("signalingStateChange",e),this.signalingState=e,this.signalingStateChange.execute(e),this.onsignalingstatechange&&this.onsignalingstatechange({})}setConnectionState(e){zi("connectionStateChange",e),this.connectionState=e,this.connectionStateChange.execute(e),this.onconnectionstatechange&&this.onconnectionstatechange(),this.emit("connectionstatechange")}dispose(){this.onDataChannel.allUnsubscribe(),this.iceGatheringStateChange.allUnsubscribe(),this.iceConnectionStateChange.allUnsubscribe(),this.signalingStateChange.allUnsubscribe(),this.onTransceiverAdded.allUnsubscribe(),this.onRemoteTransceiverAdded.allUnsubscribe(),this.onIceCandidate.allUnsubscribe()}};function vA(t,e,r,n){let i=new Rp(t.kind,9,"UDP/TLS/RTP/SAVPF",t.codecs.map(a=>a.payloadType));return i.direction=r,i.msid=t.msid,i.rtp={codecs:t.codecs,headerExtensions:t.headerExtensions,muxId:n},i.rtcpHost="0.0.0.0",i.rtcpPort=9,i.rtcpMux=!0,i.ssrc=[new Mp({ssrc:t.sender.ssrc,cname:e})],t.options.simulcast&&(i.simulcastParameters=t.options.simulcast.map(a=>new Ql(a))),i.rtp.codecs.find(a=>a.name.toLowerCase()==="rtx")&&(i.ssrc.push(new Mp({ssrc:t.sender.rtxSsrc,cname:e})),i.ssrcGroup=[new Of("FID",[t.sender.ssrc.toString(),t.sender.rtxSsrc.toString()])]),wA(i,t.dtlsTransport),i}function gA(t,e){let r=new Rp("application",eC,"UDP/DTLS/SCTP",["webrtc-datachannel"]);return r.sctpPort=t.port,r.rtp.muxId=e,r.sctpCapabilities=Cy.getCapabilities(),wA(r,t.dtlsTransport),r}function wA(t,e){let n=e.iceTransport.iceGather;if(t.iceCandidates=n.localCandidates,t.iceCandidatesComplete=n.gatheringState==="complete",t.iceParams=n.localParameters,t.iceOptions="trickle",t.iceCandidates.length>0){let i=t.iceCandidates[t.iceCandidates.length-1];t.host=i.ip,t.port=i.port}else t.host=AU,t.port=eC;t.direction==="inactive"&&(t.port=0),t.dtlsParams||(t.dtlsParams=e.localParameters,t.dtlsParams.fingerprints||(t.dtlsParams.fingerprints=e.localParameters.fingerprints))}function bO(t){let e="";for(let r=0;e=(r++).toString(),!!t.has(e););return t.add(e),e}var vO=(t,e)=>t.find(r=>r.mimeType.toLowerCase()===e.mimeType.toLowerCase())?e:void 0,Due={codecs:{audio:[new _c({mimeType:"audio/opus",clockRate:48e3,channels:2}),new _c({mimeType:"audio/PCMU",clockRate:8e3,channels:1})],video:[new _c({mimeType:"video/VP8",clockRate:9e4,rtcpFeedback:[{type:"ccm",parameter:"fir"},{type:"nack"},{type:"nack",parameter:"pli"},{type:"goog-remb"}]})]},headerExtensions:{audio:[],video:[]},iceTransportPolicy:"all",iceServers:[{urls:"stun:stun.l.google.com:19302"}],icePortRange:void 0,dtls:{}};var MKe=["stable","have-local-offer","have-remote-offer","have-local-pranswer","have-remote-pranswer","closed"],OKe=["closed","failed","disconnected","new","connecting","connected"];0&&(module.exports={AV1Obu,AV1RtpPayload,BitStream,BitWriter,BitWriter2,BufferChain,Candidate,CipherSuite,CipherSuiteList,Connection,ConnectionStates,CurveType,DePacketizerBase,Directions,DtlsStates,ExtensionProfiles,GenericNack,GroupDescription,H264RtpPayload,HEADER_SIZE,HashAlgorithm,IceCandidate,IceGathererStates,IceTransportStates,JitterBuffer,LipSync,Max32bit,MediaDescription,MediaRecorder,MediaStream,MediaStreamTrack,NalUnitType,NamedCurveAlgorithm,NamedCurveAlgorithmList,OpusRtpPayload,Output,PacketChunk,PacketResult,PacketStatus,PictureLossIndication,Pipeline,PromiseQueue,RTCCertificate,RTCDataChannel,RTCDataChannelParameters,RTCDtlsFingerprint,RTCDtlsParameters,RTCDtlsTransport,RTCIceCandidate,RTCIceGatherer,RTCIceParameters,RTCIceTransport,RTCPeerConnection,RTCRtcpFeedback,RTCRtcpParameters,RTCRtpCodecCapability,RTCRtpCodecParameters,RTCRtpCodingParameters,RTCRtpHeaderExtensionParameters,RTCRtpRtxParameters,RTCRtpSimulcastParameters,RTCRtpTransceiver,RTCSctpCapabilities,RTCSctpTransport,RTCSessionDescription,RTP_EXTENSION_URI,ReceiverEstimatedMaxBitrate,RecvDelta,Red,RedEncoder,RedHeader,RtcpHeader,RtcpPacketConverter,RtcpPayloadSpecificFeedback,RtcpReceiverInfo,RtcpRrPacket,RtcpSenderInfo,RtcpSourceDescriptionPacket,RtcpSrPacket,RtcpTransportLayerFeedback,RtpBuilder,RtpHeader,RtpPacket,RunLengthChunk,SampleBuilder,SessionDescription,SignalingStates,SignatureAlgorithm,SignatureScheme,SourceDescriptionChunk,SourceDescriptionItem,SrtcpSession,SrtpSession,SsrcDescription,StatusVectorChunk,TransportWideCC,Vp8RtpPayload,Vp9RtpPayload,WebmOutput,addSDPHeader,addTransportDescription,allocateMid,andDirection,buffer2ArrayBuffer,bufferReader,bufferWriter,bufferWriterLE,candidateFromIce,candidateFromSdp,candidateToIce,candidateToSdp,codecParametersFromString,codecParametersToString,compactNtp,createMediaDescriptionForSctp,createMediaDescriptionForTransceiver,createSelfSignedCertificate,defaultPeerConfig,dumpBuffer,findCodecByMimeType,findPort,fingerprint,getBit,getGlobalIp,getUserMp4,int,isDtls,isMedia,isRtcp,leb128decode,microTime,milliTime,ntpTime,ntpTime2Time,orDirection,paddingBits,paddingByte,parseGroup,parseIceServers,random16,random32,randomPort,randomPorts,reverseDirection,reverseSimulcastDirection,uint16Add,uint16Gt,uint16Gte,uint24,uint32Add,uint32Gt,uint32Gte,uint8Add,useAbsSendTime,useFIR,useNACK,usePLI,useREMB,useRepairedRtpStreamId,useSdesMid,useSdesRTPStreamId,useTWCC,useTransportWideCC});
/*!
 *  Copyright  2008 Fair Oaks Labs, Inc.
 *  All rights reserved.
 */
/*!
 * MIT License
 * 
 * Copyright (c) Peculiar Ventures. All rights reserved.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/*! MIT License. Copyright 2015-2018 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
